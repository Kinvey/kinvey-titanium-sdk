{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/append-query/index.js","kinvey.min.js","node_modules/asap/browser-raw.js","node_modules/babybird/lib/promise-extra.js","node_modules/babybird/lib/promise.js","node_modules/base64-js/lib/b64.js","node_modules/buffer/index.js","node_modules/buffer/node_modules/isarray/index.js","node_modules/events/events.js","node_modules/extend/index.js","node_modules/fast-memory-cache/lib/memory-cache.js","node_modules/for-each/index.js","node_modules/hellojs/dist/hello.all.js","node_modules/ieee754/index.js","node_modules/indexeddbshim/dist/indexeddbshim.js","node_modules/inherits/inherits_browser.js","node_modules/is-arguments/index.js","node_modules/is-function/index.js","node_modules/kinvey-javascript-sdk-core/src/Log.js","node_modules/kinvey-javascript-sdk-core/src/acl.js","node_modules/kinvey-javascript-sdk-core/src/aggregation.js","node_modules/kinvey-javascript-sdk-core/src/client.js","node_modules/kinvey-javascript-sdk-core/src/command.js","node_modules/kinvey-javascript-sdk-core/src/enums.js","node_modules/kinvey-javascript-sdk-core/src/errors.js","node_modules/kinvey-javascript-sdk-core/src/kinvey.js","node_modules/kinvey-javascript-sdk-core/src/log.js","node_modules/kinvey-javascript-sdk-core/src/metadata.js","node_modules/kinvey-javascript-sdk-core/src/mic.js","node_modules/kinvey-javascript-sdk-core/src/query.js","node_modules/kinvey-javascript-sdk-core/src/rack/asciiTree.js","node_modules/kinvey-javascript-sdk-core/src/rack/middleware.js","node_modules/kinvey-javascript-sdk-core/src/rack/middleware/cache.js","node_modules/kinvey-javascript-sdk-core/src/rack/middleware/parse.js","node_modules/kinvey-javascript-sdk-core/src/rack/middleware/serialize.js","node_modules/kinvey-javascript-sdk-core/src/rack/persistence/adapters/indexeddb.js","node_modules/kinvey-javascript-sdk-core/src/rack/persistence/adapters/localstorage.js","node_modules/kinvey-javascript-sdk-core/src/rack/persistence/adapters/memory.js","node_modules/kinvey-javascript-sdk-core/src/rack/persistence/adapters/websql.js","node_modules/kinvey-javascript-sdk-core/src/rack/persistence/db.js","node_modules/kinvey-javascript-sdk-core/src/rack/rack.js","node_modules/kinvey-javascript-sdk-core/src/requests/deltafetch.js","node_modules/kinvey-javascript-sdk-core/src/requests/local.js","node_modules/kinvey-javascript-sdk-core/src/requests/network.js","node_modules/kinvey-javascript-sdk-core/src/requests/properties.js","node_modules/kinvey-javascript-sdk-core/src/requests/request.js","node_modules/kinvey-javascript-sdk-core/src/requests/response.js","node_modules/kinvey-javascript-sdk-core/src/stores/cachestore.js","node_modules/kinvey-javascript-sdk-core/src/stores/datastore.js","node_modules/kinvey-javascript-sdk-core/src/stores/filestore.js","node_modules/kinvey-javascript-sdk-core/src/stores/networkstore.js","node_modules/kinvey-javascript-sdk-core/src/stores/syncstore.js","node_modules/kinvey-javascript-sdk-core/src/stores/userstore.js","node_modules/kinvey-javascript-sdk-core/src/sync.js","node_modules/kinvey-javascript-sdk-core/src/user.js","node_modules/kinvey-javascript-sdk-core/src/utils/device.js","node_modules/kinvey-javascript-sdk-core/src/utils/object.js","node_modules/kinvey-javascript-sdk-core/src/utils/popup.js","node_modules/kinvey-javascript-sdk-core/src/utils/string.js","node_modules/local-storage/local-storage.js","node_modules/local-storage/stub.js","node_modules/local-storage/tracking.js","node_modules/lodash/_Hash.js","node_modules/lodash/_LazyWrapper.js","node_modules/lodash/_LodashWrapper.js","node_modules/lodash/_Map.js","node_modules/lodash/_MapCache.js","node_modules/lodash/_Reflect.js","node_modules/lodash/_Set.js","node_modules/lodash/_Stack.js","node_modules/lodash/_Symbol.js","node_modules/lodash/_Uint8Array.js","node_modules/lodash/_WeakMap.js","node_modules/lodash/_addMapEntry.js","node_modules/lodash/_addSetEntry.js","node_modules/lodash/_apply.js","node_modules/lodash/_arrayAggregator.js","node_modules/lodash/_arrayEach.js","node_modules/lodash/_arrayMap.js","node_modules/lodash/_arrayReduce.js","node_modules/lodash/_arraySome.js","node_modules/lodash/_assignMergeValue.js","node_modules/lodash/_assignValue.js","node_modules/lodash/_assocDelete.js","node_modules/lodash/_assocGet.js","node_modules/lodash/_assocHas.js","node_modules/lodash/_assocIndexOf.js","node_modules/lodash/_assocSet.js","node_modules/lodash/_baseAggregator.js","node_modules/lodash/_baseAssign.js","node_modules/lodash/_baseCastFunction.js","node_modules/lodash/_baseCastPath.js","node_modules/lodash/_baseClone.js","node_modules/lodash/_baseCreate.js","node_modules/lodash/_baseEach.js","node_modules/lodash/_baseFind.js","node_modules/lodash/_baseFindIndex.js","node_modules/lodash/_baseFor.js","node_modules/lodash/_baseForOwn.js","node_modules/lodash/_baseGet.js","node_modules/lodash/_baseHas.js","node_modules/lodash/_baseHasIn.js","node_modules/lodash/_baseIsEqual.js","node_modules/lodash/_baseIsEqualDeep.js","node_modules/lodash/_baseIsMatch.js","node_modules/lodash/_baseIteratee.js","node_modules/lodash/_baseKeys.js","node_modules/lodash/_baseKeysIn.js","node_modules/lodash/_baseLodash.js","node_modules/lodash/_baseMap.js","node_modules/lodash/_baseMatches.js","node_modules/lodash/_baseMatchesProperty.js","node_modules/lodash/_baseMerge.js","node_modules/lodash/_baseMergeDeep.js","node_modules/lodash/_baseProperty.js","node_modules/lodash/_basePropertyDeep.js","node_modules/lodash/_baseReduce.js","node_modules/lodash/_baseSetData.js","node_modules/lodash/_baseSlice.js","node_modules/lodash/_baseTimes.js","node_modules/lodash/_baseToPairs.js","node_modules/lodash/_baseValues.js","node_modules/lodash/_checkGlobal.js","node_modules/lodash/_cloneArrayBuffer.js","node_modules/lodash/_cloneBuffer.js","node_modules/lodash/_cloneMap.js","node_modules/lodash/_cloneRegExp.js","node_modules/lodash/_cloneSet.js","node_modules/lodash/_cloneSymbol.js","node_modules/lodash/_cloneTypedArray.js","node_modules/lodash/_composeArgs.js","node_modules/lodash/_composeArgsRight.js","node_modules/lodash/_copyArray.js","node_modules/lodash/_copyObject.js","node_modules/lodash/_copyObjectWith.js","node_modules/lodash/_copySymbols.js","node_modules/lodash/_countHolders.js","node_modules/lodash/_createAggregator.js","node_modules/lodash/_createAssigner.js","node_modules/lodash/_createBaseEach.js","node_modules/lodash/_createBaseFor.js","node_modules/lodash/_createBaseWrapper.js","node_modules/lodash/_createCtorWrapper.js","node_modules/lodash/_createCurryWrapper.js","node_modules/lodash/_createHybridWrapper.js","node_modules/lodash/_createPartialWrapper.js","node_modules/lodash/_createRecurryWrapper.js","node_modules/lodash/_createWrapper.js","node_modules/lodash/_equalArrays.js","node_modules/lodash/_equalByTag.js","node_modules/lodash/_equalObjects.js","node_modules/lodash/_getData.js","node_modules/lodash/_getFuncName.js","node_modules/lodash/_getLength.js","node_modules/lodash/_getMatchData.js","node_modules/lodash/_getNative.js","node_modules/lodash/_getPlaceholder.js","node_modules/lodash/_getSymbols.js","node_modules/lodash/_getTag.js","node_modules/lodash/_hasPath.js","node_modules/lodash/_hashDelete.js","node_modules/lodash/_hashGet.js","node_modules/lodash/_hashHas.js","node_modules/lodash/_hashSet.js","node_modules/lodash/_indexKeys.js","node_modules/lodash/_initCloneArray.js","node_modules/lodash/_initCloneByTag.js","node_modules/lodash/_initCloneObject.js","node_modules/lodash/_isHostObject.js","node_modules/lodash/_isIndex.js","node_modules/lodash/_isIterateeCall.js","node_modules/lodash/_isKey.js","node_modules/lodash/_isKeyable.js","node_modules/lodash/_isLaziable.js","node_modules/lodash/_isPrototype.js","node_modules/lodash/_isStrictComparable.js","node_modules/lodash/_iteratorToArray.js","node_modules/lodash/_mapClear.js","node_modules/lodash/_mapDelete.js","node_modules/lodash/_mapGet.js","node_modules/lodash/_mapHas.js","node_modules/lodash/_mapSet.js","node_modules/lodash/_mapToArray.js","node_modules/lodash/_mergeData.js","node_modules/lodash/_metaMap.js","node_modules/lodash/_nativeCreate.js","node_modules/lodash/_parent.js","node_modules/lodash/_realNames.js","node_modules/lodash/_reorder.js","node_modules/lodash/_replaceHolders.js","node_modules/lodash/_root.js","node_modules/lodash/_setData.js","node_modules/lodash/_setToArray.js","node_modules/lodash/_stackClear.js","node_modules/lodash/_stackDelete.js","node_modules/lodash/_stackGet.js","node_modules/lodash/_stackHas.js","node_modules/lodash/_stackSet.js","node_modules/lodash/_stringToPath.js","node_modules/lodash/_wrapperClone.js","node_modules/lodash/assign.js","node_modules/lodash/bind.js","node_modules/lodash/constant.js","node_modules/lodash/eq.js","node_modules/lodash/find.js","node_modules/lodash/findIndex.js","node_modules/lodash/forEach.js","node_modules/lodash/get.js","node_modules/lodash/hasIn.js","node_modules/lodash/identity.js","node_modules/lodash/isArguments.js","node_modules/lodash/isArray.js","node_modules/lodash/isArrayLike.js","node_modules/lodash/isArrayLikeObject.js","node_modules/lodash/isBuffer.js","node_modules/lodash/isEmpty.js","node_modules/lodash/isFunction.js","node_modules/lodash/isLength.js","node_modules/lodash/isNative.js","node_modules/lodash/isNumber.js","node_modules/lodash/isObject.js","node_modules/lodash/isObjectLike.js","node_modules/lodash/isPlainObject.js","node_modules/lodash/isRegExp.js","node_modules/lodash/isString.js","node_modules/lodash/isSymbol.js","node_modules/lodash/isTypedArray.js","node_modules/lodash/keyBy.js","node_modules/lodash/keys.js","node_modules/lodash/keysIn.js","node_modules/lodash/last.js","node_modules/lodash/map.js","node_modules/lodash/merge.js","node_modules/lodash/noop.js","node_modules/lodash/now.js","node_modules/lodash/property.js","node_modules/lodash/reduce.js","node_modules/lodash/rest.js","node_modules/lodash/result.js","node_modules/lodash/toInteger.js","node_modules/lodash/toNumber.js","node_modules/lodash/toPairs.js","node_modules/lodash/toPlainObject.js","node_modules/lodash/toString.js","node_modules/lodash/values.js","node_modules/lodash/wrapperLodash.js","node_modules/loglevel/lib/loglevel.js","node_modules/parse-headers/parse-headers.js","node_modules/path-browserify/index.js","node_modules/process/browser.js","node_modules/promise-queue/index.js","node_modules/promise-queue/lib/index.js","node_modules/punycode/punycode.js","node_modules/qs/lib/index.js","node_modules/qs/lib/parse.js","node_modules/qs/lib/stringify.js","node_modules/qs/lib/utils.js","node_modules/querystring-es3/decode.js","node_modules/querystring-es3/encode.js","node_modules/querystring-es3/index.js","node_modules/sift/sift.js","node_modules/trim/index.js","node_modules/uid/index.js","node_modules/url-pattern/lib/url-pattern.js","node_modules/url/url.js","node_modules/url/util.js","node_modules/util/support/isBufferBrowser.js","node_modules/util/util.js","package.json","src/cache.js","src/db.js","src/device.js","src/http.js","src/index.js","src/popup.js","src/push.js","src/titaniumdb.js","src/utils.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","Kinvey","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"serialize","obj","prefix","str","useArraySyntax","Array","isArray","Object","keys","forEach","prop","key","query","val","encodeURIComponent","push","join","querystring","extend","url","uri","q","parts","parse","parsedQuery","search","format",2,"rawAsap","task","queue","requestFlush","flushing","flush","index","currentIndex","capacity","scan","newLength","makeRequestCallFromMutationObserver","callback","toggle","observer","BrowserMutationObserver","node","document","createTextNode","observe","characterData","data","makeRequestCallFromTimer","handleTimer","clearTimeout","timeoutHandle","clearInterval","intervalHandle","setTimeout","setInterval","MutationObserver","WebKitMutationObserver",3,"tryCatch0r","fn","receiver","errorObj","tryCatch1","arg1","tryCatch2","arg2","tryCatch3","arg3","isArguments","_call","Function","bind","_forEach","prototype","_toString","toString","_floor","Math","floor","_abs","abs","Symbol","symbolIterator","iterator","defineProperties","object","map","name","method","defineProperty","configurable","enumerable","writable","value","TypeIsObject","x","ToObject","optMessage","TypeError","IsCallable","ToNumber","numberIsNaN","Number","isNaN","numberIsFinite","isFinite","ToInteger","number","ToLength","len","MAX_SAFE_INTEGER","ArrayIterator","array","next","retval","done","DEFAULT_ARRAY_ITERATOR","GetIterator","detectDefault","itFn","GetMethod","it","p","func","IteratorComplete","iterResult","IteratorClose","completionIsThrow","returnMethod","innerResult","innerException","IteratorNext0","result","IteratorStep","Promise","PromiseCapability","makeCapability","makeCapabilityFast","promiseReactionResolve","promiseReactionReject","optimizePromiseThen","symbolSpecies","getPromiseSpecies","C","S","_promiseAllResolver","values","capability","remaining","alreadyCalled","count","performPromiseAll","iteratorRecord","resultCapability","nextValue","rejectElement","constructor","reject","nextPromise","resolve","resolveElement","promise","performPromiseAllArray","performPromiseRace","all","iterable","ex","race","is-arguments",4,"arg","tryCatch2r","tryCatch1n","Fn","TypeIsNotObject","SpeciesConstructor","O","defaultConstructor","IsConstructor","IsPromise","undefined","_promise_state","resolver","thenFastPath","FAST_PATH_MAKE_CAP","FAST_PATH_NONE","freeCapabilityList","pop","strictConstructors","hasOwnProperty","dontReuse","thenFastPathResolver","wasFastPath","FAST_PATH_CTOR_BAILED","free","getPromiseAndFree","promiseCheckAndResolve","PROMISE_PENDING","resolvePromise","promiseCheckAndReject","rejectPromise","promiseCapability","handlerResult","noFree","promiseReactionJob","handler","argument","PROMISE_FAKE_CAPABILITY","PromiseReactionJobTask","triggerPromiseReaction","freePromiseReactionJobTasks","asap","fulfillPromise","_promise_fulfillReactions0","_promise_reactionCapability0","_promise_rejectReactions0","idx","_promise_result","PROMISE_FULFILLED","reason","PROMISE_REJECTED","getThen","then","PromiseResolveThenableJobTask","resolution","triggerPromiseResolveThenableJob","freePromiseResolveThenableJobTasks","promiseResolveThenableJob","thenable","alreadyResolved","promisePrototypeThen","fakeRetvalFromThen","onFulfilled","onReject","supportSpecies","dontReuseResolvers","useES2015Class","species","PROMISE_IDENTITY","v","PROMISE_THROWER","PROMISE_RESOLVING","PromiseConstruct","makeClass","eval","Promise$prototype","catch","onRejected","fakeRetval","then0","get","./promise-extra.js","asap/raw",5,"init","lookup","revLookup","charCodeAt","toByteArray","b64","j","tmp","placeHolders","arr","Arr","L","tripletToBase64","num","encodeChunk","uint8","start","end","output","fromByteArray","extraBytes","maxChunkLength","len2","Uint8Array",6,"typedArraySupport","foo","subarray","byteLength","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","parent","fromNumber","fromString","arguments","fromObject","that","allocate","checked","string","encoding","write","isBuffer","fromBuffer","fromArray","ArrayBuffer","buffer","fromTypedArray","fromArrayBuffer","fromArrayLike","fromJsonObject","copy","__proto__","type","fromPool","poolSize","rootParent","RangeError","SlowBuffer","subject","buf","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","Infinity","hexSlice","utf8Slice","asciiSlice","binarySlice","base64Slice","utf16leSlice","hexWrite","offset","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","binaryWrite","base64Write","ucs2Write","utf16leToBytes","base64","slice","min","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","codePoints","MAX_ARGUMENTS_LENGTH","String","fromCharCode","apply","ret","out","toHex","bytes","checkOffset","ext","checkInt","max","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754","writeDouble","base64clean","stringtrim","replace","INVALID_BASE64_RE","trim","units","leadSurrogate","byteArray","c","hi","lo","src","dst","INSPECT_MAX_BYTES","_augment","b","_isBuffer","compare","y","isEncoding","concat","list","pos","item","equals","inspect","match","indexOf","byteOffset","arrayIndexOf","foundIndex","swap","toJSON","_arr","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","read","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","target","targetStart","set","fill","base64-js","isarray",7,8,"EventEmitter","_events","_maxListeners","isFunction","isNumber","isObject","isUndefined","defaultMaxListeners","setMaxListeners","emit","er","args","listeners","error","addListener","listener","m","newListener","warned","console","trace","on","once","removeListener","fired","position","splice","removeAllListeners","listenerCount","evlistener","emitter",9,"hasOwn","isPlainObject","nodeType","has_own_constructor","has_is_property_of_method","options","copyIsArray","clone","deep",10,"MemoryCache","_cache","createMap","_timeouts","create","expireTime","clear",11,"context","forEachArray","forEachString","forEachObject","charAt","k","is-function",12,"process","F","fun","thisArg","filter","location","assign","_this","D","hello","use","utils","settings","redirect_uri","href","split","response_type","display","state","oauth_proxy","timeout","popup","resizable","scrollbars","width","height","scope","scope_map","basic","default_service","force","page_uri","services","service","Event","id","login","encodeFunction","filterEmpty","network","qs","diffKey","opts","merge","proxy","provider","callbackId","globalEvent","JSON","store","fulfill","authResponse","redirectUri","responseType","oauth","test","grant","client_id","session","SCOPE_SPLIT","scopeMap","unique","scope_delim","access_token","expires","Date","getTime","diff","unchanged","version","refresh_token","stringify","auth","iframe","timer","closed","response","logout","_opts","message","getAuthResponse","events","params","formatFunction","reg","RegExp","isEmpty","param","decodeURIComponent","json","localStorage","getItem","setItem","removeItem","cache","cookie","_m","days","append","attr","createElement","innerHTML","setAttribute","body","appendChild","getElementsByTagName","style","left","bottom","unshift","path","URL","cloneNode","STATE_PENDING","STATE_FULFILLED","STATE_REJECTED","api","executor","fulfillValue","rejectReason","deliver","curr","execute","execute_handlers","handlers","nextTick","setImmediate","cb","resolved","separator","findEvents","evt","off","emitAfter","guid","random","documentElement","dualScreenTop","screenTop","screen","top","innerHeight","clientHeight","dualScreenLeft","screenLeft","innerWidth","clientWidth","optionsArray","navigator","userAgent","open","focus","responseHandler","authCallback","closeWindow","frameElement","removeChild","close","addEventListener","oauth_token","hash","expires_in","error_message","error_description","oauth_redirect","oldSessions","expired","CURRENT_TIME","eventName","oldSess","refresh","getPath","defaults","base","request","headers","formatResponse","statusCode","success","wrap","paging","actions","delete","xhr","jsonp","form","formatUrl","sign","proxy_response_type","suppress_response_codes","hasBinary","cors","request_cors","onprogress","upload","onuploadprogress","_query","callbackID","post","XMLHttpRequest","domInstance","toUpperCase","Element","tagName","isBinary","FormData","headersToJSON","exec","binary","onload","responseText","_e","status","statusText","getAllResponseHeaders","onerror","File","Blob","HTMLInputElement","files","overrideMimeType","setRequestHeader","send","operaFix","bool","head","script","async","onreadystatechange","readyState","text","newform","doc","reenableAfterSubmit","win","callbackonload","elements","disabled","enctype","input","el","inputs","NodeList","parentNode","innerText","getAttribute","submit","ee","FileList","toBlob","dataURI","atob","dataToJSON","w","nodeListToJSON","file","nodelist","opener","chrome","identity","launchWebAuthFlow","_open","interactive","ref","responseUrl","_popup","storage","local","cordova","hidden","utilPopup","redirectUriOrigin","origin","protocol","hostname","executeScript","formatError","formatFile","req","root","thumb_exists","thumbnail","is_dir","mime_type","downloadLink","OAuth1Settings","token","OAuth2Settings","dropbox","redirect","me","me/files","me/folder","me/folders","default","fileName","del","uid","display_name","first_name","shift","last_name","contents","is_deleted","formatUser","picture","formatFriends","d","pictures","images","sort","cover_photo","photos","can_upload","upload_location","facebook","email","share","birthday","videos","friends","publish_files","publish","offline_access","auth_type","me/friends","me/following","me/followers","me/share","me/like","me/albums","me/album","me/photos","me/photo","friend/albums","friend/photos","getApiUrl","extraParams","skipNetwork","flickr","withUser","user_nsid","userId","user_id","getBuddyIcon","profile","size","nsid","iconserver","iconfarm","createPhotoUrl","farm","server","secret","stat","formatPhotos","photoset","checkResponse","photo","title","createPictures","source","NO_LIMIT","sizes","contacts","contact","realname","username","page","pages","per_page","photoset_id","_content","jsoncallback","meta","errorDetail","suffix","firstName","lastName","formatRequest","foursquare","user","items","avatar_url","Link","github","toInt","formatFeed","formatItem","thumbnailLink","mimeType","formatImage","image","feed","entry","formatEntry","gEntry","formatPerson","displayName","$t","gd$email","address","emails","updated","link","pic","gd$etag","category","_a","group","media$group","media$content","mediaContent","mediaThumbnail","media$thumbnail","description","summary","updated_time","created_time","published","rel","scheme","term","openSearch$itemsPerPage","openSearch$startIndex","total","openSearch$totalResults","nextPageToken","Multipart","addFile","fr","FileReader","addContent","btoa","lineBreak","readAsBinaryString","content","counter","ready","boundary","delim","dataUri","onready","uploadDrive","parents","contactsUrl","google","create_event","access_type","approval_prompt","me/contacts","me/feed","me/file","put","patch","family_name","familyName","given_name","givenName","error_type","formatFriend","profile_picture","full_name","pagination","next_url","instagram","caption","standard_resolution","errorCode","Message","ErrorCode","getErrorCode","details","Authorization","joinme","scheduler","meetings","meetings/info","meetings/start/adhoc","meetings/start/scheduled","meetingId","meetings/schedule","meetings/update","meetings/delete","fullName","formattedName","pictureUrl","emailAddress","_count","_start","_total","empty","formatQuery","oauth2_access_token","like","linkedin","visibility","attribution","comment","submitted-url","submitted-image-url","headline","next_href","soundcloud","profile_image_url_https","profile_image_url","users","errors","next_cursor_str","arrayToDataResponse","twitter","photo_max","error_code","error_msg","vk","fields","formatDefault","formatAlbums","preferred","is_friend","windows","Content-Type","results","nickname","handle","imageUrl","field","yql","yahoo","_process",13,"isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","log","LN2",14,"idbModules","util","cleanInterface","testObject","event","StringList","_items","contains","quote","polyfill","compoundKeyPolyfill","cmp","IDBFactory","createObjectStore","IDBDatabase","createIndex","IDBObjectStore","add","indexGet","IDBIndex","indexGetKey","getKey","indexCursor","openCursor","indexKeyCursor","openKeyCursor","storeGet","storeDelete","storeCursor","storeKeyCursor","bound","IDBKeyRange","upperBound","lowerBound","only","requestResult","getOwnPropertyDescriptor","IDBRequest","cursorPrimaryKey","IDBCursor","cursorKey","cursorValue","IDBCursorWithValue","key1","key2","encodeCompoundKey","keyPath","encodeCompoundKeyPath","__insertData","isCompoundKey","setInlineCompoundKey","indexNames","lower","upper","lowerOpen","upperOpen","removeInlineCompoundKey","IDBTransaction","VERSION_CHANGE","compoundKeysPropertyName","propertySeparator","keySeparator","decodeCompoundKeyPath","propertySeparatorRegExp","encodedKeyPath","Key","getValue","encodedKey","decodeCompoundKey","validate","encode","validateKeyLength","decode","createDOMException","Sca","decycle","checkForCompletion","queuedObjects","returnCallback","derezObj","readBlobAsDataURL","blob","reader","onloadend","loadedEvent","dataURL","blobtype","updateEncodedBlob","readAsDataURL","encoded","derez","nu","Boolean","objects","$ref","paths","$type","$enc","retrocycle","$","dataURLToBlob","contentType","raw","BASE64_MARKER","rawLength","uInt8Array","rez","px","parseFloat","finishEncode","padBase32Exponent","padBase32Mantissa","zeros","flipBase32","flipped","pow32","mantissa","exponent","whole","fraction","expansion","roundToPrecision","precision","toPrecision","negate","getType","types","arrayValue","setValue","props","isMultiEntryMatch","encodedEntry","keyType","collations","substring","isKeyInRange","range","lowerMatch","upperMatch","__lower","__upper","findMultiEntryMatches","keyEntry","matches","nested","signValues","date","key32","decimalIndex","significantDigitIndex","inArray","encodedItem","decoded","decodedItem","createNativeEvent","debug","ShimEvent","bubbles","cancelable","eventPhase","timeStamp","valueOf","useNativeEvent","IDBVersionChangeEvent","createEvent","createNativeDOMException","DOMException","createNativeDOMError","DOMError","createError","logError","DEBUG","findError","err","useNativeDOMException","useNativeDOMError","createDOMError","onsuccess","transaction","IDBOpenDBRequest","onblocked","onupgradeneeded","direction","keyColumnName","valueColumnName","__assertActive","primaryKey","__store","__range","__req","__keyColumnName","__valueColumnName","__valueDecoder","__count","__offset","__lastKeyContinued","__multiEntryIndex","multiEntry","__unique","__find","__findMultiEntry","__findBasic","tx","recordsToLoad","quotedKeyColumnName","sql","sqlValues","__prefetchedData","__prefetchedIndex","executeSql","rows","__decode","__multiEntryOffset","rowItem","rowKey","matchingKey","reverse","__onsuccess","__matchedKeys","recordsToPreloadOnContinue","cursorPreloadPackSize","__pushToQueue","advance","update","valueToUpdate","__assertWritable","__addToTransactionQueue","__indexes","indexKey","rowsAffected","indexProperties","objectStore","columnName","optionalParams","__deleted","__clone","__createIndex","columnExists","failure","applyIndex","__updateIndexList","addIndexEntry","__deleteIndex","indexList","deleted","__fetchIndexData","opType","hasKey","recordCount","record","row","storeProperties","autoIncrement","autoInc","indexName","newStore","__createObjectStore","db","__objectStores","objectStoreNames","__versionTransaction","__assertVersionChange","__deleteObjectStore","__validateKey","__deriveKey","getNextAutoIncKey","seq","paramMap","sqlStart","sqlEnd","__createRequest","optionalParameters","deleteIndex","storeNames","mode","__id","uniqueID","__active","__running","__errored","__requests","__storeNames","onabort","oncomplete","__executeRequests","transactionError","abort","transactionFinished","__db","executeNextRequest","op","__tx","READ_ONLY","objectStoreName","READ_WRITE","__closed","onversionchange","storeName","createOptions","deleteObjectStore","createSysDB","sysDbCreateError","sysdb","openDatabase","DEFAULT_DB_SIZE","modules","dbCreateError","calledDbCreateError","openDB","oldVersion","systx","newVersion","__oncomplete","deleteDatabase","dbError","calledDBError","deleteFromDbVersions","tables","deleteTables","encodedKey1","encodedKey2","decodedKey1","decodedKey2","warn","shimIndexedDB","shim","__useShim","indexedDB","__debug","webkitIndexedDB","mozIndexedDB","oIndexedDB","msIndexedDB","poorIndexedDbSupport","webkitIDBDatabase","webkitIDBTransaction","webkitIDBCursor","webkitIDBKeyRange",15,"ctor","superCtor","super_","TempCtor",16,"toStr","isStandardArguments","isLegacyArguments","callee","supportsStandardArguments",17,"alert","confirm","prompt",18,"_interopRequireDefault","__esModule","Log","_loglevel","_loglevel2","originalFactory","methodFactory","methodName","logLevel","loggerName","rawMethod","setLevel","levels","ERROR","loglevel",19,"_classCallCheck","instance","Constructor","Acl","_createClass","descriptor","protoProps","staticProps","_errors","_isPlainObject","_isPlainObject2","aclAttribute","env","KINVEY_ACL_ATTRIBUTE","entity","KinveyError","acl","groups","gr","gw","creator","./errors","lodash/isPlainObject",20,"Aggregation","_query2","_result","_result2","_assign","_assign2","_forEach2","_isObject","_isObject2","_isString","_isString2","_isFunction","_isFunction2","initial","reduce","_initial","_key","_reduce","objectOrKey","Query","entities","aggregation","segment","condition","by","./query","lodash/assign","lodash/forEach","lodash/isFunction","lodash/isObject","lodash/isString","lodash/result",21,"Client","_localStorage","_localStorage2","_url","_url2","activeUserCollectionName","KINVEY_ACTIVE_USER_COLLECTION_NAME","activeSocialIdentityTokenCollectionName","KINVEY_ACTIVE_SOCIAL_IDENTITY_TOKEN_COLLECTION_NAME","_sharedInstance","KINVEY_API_PROTOCOL","host","KINVEY_API_HOST","appKey","appId","appSecret","masterSecret","hostnameParsed","encryptionKey","remove","socialIdentity","client","local-storage",22,"Command","_client","_enums","rpcNamespace","KINVEY_RPC_NAMESPACE","command","sharedInstance","executeNetworkRequest","HttpMethod","POST","pathname","properties","defaultAuth","./client","./enums",23,"AuthorizationGrant","AuthorizationCodeLoginPage","AuthorizationCodeAPI","freeze","AuthType","All","App","Basic","Default","Master","None","Session","DataStoreType","Sync","Cache","Network","User","GET","PATCH","PUT","DELETE","SocialIdentity","Facebook","Google","LinkedIn","StatusCode","Ok","Created","RedirectTemporarily","RedirectPermanetly","NotFound","ServerError",24,"NoResponseError","NotFoundError","NetworkConnectionError","InvalidCredentialsError","InsufficientCredentialsError","ActiveUserError","_util","_util2","SubType","captureStackTrace","inherits",25,"_aggregation","_command","_log","_metadata","_datastore","_sync","_user","_network","appdataNamespace","KINVEY_DATASTORE_NAMESPACE","NetworkRequest","authType","DataStore","Metadata","./aggregation","./command","./log","./metadata","./requests/network","./stores/datastore","./sync","./user",26,27,"kmdAttribute","KINVEY_KMD_ATTRIBUTE","kmd","ect","emailVerification","lmt","lastModified","authtoken",28,"MobileIdentityConnect","_path","_path2","authPathname","KINVEY_MIC_AUTH_PATHNAME","tokenPathname","KINVEY_MIC_TOKEN_PATHNAME","KINVEY_MIC_PROTOCOL","KINVEY_MIC_HOST","authorizationGrant","clientId","requestCodeWithPopup","requestTempLoginUrl","requestCodeWithUrl","requestToken","temp_login_uri","_this2","Popup","loadHandler","loadedUrl","redirected","closeHandler","loginUrl","password","followRedirect","getHeader","grant_type","automaticallyRefreshAuthToken","KINVEY_MIC_IDENTITY","./utils/popup",29,"_typeof","_object","_sift","_sift2","_isArray","_isArray2","_isNumber","_isNumber2","_isRegExp","_isRegExp2","skip","_fields","_filter","_sort","_limit","_skip","addFilter","$and","nor","or","flag","divisor","remainder","regExp","ignoreCase","flags","multiline","extended","dotMatchesAll","coord","maxDistance","bottomLeftCoord","upperRightCoord","coords","$box","$polygon","_size","_parent","ascending","descending","operator","queries","currentQuery","PrivateQuery","member","_ret","aField","bField","modifier","./utils/object","lodash/isArray","lodash/isNumber","lodash/isRegExp","sift",30,"compose","level","c2","c0","c3","c1","AsciiTree","generate","tree","nodes","last","subTree",31,"_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","setPrototypeOf","KinveyMiddleware","Middleware","_babybird","_babybird2","_asciiTree","_urlPattern","_urlPattern2","generateTree","_Middleware","getPrototypeOf","pattern","namespace","collection","../errors","./asciiTree","babybird","url-pattern",32,"CacheMiddleware","_get","property","desc","getter","_middleware","_db","_KinveyMiddleware","adapters","DBAdapter","Memory","_ref","DB","findById","find","save","removeById","../../enums","../middleware","../persistence/db",33,"ParseMiddleware",34,"SerializeMiddleware",35,"IndexedDB","dbCache","TransactionMode","ReadWrite","ReadOnly","inTransaction","containsCollection","txn","openTransaction","pending","cursor","_this3","_this4","singular","_this5","../../../errors","indexeddbshim",36,"LocalStorage","_keyBy","_keyBy2","_merge","_merge2","_values","_values2","idAttribute","KINVEY_ID_ATTRIBUTE","existingEntities","existingEntitiesById","entitiesById","existingEntity","lodash/keyBy","lodash/merge","lodash/values",37,"_promiseQueue","_promiseQueue2","_fastMemoryCache","_fastMemoryCache2","_find","_find2","caches","configure","fast-memory-cache","lodash/find","promise-queue",38,"WebSQL","_map","_map2","masterCollectionName","webSQL","parameters","escapedCollection","isMaster","isMulti","writeTxn","readTransaction","responses","_","resultSet","rowCount","lodash/map",39,"_indexeddb","_localstorage","_memory","_websql","_reduce2","adapter","isSupported","chars","objectId","objectIdPrefix","generateObjectId","promises","../../aggregation","../../errors","../../log","../../query","./adapters/indexeddb","./adapters/localstorage","./adapters/memory","./adapters/websql","lodash/reduce",40,"NetworkRack","CacheRack","KinveyRack","Rack","_parse","_serialize","_findIndex","_findIndex2","sharedCacheRackInstance","sharedNetworkRackInstance","middlewares","canceled","middleware","middlewareClass","existingMiddleware","_execute","_Rack","_KinveyRack","_KinveyRack2","./middleware","./middleware/cache","./middleware/parse","./middleware/serialize","lodash/findIndex",41,"DeltaFetchRequest","_request","_local","_response","_query3","lmtAttribute","KINVEY_LMT_ATTRIBUTE","maxIdsPerRequest","KINVEY_MAX_IDS","_KinveyRequest","localRequest","LocalRequest","isSuccess","Response","cacheResponse","cacheDocuments","networkRequest","networkResponse","networkDocuments","deltaSet","cacheDocument","networkDocument","deltaSetIds","ids","_networkRequest","_promise","initialResponse","addHeaders","KinveyRequest","../enums","../query","./local","./network","./request","./response",42,"_rack","rack","../rack/rack",43,"socialIdentityAttribute","KINVEY_SOCIAL_IDENTITY_ATTRIBUTE","micIdentity","usersNamespace","KINVEY_USERS_NAMESPACE","activeSocialIdentity","getActiveSocialIdentity","audience","activeUserData","getActiveUserData","setActiveUserData","setActiveSocialIdentity",44,"RequestProperties","appVersionKey","addProperties","clearProperty","_properties","getProperty","major","minor","appVersion","setProperty",45,"Request","_set","setter","_device","_string","_qs","_qs2","_appendQuery","_appendQuery2","_isEmpty","_isEmpty2","Auth","app","master","none","credentials","KINVEY_DEFAULT_TIMEOUT","executing","Accept","accept","header","setHeader","names","_method","_data","contentTypeHeader","removeHeader","_Request","KINVEY_API_VERSION","device","Device","skipBL","authorizationHeader","addHeader","cancel","customProperties","customPropertiesHeader","customPropertiesByteCount","byteCount","customPropertiesMaxBytesAllowed","KINVEY_MAX_HEADER_BYTES","queryString","authInfo","error2","../client","../utils/device","../utils/string","./properties","append-query","lodash/isEmpty",46,47,"CacheStore","_networkstore","_deltafetch","syncCollectionName","KINVEY_SYNC_COLLECTION_NAME","_NetworkStore","ttl","useDeltaFetch","_pathname","networkPromise","syncCount","info","_this6","_this7","_this8","_this9","_syncPathname","metadata","saved","isLocalEntity","originalId","_id","removed","savedResults","removedResults","savedResult","removedResult","_this10","_this11","pushResponse","pull","pullResponse","_this12","syncData","NetworkStore","../aggregation","../log","../requests/deltafetch","../requests/local","../requests/network","../requests/response","../utils/object","./networkstore",48,"_syncstore","_userstore","_filestore","_cachestore","SyncStore","UserStore","FileStore","./cachestore","./filestore","./syncstore","./userstore",49,"filesNamespace","KINVEY_FILES_NAMESPACE","download","tls","ttl_in_seconds","downloadByUrl","_downloadURL","stream","_filename","public","_public","X-Kinvey-Content-Type","uploadUrl","_uploadURL","_requiredHeaders","_expiresAt","clearHeaders","uploadResponse",50,"_Log","../Log",51,"_CacheStore","_updateSync",52,"_identity","usernameExists",53,"enabled","KINVEY_SYNC_DEFAULT_STATE","isEnabled","enable","disable","syncStore","getInstance","greaterThan","sync",54,"_acl","_mic","usernameAttribute","KINVEY_USERNAME_ATTRIBUTE","emailAttribute","KINVEY_EMAIL_ATTRIBUTE","supportedIdentities","setActiveUser","activeUser","getActiveUser","usernameOrData","_socialIdentity","isActiveUser","isActive","setAsActiveUser","mic","connect","collectionName","isIdentitySupported","equalTo","hose","pathanme","helloSettings","signup","tokens","userStore","loginWithIdentity","loginWithMIC","connectWithIdentity","signupWithIdentity","./acl","./mic","hellojs",55,"./object",56,"dotProperty","current","isDefined","nsInterface",57,"_EventEmitter",58,"stringLength","partCount","encodeURI","randomString","_uid2","_uid",59,"accessor","ls","stub","tracking","./stub","./tracking",60,"ms","found",61,"listen","change","attachEvent","onstorage","fire","newValue","oldValue","listening","ns",62,"Hash","nativeCreate","objectProto","./_nativeCreate",63,"LazyWrapper","__wrapped__","__actions__","__dir__","__filtered__","__iteratees__","__takeCount__","MAX_ARRAY_LENGTH","__views__","baseCreate","baseLodash","./_baseCreate","./_baseLodash",64,"LodashWrapper","chainAll","__chain__","__index__","__values__",65,"getNative","Map","./_getNative","./_root",66,"MapCache","mapClear","mapDelete","mapGet","mapHas","mapSet","has","./_mapClear","./_mapDelete","./_mapGet","./_mapHas","./_mapSet",67,"Reflect",68,"Set",69,"Stack","stackClear","stackDelete","stackGet","stackHas","stackSet","./_stackClear","./_stackDelete","./_stackGet","./_stackHas","./_stackSet",70,71,72,"WeakMap",73,"addMapEntry","pair",74,"addSetEntry",75,76,"arrayAggregator","iteratee","accumulator",77,"arrayEach",78,"arrayMap",79,"arrayReduce","initAccum",80,"arraySome","predicate",81,"assignMergeValue","eq","./eq",82,"assignValue","objValue",83,"assocDelete","assocIndexOf","lastIndex","arrayProto","./_assocIndexOf",84,"assocGet",85,"assocHas",86,87,"assocSet",88,"baseAggregator","baseEach","./_baseEach",89,"baseAssign","copyObject","./_copyObject","./keys",90,"baseCastFunction","./identity",91,"baseCastPath","stringToPath","./_stringToPath","./isArray",92,"baseClone","isDeep","isFull","customizer","stack","isArr","initCloneArray","copyArray","tag","getTag","isFunc","funcTag","genTag","cloneBuffer","objectTag","argsTag","isHostObject","initCloneObject","copySymbols","cloneableTags","initCloneByTag","stacked","baseForOwn","subValue","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","./_Stack","./_arrayEach","./_assignValue","./_baseAssign","./_baseForOwn","./_cloneBuffer","./_copyArray","./_copySymbols","./_getTag","./_initCloneArray","./_initCloneByTag","./_initCloneObject","./_isHostObject","./isBuffer","./isObject",93,"proto","objectCreate",94,"createBaseEach","./_createBaseEach",95,"baseFind","eachFunc","retKey",96,"baseFindIndex","fromRight",97,"createBaseFor","baseFor","./_createBaseFor",98,"./_baseFor",99,"baseGet","isKey","./_baseCastPath","./_isKey",100,"baseHas",101,"baseHasIn",102,"baseIsEqual","other","bitmask","isObjectLike","baseIsEqualDeep","./_baseIsEqualDeep","./isObjectLike",103,"equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","isTypedArray","equalArrays","equalByTag","PARTIAL_COMPARE_FLAG","objIsWrapped","othIsWrapped","equalObjects","./_equalArrays","./_equalByTag","./_equalObjects","./isTypedArray",104,"baseIsMatch","matchData","noCustomizer","srcValue","UNORDERED_COMPARE_FLAG","./_baseIsEqual",105,"baseIteratee","baseMatchesProperty","baseMatches","./_baseMatches","./_baseMatchesProperty","./property",106,"baseKeys","nativeKeys",107,"baseKeysIn","iteratorToArray","enumerate","propertyIsEnumerable","./_Reflect","./_iteratorToArray",108,109,"baseMap","isArrayLike","./isArrayLike",110,"getMatchData","./_baseIsMatch","./_getMatchData",111,"hasIn","./get","./hasIn",112,"baseMerge","srcIndex","keysIn","baseMergeDeep","./_assignMergeValue","./_baseMergeDeep","./keysIn",113,"mergeFunc","isCommon","isArrayLikeObject","toPlainObject","./_baseClone","./isArguments","./isArrayLikeObject","./isFunction","./isPlainObject","./toPlainObject",114,"baseProperty",115,"basePropertyDeep","./_baseGet",116,"baseReduce",117,"metaMap","baseSetData","./_metaMap",118,"baseSlice",119,"baseTimes",120,"baseToPairs","./_arrayMap",121,"baseValues",122,"checkGlobal",123,"cloneArrayBuffer","arrayBuffer","./_Uint8Array",124,125,"cloneMap","mapToArray","./_addMapEntry","./_arrayReduce","./_mapToArray",126,"cloneRegExp","regexp","reFlags",127,"cloneSet","setToArray","./_addSetEntry","./_setToArray",128,"cloneSymbol","symbol","symbolValueOf","symbolProto","./_Symbol",129,"cloneTypedArray","typedArray","./_cloneArrayBuffer",130,"composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","nativeMax","isUncurried",131,"composeArgsRight","holdersIndex","rightIndex","rightLength",132,133,"copyObjectWith","./_copyObjectWith",134,135,"getSymbols","./_getSymbols",136,"countHolders","placeholder",137,"createAggregator","initializer","./_arrayAggregator","./_baseAggregator","./_baseIteratee",138,"createAssigner","assigner","rest","sources","guard","isIterateeCall","./_isIterateeCall","./rest",139,140,"keysFunc",141,"createBaseWrapper","wrapper","Ctor","isBind","BIND_FLAG","createCtorWrapper","./_createCtorWrapper",142,"thisBinding",143,"createCurryWrapper","arity","getPlaceholder","replaceHolders","createRecurryWrapper","createHybridWrapper","./_apply","./_createHybridWrapper","./_createRecurryWrapper","./_getPlaceholder","./_replaceHolders",144,"partialsRight","holdersRight","argPos","ary","holdersCount","newHolders","isBindKey","reorder","isFlip","isAry","ARY_FLAG","BIND_KEY_FLAG","CURRY_FLAG","CURRY_RIGHT_FLAG","FLIP_FLAG","./_composeArgs","./_composeArgsRight","./_countHolders","./_reorder",145,"createPartialWrapper",146,"wrapFunc","isCurry","newArgPos","newHoldersRight","newPartials","newPartialsRight","PARTIAL_FLAG","PARTIAL_RIGHT_FLAG","CURRY_BOUND_FLAG","newData","isLaziable","setData","./_isLaziable","./_setData",147,"createWrapper","FUNC_ERROR_TEXT","toInteger","getData","mergeData","./_baseSetData","./_createBaseWrapper","./_createCurryWrapper","./_createPartialWrapper","./_getData","./_mergeData","./toInteger",148,"isPartial","isUnordered","arrLength","othLength","arrValue","othValue","compared","./_arraySome",149,"convert",150,"objProps","objLength","othProps","skipCtor","objCtor","othCtor","./_baseHas",151,"noop","./noop",152,"getFuncName","realNames","otherFunc","./_realNames",153,"getLength","./_baseProperty",154,"toPairs","isStrictComparable","./_isStrictComparable","./toPairs",155,"isNative","./isNative",156,157,"getOwnPropertySymbols",158,"objectToString","funcToString","mapCtorString","setCtorString","weakMapCtorString","ctorString","./_Map","./_Set","./_WeakMap",159,"hasPath","hasFunc","isLength","isIndex","isString","./_isIndex","./_parent","./isLength","./isString","./last",160,"hashDelete","hashHas","./_hashHas",161,"hashGet","HASH_UNDEFINED",162,163,"hashSet",164,"indexKeys","./_baseTimes",165,166,"./_cloneMap","./_cloneRegExp","./_cloneSet","./_cloneSymbol","./_cloneTypedArray",167,"isPrototype","./_isPrototype",168,169,"reIsUint",170,171,"reIsPlainProp","reIsDeepProp",172,"isKeyable",173,"funcName","lodash","./_LazyWrapper","./_getFuncName","./wrapperLodash",174,175,176,177,"__data__","./_Hash",178,"./_assocDelete","./_hashDelete","./_isKeyable",179,"./_assocGet","./_hashGet",180,"./_assocHas",181,"./_assocSet","./_hashSet",182,183,"srcBitmask","newBitmask","isCombo","REARG_FLAG","PLACEHOLDER","nativeMin",184,185,186,"./_baseSlice",187,188,"indexes","oldArray",189,"resIndex",190,"objectTypes","function","freeExports","freeModule","freeGlobal","freeSelf","freeWindow","thisGlobal","./_checkGlobal",191,"now","HOT_COUNT","HOT_SPAN","lastCalled","stamp","./now",192,193,194,195,196,197,"LARGE_ARRAY_SIZE","./_MapCache",198,"rePropName","reEscapeChar","./toString",199,"wrapperClone","./_LodashWrapper",200,"nonEnumShadows","./_createAssigner",201,"./_createWrapper",202,"constant",203,204,"./_baseFind","./_baseFindIndex",205,"findIndex",206,"./_baseCastFunction",207,"defaultValue",208,"./_baseHasIn","./_hasPath",209,210,211,212,"./_getLength",213,214,"moduleExports","./constant",215,216,217,218,"reIsNative","reIsHostCtor","reRegExpChar",219,220,221,222,"objectCtorString",223,"isRegExp",224,225,"isSymbol",226,"typedArrayTags",227,"keyBy","./_createAggregator",228,"isProto","skipIndexes","./_baseKeys","./_indexKeys",229,"propsLength","./_baseKeysIn",230,231,"./_baseMap",232,"./_baseMerge",233,234,235,"./_basePropertyDeep",236,"./_baseReduce",237,"otherArgs",238,239,"toNumber","INFINITY","MAX_INTEGER","./toNumber",240,"reTrim","reIsBinary","reIsOctal","freeParseInt","reIsBadHex","NAN",241,"./_baseToPairs",242,243,"symbolToString","./isSymbol",244,"./_baseValues",245,"./_wrapperClone",246,"definition","realMethod","undefinedType","bindMethod","enableLoggingWhenConsoleArrives","replaceLoggingMethods","logMethods","defaultMethodFactory","Logger","defaultLevel","factory","persistLevelIfPossible","levelNum","levelName","storageKey","ignore","getPersistedLevel","storedLevel","currentLevel","TRACE","INFO","WARN","SILENT","getLevel","persist","setDefaultLevel","enableAll","disableAll","initialLevel","defaultLogger","_loggersByName","getLogger","logger","noConflict",247,"for-each",248,"normalizeArray","allowAboveRoot","up","xs","splitPathRe","splitPath","filename","resolvedPath","resolvedAbsolute","cwd","normalize","isAbsolute","trailingSlash","relative","from","to","fromParts","toParts","samePartsLength","outputParts","sep","delimiter","dirname","dir","basename","extname",249,"cleanUpNextTick","draining","currentQueue","queueIndex","drainQueue","run","Item","browser","argv","versions","binding","chdir","umask",250,"PROMISE_QUEUE_COVERAGE","./lib","./lib-cov",251,252,"Queue","maxPendingPromises","maxQueuedPromises","pendingPromises","LocalPromise","resolveWith","GlobalPromise","promiseGenerator","notify","_dequeue","getPendingLength","getQueueLength",253,"mapDomain","regexSeparators","labels","ucs2decode","extra","ucs2encode","stringFromCharCode","basicToDigit","digitToBasic","digit","adapt","delta","numPoints","firstTime","damp","baseMinusTMin","tMax","skew","oldi","baseMinusT","inputLength","initialN","bias","initialBias","lastIndexOf","maxInt","tMin","handledCPCount","basicLength","currentValue","handledCPCountPlusOne","qMinusT","toUnicode","regexPunycode","toASCII","regexNonASCII","punycode","overflow","not-basic","invalid-input","ucs2",254,"Stringify","Parse","./parse","./stringify",255,"Utils","internals","depth","arrayLimit","parameterLimit","strictNullHandling","plainObjects","allowPrototypes","allowDots","parseValues","part","parseObject","chain","cleanRoot","parseArrays","parseKeys","givenKey","child","tempObj","newObj","compact","./utils",256,"arrayPrefixGenerators","brackets","indices","repeat","skipNulls","generateArrayPrefix","toISOString","objKeys","arrayFormat",257,"hexTable","arrayToObject","mergeTarget","acc","references","refs","compacted",258,"maxKeys","kstr","vstr",259,"stringifyPrimitive","objectKeys","ks",260,"./decode","./encode",261,"comparable","validator","and","createValidator","nestedValidator","findValues","nv","keypath","createNestedValidator","$eq","validators","prepare","createRootValidator","$ne","$or","$gt","$gte","$lt","$lte","$mod","$in","$nin","$not","$all","$size","$nor","$regex","$where","$elemMatch","$exists","$options","plugin",262,"right",263,264,"UrlPattern","P","astNodeContainsSegmentsForProvidedParams","astNodeToNames","astNodeToRegexString","baseAstNodeToRegexString","concatMap","defaultOptions","escapeForRegex","getParam","keysAndValuesToObject","newParser","regexGroupCount","stringConcatMap","regex","Result","Tagged","parser","tagged","sequence","parsers","pick","lazy","cached","baseMany","stringResult","atLeastOneResultRequired","endResult","parserResult","many1","concatMany1Till","firstChoice","U","wildcard","wildcardChar","optional","optionalSegmentStartChar","optionalSegmentEndChar","segmentNameCharset","named","segmentNameStartChar","escapedChar","escapeChar","segmentValueCharset","astNode","nextIndexes","sideEffects","maxIndex","groupCount","withoutWhitespace","isRegex","ast",265,"Url","slashes","port","urlParse","parseQueryString","slashesDenoteHost","urlFormat","urlResolve","urlResolveObject","resolveObject","protocolPattern","portPattern","simplePathPattern","delims","unwise","autoEscape","nonHostChars","hostEndingChars","hostnameMaxLen","hostnamePartPattern","hostnamePartStart","unsafeProtocol","javascript","javascript:","hostlessProtocol","slashedProtocol","http","https","ftp","gopher","http:","https:","ftp:","gopher:","file:","queryIndex","splitter","uSplit","slashRegex","simplePath","lowerProto","hostEnd","hec","atSign","parseHost","ipv6Hostname","hostparts","newpart","validParts","notHost","bit","h","ae","esc","escape","qm","tkeys","tk","tkey","rkeys","rk","rkey","relPath","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","isNullOrUndefined","authInHost","isNull","hasTrailingSlash","./util",266,267,268,"ctx","seen","stylize","stylizeNoColor","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","styles","arrayToHash","recurseTimes","primitive","formatPrimitive","visibleKeys","getOwnPropertyNames","isError","isDate","braces","toUTCString","formatArray","formatProperty","reduceToSingleString","simple","line","numLinesEst","prev","cur","ar","re","isPrimitive","pad","timestamp","time","getHours","getMinutes","getSeconds","getDate","months","getMonth","formatRegExp","deprecate","msg","deprecated","throwDeprecation","traceDeprecation","noDeprecation","debugEnviron","debugs","debuglog","NODE_DEBUG","pid","bold","italic","underline","inverse","white","grey","black","blue","cyan","green","magenta","red","yellow","special","boolean","null","./support/isBuffer",269,"homepage","bugs","licenses","author","contributors","main","repository","scripts","dependencies","kinvey-javascript-sdk-core","parse-headers","devDependencies","babel-eslint","babel-preset-es2015","babel-preset-stage-2","babelify","browserify","dotenv","envify","eslint-config-airbnb","exorcist","gulp","gulp-bump","gulp-eslint","gulp-git","gulp-if","gulp-plumber","gulp-prompt","gulp-rename","gulp-sourcemaps","gulp-uglify","gulp-util","run-sequence","semver-regex","vinyl-buffer","vinyl-source-stream","vinyl-transform","engines","keywords","transform","presets",270,"TitaniumDB","./db","kinvey-javascript-sdk-core/src/enums","kinvey-javascript-sdk-core/src/rack/middleware",271,"_titaniumdb","_CoreDB","dbName","./titaniumdb","kinvey-javascript-sdk-core/src/log","kinvey-javascript-sdk-core/src/rack/persistence/adapters/memory","kinvey-javascript-sdk-core/src/rack/persistence/db",272,"DeviceAdapter","_package","_package2","manufacturer","Titanium","Platform","model","Platfrom","environment","library","getVersion","os","osname","sdk","../package.json",273,"HttpMiddleware","_utils","_parseHeaders","_parseHeaders2","isMobileWeb","ontimeout","createHTTPClient","autoRedirect","setTlsVersion","TLS_VERSION_1_2","allResponseHeaders",274,"_kinveyJavascriptSdkCore","_cache2","_http","_device2","_popup2","_push","cacheRack","networkRack","useAfter","PopupAdapter","Push","./cache","./device","./http","./popup","./push","kinvey-javascript-sdk-core/src/rack/middleware/cache","kinvey-javascript-sdk-core/src/rack/middleware/serialize","kinvey-javascript-sdk-core/src/rack/rack","kinvey-javascript-sdk-core/src/utils/device","kinvey-javascript-sdk-core/src/utils/popup",275,"_bind","_bind2","eventListeners","clickHandler","tiWebView","UI","createWebView","createWindow","backgroundColor","barColor","modal","isiOS","tiWin","tiCloseButton","createButton","iPhone","SystemButtonStyle","DONE","setLeftNavButton","iOS","createNavigationWindow","isAndroid","removeEventListener","lodash/bind",276,"pushNamespace","KINVEY_PUSH_NAMESPACE","notificationEvent","KINVEY_NOTIFICATION_EVENT","deviceCollectionName","KINVEY_DEVICE_COLLECTION_NAME","onNotification","onceNotification","android","senderID","ios","badge","sound","registerForPush","registerForPushNotifications","deviceToken","USER_NOTIFICATION_TYPE_ALERT","USER_NOTIFICATION_TYPE_BADGE","USER_NOTIFICATION_TYPE_SOUND","registerUserNotificationSettings","_types","NOTIFICATION_TYPE_ALERT","NOTIFICATION_TYPE_BADGE","NOTIFICATION_TYPE_SOUND","CloudPush","retrieveDeviceToken","deviceId","registered","platform","framework","unregister","equalsTo","kinvey-javascript-sdk-core/src/client","kinvey-javascript-sdk-core/src/errors","kinvey-javascript-sdk-core/src/query","kinvey-javascript-sdk-core/src/requests/network","kinvey-javascript-sdk-core/src/stores/datastore","kinvey-javascript-sdk-core/src/user",277,"Database","getRowsAffected","isValidRow","fieldByName",278],"mappings":"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","file":"kinvey.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var querystring = require('querystring')\n  , extend = require('extend')\n  , url = require('url')\n\nmodule.exports = function appendQuery(uri, q) {\n  var parts = url.parse(uri, true)\n    , parsedQuery = extend(true, {}, parts.query, typeof q === 'string' ? querystring.parse(q) : q)\n\n  parts.search = '?' + serialize(parsedQuery)\n  return url.format(parts)\n}\n\n// serialize an object recursively\nfunction serialize(obj, prefix) {\n  var str = []\n    , useArraySyntax = false\n\n  // if there's a prefix, and this object is an array, use array syntax\n  // i.e., `prefix[]=foo&prefix[]=bar` instead of `prefix[0]=foo&prefix[1]=bar`\n  if (Array.isArray(obj) && prefix) {\n    useArraySyntax = true\n  }\n\n  Object.keys(obj).forEach(function (prop) {\n    var key, query, val = obj[prop]\n\n    key = prefix ?\n      prefix + '[' + (useArraySyntax ? '' : prop) + ']' :\n      prop\n\n    query = typeof val === 'object' ?\n      serialize(val, key) :\n      encodeURIComponent(key) + '=' + encodeURIComponent(val)\n\n    str.push(query)\n  })\n\n  return str.join('&')\n}\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Kinvey = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar querystring = require('querystring')\n  , extend = require('extend')\n  , url = require('url')\n\nmodule.exports = function appendQuery(uri, q) {\n  var parts = url.parse(uri, true)\n    , parsedQuery = extend(true, {}, parts.query, typeof q === 'string' ? querystring.parse(q) : q)\n\n  parts.search = '?' + serialize(parsedQuery)\n  return url.format(parts)\n}\n\n// serialize an object recursively\nfunction serialize(obj, prefix) {\n  var str = []\n    , useArraySyntax = false\n\n  // if there's a prefix, and this object is an array, use array syntax\n  // i.e., `prefix[]=foo&prefix[]=bar` instead of `prefix[0]=foo&prefix[1]=bar`\n  if (Array.isArray(obj) && prefix) {\n    useArraySyntax = true\n  }\n\n  Object.keys(obj).forEach(function (prop) {\n    var key, query, val = obj[prop]\n\n    key = prefix ?\n      prefix + '[' + (useArraySyntax ? '' : prop) + ']' :\n      prop\n\n    query = typeof val === 'object' ?\n      serialize(val, key) :\n      encodeURIComponent(key) + '=' + encodeURIComponent(val)\n\n    str.push(query)\n  })\n\n  return str.join('&')\n}\n\n},{\"extend\":9,\"querystring\":260,\"url\":265}],2:[function(require,module,exports){\n(function (global){\n\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\nvar BrowserMutationObserver = global.MutationObserver || global.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.js’s\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],3:[function(require,module,exports){\n(function (global){\n/* Add Promise.all and Promise.race implementations. */\n'use strict';\nvar isArguments = require('is-arguments');\n\nvar _call = Function.call.bind(Function.call);\nvar _forEach = Function.call.bind(Array.prototype.forEach);\nvar _toString = Function.call.bind(Object.prototype.toString);\nvar _floor = Math.floor;\nvar _abs = Math.abs;\n\nvar Symbol = global.Symbol || {};\nvar symbolIterator = Symbol.iterator || '@@iterator';\n\nvar defineProperties = function(object, map) {\n  _forEach(Object.keys(map), function(name) {\n    var method = map[name];\n    Object.defineProperty(object, name, {\n      configurable: true,\n      enumerable: false,\n      writable: true,\n      value: method,\n    });\n  });\n};\n\nvar errorObj = {e: {}};\n// Try/catch is not supported in optimizing compiler, so it is isolated.\n// The -r variant allows specifying the receiver.\nfunction tryCatch0r(fn, receiver) {\n  try {\n    return fn.call(receiver);\n  } catch (e) {\n    errorObj.e = e;\n    return errorObj;\n  }\n}\nfunction tryCatch1(fn, arg1) {\n  try {\n    return fn(arg1);\n  } catch (e) {\n    errorObj.e = e;\n    return errorObj;\n  }\n}\nfunction tryCatch2(fn, arg1, arg2) {\n  try {\n    return fn(arg1, arg2);\n  } catch (e) {\n    errorObj.e = e;\n    return errorObj;\n  }\n}\nfunction tryCatch3(fn, arg1, arg2, arg3) {\n  try {\n    return fn(arg1, arg2, arg3);\n  } catch (e) {\n    errorObj.e = e;\n    return errorObj;\n  }\n}\n\n\nvar TypeIsObject = function(x) {\n  /* jshint eqnull:true */\n  // This is expensive when it returns false; use this function\n  // when you expect it to return true in the common case.\n  return x != null && Object(x) === x;\n};\n\nvar ToObject = function(o, optMessage) {\n  /* jshint eqnull:true */\n  if (o == null) {\n    throw new TypeError(optMessage || 'Cannot call method on ' + o);\n  }\n  return Object(o);\n};\n\nvar IsCallable = (typeof /abc/ === 'function') ? function(x) {\n  // Some versions of IE say that typeof /abc/ === 'function'\n  return typeof x === 'function' && _toString(x) === '[object Function]';\n} : function(x) { return typeof x === 'function'; /* Much faster */};\n\nvar ToNumber = function(value) {\n  /*\n  // Implementations which implement Symbol also throw the proper TypeError\n  // if it is converted to a number.\n  if (_toString(value) === '[object Symbol]') {\n    throw new TypeError('Cannot convert a Symbol value to a number');\n  }\n  */\n  return +value;\n};\n\nvar numberIsNaN = Number.isNaN || function isNaN(value) {\n  return value !== value;\n};\n\nvar numberIsFinite = Number.isFinite || function isFinite(value) {\n  return typeof value === 'number' && global.isFinite(value);\n};\n\nvar ToInteger = function(value) {\n  var number = ToNumber(value);\n  if (numberIsNaN(number)) { return 0; }\n  if (number === 0 || !numberIsFinite(number)) { return number; }\n  return (number > 0 ? 1 : -1) * _floor(_abs(number));\n};\n\nvar ToLength = function(value) {\n  var len = ToInteger(value);\n  if (len <= 0) { return 0; } // Includes converting -0 to +0\n  if (typeof Number.MAX_SAFE_INTEGER !== 'undefined') {\n    if (len > Number.MAX_SAFE_INTEGER) { return Number.MAX_SAFE_INTEGER; }\n  }\n  return len;\n};\n\n// Stripped down value-only ArrayIterator.\nvar ArrayIterator = function(array) {\n  this.i = 0;\n  this.array = array;\n};\ndefineProperties(ArrayIterator.prototype, {\n  next: function() {\n    var i = this.i;\n    var array = this.array;\n    if (!(this instanceof ArrayIterator)) {\n      throw new TypeError('Not an ArrayIterator');\n    }\n    if (typeof array !== 'undefined') {\n      var len = Array.isArray(array) ? array.length : ToLength(array.length);\n      for (; i < len; i++) {\n        var retval = array[i];\n        this.i = i + 1;\n        return { value: retval, done: false };\n      }\n    }\n    this.array = void 0;\n    return { value: void 0, done: true };\n  },\n});\nObject.defineProperty(ArrayIterator.prototype, symbolIterator, {\n  configurable: true,\n  enumerable: false,\n  writable: true,\n  value: function() { return this; },\n});\n\nvar DEFAULT_ARRAY_ITERATOR = {};\n\nvar GetIterator = function(o, detectDefault) {\n  var itFn = GetMethod(o, symbolIterator);\n  if (!IsCallable(itFn)) {\n    // Node 0.10 compatibility.\n    if (Array.isArray(o) || isArguments(o)) {\n      return detectDefault ? DEFAULT_ARRAY_ITERATOR : new ArrayIterator(o);\n    }\n    // Better diagnostics if itFn is null or undefined\n    throw new TypeError('value is not an iterable');\n  }\n  if (detectDefault && itFn === Array.prototype[symbolIterator]) {\n    return DEFAULT_ARRAY_ITERATOR;\n  }\n  var it = _call(itFn, o);\n  if (!TypeIsObject(it)) {\n    throw new TypeError('bad iterator');\n  }\n  return it;\n};\n\nvar GetMethod = function(o, p) {\n  var func = ToObject(o)[p];\n  if (func === void 0 || func === null) {\n    return void 0;\n  }\n  if (!IsCallable(func)) {\n    throw new TypeError('Method not callable: ' + p);\n  }\n  return func;\n};\n\nvar IteratorComplete = function(iterResult) {\n  return !!(iterResult.done);\n};\n\nvar IteratorClose = function(iterator, completionIsThrow) {\n  var returnMethod = GetMethod(iterator, 'return');\n  if (returnMethod === void 0) {\n    return;\n  }\n  var innerResult, innerException;\n  innerResult = tryCatch0r(returnMethod, iterator);\n  if (innerResult === errorObj) {\n    innerException = errorObj.e;\n  }\n  if (completionIsThrow) {\n    return;\n  }\n  if (innerException) {\n    throw innerException;\n  }\n  if (!TypeIsObject(innerResult)) {\n    throw new TypeError(\"Iterator's return method returned a non-object.\");\n  }\n};\n\nvar IteratorNext0 = function(it) {\n  var result = it.next();\n  if (!TypeIsObject(result)) {\n    throw new TypeError('bad iterator');\n  }\n  return result;\n};\n\nvar IteratorStep = function(it) {\n  var result = IteratorNext0(it);\n  var done = IteratorComplete(result);\n  return done ? false : result;\n};\n\nmodule.exports = function(\n  Promise, PromiseCapability, makeCapability, makeCapabilityFast,\n  promiseReactionResolve, promiseReactionReject,\n  optimizePromiseThen, symbolSpecies\n) {\n\n  // This is a common step in many Promise methods\n  var getPromiseSpecies = function(C) {\n    if (!TypeIsObject(C)) {\n      throw new TypeError('Promise is not object');\n    }\n    if (symbolSpecies !== null) {\n      var S = C[symbolSpecies];\n      if (S !== void 0 && S !== null) {\n        return S;\n      }\n    }\n    return C;\n  };\n\n  var _promiseAllResolver = function(index, values, capability, remaining) {\n    var alreadyCalled = false;\n    return function(x) {\n      if (alreadyCalled) { return; }\n      alreadyCalled = true;\n      values[index] = x;\n      if ((--remaining.count) === 0) {\n        promiseReactionResolve(capability, values);\n      }\n    };\n  };\n\n  var performPromiseAll = function(iteratorRecord, C, resultCapability) {\n    var it = iteratorRecord.iterator;\n    var values = [];\n    var remaining = { count: 1 };\n    var next, nextValue, rejectElement;\n    if (resultCapability.constructor === PromiseCapability) {\n      // This capability won't be returned to pool.\n      rejectElement = resultCapability.reject;\n    } else {\n      rejectElement = function(e) {\n        // Not safe to return capability to pool, since resolves are still\n        // pending.\n        promiseReactionReject(resultCapability, e, 'no free');\n      };\n    }\n    for (var index = 0; ; index++) {\n      next = tryCatch1(IteratorStep, it);\n      if (next === errorObj) {\n        iteratorRecord.done = true;\n        throw errorObj.e;\n      } else if (next === false) {\n        iteratorRecord.done = true;\n        break;\n      }\n      nextValue = next.value;\n      values[index] = void 0;\n      var nextPromise = C.resolve(nextValue);\n      var resolveElement = _promiseAllResolver(\n        index, values, resultCapability, remaining\n      );\n      remaining.count++;\n      optimizePromiseThen(\n        nextPromise, resolveElement, rejectElement\n      );\n    }\n    if ((--remaining.count) === 0) {\n      promiseReactionResolve(resultCapability, values);\n    }\n    if (resultCapability.constructor === PromiseCapability) {\n      return resultCapability.promise;\n    }\n    return resultCapability;\n  };\n\n  var performPromiseAllArray = function(array, C, resultCapability) {\n    var values = new Array(array.length);\n    var remaining = { count: 1 };\n    var nextValue, rejectElement;\n    if (resultCapability.constructor === PromiseCapability) {\n      // This capability won't be returned to pool.\n      rejectElement = resultCapability.reject;\n    } else {\n      rejectElement = function(e) {\n        // Not safe to return capability to pool, since resolves are still\n        // pending.\n        promiseReactionReject(resultCapability, e, 'no free');\n      };\n    }\n    for (var index = 0; index < array.length; index++) {\n      nextValue = array[index];\n      values[index] = void 0;\n      var nextPromise = C.resolve(nextValue);\n      var resolveElement = _promiseAllResolver(\n        index, values, resultCapability, remaining\n      );\n      remaining.count++;\n      optimizePromiseThen(\n        nextPromise, resolveElement, rejectElement\n      );\n    }\n    if ((--remaining.count) === 0) {\n      promiseReactionResolve(resultCapability, values);\n    }\n    if (resultCapability.constructor === PromiseCapability) {\n      return resultCapability.promise;\n    }\n    return resultCapability;\n  };\n\n  var performPromiseRace = function(iteratorRecord, C, resultCapability) {\n    var it = iteratorRecord.iterator;\n    var next, nextValue, nextPromise;\n    while (true) {\n      next = tryCatch1(IteratorStep, it);\n      if (next === errorObj) {\n        iteratorRecord.done = true;\n        throw errorObj.e;\n      } else if (next === false) {\n        // NOTE: If iterable has no items, resulting promise will never\n        // resolve; see:\n        // https://github.com/domenic/promises-unwrapping/issues/75\n        // https://bugs.ecmascript.org/show_bug.cgi?id=2515\n        iteratorRecord.done = true;\n        break;\n      }\n      nextValue = next.value;\n      nextPromise = C.resolve(nextValue);\n      optimizePromiseThen(\n        nextPromise, resultCapability.resolve, resultCapability.reject\n      );\n    }\n    return resultCapability.promise;\n  };\n\n  defineProperties(Promise, {\n    all: function all(iterable) {\n      var C = getPromiseSpecies(this);\n      var capability = makeCapabilityFast(C);\n      var iterator, iteratorRecord, result, ex;\n      iterator = tryCatch2(GetIterator, iterable, true);\n      if (iterator === DEFAULT_ARRAY_ITERATOR) {\n        // Fast path\n        result = tryCatch3(performPromiseAllArray, iterable, C, capability);\n        if (result !== errorObj) {\n          return result;\n        }\n        // Not safe to return capability to pool, since there may be\n        // calls to `resolve` still pending.\n        return promiseReactionReject(capability, errorObj.e, 'no free');\n      }\n      if (iterator === errorObj) {\n        return promiseReactionReject(capability, errorObj.e);\n      }\n      iteratorRecord = { iterator: iterator, done: false };\n      result = tryCatch3(performPromiseAll, iteratorRecord, C, capability);\n      if (result !== errorObj) {\n        return result;\n      }\n      ex = errorObj.e;\n      if (!iteratorRecord.done) {\n        result = tryCatch2(IteratorClose, iterator, true);\n        if (result === errorObj) {\n          ex = errorObj.e;\n        }\n      }\n      // Not safe to return capability to pool, since there may be\n      // calls to `resolve` still pending.\n      return promiseReactionReject(capability, ex, 'no free');\n    },\n\n    race: function race(iterable) {\n      var C = getPromiseSpecies(this);\n      var capability = makeCapability(C);\n      var iterator, iteratorRecord, reject, result, ex;\n      iterator = tryCatch1(GetIterator, iterable);\n      if (iterator === errorObj) {\n        reject = capability.reject;\n        reject(errorObj.e);\n        return capability.promise;\n      }\n      iteratorRecord = { iterator: iterator, done: false };\n      result = tryCatch3(performPromiseRace, iteratorRecord, C, capability);\n      if (result !== errorObj) {\n        return result;\n      }\n      ex = errorObj.e;\n      if (!iteratorRecord.done) {\n        result = tryCatch2(IteratorClose, iterator, true);\n        if (result === errorObj) {\n          ex = errorObj.e;\n        }\n      }\n      reject = capability.reject;\n      reject(ex);\n      return capability.promise;\n    },\n  });\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"is-arguments\":16}],4:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar asap = require('asap/raw');\n\n// When this is `false` we disable species support, for a little bit of\n// extra performance.\nvar supportSpecies = false;\n// When this is false we assume promise subclass constructors have no\n// side effects.\nvar strictConstructors = false;\n// When this is true, a new resolver is created for every Promise.\nvar dontReuseResolvers = false;\n// When this is true (and the engine supports it), the Promise will be a\n// true ES2015 class.  However, this currently slows the implementation down\n// by 30% since construction of ES2015 classes is unoptimized.\nvar useES2015Class = false;\n\nvar _forEach = Function.call.bind(Array.prototype.forEach);\nvar _toString = Function.call.bind(Object.prototype.toString);\n\nvar Symbol = global.Symbol || {};\nvar symbolSpecies = Symbol.species || (supportSpecies ? '@@species' : null);\n\nfunction defineProperties(object, map) {\n  _forEach(Object.keys(map), function definePropertiesForEach(name) {\n    var method = map[name];\n    Object.defineProperty(object, name, {\n      configurable: true,\n      enumerable: false,\n      writable: true,\n      value: method,\n    });\n  });\n}\n\nvar errorObj = {e: {}};\n// Try/catch is not supported in optimizing compiler, so it is isolated.\nfunction tryCatch1(fn, arg) {\n  try {\n    return fn(arg);\n  } catch (e) {\n    errorObj.e = e;\n    return errorObj;\n  }\n}\nfunction tryCatch2(fn, arg1, arg2) {\n  try {\n    return fn(arg1, arg2);\n  } catch (e) {\n    errorObj.e = e;\n    return errorObj;\n  }\n}\n// The -r variant allows specifying the receiver.\nfunction tryCatch2r(fn, receiver, arg1, arg2) {\n  try {\n    return fn.call(receiver, arg1, arg2);\n  } catch (e) {\n    errorObj.e = e;\n    return errorObj;\n  }\n}\n// The -n variant creates a new object.\nfunction tryCatch1n(Fn, arg1) {\n  try {\n    return new Fn(arg1);\n  } catch (e) {\n    errorObj.e = e;\n    return errorObj;\n  }\n}\n\n// Promises\n\n// Follow implementation in the ES6 spec as closely as possible, but\n// steal tricks from Bluebird for moar speed.\n// In particular, we go to great lengths to avoid allocating objects\n// and closures wherever possible in hot code.\n\nfunction TypeIsObject(x) {\n  // This is expensive when it returns false; use this function\n  // when you expect it to return true in the common case.\n  if (false) {\n    return x !== void 0 && x !== null && Object(x) === x;\n  }\n  // It turns out that !TypeIsNotObject is faster...\n  return !TypeIsNotObject(x);\n}\nfunction TypeIsNotObject(val) {\n  // This is more appropriate when TypeIsObject may return false.\n  return val === void 0 || val === null || val === true || val === false ||\n    typeof val === 'string' || typeof val === 'number' ||\n    typeof val === 'symbol'; // jshint ignore:line\n}\n\nvar IsCallable = (typeof /abc/ === 'function') ? function IsCallableSlow(x) {\n  // Some versions of IE say that typeof /abc/ === 'function'\n  return typeof x === 'function' && _toString(x) === '[object Function]';\n} : function IsCallableFast(x) { return typeof x === 'function'; };\n\n// We can't tell callables from constructors in ES5\nvar IsConstructor = IsCallable;\n\nfunction SpeciesConstructor(O, defaultConstructor) {\n  var C = O.constructor;\n  if (C === void 0) {\n    return defaultConstructor;\n  }\n  var S;\n  if (symbolSpecies === null) {\n    S = C;\n  } else {\n    if (!TypeIsObject(C)) {\n      throw new TypeError('Bad constructor');\n    }\n    S = C[symbolSpecies];\n    if (S === void 0 || S === null) {\n      return defaultConstructor;\n    }\n  }\n  if (!IsConstructor(S)) {\n    throw new TypeError('Bad @@species');\n  }\n  return S;\n}\n\nfunction IsPromise(promise) {\n  if (!TypeIsObject(promise)) {\n    return false;\n  }\n  if (promise._promise_state === undefined) {\n    return false; // Uninitialized, or missing our hidden field.\n  }\n  return true;\n}\n\n// \"PromiseCapability\" in the spec is what most promise implementations\n// call a \"deferred\".\n// We're going to wrap it so that it never throws an exception.\nfunction PromiseCapability() {\n  // Declare fields of this object.\n  // (Helps with object shape optimization.)\n  var self = this;\n  this.promise = void 0;\n  this.resolve = void 0;\n  this.reject = void 0;\n  this.resolver = function(resolve, reject) {\n    if (self.resolve !== void 0 || self.reject !== void 0) {\n      throw new TypeError('Bad Promise implementation!');\n    }\n    self.resolve = resolve;\n    self.reject = reject;\n  };\n}\nPromiseCapability.prototype.free = function() {\n  if (dontReuseResolvers) { return; }\n  if (this.dontReuse) { return; }\n  this.promise = void 0;\n  this.resolve = void 0;\n  this.reject = void 0;\n  freeCapabilityList.push(this);\n};\nPromiseCapability.prototype.getPromiseAndFree = function() {\n  var promise = this.promise;\n  this.free();\n  return promise;\n};\nvar freeCapabilityList = [];\n\nfunction makeCapabilityFast(C) {\n  thenFastPath = FAST_PATH_MAKE_CAP;\n  // `thenFastPath` is always reset to FAST_PATH_NONE by `makeCapability`\n  return makeCapability(C);\n}\n\nfunction makeCapability(C) {\n  if (!IsConstructor(C)) {\n    thenFastPath = FAST_PATH_NONE;\n    throw new TypeError('Bad promise constructor');\n  }\n\n  var capability;\n  if (freeCapabilityList.length) {\n    capability = freeCapabilityList.pop();\n  } else {\n    capability = new PromiseCapability();\n  }\n  if (strictConstructors &&\n      C !== Promise && !C.hasOwnProperty('noSideEffects')) {\n    capability.dontReuse = true;\n  }\n  if (thenFastPath === FAST_PATH_MAKE_CAP) {\n    thenFastPathResolver = capability.resolver;\n    capability.promise = tryCatch1n(C, thenFastPathResolver);\n    var wasFastPath = (thenFastPath === FAST_PATH_CTOR_BAILED);\n    thenFastPathResolver = null;\n    thenFastPath = FAST_PATH_NONE;\n    if (capability.promise === errorObj) {\n      capability.free();\n      throw errorObj.e;\n    }\n    if (wasFastPath) { return capability.getPromiseAndFree(); }\n  } else {\n    capability.promise = new C(capability.resolver);\n  }\n  if (!(IsCallable(capability.resolve) && IsCallable(capability.reject))) {\n    throw new TypeError('Bad promise constructor');\n  }\n  return capability;\n}\n\n// Forward declaration\nvar promisePrototypeThen;\nvar fakeRetvalFromThen = false;\n\n// Constants for Promise implementation\nvar PROMISE_IDENTITY = (function PROMISE_IDENTITY(v) { return v; });\nvar PROMISE_THROWER = (function PROMISE_THROWER(t) { throw t; });\nvar PROMISE_FAKE_CAPABILITY = new PromiseCapability();\nvar PROMISE_PENDING = 0;\nvar PROMISE_RESOLVING = 1; // PROMISE_PENDING combined with alreadyResolved\nvar PROMISE_FULFILLED = 2;\nvar PROMISE_REJECTED = 3;\n\n// States for then-fast-path\nvar FAST_PATH_NONE = 0;\nvar FAST_PATH_MAKE_CAP = 1;\nvar FAST_PATH_CTOR_BAILED = 2;\n\nvar thenFastPath = FAST_PATH_NONE;\nvar thenFastPathResolver = null;\n\nfunction promiseCheckAndResolve(promise, value) {\n  /* jshint bitwise: false */\n  if ((promise._promise_state & 3) !== PROMISE_PENDING) { return; }\n  promise._promise_state++; // Sets state to PROMISE_RESOLVING\n  resolvePromise(promise, value);\n  return promise;\n}\nfunction promiseCheckAndReject(promise, value) {\n  /* jshint bitwise: false */\n  if ((promise._promise_state & 3) !== PROMISE_PENDING) { return; }\n  promise._promise_state++; // Sets state to PROMISE_RESOLVING\n  rejectPromise(promise, value);\n  return promise;\n}\nfunction promiseReactionResolve(promiseCapability, handlerResult) {\n  if (promiseCapability.constructor === PromiseCapability) {\n    var resolve = promiseCapability.resolve;\n    resolve(handlerResult);\n    return promiseCapability.getPromiseAndFree();\n  }\n  // Optimized case; this is a \"standard\" promise.\n  return promiseCheckAndResolve(promiseCapability, handlerResult);\n}\nfunction promiseReactionReject(promiseCapability, handlerResult, noFree) {\n  if (promiseCapability.constructor === PromiseCapability) {\n    var reject = promiseCapability.reject;\n    reject(handlerResult);\n    if (noFree) { return promiseCapability.promise; }\n    return promiseCapability.getPromiseAndFree();\n  }\n  // Optimized case; this is a \"standard\" promise.\n  return promiseCheckAndReject(promiseCapability, handlerResult);\n}\nfunction promiseReactionJob(handler, promiseCapability, argument) {\n  var handlerResult;\n  // Encapsulate try/catch here to avoid deoptimization.\n  handlerResult = tryCatch1(handler, argument);\n  if (promiseCapability === PROMISE_FAKE_CAPABILITY) { return; }\n  if (handlerResult === errorObj) {\n    handlerResult = errorObj.e;\n    return promiseReactionReject(promiseCapability, handlerResult);\n  }\n  return promiseReactionResolve(promiseCapability, handlerResult);\n}\n\nfunction PromiseReactionJobTask() {\n  this.handler = null;\n  this.capability = null;\n  this.argument = null;\n}\nPromiseReactionJobTask.prototype.call = function() {\n  promiseReactionJob(this.handler, this.capability, this.argument);\n  this.handler = null;\n  this.capability = null;\n  this.argument = null;\n  freePromiseReactionJobTasks.push(this);\n};\nvar freePromiseReactionJobTasks = [];\n\nfunction triggerPromiseReaction(handler, capability, argument) {\n  var task;\n  if (freePromiseReactionJobTasks.length) {\n    task = freePromiseReactionJobTasks.pop();\n  } else {\n    task = new PromiseReactionJobTask();\n  }\n  task.handler = handler;\n  task.capability = capability;\n  task.argument = argument;\n  asap(task);\n}\n\nfunction fulfillPromise(promise, value) {\n  /* jshint bitwise: false */\n  var length = promise._promise_state >>> 2;\n  if (length > 0) {\n    triggerPromiseReaction(\n      promise._promise_fulfillReactions0,\n      promise._promise_reactionCapability0,\n      value);\n    promise._promise_fulfillReactions0 = void 0;\n    promise._promise_rejectReactions0 = void 0;\n    promise._promise_reactionCapability0 = void 0;\n    if (length > 1) {\n      for (var i = 1, idx = 0; i < length; i++) {\n        triggerPromiseReaction(promise[idx], promise[idx + 2], value);\n        promise[idx++] = void 0;\n        promise[idx++] = void 0;\n        promise[idx++] = void 0;\n      }\n    }\n  }\n  promise._promise_result = value;\n  promise._promise_state = PROMISE_FULFILLED;\n}\n\nfunction rejectPromise(promise, reason) {\n  /* jshint bitwise: false */\n  var length = promise._promise_state >>> 2;\n  if (length > 0) {\n    triggerPromiseReaction(\n      promise._promise_rejectReactions0,\n      promise._promise_reactionCapability0,\n      reason);\n    promise._promise_fulfillReactions0 = void 0;\n    promise._promise_rejectReactions0 = void 0;\n    promise._promise_reactionCapability0 = void 0;\n    if (length > 1) {\n      for (var i = 1, idx = 0; i < length; i++) {\n        triggerPromiseReaction(promise[idx + 1], promise[idx + 2], reason);\n        promise[idx++] = void 0;\n        promise[idx++] = void 0;\n        promise[idx++] = void 0;\n      }\n    }\n  }\n  promise._promise_result = reason;\n  promise._promise_state = PROMISE_REJECTED;\n}\n\nfunction getThen(r) { return r.then; }\n\nfunction PromiseResolveThenableJobTask() {\n  this.promise = null;\n  this.resolution = null;\n  this.then = null;\n}\nPromiseResolveThenableJobTask.prototype.call = function() {\n  promiseResolveThenableJob(this.promise, this.resolution, this.then);\n  this.promise = null;\n  this.resolution = null;\n  this.then = null;\n  freePromiseResolveThenableJobTasks.push(this);\n};\nvar freePromiseResolveThenableJobTasks = [];\n\nfunction triggerPromiseResolveThenableJob(promise, resolution, then) {\n  var task;\n  if (freePromiseResolveThenableJobTasks.length) {\n    task = freePromiseResolveThenableJobTasks.pop();\n  } else {\n    task = new PromiseResolveThenableJobTask();\n  }\n  task.promise = promise;\n  task.resolution = resolution;\n  task.then = then;\n  asap(task);\n}\n\nfunction resolvePromise(promise, resolution) {\n  if (resolution === promise) {\n    return rejectPromise(promise, new TypeError('Self resolution'));\n  }\n  if (TypeIsNotObject(resolution)) {\n    return fulfillPromise(promise, resolution);\n  }\n  var then = tryCatch1(getThen, resolution);\n  if (then === errorObj) {\n    return rejectPromise(promise, errorObj.e);\n  }\n  if (!IsCallable(then)) {\n    return fulfillPromise(promise, resolution);\n  }\n  triggerPromiseResolveThenableJob(promise, resolution, then);\n}\n\nfunction promiseResolveThenableJob(promise, thenable, then) {\n  // Inlined copy of createResolvingFunctions(promise)\n  var alreadyResolved = false;\n  var resolve = function promiseResolveThenableJobResolve(resolution) {\n    if (alreadyResolved) { return; }\n    alreadyResolved = true;\n    resolvePromise(promise, resolution);\n  };\n  var reject = function promiseResolveThenableJobReject(reason) {\n    if (alreadyResolved) { return; }\n    alreadyResolved = true;\n    return rejectPromise(promise, reason);\n  };\n  if (then === promisePrototypeThen) {\n    fakeRetvalFromThen = true; // Reset to false at the top of Promise#then\n  }\n  var value = tryCatch2r(then, thenable, resolve, reject);\n  if (value === errorObj) {\n    reject(errorObj.e);\n  }\n}\n\nvar PromiseConstruct = function Promise(resolver) {\n  if (!(this instanceof Promise)) {\n    throw new TypeError('Constructor Promise requires \"new\"');\n  }\n  if (this._promise_state !== void 0) {\n    throw new TypeError('Bad construction');\n  }\n  // The spec requires no enumerable fields, but for speed we're going\n  // to expose our implementation here.\n  // Since most promises have exactly one handler, the first one is\n  // stored directly on the object.  The rest (if needed) are stored\n  // on the object's element array to avoid unnecessary indirection.\n  this._promise_result = void 0;\n  this._promise_state = PROMISE_PENDING;\n  this._promise_fulfillReactions0 = void 0;\n  this._promise_rejectReactions0 = void 0;\n  this._promise_reactionCapability0 = void 0;\n  if (thenFastPath === FAST_PATH_MAKE_CAP &&\n      resolver === thenFastPathResolver) {\n    // We will create the resolving functions lazily.\n    thenFastPath = FAST_PATH_CTOR_BAILED;\n    return;\n  }\n  // see https://bugs.ecmascript.org/show_bug.cgi?id=2482\n  // (This check has been reordered after the fast path.)\n  if (!IsCallable(resolver)) {\n    throw new TypeError('not a valid resolver');\n  }\n  // Inlined copy of createResolvingFunctions(this), using _promise_state\n  // to track the `alreadyResolved` boolean.\n  var promise = this;\n  var resolve = function PromiseResolve(resolution) {\n    promiseCheckAndResolve(promise, resolution);\n  };\n  var reject = function PromiseReject(reason) {\n    promiseCheckAndReject(promise, reason);\n  };\n  var value = tryCatch2(resolver, resolve, reject);\n  if (value === errorObj) {\n    reject(errorObj.e);\n  }\n};\nvar Promise = (function makeClass() {\n  if (useES2015Class) {\n    try {\n      /* jshint evil:true */\n      return eval('(function(PromiseConstruct) {' +\n                  '\"use strict\";' +\n                  'return class Promise {' +\n                  '  constructor(executor) {' +\n                  '    PromiseConstruct.call(this, executor);' +\n                  '  }' +\n                  '};})')(PromiseConstruct);\n    } catch (e) { /* I guess ES2015 syntax isn't supported. */ }\n  }\n  return PromiseConstruct;\n})();\nvar Promise$prototype = Promise.prototype;\n\ndefineProperties(Promise, {\n  reject: function reject(reason) {\n    var C = this;\n    if (!TypeIsObject(C)) {\n      throw new TypeError('Bad promise constructor');\n    }\n    var capability = makeCapabilityFast(C);\n    return promiseReactionReject(capability, reason);\n  },\n\n  resolve: function resolve(v) {\n    // See https://esdiscuss.org/topic/fixing-promise-resolve for spec\n    var C = this;\n    if (!TypeIsObject(C)) {\n      throw new TypeError('Bad promise constructor');\n    }\n    if (IsPromise(v)) {\n      var constructor = v.constructor;\n      if (constructor === C) { return v; }\n    }\n    var capability = makeCapabilityFast(C);\n    return promiseReactionResolve(capability, v);\n  },\n});\n\ndefineProperties(Promise$prototype, {\n  catch: function catch_(onRejected) {\n    return this.then(void 0, onRejected);\n  },\n\n  then: function then(onFulfilled, onRejected) {\n    /* jshint bitwise: false */\n    var fakeRetval = fakeRetvalFromThen;\n    fakeRetvalFromThen = false;\n\n    var promise = this;\n    if (!IsPromise(promise)) { throw new TypeError('not a promise'); }\n    var resultCapability, C;\n    if ((!strictConstructors) && fakeRetval) {\n      resultCapability = PROMISE_FAKE_CAPABILITY;\n    } else {\n      C = SpeciesConstructor(promise, Promise);\n      if (fakeRetval &&\n          (C === Promise || C.hasOwnProperty('noSideEffects'))) {\n        resultCapability = PROMISE_FAKE_CAPABILITY;\n      } else {\n        // We might create a fake capability here.\n        resultCapability = makeCapabilityFast(C);\n      }\n    }\n    // PerformPromiseThen(promise, onFulfilled, onRejected, resultCapability)\n    if (!IsCallable(onFulfilled)) {\n      onFulfilled = PROMISE_IDENTITY;\n    }\n    if (!IsCallable(onRejected)) {\n      onRejected = PROMISE_THROWER;\n    }\n\n    var length;\n    switch (promise._promise_state & 3) {\n    case PROMISE_PENDING:\n    case PROMISE_RESOLVING:\n      length = promise._promise_state >>> 2;\n      if (length === 0) {\n        promise._promise_fulfillReactions0 = onFulfilled;\n        promise._promise_rejectReactions0 = onRejected;\n        promise._promise_reactionCapability0 = resultCapability;\n      } else {\n        var i = 3 * (length - 1);\n        promise[i] = onFulfilled;\n        promise[i + 1] = onRejected;\n        promise[i + 2] = resultCapability;\n      }\n      promise._promise_state += (1 << 2);\n      break;\n    case PROMISE_FULFILLED:\n      triggerPromiseReaction(onFulfilled, resultCapability,\n                             promise._promise_result);\n      break;\n    case PROMISE_REJECTED:\n      triggerPromiseReaction(onRejected, resultCapability,\n                             promise._promise_result);\n      break;\n    default:\n      throw new TypeError('unexpected');\n    }\n    if (resultCapability.constructor === PromiseCapability) {\n      return resultCapability.promise;\n    }\n    return resultCapability;\n  },\n});\n// Store the identify of the Promise#then function for optimization.\npromisePrototypeThen = Promise$prototype.then;\n// This encapsulates the `then` optimization, for use by promise-extra.js\nfunction optimizePromiseThen(promise, onFulfilled, onReject) {\n  var then = promise.then;\n  if (then === promisePrototypeThen) {\n    fakeRetvalFromThen = true; // Reset to false at the top of Promise#then\n    promisePrototypeThen.call(promise, onFulfilled, onReject);\n  } else {\n    then.call(promise, onFulfilled, onReject);\n  }\n}\n\n// Special \"extra\" method which is like `Promise#then` but it does\n// *not* return a `Promise`.  This can be much faster when you don't\n// need the result.\nPromise$prototype.then0 = function then0(f, r) {\n  optimizePromiseThen(this, f, r);\n};\n\nif (symbolSpecies !== null) {\n  // Default species getter.\n  Object.defineProperty(Promise, symbolSpecies, {\n    configurable: true,\n    enumerable: false,\n    get: function speciesGetter() { return this; },\n  });\n}\n\n// Add Promise.all / Promise.race methods\n// (These are split into a separate file since their implementation is\n// reasonably independent of the core and their performance is not critical.)\nrequire('./promise-extra.js')(\n  Promise, PromiseCapability, makeCapability, makeCapabilityFast,\n  promiseReactionResolve, promiseReactionReject,\n  optimizePromiseThen, symbolSpecies\n);\n\nmodule.exports = Promise;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./promise-extra.js\":3,\"asap/raw\":2}],5:[function(require,module,exports){\n'use strict'\n\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nfunction init () {\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i]\n    revLookup[code.charCodeAt(i)] = i\n  }\n\n  revLookup['-'.charCodeAt(0)] = 62\n  revLookup['_'.charCodeAt(0)] = 63\n}\n\ninit()\n\nfunction toByteArray (b64) {\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n\n  // base64 is 4/3 + up to two characters of the original data\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n\n},{}],6:[function(require,module,exports){\n(function (global){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\nBuffer.poolSize = 8192 // not used by this implementation\n\nvar rootParent = {}\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.foo = function () { return 42 }\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\nfunction Buffer (arg) {\n  if (!(this instanceof Buffer)) {\n    // Avoid going through an ArgumentsAdaptorTrampoline in the common case.\n    if (arguments.length > 1) return new Buffer(arg, arguments[1])\n    return new Buffer(arg)\n  }\n\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    this.length = 0\n    this.parent = undefined\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    return fromNumber(this, arg)\n  }\n\n  // Slightly less common case.\n  if (typeof arg === 'string') {\n    return fromString(this, arg, arguments.length > 1 ? arguments[1] : 'utf8')\n  }\n\n  // Unusual.\n  return fromObject(this, arg)\n}\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction fromNumber (that, length) {\n  that = allocate(that, length < 0 ? 0 : checked(length) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < length; i++) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') encoding = 'utf8'\n\n  // Assumption: byteLength() return value is always < kMaxLength.\n  var length = byteLength(string, encoding) | 0\n  that = allocate(that, length)\n\n  that.write(string, encoding)\n  return that\n}\n\nfunction fromObject (that, object) {\n  if (Buffer.isBuffer(object)) return fromBuffer(that, object)\n\n  if (isArray(object)) return fromArray(that, object)\n\n  if (object == null) {\n    throw new TypeError('must start with number, buffer, array or string')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined') {\n    if (object.buffer instanceof ArrayBuffer) {\n      return fromTypedArray(that, object)\n    }\n    if (object instanceof ArrayBuffer) {\n      return fromArrayBuffer(that, object)\n    }\n  }\n\n  if (object.length) return fromArrayLike(that, object)\n\n  return fromJsonObject(that, object)\n}\n\nfunction fromBuffer (that, buffer) {\n  var length = checked(buffer.length) | 0\n  that = allocate(that, length)\n  buffer.copy(that, 0, 0, length)\n  return that\n}\n\nfunction fromArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Duplicate of fromArray() to keep fromArray() monomorphic.\nfunction fromTypedArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  // Truncating the elements is probably not what people expect from typed\n  // arrays with BYTES_PER_ELEMENT > 1 but it's compatible with the behavior\n  // of the old Buffer constructor.\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(array)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromTypedArray(that, new Uint8Array(array))\n  }\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Deserialize { type: 'Buffer', data: [1,2,3,...] } into a Buffer object.\n// Returns a zero-length buffer for inputs that don't conform to the spec.\nfunction fromJsonObject (that, object) {\n  var array\n  var length = 0\n\n  if (object.type === 'Buffer' && isArray(object.data)) {\n    array = object.data\n    length = checked(array.length) | 0\n  }\n  that = allocate(that, length)\n\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n} else {\n  // pre-set for values that may exist in the future\n  Buffer.prototype.length = undefined\n  Buffer.prototype.parent = undefined\n}\n\nfunction allocate (that, length) {\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that.length = length\n  }\n\n  var fromPool = length !== 0 && length <= Buffer.poolSize >>> 1\n  if (fromPool) that.parent = rootParent\n\n  return that\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (subject, encoding) {\n  if (!(this instanceof SlowBuffer)) return new SlowBuffer(subject, encoding)\n\n  var buf = new Buffer(subject, encoding)\n  delete buf.parent\n  return buf\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'raw':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) throw new TypeError('list argument must be an Array of Buffers.')\n\n  if (list.length === 0) {\n    return new Buffer(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; i++) {\n      length += list[i].length\n    }\n  }\n\n  var buf = new Buffer(length)\n  var pos = 0\n  for (i = 0; i < list.length; i++) {\n    var item = list[i]\n    item.copy(buf, pos)\n    pos += item.length\n  }\n  return buf\n}\n\nfunction byteLength (string, encoding) {\n  if (typeof string !== 'string') string = '' + string\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'binary':\n      // Deprecated\n      case 'raw':\n      case 'raws':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  start = start | 0\n  end = end === undefined || end === Infinity ? this.length : end | 0\n\n  if (!encoding) encoding = 'utf8'\n  if (start < 0) start = 0\n  if (end > this.length) end = this.length\n  if (end <= start) return ''\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'binary':\n        return binarySlice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  return Buffer.compare(this, b)\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset) {\n  if (byteOffset > 0x7fffffff) byteOffset = 0x7fffffff\n  else if (byteOffset < -0x80000000) byteOffset = -0x80000000\n  byteOffset >>= 0\n\n  if (this.length === 0) return -1\n  if (byteOffset >= this.length) return -1\n\n  // Negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = Math.max(this.length + byteOffset, 0)\n\n  if (typeof val === 'string') {\n    if (val.length === 0) return -1 // special case: looking for empty string always fails\n    return String.prototype.indexOf.call(this, val, byteOffset)\n  }\n  if (Buffer.isBuffer(val)) {\n    return arrayIndexOf(this, val, byteOffset)\n  }\n  if (typeof val === 'number') {\n    if (Buffer.TYPED_ARRAY_SUPPORT && Uint8Array.prototype.indexOf === 'function') {\n      return Uint8Array.prototype.indexOf.call(this, val, byteOffset)\n    }\n    return arrayIndexOf(this, [ val ], byteOffset)\n  }\n\n  function arrayIndexOf (arr, val, byteOffset) {\n    var foundIndex = -1\n    for (var i = 0; byteOffset + i < arr.length; i++) {\n      if (arr[byteOffset + i] === val[foundIndex === -1 ? 0 : i - foundIndex]) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === val.length) return byteOffset + foundIndex\n      } else {\n        foundIndex = -1\n      }\n    }\n    return -1\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new Error('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; i++) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) throw new Error('Invalid hex string')\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction binaryWrite (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    var swap = encoding\n    encoding = offset\n    offset = length | 0\n    length = swap\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'binary':\n        return binaryWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction binarySlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; i++) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; i++) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  if (newBuf.length) newBuf.parent = this.parent || this\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n  if (offset < 0) throw new RangeError('index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; i--) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; i++) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// fill(value, start=0, end=buffer.length)\nBuffer.prototype.fill = function fill (value, start, end) {\n  if (!value) value = 0\n  if (!start) start = 0\n  if (!end) end = this.length\n\n  if (end < start) throw new RangeError('end < start')\n\n  // Fill 0 bytes; we're done\n  if (end === start) return\n  if (this.length === 0) return\n\n  if (start < 0 || start >= this.length) throw new RangeError('start out of bounds')\n  if (end < 0 || end > this.length) throw new RangeError('end out of bounds')\n\n  var i\n  if (typeof value === 'number') {\n    for (i = start; i < end; i++) {\n      this[i] = value\n    }\n  } else {\n    var bytes = utf8ToBytes(value.toString())\n    var len = bytes.length\n    for (i = start; i < end; i++) {\n      this[i] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; i++) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; i++) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"base64-js\":5,\"ieee754\":13,\"isarray\":7}],7:[function(require,module,exports){\nvar toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n},{}],8:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}],9:[function(require,module,exports){\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\nvar undefined;\n\nvar isPlainObject = function isPlainObject(obj) {\n\t\"use strict\";\n\tif (!obj || toString.call(obj) !== '[object Object]' || obj.nodeType || obj.setInterval) {\n\t\treturn false;\n\t}\n\n\tvar has_own_constructor = hasOwn.call(obj, 'constructor');\n\tvar has_is_property_of_method = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !has_own_constructor && !has_is_property_of_method) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) {}\n\n\treturn key === undefined || hasOwn.call(obj, key);\n};\n\nmodule.exports = function extend() {\n\t\"use strict\";\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0],\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === \"boolean\") {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t} else if (typeof target !== \"object\" && typeof target !== \"function\" || target == undefined) {\n\t\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\t// Only deal with non-null/undefined values\n\t\tif ((options = arguments[i]) != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target === copy) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = Array.isArray(copy)))) {\n\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && Array.isArray(src) ? src : [];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if (copy !== undefined) {\n\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\n/**\n * Provides in-memory cache.\n *\n * @name MemoryCache\n * @constructor\n */\nfunction MemoryCache() {\n    this._cache = createMap();\n    this._timeouts = createMap();\n}\n\n/**\n * Returns cache value for the specified key.\n *\n * @param {String} key\n * @returns {*} Value or `undefined` if value does not exist.\n */\nMemoryCache.prototype.get = function (key) {\n    return this._cache[key];\n};\n\n/**\n * Assigns value for the specified key.\n *\n * @param {String} key\n * @param {*} value\n * @param {Number} [expireTime=0] The length of time in seconds. After this time has expired, the\n *      value will be automatically deleted. 0 means that time never expire.\n */\nMemoryCache.prototype.set = function (key, value, expireTime) {\n    this.delete(key);\n    this._cache[key] = value;\n    if (expireTime) {\n        this._timeouts[key] = setTimeout(this.delete.bind(this, key), expireTime * 1000);\n    }\n};\n\n/**\n * Deletes value for the specified key.\n *\n * @param {String} key\n */\nMemoryCache.prototype.delete = function (key) {\n    delete this._cache[key];\n    if (key in this._timeouts) {\n        clearTimeout(this._timeouts[key]);\n        delete this._timeouts[key];\n    }\n};\n\n/**\n * Clears the whole cache storage.\n */\nMemoryCache.prototype.clear = function () {\n    this._cache = createMap();\n    for (var key in this._timeouts) {\n        clearTimeout(this._timeouts[key]);\n    }\n    this._timeouts = createMap();\n};\n\n/**\n * Creates a new object without a prototype. This object is useful for lookup without having to\n * guard against prototypically inherited properties via hasOwnProperty.\n *\n * @returns {Object}\n */\nfunction createMap() {\n    return Object.create(null);\n}\n\nmodule.exports = MemoryCache;\n\n},{}],11:[function(require,module,exports){\nvar isFunction = require('is-function')\n\nmodule.exports = forEach\n\nvar toString = Object.prototype.toString\nvar hasOwnProperty = Object.prototype.hasOwnProperty\n\nfunction forEach(list, iterator, context) {\n    if (!isFunction(iterator)) {\n        throw new TypeError('iterator must be a function')\n    }\n\n    if (arguments.length < 3) {\n        context = this\n    }\n    \n    if (toString.call(list) === '[object Array]')\n        forEachArray(list, iterator, context)\n    else if (typeof list === 'string')\n        forEachString(list, iterator, context)\n    else\n        forEachObject(list, iterator, context)\n}\n\nfunction forEachArray(array, iterator, context) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            iterator.call(context, array[i], i, array)\n        }\n    }\n}\n\nfunction forEachString(string, iterator, context) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        iterator.call(context, string.charAt(i), i, string)\n    }\n}\n\nfunction forEachObject(object, iterator, context) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            iterator.call(context, object[k], k, object)\n        }\n    }\n}\n\n},{\"is-function\":17}],12:[function(require,module,exports){\n(function (process){\n/*! hellojs v1.12.0 | (c) 2012-2016 Andrew Dodson | MIT https://adodson.com/hello.js/LICENSE */\r\n// ES5 Object.create\nif (!Object.create) {\n\n\t// Shim, Object create\n\t// A shim for Object.create(), it adds a prototype to a new object\n\tObject.create = (function() {\n\n\t\tfunction F() {}\n\n\t\treturn function(o) {\n\n\t\t\tif (arguments.length != 1) {\n\t\t\t\tthrow new Error('Object.create implementation only accepts one parameter.');\n\t\t\t}\n\n\t\t\tF.prototype = o;\n\t\t\treturn new F();\n\t\t};\n\n\t})();\n\n}\n\n// ES5 Object.keys\nif (!Object.keys) {\n\tObject.keys = function(o, k, r) {\n\t\tr = [];\n\t\tfor (k in o) {\n\t\t\tif (r.hasOwnProperty.call(o, k))\n\t\t\t\tr.push(k);\n\t\t}\n\n\t\treturn r;\n\t};\n}\n\n// ES5 [].indexOf\nif (!Array.prototype.indexOf) {\n\tArray.prototype.indexOf = function(s) {\n\n\t\tfor (var j = 0; j < this.length; j++) {\n\t\t\tif (this[j] === s) {\n\t\t\t\treturn j;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t};\n}\n\n// ES5 [].forEach\nif (!Array.prototype.forEach) {\n\tArray.prototype.forEach = function(fun/*, thisArg*/) {\n\n\t\tif (this === void 0 || this === null) {\n\t\t\tthrow new TypeError();\n\t\t}\n\n\t\tvar t = Object(this);\n\t\tvar len = t.length >>> 0;\n\t\tif (typeof fun !== 'function') {\n\t\t\tthrow new TypeError();\n\t\t}\n\n\t\tvar thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tif (i in t) {\n\t\t\t\tfun.call(thisArg, t[i], i, t);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t};\n}\n\n// ES5 [].filter\nif (!Array.prototype.filter) {\n\tArray.prototype.filter = function(fun, thisArg) {\n\n\t\tvar a = [];\n\t\tthis.forEach(function(val, i, t) {\n\t\t\tif (fun.call(thisArg || void 0, val, i, t)) {\n\t\t\t\ta.push(val);\n\t\t\t}\n\t\t});\n\n\t\treturn a;\n\t};\n}\n\n// Production steps of ECMA-262, Edition 5, 15.4.4.19\n// Reference: http://es5.github.io/#x15.4.4.19\nif (!Array.prototype.map) {\n\n\tArray.prototype.map = function(fun, thisArg) {\n\n\t\tvar a = [];\n\t\tthis.forEach(function(val, i, t) {\n\t\t\ta.push(fun.call(thisArg || void 0, val, i, t));\n\t\t});\n\n\t\treturn a;\n\t};\n}\n\n// ES5 isArray\nif (!Array.isArray) {\n\n\t// Function Array.isArray\n\tArray.isArray = function(o) {\n\t\treturn Object.prototype.toString.call(o) === '[object Array]';\n\t};\n\n}\n\n// Test for location.assign\nif (typeof window === 'object' && typeof window.location === 'object' && !window.location.assign) {\n\n\twindow.location.assign = function(url) {\n\t\twindow.location = url;\n\t};\n\n}\n\n// Test for Function.bind\nif (!Function.prototype.bind) {\n\n\t// MDN\n\t// Polyfill IE8, does not support native Function.bind\n\tFunction.prototype.bind = function(b) {\n\n\t\tif (typeof this !== 'function') {\n\t\t\tthrow new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n\t\t}\n\n\t\tfunction C() {}\n\n\t\tvar a = [].slice;\n\t\tvar f = a.call(arguments, 1);\n\t\tvar _this = this;\n\t\tvar D = function() {\n\t\t\treturn _this.apply(this instanceof C ? this : b || window, f.concat(a.call(arguments)));\n\t\t};\n\n\t\tC.prototype = this.prototype;\n\t\tD.prototype = new C();\n\n\t\treturn D;\n\t};\n\n}\n\n/**\n * @hello.js\n *\n * HelloJS is a client side Javascript SDK for making OAuth2 logins and subsequent REST calls.\n *\n * @author Andrew Dodson\n * @website https://adodson.com/hello.js/\n *\n * @copyright Andrew Dodson, 2012 - 2015\n * @license MIT: You are free to use and modify this code for any use, on the condition that this copyright notice remains.\n */\n\nvar hello = function(name) {\n\treturn hello.use(name);\n};\n\nhello.utils = {\n\n\t// Extend the first object with the properties and methods of the second\n\textend: function(r /*, a[, b[, ...]] */) {\n\n\t\t// Get the arguments as an array but ommit the initial item\n\t\tArray.prototype.slice.call(arguments, 1).forEach(function(a) {\n\t\t\tif (Array.isArray(r) && Array.isArray(a)) {\n\t\t\t\tArray.prototype.push.apply(r, a);\n\t\t\t}\n\t\t\telse if (r instanceof Object && a instanceof Object && r !== a) {\n\t\t\t\tfor (var x in a) {\n\t\t\t\t\tr[x] = hello.utils.extend(r[x], a[x]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\n\t\t\t\tif (Array.isArray(a)) {\n\t\t\t\t\t// Clone it\n\t\t\t\t\ta = a.slice(0);\n\t\t\t\t}\n\n\t\t\t\tr = a;\n\t\t\t}\n\t\t});\n\n\t\treturn r;\n\t}\n};\n\n// Core library\nhello.utils.extend(hello, {\n\n\tsettings: {\n\n\t\t// OAuth2 authentication defaults\n\t\tredirect_uri: window.location.href.split('#')[0],\n\t\tresponse_type: 'token',\n\t\tdisplay: 'popup',\n\t\tstate: '',\n\n\t\t// OAuth1 shim\n\t\t// The path to the OAuth1 server for signing user requests\n\t\t// Want to recreate your own? Checkout https://github.com/MrSwitch/node-oauth-shim\n\t\toauth_proxy: 'https://auth-server.herokuapp.com/proxy',\n\n\t\t// API timeout in milliseconds\n\t\ttimeout: 20000,\n\n\t\t// Popup Options\n\t\tpopup: {\n\t\t\tresizable: 1,\n\t\t\tscrollbars: 1,\n\t\t\twidth: 500,\n\t\t\theight: 550\n\t\t},\n\n\t\t// Default scope\n\t\t// Many services require atleast a profile scope,\n\t\t// HelloJS automatially includes the value of provider.scope_map.basic\n\t\t// If that's not required it can be removed via hello.settings.scope.length = 0;\n\t\tscope: ['basic'],\n\n\t\t// Scope Maps\n\t\t// This is the default module scope, these are the defaults which each service is mapped too.\n\t\t// By including them here it prevents the scope from being applied accidentally\n\t\tscope_map: {\n\t\t\tbasic: ''\n\t\t},\n\n\t\t// Default service / network\n\t\tdefault_service: null,\n\n\t\t// Force authentication\n\t\t// When hello.login is fired.\n\t\t// (null): ignore current session expiry and continue with login\n\t\t// (true): ignore current session expiry and continue with login, ask for user to reauthenticate\n\t\t// (false): if the current session looks good for the request scopes return the current session.\n\t\tforce: null,\n\n\t\t// Page URL\n\t\t// When 'display=page' this property defines where the users page should end up after redirect_uri\n\t\t// Ths could be problematic if the redirect_uri is indeed the final place,\n\t\t// Typically this circumvents the problem of the redirect_url being a dumb relay page.\n\t\tpage_uri: window.location.href\n\t},\n\n\t// Service configuration objects\n\tservices: {},\n\n\t// Use\n\t// Define a new instance of the HelloJS library with a default service\n\tuse: function(service) {\n\n\t\t// Create self, which inherits from its parent\n\t\tvar self = Object.create(this);\n\n\t\t// Inherit the prototype from its parent\n\t\tself.settings = Object.create(this.settings);\n\n\t\t// Define the default service\n\t\tif (service) {\n\t\t\tself.settings.default_service = service;\n\t\t}\n\n\t\t// Create an instance of Events\n\t\tself.utils.Event.call(self);\n\n\t\treturn self;\n\t},\n\n\t// Initialize\n\t// Define the client_ids for the endpoint services\n\t// @param object o, contains a key value pair, service => clientId\n\t// @param object opts, contains a key value pair of options used for defining the authentication defaults\n\t// @param number timeout, timeout in seconds\n\tinit: function(services, options) {\n\n\t\tvar utils = this.utils;\n\n\t\tif (!services) {\n\t\t\treturn this.services;\n\t\t}\n\n\t\t// Define provider credentials\n\t\t// Reformat the ID field\n\t\tfor (var x in services) {if (services.hasOwnProperty(x)) {\n\t\t\tif (typeof (services[x]) !== 'object') {\n\t\t\t\tservices[x] = {id: services[x]};\n\t\t\t}\n\t\t}}\n\n\t\t// Merge services if there already exists some\n\t\tutils.extend(this.services, services);\n\n\t\t// Update the default settings with this one.\n\t\tif (options) {\n\t\t\tutils.extend(this.settings, options);\n\n\t\t\t// Do this immediatly incase the browser changes the current path.\n\t\t\tif ('redirect_uri' in options) {\n\t\t\t\tthis.settings.redirect_uri = utils.url(options.redirect_uri).href;\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t// Login\n\t// Using the endpoint\n\t// @param network stringify       name to connect to\n\t// @param options object    (optional)  {display mode, is either none|popup(default)|page, scope: email,birthday,publish, .. }\n\t// @param callback  function  (optional)  fired on signin\n\tlogin: function() {\n\n\t\t// Create an object which inherits its parent as the prototype and constructs a new event chain.\n\t\tvar _this = this;\n\t\tvar utils = _this.utils;\n\t\tvar error = utils.error;\n\t\tvar promise = utils.Promise();\n\n\t\t// Get parameters\n\t\tvar p = utils.args({network: 's', options: 'o', callback: 'f'}, arguments);\n\n\t\t// Local vars\n\t\tvar url;\n\n\t\t// Get all the custom options and store to be appended to the querystring\n\t\tvar qs = utils.diffKey(p.options, _this.settings);\n\n\t\t// Merge/override options with app defaults\n\t\tvar opts = p.options = utils.merge(_this.settings, p.options || {});\n\n\t\t// Merge/override options with app defaults\n\t\topts.popup = utils.merge(_this.settings.popup, p.options.popup || {});\n\n\t\t// Network\n\t\tp.network = p.network || _this.settings.default_service;\n\n\t\t// Bind callback to both reject and fulfill states\n\t\tpromise.proxy.then(p.callback, p.callback);\n\n\t\t// Trigger an event on the global listener\n\t\tfunction emit(s, value) {\n\t\t\thello.emit(s, value);\n\t\t}\n\n\t\tpromise.proxy.then(emit.bind(this, 'auth.login auth'), emit.bind(this, 'auth.failed auth'));\n\n\t\t// Is our service valid?\n\t\tif (typeof (p.network) !== 'string' || !(p.network in _this.services)) {\n\t\t\t// Trigger the default login.\n\t\t\t// Ahh we dont have one.\n\t\t\treturn promise.reject(error('invalid_network', 'The provided network was not recognized'));\n\t\t}\n\n\t\tvar provider = _this.services[p.network];\n\n\t\t// Create a global listener to capture events triggered out of scope\n\t\tvar callbackId = utils.globalEvent(function(str) {\n\n\t\t\t// The responseHandler returns a string, lets save this locally\n\t\t\tvar obj;\n\n\t\t\tif (str) {\n\t\t\t\tobj = JSON.parse(str);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tobj = error('cancelled', 'The authentication was not completed');\n\t\t\t}\n\n\t\t\t// Handle these response using the local\n\t\t\t// Trigger on the parent\n\t\t\tif (!obj.error) {\n\n\t\t\t\t// Save on the parent window the new credentials\n\t\t\t\t// This fixes an IE10 bug i think... atleast it does for me.\n\t\t\t\tutils.store(obj.network, obj);\n\n\t\t\t\t// Fulfill a successful login\n\t\t\t\tpromise.fulfill({\n\t\t\t\t\tnetwork: obj.network,\n\t\t\t\t\tauthResponse: obj\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Reject a successful login\n\t\t\t\tpromise.reject(obj);\n\t\t\t}\n\t\t});\n\n\t\tvar redirectUri = utils.url(opts.redirect_uri).href;\n\n\t\t// May be a space-delimited list of multiple, complementary types\n\t\tvar responseType = provider.oauth.response_type || opts.response_type;\n\n\t\t// Fallback to token if the module hasn't defined a grant url\n\t\tif (/\\bcode\\b/.test(responseType) && !provider.oauth.grant) {\n\t\t\tresponseType = responseType.replace(/\\bcode\\b/, 'token');\n\t\t}\n\n\t\t// Query string parameters, we may pass our own arguments to form the querystring\n\t\tp.qs = utils.merge(qs, {\n\t\t\tclient_id: encodeURIComponent(provider.id),\n\t\t\tresponse_type: encodeURIComponent(responseType),\n\t\t\tredirect_uri: encodeURIComponent(redirectUri),\n\t\t\tdisplay: opts.display,\n\t\t\tstate: {\n\t\t\t\tclient_id: provider.id,\n\t\t\t\tnetwork: p.network,\n\t\t\t\tdisplay: opts.display,\n\t\t\t\tcallback: callbackId,\n\t\t\t\tstate: opts.state,\n\t\t\t\tredirect_uri: redirectUri\n\t\t\t}\n\t\t});\n\n\t\t// Get current session for merging scopes, and for quick auth response\n\t\tvar session = utils.store(p.network);\n\n\t\t// Scopes (authentication permisions)\n\t\t// Ensure this is a string - IE has a problem moving Arrays between windows\n\t\t// Append the setup scope\n\t\tvar SCOPE_SPLIT = /[,\\s]+/;\n\n\t\t// Include default scope settings (cloned).\n\t\tvar scope = _this.settings.scope ? [_this.settings.scope.toString()] : [];\n\n\t\t// Extend the providers scope list with the default\n\t\tvar scopeMap = utils.merge(_this.settings.scope_map, provider.scope || {});\n\n\t\t// Add user defined scopes...\n\t\tif (opts.scope) {\n\t\t\tscope.push(opts.scope.toString());\n\t\t}\n\n\t\t// Append scopes from a previous session.\n\t\t// This helps keep app credentials constant,\n\t\t// Avoiding having to keep tabs on what scopes are authorized\n\t\tif (session && 'scope' in session && session.scope instanceof String) {\n\t\t\tscope.push(session.scope);\n\t\t}\n\n\t\t// Join and Split again\n\t\tscope = scope.join(',').split(SCOPE_SPLIT);\n\n\t\t// Format remove duplicates and empty values\n\t\tscope = utils.unique(scope).filter(filterEmpty);\n\n\t\t// Save the the scopes to the state with the names that they were requested with.\n\t\tp.qs.state.scope = scope.join(',');\n\n\t\t// Map scopes to the providers naming convention\n\t\tscope = scope.map(function(item) {\n\t\t\t// Does this have a mapping?\n\t\t\treturn (item in scopeMap) ? scopeMap[item] : item;\n\t\t});\n\n\t\t// Stringify and Arrayify so that double mapped scopes are given the chance to be formatted\n\t\tscope = scope.join(',').split(SCOPE_SPLIT);\n\n\t\t// Again...\n\t\t// Format remove duplicates and empty values\n\t\tscope = utils.unique(scope).filter(filterEmpty);\n\n\t\t// Join with the expected scope delimiter into a string\n\t\tp.qs.scope = scope.join(provider.scope_delim || ',');\n\n\t\t// Is the user already signed in with the appropriate scopes, valid access_token?\n\t\tif (opts.force === false) {\n\n\t\t\tif (session && 'access_token' in session && session.access_token && 'expires' in session && session.expires > ((new Date()).getTime() / 1e3)) {\n\t\t\t\t// What is different about the scopes in the session vs the scopes in the new login?\n\t\t\t\tvar diff = utils.diff((session.scope || '').split(SCOPE_SPLIT), (p.qs.state.scope || '').split(SCOPE_SPLIT));\n\t\t\t\tif (diff.length === 0) {\n\n\t\t\t\t\t// OK trigger the callback\n\t\t\t\t\tpromise.fulfill({\n\t\t\t\t\t\tunchanged: true,\n\t\t\t\t\t\tnetwork: p.network,\n\t\t\t\t\t\tauthResponse: session\n\t\t\t\t\t});\n\n\t\t\t\t\t// Nothing has changed\n\t\t\t\t\treturn promise;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Page URL\n\t\tif (opts.display === 'page' && opts.page_uri) {\n\t\t\t// Add a page location, place to endup after session has authenticated\n\t\t\tp.qs.state.page_uri = utils.url(opts.page_uri).href;\n\t\t}\n\n\t\t// Bespoke\n\t\t// Override login querystrings from auth_options\n\t\tif ('login' in provider && typeof (provider.login) === 'function') {\n\t\t\t// Format the paramaters according to the providers formatting function\n\t\t\tprovider.login(p);\n\t\t}\n\n\t\t// Add OAuth to state\n\t\t// Where the service is going to take advantage of the oauth_proxy\n\t\tif (!/\\btoken\\b/.test(responseType) ||\n\t\tparseInt(provider.oauth.version, 10) < 2 ||\n\t\t(opts.display === 'none' && provider.oauth.grant && session && session.refresh_token)) {\n\n\t\t\t// Add the oauth endpoints\n\t\t\tp.qs.state.oauth = provider.oauth;\n\n\t\t\t// Add the proxy url\n\t\t\tp.qs.state.oauth_proxy = opts.oauth_proxy;\n\n\t\t}\n\n\t\t// Convert state to a string\n\t\tp.qs.state = encodeURIComponent(JSON.stringify(p.qs.state));\n\n\t\t// URL\n\t\tif (parseInt(provider.oauth.version, 10) === 1) {\n\n\t\t\t// Turn the request to the OAuth Proxy for 3-legged auth\n\t\t\turl = utils.qs(opts.oauth_proxy, p.qs, encodeFunction);\n\t\t}\n\n\t\t// Refresh token\n\t\telse if (opts.display === 'none' && provider.oauth.grant && session && session.refresh_token) {\n\n\t\t\t// Add the refresh_token to the request\n\t\t\tp.qs.refresh_token = session.refresh_token;\n\n\t\t\t// Define the request path\n\t\t\turl = utils.qs(opts.oauth_proxy, p.qs, encodeFunction);\n\t\t}\n\t\telse {\n\t\t\turl = utils.qs(provider.oauth.auth, p.qs, encodeFunction);\n\t\t}\n\n\t\t// Broadcast this event as an auth:init\n\t\temit('auth.init', p);\n\n\t\t// Execute\n\t\t// Trigger how we want self displayed\n\t\tif (opts.display === 'none') {\n\t\t\t// Sign-in in the background, iframe\n\t\t\tutils.iframe(url, redirectUri);\n\t\t}\n\n\t\t// Triggering popup?\n\t\telse if (opts.display === 'popup') {\n\n\t\t\tvar popup = utils.popup(url, redirectUri, opts.popup);\n\n\t\t\tvar timer = setInterval(function() {\n\t\t\t\tif (!popup || popup.closed) {\n\t\t\t\t\tclearInterval(timer);\n\t\t\t\t\tif (!promise.state) {\n\n\t\t\t\t\t\tvar response = error('cancelled', 'Login has been cancelled');\n\n\t\t\t\t\t\tif (!popup) {\n\t\t\t\t\t\t\tresponse = error('blocked', 'Popup was blocked');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresponse.network = p.network;\n\n\t\t\t\t\t\tpromise.reject(response);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t}\n\n\t\telse {\n\t\t\twindow.location = url;\n\t\t}\n\n\t\treturn promise.proxy;\n\n\t\tfunction encodeFunction(s) {return s;}\n\n\t\tfunction filterEmpty(s) {return !!s;}\n\t},\n\n\t// Remove any data associated with a given service\n\t// @param string name of the service\n\t// @param function callback\n\tlogout: function() {\n\n\t\tvar _this = this;\n\t\tvar utils = _this.utils;\n\t\tvar error = utils.error;\n\n\t\t// Create a new promise\n\t\tvar promise = utils.Promise();\n\n\t\tvar p = utils.args({name:'s', options: 'o', callback: 'f'}, arguments);\n\n\t\tp.options = p.options || {};\n\n\t\t// Add callback to events\n\t\tpromise.proxy.then(p.callback, p.callback);\n\n\t\t// Trigger an event on the global listener\n\t\tfunction emit(s, value) {\n\t\t\thello.emit(s, value);\n\t\t}\n\n\t\tpromise.proxy.then(emit.bind(this, 'auth.logout auth'), emit.bind(this, 'error'));\n\n\t\t// Network\n\t\tp.name = p.name || this.settings.default_service;\n\t\tp.authResponse = utils.store(p.name);\n\n\t\tif (p.name && !(p.name in _this.services)) {\n\n\t\t\tpromise.reject(error('invalid_network', 'The network was unrecognized'));\n\n\t\t}\n\t\telse if (p.name && p.authResponse) {\n\n\t\t\t// Define the callback\n\t\t\tvar callback = function(opts) {\n\n\t\t\t\t// Remove from the store\n\t\t\t\tutils.store(p.name, null);\n\n\t\t\t\t// Emit events by default\n\t\t\t\tpromise.fulfill(hello.utils.merge({network:p.name}, opts || {}));\n\t\t\t};\n\n\t\t\t// Run an async operation to remove the users session\n\t\t\tvar _opts = {};\n\t\t\tif (p.options.force) {\n\t\t\t\tvar logout = _this.services[p.name].logout;\n\t\t\t\tif (logout) {\n\t\t\t\t\t// Convert logout to URL string,\n\t\t\t\t\t// If no string is returned, then this function will handle the logout async style\n\t\t\t\t\tif (typeof (logout) === 'function') {\n\t\t\t\t\t\tlogout = logout(callback, p);\n\t\t\t\t\t}\n\n\t\t\t\t\t// If logout is a string then assume URL and open in iframe.\n\t\t\t\t\tif (typeof (logout) === 'string') {\n\t\t\t\t\t\tutils.iframe(logout);\n\t\t\t\t\t\t_opts.force = null;\n\t\t\t\t\t\t_opts.message = 'Logout success on providers site was indeterminate';\n\t\t\t\t\t}\n\t\t\t\t\telse if (logout === undefined) {\n\t\t\t\t\t\t// The callback function will handle the response.\n\t\t\t\t\t\treturn promise.proxy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove local credentials\n\t\t\tcallback(_opts);\n\t\t}\n\t\telse {\n\t\t\tpromise.reject(error('invalid_session', 'There was no session to remove'));\n\t\t}\n\n\t\treturn promise.proxy;\n\t},\n\n\t// Returns all the sessions that are subscribed too\n\t// @param string optional, name of the service to get information about.\n\tgetAuthResponse: function(service) {\n\n\t\t// If the service doesn't exist\n\t\tservice = service || this.settings.default_service;\n\n\t\tif (!service || !(service in this.services)) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this.utils.store(service) || null;\n\t},\n\n\t// Events: placeholder for the events\n\tevents: {}\n});\n\n// Core utilities\nhello.utils.extend(hello.utils, {\n\n\t// Error\n\terror: function(code, message) {\n\t\treturn {\n\t\t\terror: {\n\t\t\t\tcode: code,\n\t\t\t\tmessage: message\n\t\t\t}\n\t\t};\n\t},\n\n\t// Append the querystring to a url\n\t// @param string url\n\t// @param object parameters\n\tqs: function(url, params, formatFunction) {\n\n\t\tif (params) {\n\n\t\t\t// Set default formatting function\n\t\t\tformatFunction = formatFunction || encodeURIComponent;\n\n\t\t\t// Override the items in the URL which already exist\n\t\t\tfor (var x in params) {\n\t\t\t\tvar str = '([\\\\?\\\\&])' + x + '=[^\\\\&]*';\n\t\t\t\tvar reg = new RegExp(str);\n\t\t\t\tif (url.match(reg)) {\n\t\t\t\t\turl = url.replace(reg, '$1' + x + '=' + formatFunction(params[x]));\n\t\t\t\t\tdelete params[x];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (!this.isEmpty(params)) {\n\t\t\treturn url + (url.indexOf('?') > -1 ? '&' : '?') + this.param(params, formatFunction);\n\t\t}\n\n\t\treturn url;\n\t},\n\n\t// Param\n\t// Explode/encode the parameters of an URL string/object\n\t// @param string s, string to decode\n\tparam: function(s, formatFunction) {\n\t\tvar b;\n\t\tvar a = {};\n\t\tvar m;\n\n\t\tif (typeof (s) === 'string') {\n\n\t\t\tformatFunction = formatFunction || decodeURIComponent;\n\n\t\t\tm = s.replace(/^[\\#\\?]/, '').match(/([^=\\/\\&]+)=([^\\&]+)/g);\n\t\t\tif (m) {\n\t\t\t\tfor (var i = 0; i < m.length; i++) {\n\t\t\t\t\tb = m[i].match(/([^=]+)=(.*)/);\n\t\t\t\t\ta[b[1]] = formatFunction(b[2]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn a;\n\t\t}\n\t\telse {\n\n\t\t\tformatFunction = formatFunction || encodeURIComponent;\n\n\t\t\tvar o = s;\n\n\t\t\ta = [];\n\n\t\t\tfor (var x in o) {if (o.hasOwnProperty(x)) {\n\t\t\t\tif (o.hasOwnProperty(x)) {\n\t\t\t\t\ta.push([x, o[x] === '?' ? '?' : formatFunction(o[x])].join('='));\n\t\t\t\t}\n\t\t\t}}\n\n\t\t\treturn a.join('&');\n\t\t}\n\t},\n\n\t// Local storage facade\n\tstore: (function() {\n\n\t\tvar a = ['localStorage', 'sessionStorage'];\n\t\tvar i = -1;\n\t\tvar prefix = 'test';\n\n\t\t// Set LocalStorage\n\t\tvar localStorage;\n\n\t\twhile (a[++i]) {\n\t\t\ttry {\n\t\t\t\t// In Chrome with cookies blocked, calling localStorage throws an error\n\t\t\t\tlocalStorage = window[a[i]];\n\t\t\t\tlocalStorage.setItem(prefix + i, i);\n\t\t\t\tlocalStorage.removeItem(prefix + i);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\tlocalStorage = null;\n\t\t\t}\n\t\t}\n\n\t\tif (!localStorage) {\n\n\t\t\tvar cache = null;\n\n\t\t\tlocalStorage = {\n\t\t\t\tgetItem: function(prop) {\n\t\t\t\t\tprop = prop + '=';\n\t\t\t\t\tvar m = document.cookie.split(';');\n\t\t\t\t\tfor (var i = 0; i < m.length; i++) {\n\t\t\t\t\t\tvar _m = m[i].replace(/(^\\s+|\\s+$)/, '');\n\t\t\t\t\t\tif (_m && _m.indexOf(prop) === 0) {\n\t\t\t\t\t\t\treturn _m.substr(prop.length);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn cache;\n\t\t\t\t},\n\n\t\t\t\tsetItem: function(prop, value) {\n\t\t\t\t\tcache = value;\n\t\t\t\t\tdocument.cookie = prop + '=' + value;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Fill the cache up\n\t\t\tcache = localStorage.getItem('hello');\n\t\t}\n\n\t\tfunction get() {\n\t\t\tvar json = {};\n\t\t\ttry {\n\t\t\t\tjson = JSON.parse(localStorage.getItem('hello')) || {};\n\t\t\t}\n\t\t\tcatch (e) {}\n\n\t\t\treturn json;\n\t\t}\n\n\t\tfunction set(json) {\n\t\t\tlocalStorage.setItem('hello', JSON.stringify(json));\n\t\t}\n\n\t\t// Check if the browser support local storage\n\t\treturn function(name, value, days) {\n\n\t\t\t// Local storage\n\t\t\tvar json = get();\n\n\t\t\tif (name && value === undefined) {\n\t\t\t\treturn json[name] || null;\n\t\t\t}\n\t\t\telse if (name && value === null) {\n\t\t\t\ttry {\n\t\t\t\t\tdelete json[name];\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tjson[name] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (name) {\n\t\t\t\tjson[name] = value;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn json;\n\t\t\t}\n\n\t\t\tset(json);\n\n\t\t\treturn json || null;\n\t\t};\n\n\t})(),\n\n\t// Create and Append new DOM elements\n\t// @param node string\n\t// @param attr object literal\n\t// @param dom/string\n\tappend: function(node, attr, target) {\n\n\t\tvar n = typeof (node) === 'string' ? document.createElement(node) : node;\n\n\t\tif (typeof (attr) === 'object') {\n\t\t\tif ('tagName' in attr) {\n\t\t\t\ttarget = attr;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfor (var x in attr) {if (attr.hasOwnProperty(x)) {\n\t\t\t\t\tif (typeof (attr[x]) === 'object') {\n\t\t\t\t\t\tfor (var y in attr[x]) {if (attr[x].hasOwnProperty(y)) {\n\t\t\t\t\t\t\tn[x][y] = attr[x][y];\n\t\t\t\t\t\t}}\n\t\t\t\t\t}\n\t\t\t\t\telse if (x === 'html') {\n\t\t\t\t\t\tn.innerHTML = attr[x];\n\t\t\t\t\t}\n\n\t\t\t\t\t// IE doesn't like us setting methods with setAttribute\n\t\t\t\t\telse if (!/^on/.test(x)) {\n\t\t\t\t\t\tn.setAttribute(x, attr[x]);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tn[x] = attr[x];\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t}\n\t\t}\n\n\t\tif (target === 'body') {\n\t\t\t(function self() {\n\t\t\t\tif (document.body) {\n\t\t\t\t\tdocument.body.appendChild(n);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsetTimeout(self, 16);\n\t\t\t\t}\n\t\t\t})();\n\t\t}\n\t\telse if (typeof (target) === 'object') {\n\t\t\ttarget.appendChild(n);\n\t\t}\n\t\telse if (typeof (target) === 'string') {\n\t\t\tdocument.getElementsByTagName(target)[0].appendChild(n);\n\t\t}\n\n\t\treturn n;\n\t},\n\n\t// An easy way to create a hidden iframe\n\t// @param string src\n\tiframe: function(src) {\n\t\tthis.append('iframe', {src: src, style: {position:'absolute', left: '-1000px', bottom: 0, height: '1px', width: '1px'}}, 'body');\n\t},\n\n\t// Recursive merge two objects into one, second parameter overides the first\n\t// @param a array\n\tmerge: function(/* Args: a, b, c, .. n */) {\n\t\tvar args = Array.prototype.slice.call(arguments);\n\t\targs.unshift({});\n\t\treturn this.extend.apply(null, args);\n\t},\n\n\t// Makes it easier to assign parameters, where some are optional\n\t// @param o object\n\t// @param a arguments\n\targs: function(o, args) {\n\n\t\tvar p = {};\n\t\tvar i = 0;\n\t\tvar t = null;\n\t\tvar x = null;\n\n\t\t// 'x' is the first key in the list of object parameters\n\t\tfor (x in o) {if (o.hasOwnProperty(x)) {\n\t\t\tbreak;\n\t\t}}\n\n\t\t// Passing in hash object of arguments?\n\t\t// Where the first argument can't be an object\n\t\tif ((args.length === 1) && (typeof (args[0]) === 'object') && o[x] != 'o!') {\n\n\t\t\t// Could this object still belong to a property?\n\t\t\t// Check the object keys if they match any of the property keys\n\t\t\tfor (x in args[0]) {if (o.hasOwnProperty(x)) {\n\t\t\t\t// Does this key exist in the property list?\n\t\t\t\tif (x in o) {\n\t\t\t\t\t// Yes this key does exist so its most likely this function has been invoked with an object parameter\n\t\t\t\t\t// Return first argument as the hash of all arguments\n\t\t\t\t\treturn args[0];\n\t\t\t\t}\n\t\t\t}}\n\t\t}\n\n\t\t// Else loop through and account for the missing ones.\n\t\tfor (x in o) {if (o.hasOwnProperty(x)) {\n\n\t\t\tt = typeof (args[i]);\n\n\t\t\tif ((typeof (o[x]) === 'function' && o[x].test(args[i])) || (typeof (o[x]) === 'string' && (\n\t\t\t(o[x].indexOf('s') > -1 && t === 'string') ||\n\t\t\t(o[x].indexOf('o') > -1 && t === 'object') ||\n\t\t\t(o[x].indexOf('i') > -1 && t === 'number') ||\n\t\t\t(o[x].indexOf('a') > -1 && t === 'object') ||\n\t\t\t(o[x].indexOf('f') > -1 && t === 'function')\n\t\t\t))\n\t\t\t) {\n\t\t\t\tp[x] = args[i++];\n\t\t\t}\n\n\t\t\telse if (typeof (o[x]) === 'string' && o[x].indexOf('!') > -1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}}\n\n\t\treturn p;\n\t},\n\n\t// Returns a URL instance\n\turl: function(path) {\n\n\t\t// If the path is empty\n\t\tif (!path) {\n\t\t\treturn window.location;\n\t\t}\n\n\t\t// Chrome and FireFox support new URL() to extract URL objects\n\t\telse if (window.URL && URL instanceof Function && URL.length !== 0) {\n\t\t\treturn new URL(path, window.location);\n\t\t}\n\n\t\t// Ugly shim, it works!\n\t\telse {\n\t\t\tvar a = document.createElement('a');\n\t\t\ta.href = path;\n\t\t\treturn a.cloneNode(false);\n\t\t}\n\t},\n\n\tdiff: function(a, b) {\n\t\treturn b.filter(function(item) {\n\t\t\treturn a.indexOf(item) === -1;\n\t\t});\n\t},\n\n\t// Get the different hash of properties unique to `a`, and not in `b`\n\tdiffKey: function(a, b) {\n\t\tif (a || !b) {\n\t\t\tvar r = {};\n\t\t\tfor (var x in a) {\n\t\t\t\t// Does the property not exist?\n\t\t\t\tif (!(x in b)) {\n\t\t\t\t\tr[x] = a[x];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn r;\n\t\t}\n\n\t\treturn a;\n\t},\n\n\t// Unique\n\t// Remove duplicate and null values from an array\n\t// @param a array\n\tunique: function(a) {\n\t\tif (!Array.isArray(a)) { return []; }\n\n\t\treturn a.filter(function(item, index) {\n\t\t\t// Is this the first location of item\n\t\t\treturn a.indexOf(item) === index;\n\t\t});\n\t},\n\n\tisEmpty: function(obj) {\n\n\t\t// Scalar\n\t\tif (!obj)\n\t\t\treturn true;\n\n\t\t// Array\n\t\tif (Array.isArray(obj)) {\n\t\t\treturn !obj.length;\n\t\t}\n\t\telse if (typeof (obj) === 'object') {\n\t\t\t// Object\n\t\t\tfor (var key in obj) {\n\t\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t//jscs:disable\n\n\t/*!\n\t **  Thenable -- Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable\n\t **  Copyright (c) 2013-2014 Ralf S. Engelschall <http://engelschall.com>\n\t **  Licensed under The MIT License <http://opensource.org/licenses/MIT>\n\t **  Source-Code distributed on <http://github.com/rse/thenable>\n\t */\n\tPromise: (function(){\n\t\t/*  promise states [Promises/A+ 2.1]  */\n\t\tvar STATE_PENDING   = 0;                                         /*  [Promises/A+ 2.1.1]  */\n\t\tvar STATE_FULFILLED = 1;                                         /*  [Promises/A+ 2.1.2]  */\n\t\tvar STATE_REJECTED  = 2;                                         /*  [Promises/A+ 2.1.3]  */\n\n\t\t/*  promise object constructor  */\n\t\tvar api = function (executor) {\n\t\t\t/*  optionally support non-constructor/plain-function call  */\n\t\t\tif (!(this instanceof api))\n\t\t\t\treturn new api(executor);\n\n\t\t\t/*  initialize object  */\n\t\t\tthis.id           = \"Thenable/1.0.6\";\n\t\t\tthis.state        = STATE_PENDING; /*  initial state  */\n\t\t\tthis.fulfillValue = undefined;     /*  initial value  */     /*  [Promises/A+ 1.3, 2.1.2.2]  */\n\t\t\tthis.rejectReason = undefined;     /*  initial reason */     /*  [Promises/A+ 1.5, 2.1.3.2]  */\n\t\t\tthis.onFulfilled  = [];            /*  initial handlers  */\n\t\t\tthis.onRejected   = [];            /*  initial handlers  */\n\n\t\t\t/*  provide optional information-hiding proxy  */\n\t\t\tthis.proxy = {\n\t\t\t\tthen: this.then.bind(this)\n\t\t\t};\n\n\t\t\t/*  support optional executor function  */\n\t\t\tif (typeof executor === \"function\")\n\t\t\t\texecutor.call(this, this.fulfill.bind(this), this.reject.bind(this));\n\t\t};\n\n\t\t/*  promise API methods  */\n\t\tapi.prototype = {\n\t\t\t/*  promise resolving methods  */\n\t\t\tfulfill: function (value) { return deliver(this, STATE_FULFILLED, \"fulfillValue\", value); },\n\t\t\treject:  function (value) { return deliver(this, STATE_REJECTED,  \"rejectReason\", value); },\n\n\t\t\t/*  \"The then Method\" [Promises/A+ 1.1, 1.2, 2.2]  */\n\t\t\tthen: function (onFulfilled, onRejected) {\n\t\t\t\tvar curr = this;\n\t\t\t\tvar next = new api();                                    /*  [Promises/A+ 2.2.7]  */\n\t\t\t\tcurr.onFulfilled.push(\n\t\t\t\t\tresolver(onFulfilled, next, \"fulfill\"));             /*  [Promises/A+ 2.2.2/2.2.6]  */\n\t\t\t\tcurr.onRejected.push(\n\t\t\t\t\tresolver(onRejected,  next, \"reject\" ));             /*  [Promises/A+ 2.2.3/2.2.6]  */\n\t\t\t\texecute(curr);\n\t\t\t\treturn next.proxy;                                       /*  [Promises/A+ 2.2.7, 3.3]  */\n\t\t\t}\n\t\t};\n\n\t\t/*  deliver an action  */\n\t\tvar deliver = function (curr, state, name, value) {\n\t\t\tif (curr.state === STATE_PENDING) {\n\t\t\t\tcurr.state = state;                                      /*  [Promises/A+ 2.1.2.1, 2.1.3.1]  */\n\t\t\t\tcurr[name] = value;                                      /*  [Promises/A+ 2.1.2.2, 2.1.3.2]  */\n\t\t\t\texecute(curr);\n\t\t\t}\n\t\t\treturn curr;\n\t\t};\n\n\t\t/*  execute all handlers  */\n\t\tvar execute = function (curr) {\n\t\t\tif (curr.state === STATE_FULFILLED)\n\t\t\t\texecute_handlers(curr, \"onFulfilled\", curr.fulfillValue);\n\t\t\telse if (curr.state === STATE_REJECTED)\n\t\t\t\texecute_handlers(curr, \"onRejected\",  curr.rejectReason);\n\t\t};\n\n\t\t/*  execute particular set of handlers  */\n\t\tvar execute_handlers = function (curr, name, value) {\n\t\t\t/* global process: true */\n\t\t\t/* global setImmediate: true */\n\t\t\t/* global setTimeout: true */\n\n\t\t\t/*  short-circuit processing  */\n\t\t\tif (curr[name].length === 0)\n\t\t\t\treturn;\n\n\t\t\t/*  iterate over all handlers, exactly once  */\n\t\t\tvar handlers = curr[name];\n\t\t\tcurr[name] = [];                                             /*  [Promises/A+ 2.2.2.3, 2.2.3.3]  */\n\t\t\tvar func = function () {\n\t\t\t\tfor (var i = 0; i < handlers.length; i++)\n\t\t\t\t\thandlers[i](value);                                  /*  [Promises/A+ 2.2.5]  */\n\t\t\t};\n\n\t\t\t/*  execute procedure asynchronously  */                     /*  [Promises/A+ 2.2.4, 3.1]  */\n\t\t\tif (typeof process === \"object\" && typeof process.nextTick === \"function\")\n\t\t\t\tprocess.nextTick(func);\n\t\t\telse if (typeof setImmediate === \"function\")\n\t\t\t\tsetImmediate(func);\n\t\t\telse\n\t\t\t\tsetTimeout(func, 0);\n\t\t};\n\n\t\t/*  generate a resolver function  */\n\t\tvar resolver = function (cb, next, method) {\n\t\t\treturn function (value) {\n\t\t\t\tif (typeof cb !== \"function\")                            /*  [Promises/A+ 2.2.1, 2.2.7.3, 2.2.7.4]  */\n\t\t\t\t\tnext[method].call(next, value);                      /*  [Promises/A+ 2.2.7.3, 2.2.7.4]  */\n\t\t\t\telse {\n\t\t\t\t\tvar result;\n\t\t\t\t\ttry { result = cb(value); }                          /*  [Promises/A+ 2.2.2.1, 2.2.3.1, 2.2.5, 3.2]  */\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\tnext.reject(e);                                  /*  [Promises/A+ 2.2.7.2]  */\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tresolve(next, result);                               /*  [Promises/A+ 2.2.7.1]  */\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\t/*  \"Promise Resolution Procedure\"  */                           /*  [Promises/A+ 2.3]  */\n\t\tvar resolve = function (promise, x) {\n\t\t\t/*  sanity check arguments  */                               /*  [Promises/A+ 2.3.1]  */\n\t\t\tif (promise === x || promise.proxy === x) {\n\t\t\t\tpromise.reject(new TypeError(\"cannot resolve promise with itself\"));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/*  surgically check for a \"then\" method\n\t\t\t\t(mainly to just call the \"getter\" of \"then\" only once)  */\n\t\t\tvar then;\n\t\t\tif ((typeof x === \"object\" && x !== null) || typeof x === \"function\") {\n\t\t\t\ttry { then = x.then; }                                   /*  [Promises/A+ 2.3.3.1, 3.5]  */\n\t\t\t\tcatch (e) {\n\t\t\t\t\tpromise.reject(e);                                   /*  [Promises/A+ 2.3.3.2]  */\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*  handle own Thenables    [Promises/A+ 2.3.2]\n\t\t\t\tand similar \"thenables\" [Promises/A+ 2.3.3]  */\n\t\t\tif (typeof then === \"function\") {\n\t\t\t\tvar resolved = false;\n\t\t\t\ttry {\n\t\t\t\t\t/*  call retrieved \"then\" method */                  /*  [Promises/A+ 2.3.3.3]  */\n\t\t\t\t\tthen.call(x,\n\t\t\t\t\t\t/*  resolvePromise  */                           /*  [Promises/A+ 2.3.3.3.1]  */\n\t\t\t\t\t\tfunction (y) {\n\t\t\t\t\t\t\tif (resolved) return; resolved = true;       /*  [Promises/A+ 2.3.3.3.3]  */\n\t\t\t\t\t\t\tif (y === x)                                 /*  [Promises/A+ 3.6]  */\n\t\t\t\t\t\t\t\tpromise.reject(new TypeError(\"circular thenable chain\"));\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tresolve(promise, y);\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\t/*  rejectPromise  */                            /*  [Promises/A+ 2.3.3.3.2]  */\n\t\t\t\t\t\tfunction (r) {\n\t\t\t\t\t\t\tif (resolved) return; resolved = true;       /*  [Promises/A+ 2.3.3.3.3]  */\n\t\t\t\t\t\t\tpromise.reject(r);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tif (!resolved)                                       /*  [Promises/A+ 2.3.3.3.3]  */\n\t\t\t\t\t\tpromise.reject(e);                               /*  [Promises/A+ 2.3.3.3.4]  */\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/*  handle other values  */\n\t\t\tpromise.fulfill(x);                                          /*  [Promises/A+ 2.3.4, 2.3.3.4]  */\n\t\t};\n\n\t\t/*  export API  */\n\t\treturn api;\n\t})(),\n\n\t//jscs:enable\n\n\t// Event\n\t// A contructor superclass for adding event menthods, on, off, emit.\n\tEvent: function() {\n\n\t\tvar separator = /[\\s\\,]+/;\n\n\t\t// If this doesn't support getPrototype then we can't get prototype.events of the parent\n\t\t// So lets get the current instance events, and add those to a parent property\n\t\tthis.parent = {\n\t\t\tevents: this.events,\n\t\t\tfindEvents: this.findEvents,\n\t\t\tparent: this.parent,\n\t\t\tutils: this.utils\n\t\t};\n\n\t\tthis.events = {};\n\n\t\t// On, subscribe to events\n\t\t// @param evt   string\n\t\t// @param callback  function\n\t\tthis.on = function(evt, callback) {\n\n\t\t\tif (callback && typeof (callback) === 'function') {\n\t\t\t\tvar a = evt.split(separator);\n\t\t\t\tfor (var i = 0; i < a.length; i++) {\n\n\t\t\t\t\t// Has this event already been fired on this instance?\n\t\t\t\t\tthis.events[a[i]] = [callback].concat(this.events[a[i]] || []);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t};\n\n\t\t// Off, unsubscribe to events\n\t\t// @param evt   string\n\t\t// @param callback  function\n\t\tthis.off = function(evt, callback) {\n\n\t\t\tthis.findEvents(evt, function(name, index) {\n\t\t\t\tif (!callback || this.events[name][index] === callback) {\n\t\t\t\t\tthis.events[name][index] = null;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn this;\n\t\t};\n\n\t\t// Emit\n\t\t// Triggers any subscribed events\n\t\tthis.emit = function(evt /*, data, ... */) {\n\n\t\t\t// Get arguments as an Array, knock off the first one\n\t\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\t\t\targs.push(evt);\n\n\t\t\t// Handler\n\t\t\tvar handler = function(name, index) {\n\n\t\t\t\t// Replace the last property with the event name\n\t\t\t\targs[args.length - 1] = (name === '*' ? evt : name);\n\n\t\t\t\t// Trigger\n\t\t\t\tthis.events[name][index].apply(this, args);\n\t\t\t};\n\n\t\t\t// Find the callbacks which match the condition and call\n\t\t\tvar _this = this;\n\t\t\twhile (_this && _this.findEvents) {\n\n\t\t\t\t// Find events which match\n\t\t\t\t_this.findEvents(evt + ',*', handler);\n\t\t\t\t_this = _this.parent;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t};\n\n\t\t//\n\t\t// Easy functions\n\t\tthis.emitAfter = function() {\n\t\t\tvar _this = this;\n\t\t\tvar args = arguments;\n\t\t\tsetTimeout(function() {\n\t\t\t\t_this.emit.apply(_this, args);\n\t\t\t}, 0);\n\n\t\t\treturn this;\n\t\t};\n\n\t\tthis.findEvents = function(evt, callback) {\n\n\t\t\tvar a = evt.split(separator);\n\n\t\t\tfor (var name in this.events) {if (this.events.hasOwnProperty(name)) {\n\n\t\t\t\tif (a.indexOf(name) > -1) {\n\n\t\t\t\t\tfor (var i = 0; i < this.events[name].length; i++) {\n\n\t\t\t\t\t\t// Does the event handler exist?\n\t\t\t\t\t\tif (this.events[name][i]) {\n\t\t\t\t\t\t\t// Emit on the local instance of this\n\t\t\t\t\t\t\tcallback.call(this, name, i);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}}\n\t\t};\n\n\t\treturn this;\n\t},\n\n\t// Global Events\n\t// Attach the callback to the window object\n\t// Return its unique reference\n\tglobalEvent: function(callback, guid) {\n\t\t// If the guid has not been supplied then create a new one.\n\t\tguid = guid || '_hellojs_' + parseInt(Math.random() * 1e12, 10).toString(36);\n\n\t\t// Define the callback function\n\t\twindow[guid] = function() {\n\t\t\t// Trigger the callback\n\t\t\ttry {\n\t\t\t\tif (callback.apply(this, arguments)) {\n\t\t\t\t\tdelete window[guid];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t};\n\n\t\treturn guid;\n\t},\n\n\t// Trigger a clientside popup\n\t// This has been augmented to support PhoneGap\n\tpopup: function(url, redirectUri, options) {\n\n\t\tvar documentElement = document.documentElement;\n\n\t\t// Multi Screen Popup Positioning (http://stackoverflow.com/a/16861050)\n\t\t// Credit: http://www.xtf.dk/2011/08/center-new-popup-window-even-on.html\n\t\t// Fixes dual-screen position                         Most browsers      Firefox\n\n\t\tif (options.height) {\n\t\t\tvar dualScreenTop = window.screenTop !== undefined ? window.screenTop : screen.top;\n\t\t\tvar height = screen.height || window.innerHeight || documentElement.clientHeight;\n\t\t\toptions.top = parseInt((height - options.height) / 2, 10) + dualScreenTop;\n\t\t}\n\n\t\tif (options.width) {\n\t\t\tvar dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : screen.left;\n\t\t\tvar width = screen.width || window.innerWidth || documentElement.clientWidth;\n\t\t\toptions.left = parseInt((width - options.width) / 2, 10) + dualScreenLeft;\n\t\t}\n\n\t\t// Convert options into an array\n\t\tvar optionsArray = [];\n\t\tObject.keys(options).forEach(function(name) {\n\t\t\tvar value = options[name];\n\t\t\toptionsArray.push(name + (value !== null ? '=' + value : ''));\n\t\t});\n\n\t\t// Call the open() function with the initial path\n\t\t//\n\t\t// OAuth redirect, fixes URI fragments from being lost in Safari\n\t\t// (URI Fragments within 302 Location URI are lost over HTTPS)\n\t\t// Loading the redirect.html before triggering the OAuth Flow seems to fix it.\n\t\t//\n\t\t// Firefox  decodes URL fragments when calling location.hash.\n\t\t//  - This is bad if the value contains break points which are escaped\n\t\t//  - Hence the url must be encoded twice as it contains breakpoints.\n\t\tif (navigator.userAgent.indexOf('Safari') !== -1 && navigator.userAgent.indexOf('Chrome') === -1) {\n\t\t\turl = redirectUri + '#oauth_redirect=' + encodeURIComponent(encodeURIComponent(url));\n\t\t}\n\n\t\tvar popup = window.open(\n\t\t\turl,\n\t\t\t'_blank',\n\t\t\toptionsArray.join(',')\n\t\t);\n\n\t\tif (popup && popup.focus) {\n\t\t\tpopup.focus();\n\t\t}\n\n\t\treturn popup;\n\t},\n\n\t// OAuth and API response handler\n\tresponseHandler: function(window, parent) {\n\n\t\tvar _this = this;\n\t\tvar p;\n\t\tvar location = window.location;\n\n\t\t// Is this an auth relay message which needs to call the proxy?\n\t\tp = _this.param(location.search);\n\n\t\t// OAuth2 or OAuth1 server response?\n\t\tif (p && p.state && (p.code || p.oauth_token)) {\n\n\t\t\tvar state = JSON.parse(p.state);\n\n\t\t\t// Add this path as the redirect_uri\n\t\t\tp.redirect_uri = state.redirect_uri || location.href.replace(/[\\?\\#].*$/, '');\n\n\t\t\t// Redirect to the host\n\t\t\tvar path = state.oauth_proxy + '?' + _this.param(p);\n\n\t\t\tlocation.assign(path);\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Save session, from redirected authentication\n\t\t// #access_token has come in?\n\t\t//\n\t\t// FACEBOOK is returning auth errors within as a query_string... thats a stickler for consistency.\n\t\t// SoundCloud is the state in the querystring and the token in the hashtag, so we'll mix the two together\n\n\t\tp = _this.merge(_this.param(location.search || ''), _this.param(location.hash || ''));\n\n\t\t// If p.state\n\t\tif (p && 'state' in p) {\n\n\t\t\t// Remove any addition information\n\t\t\t// E.g. p.state = 'facebook.page';\n\t\t\ttry {\n\t\t\t\tvar a = JSON.parse(p.state);\n\t\t\t\t_this.extend(p, a);\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\tconsole.error('Could not decode state parameter');\n\t\t\t}\n\n\t\t\t// Access_token?\n\t\t\tif (('access_token' in p && p.access_token) && p.network) {\n\n\t\t\t\tif (!p.expires_in || parseInt(p.expires_in, 10) === 0) {\n\t\t\t\t\t// If p.expires_in is unset, set to 0\n\t\t\t\t\tp.expires_in = 0;\n\t\t\t\t}\n\n\t\t\t\tp.expires_in = parseInt(p.expires_in, 10);\n\t\t\t\tp.expires = ((new Date()).getTime() / 1e3) + (p.expires_in || (60 * 60 * 24 * 365));\n\n\t\t\t\t// Lets use the \"state\" to assign it to one of our networks\n\t\t\t\tauthCallback(p, window, parent);\n\t\t\t}\n\n\t\t\t// Error=?\n\t\t\t// &error_description=?\n\t\t\t// &state=?\n\t\t\telse if (('error' in p && p.error) && p.network) {\n\n\t\t\t\tp.error = {\n\t\t\t\t\tcode: p.error,\n\t\t\t\t\tmessage: p.error_message || p.error_description\n\t\t\t\t};\n\n\t\t\t\t// Let the state handler handle it\n\t\t\t\tauthCallback(p, window, parent);\n\t\t\t}\n\n\t\t\t// API call, or a cancelled login\n\t\t\t// Result is serialized JSON string\n\t\t\telse if (p.callback && p.callback in parent) {\n\n\t\t\t\t// Trigger a function in the parent\n\t\t\t\tvar res = 'result' in p && p.result ? JSON.parse(p.result) : false;\n\n\t\t\t\t// Trigger the callback on the parent\n\t\t\t\tparent[p.callback](res);\n\t\t\t\tcloseWindow();\n\t\t\t}\n\n\t\t\t// If this page is still open\n\t\t\tif (p.page_uri) {\n\t\t\t\tlocation.assign(p.page_uri);\n\t\t\t}\n\t\t}\n\n\t\t// OAuth redirect, fixes URI fragments from being lost in Safari\n\t\t// (URI Fragments within 302 Location URI are lost over HTTPS)\n\t\t// Loading the redirect.html before triggering the OAuth Flow seems to fix it.\n\t\telse if ('oauth_redirect' in p) {\n\n\t\t\tlocation.assign(decodeURIComponent(p.oauth_redirect));\n\t\t\treturn;\n\t\t}\n\n\t\t// Trigger a callback to authenticate\n\t\tfunction authCallback(obj, window, parent) {\n\n\t\t\tvar cb = obj.callback;\n\t\t\tvar network = obj.network;\n\n\t\t\t// Trigger the callback on the parent\n\t\t\t_this.store(network, obj);\n\n\t\t\t// If this is a page request it has no parent or opener window to handle callbacks\n\t\t\tif (('display' in obj) && obj.display === 'page') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Remove from session object\n\t\t\tif (parent && cb && cb in parent) {\n\n\t\t\t\ttry {\n\t\t\t\t\tdelete obj.callback;\n\t\t\t\t}\n\t\t\t\tcatch (e) {}\n\n\t\t\t\t// Update store\n\t\t\t\t_this.store(network, obj);\n\n\t\t\t\t// Call the globalEvent function on the parent\n\t\t\t\t// It's safer to pass back a string to the parent,\n\t\t\t\t// Rather than an object/array (better for IE8)\n\t\t\t\tvar str = JSON.stringify(obj);\n\n\t\t\t\ttry {\n\t\t\t\t\tparent[cb](str);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\t// Error thrown whilst executing parent callback\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcloseWindow();\n\t\t}\n\n\t\tfunction closeWindow() {\n\n\t\t\tif (window.frameElement) {\n\t\t\t\t// Inside an iframe, remove from parent\n\t\t\t\tparent.document.body.removeChild(window.frameElement);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Close this current window\n\t\t\t\ttry {\n\t\t\t\t\twindow.close();\n\t\t\t\t}\n\t\t\t\tcatch (e) {}\n\n\t\t\t\t// IOS bug wont let us close a popup if still loading\n\t\t\t\tif (window.addEventListener) {\n\t\t\t\t\twindow.addEventListener('load', function() {\n\t\t\t\t\t\twindow.close();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n});\n\n// Events\n// Extend the hello object with its own event instance\nhello.utils.Event.call(hello);\n\n///////////////////////////////////\n// Monitoring session state\n// Check for session changes\n///////////////////////////////////\n\n(function(hello) {\n\n\t// Monitor for a change in state and fire\n\tvar oldSessions = {};\n\n\t// Hash of expired tokens\n\tvar expired = {};\n\n\t// Listen to other triggers to Auth events, use these to update this\n\thello.on('auth.login, auth.logout', function(auth) {\n\t\tif (auth && typeof (auth) === 'object' && auth.network) {\n\t\t\toldSessions[auth.network] = hello.utils.store(auth.network) || {};\n\t\t}\n\t});\n\n\t(function self() {\n\n\t\tvar CURRENT_TIME = ((new Date()).getTime() / 1e3);\n\t\tvar emit = function(eventName) {\n\t\t\thello.emit('auth.' + eventName, {\n\t\t\t\tnetwork: name,\n\t\t\t\tauthResponse: session\n\t\t\t});\n\t\t};\n\n\t\t// Loop through the services\n\t\tfor (var name in hello.services) {if (hello.services.hasOwnProperty(name)) {\n\n\t\t\tif (!hello.services[name].id) {\n\t\t\t\t// We haven't attached an ID so dont listen.\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Get session\n\t\t\tvar session = hello.utils.store(name) || {};\n\t\t\tvar provider = hello.services[name];\n\t\t\tvar oldSess = oldSessions[name] || {};\n\n\t\t\t// Listen for globalEvents that did not get triggered from the child\n\t\t\tif (session && 'callback' in session) {\n\n\t\t\t\t// To do remove from session object...\n\t\t\t\tvar cb = session.callback;\n\t\t\t\ttry {\n\t\t\t\t\tdelete session.callback;\n\t\t\t\t}\n\t\t\t\tcatch (e) {}\n\n\t\t\t\t// Update store\n\t\t\t\t// Removing the callback\n\t\t\t\thello.utils.store(name, session);\n\n\t\t\t\t// Emit global events\n\t\t\t\ttry {\n\t\t\t\t\twindow[cb](session);\n\t\t\t\t}\n\t\t\t\tcatch (e) {}\n\t\t\t}\n\n\t\t\t// Refresh token\n\t\t\tif (session && ('expires' in session) && session.expires < CURRENT_TIME) {\n\n\t\t\t\t// If auto refresh is possible\n\t\t\t\t// Either the browser supports\n\t\t\t\tvar refresh = provider.refresh || session.refresh_token;\n\n\t\t\t\t// Has the refresh been run recently?\n\t\t\t\tif (refresh && (!(name in expired) || expired[name] < CURRENT_TIME)) {\n\t\t\t\t\t// Try to resignin\n\t\t\t\t\thello.emit('notice', name + ' has expired trying to resignin');\n\t\t\t\t\thello.login(name, {display: 'none', force: false});\n\n\t\t\t\t\t// Update expired, every 10 minutes\n\t\t\t\t\texpired[name] = CURRENT_TIME + 600;\n\t\t\t\t}\n\n\t\t\t\t// Does this provider not support refresh\n\t\t\t\telse if (!refresh && !(name in expired)) {\n\t\t\t\t\t// Label the event\n\t\t\t\t\temit('expired');\n\t\t\t\t\texpired[name] = true;\n\t\t\t\t}\n\n\t\t\t\t// If session has expired then we dont want to store its value until it can be established that its been updated\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Has session changed?\n\t\t\telse if (oldSess.access_token === session.access_token &&\n\t\t\toldSess.expires === session.expires) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Access_token has been removed\n\t\t\telse if (!session.access_token && oldSess.access_token) {\n\t\t\t\temit('logout');\n\t\t\t}\n\n\t\t\t// Access_token has been created\n\t\t\telse if (session.access_token && !oldSess.access_token) {\n\t\t\t\temit('login');\n\t\t\t}\n\n\t\t\t// Access_token has been updated\n\t\t\telse if (session.expires !== oldSess.expires) {\n\t\t\t\temit('update');\n\t\t\t}\n\n\t\t\t// Updated stored session\n\t\t\toldSessions[name] = session;\n\n\t\t\t// Remove the expired flags\n\t\t\tif (name in expired) {\n\t\t\t\tdelete expired[name];\n\t\t\t}\n\t\t}}\n\n\t\t// Check error events\n\t\tsetTimeout(self, 1000);\n\t})();\n\n})(hello);\n\n// EOF CORE lib\n//////////////////////////////////\n\n/////////////////////////////////////////\n// API\n// @param path    string\n// @param query   object (optional)\n// @param method  string (optional)\n// @param data    object (optional)\n// @param timeout integer (optional)\n// @param callback  function (optional)\n\nhello.api = function() {\n\n\t// Shorthand\n\tvar _this = this;\n\tvar utils = _this.utils;\n\tvar error = utils.error;\n\n\t// Construct a new Promise object\n\tvar promise = utils.Promise();\n\n\t// Arguments\n\tvar p = utils.args({path: 's!', query: 'o', method: 's', data: 'o', timeout: 'i', callback: 'f'}, arguments);\n\n\t// Method\n\tp.method = (p.method || 'get').toLowerCase();\n\n\t// Headers\n\tp.headers = p.headers || {};\n\n\t// Query\n\tp.query = p.query || {};\n\n\t// If get, put all parameters into query\n\tif (p.method === 'get' || p.method === 'delete') {\n\t\tutils.extend(p.query, p.data);\n\t\tp.data = {};\n\t}\n\n\tvar data = p.data = p.data || {};\n\n\t// Completed event callback\n\tpromise.then(p.callback, p.callback);\n\n\t// Remove the network from path, e.g. facebook:/me/friends\n\t// Results in { network : facebook, path : me/friends }\n\tif (!p.path) {\n\t\treturn promise.reject(error('invalid_path', 'Missing the path parameter from the request'));\n\t}\n\n\tp.path = p.path.replace(/^\\/+/, '');\n\tvar a = (p.path.split(/[\\/\\:]/, 2) || [])[0].toLowerCase();\n\n\tif (a in _this.services) {\n\t\tp.network = a;\n\t\tvar reg = new RegExp('^' + a + ':?\\/?');\n\t\tp.path = p.path.replace(reg, '');\n\t}\n\n\t// Network & Provider\n\t// Define the network that this request is made for\n\tp.network = _this.settings.default_service = p.network || _this.settings.default_service;\n\tvar o = _this.services[p.network];\n\n\t// INVALID\n\t// Is there no service by the given network name?\n\tif (!o) {\n\t\treturn promise.reject(error('invalid_network', 'Could not match the service requested: ' + p.network));\n\t}\n\n\t// PATH\n\t// As long as the path isn't flagged as unavaiable, e.g. path == false\n\n\tif (!(!(p.method in o) || !(p.path in o[p.method]) || o[p.method][p.path] !== false)) {\n\t\treturn promise.reject(error('invalid_path', 'The provided path is not available on the selected network'));\n\t}\n\n\t// PROXY\n\t// OAuth1 calls always need a proxy\n\n\tif (!p.oauth_proxy) {\n\t\tp.oauth_proxy = _this.settings.oauth_proxy;\n\t}\n\n\tif (!('proxy' in p)) {\n\t\tp.proxy = p.oauth_proxy && o.oauth && parseInt(o.oauth.version, 10) === 1;\n\t}\n\n\t// TIMEOUT\n\t// Adopt timeout from global settings by default\n\n\tif (!('timeout' in p)) {\n\t\tp.timeout = _this.settings.timeout;\n\t}\n\n\t// Format response\n\t// Whether to run the raw response through post processing.\n\tif (!('formatResponse' in p)) {\n\t\tp.formatResponse = true;\n\t}\n\n\t// Get the current session\n\t// Append the access_token to the query\n\tp.authResponse = _this.getAuthResponse(p.network);\n\tif (p.authResponse && p.authResponse.access_token) {\n\t\tp.query.access_token = p.authResponse.access_token;\n\t}\n\n\tvar url = p.path;\n\tvar m;\n\n\t// Store the query as options\n\t// This is used to populate the request object before the data is augmented by the prewrap handlers.\n\tp.options = utils.clone(p.query);\n\n\t// Clone the data object\n\t// Prevent this script overwriting the data of the incoming object.\n\t// Ensure that everytime we run an iteration the callbacks haven't removed some data\n\tp.data = utils.clone(data);\n\n\t// URL Mapping\n\t// Is there a map for the given URL?\n\tvar actions = o[{'delete': 'del'}[p.method] || p.method] || {};\n\n\t// Extrapolate the QueryString\n\t// Provide a clean path\n\t// Move the querystring into the data\n\tif (p.method === 'get') {\n\n\t\tvar query = url.split(/[\\?#]/)[1];\n\t\tif (query) {\n\t\t\tutils.extend(p.query, utils.param(query));\n\n\t\t\t// Remove the query part from the URL\n\t\t\turl = url.replace(/\\?.*?(#|$)/, '$1');\n\t\t}\n\t}\n\n\t// Is the hash fragment defined\n\tif ((m = url.match(/#(.+)/, ''))) {\n\t\turl = url.split('#')[0];\n\t\tp.path = m[1];\n\t}\n\telse if (url in actions) {\n\t\tp.path = url;\n\t\turl = actions[url];\n\t}\n\telse if ('default' in actions) {\n\t\turl = actions['default'];\n\t}\n\n\t// Redirect Handler\n\t// This defines for the Form+Iframe+Hash hack where to return the results too.\n\tp.redirect_uri = _this.settings.redirect_uri;\n\n\t// Define FormatHandler\n\t// The request can be procesed in a multitude of ways\n\t// Here's the options - depending on the browser and endpoint\n\tp.xhr = o.xhr;\n\tp.jsonp = o.jsonp;\n\tp.form = o.form;\n\n\t// Make request\n\tif (typeof (url) === 'function') {\n\t\t// Does self have its own callback?\n\t\turl(p, getPath);\n\t}\n\telse {\n\t\t// Else the URL is a string\n\t\tgetPath(url);\n\t}\n\n\treturn promise.proxy;\n\n\t// If url needs a base\n\t// Wrap everything in\n\tfunction getPath(url) {\n\n\t\t// Format the string if it needs it\n\t\turl = url.replace(/\\@\\{([a-z\\_\\-]+)(\\|.*?)?\\}/gi, function(m, key, defaults) {\n\t\t\tvar val = defaults ? defaults.replace(/^\\|/, '') : '';\n\t\t\tif (key in p.query) {\n\t\t\t\tval = p.query[key];\n\t\t\t\tdelete p.query[key];\n\t\t\t}\n\t\t\telse if (p.data && key in p.data) {\n\t\t\t\tval = p.data[key];\n\t\t\t\tdelete p.data[key];\n\t\t\t}\n\t\t\telse if (!defaults) {\n\t\t\t\tpromise.reject(error('missing_attribute', 'The attribute ' + key + ' is missing from the request'));\n\t\t\t}\n\n\t\t\treturn val;\n\t\t});\n\n\t\t// Add base\n\t\tif (!url.match(/^https?:\\/\\//)) {\n\t\t\turl = o.base + url;\n\t\t}\n\n\t\t// Define the request URL\n\t\tp.url = url;\n\n\t\t// Make the HTTP request with the curated request object\n\t\t// CALLBACK HANDLER\n\t\t// @ response object\n\t\t// @ statusCode integer if available\n\t\tutils.request(p, function(r, headers) {\n\n\t\t\t// Is this a raw response?\n\t\t\tif (!p.formatResponse) {\n\t\t\t\t// Bad request? error statusCode or otherwise contains an error response vis JSONP?\n\t\t\t\tif (typeof headers === 'object' ? (headers.statusCode >= 400) : (typeof r === 'object' && 'error' in r)) {\n\t\t\t\t\tpromise.reject(r);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tpromise.fulfill(r);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Should this be an object\n\t\t\tif (r === true) {\n\t\t\t\tr = {success:true};\n\t\t\t}\n\t\t\telse if (!r) {\n\t\t\t\tr = {};\n\t\t\t}\n\n\t\t\t// The delete callback needs a better response\n\t\t\tif (p.method === 'delete') {\n\t\t\t\tr = (!r || utils.isEmpty(r)) ? {success:true} : r;\n\t\t\t}\n\n\t\t\t// FORMAT RESPONSE?\n\t\t\t// Does self request have a corresponding formatter\n\t\t\tif (o.wrap && ((p.path in o.wrap) || ('default' in o.wrap))) {\n\t\t\t\tvar wrap = (p.path in o.wrap ? p.path : 'default');\n\t\t\t\tvar time = (new Date()).getTime();\n\n\t\t\t\t// FORMAT RESPONSE\n\t\t\t\tvar b = o.wrap[wrap](r, headers, p);\n\n\t\t\t\t// Has the response been utterly overwritten?\n\t\t\t\t// Typically self augments the existing object.. but for those rare occassions\n\t\t\t\tif (b) {\n\t\t\t\t\tr = b;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Is there a next_page defined in the response?\n\t\t\tif (r && 'paging' in r && r.paging.next) {\n\n\t\t\t\t// Add the relative path if it is missing from the paging/next path\n\t\t\t\tif (r.paging.next[0] === '?') {\n\t\t\t\t\tr.paging.next = p.path + r.paging.next;\n\t\t\t\t}\n\n\t\t\t\t// The relative path has been defined, lets markup the handler in the HashFragment\n\t\t\t\telse {\n\t\t\t\t\tr.paging.next += '#' + p.path;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Dispatch to listeners\n\t\t\t// Emit events which pertain to the formatted response\n\t\t\tif (!r || 'error' in r) {\n\t\t\t\tpromise.reject(r);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpromise.fulfill(r);\n\t\t\t}\n\t\t});\n\t}\n};\n\n// API utilities\nhello.utils.extend(hello.utils, {\n\n\t// Make an HTTP request\n\trequest: function(p, callback) {\n\n\t\tvar _this = this;\n\t\tvar error = _this.error;\n\n\t\t// This has to go through a POST request\n\t\tif (!_this.isEmpty(p.data) && !('FileList' in window) && _this.hasBinary(p.data)) {\n\n\t\t\t// Disable XHR and JSONP\n\t\t\tp.xhr = false;\n\t\t\tp.jsonp = false;\n\t\t}\n\n\t\t// Check if the browser and service support CORS\n\t\tvar cors = this.request_cors(function() {\n\t\t\t// If it does then run this...\n\t\t\treturn ((p.xhr === undefined) || (p.xhr && (typeof (p.xhr) !== 'function' || p.xhr(p, p.query))));\n\t\t});\n\n\t\tif (cors) {\n\n\t\t\tformatUrl(p, function(url) {\n\n\t\t\t\tvar x = _this.xhr(p.method, url, p.headers, p.data, callback);\n\t\t\t\tx.onprogress = p.onprogress || null;\n\n\t\t\t\t// Windows Phone does not support xhr.upload, see #74\n\t\t\t\t// Feature detect\n\t\t\t\tif (x.upload && p.onuploadprogress) {\n\t\t\t\t\tx.upload.onprogress = p.onuploadprogress;\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Clone the query object\n\t\t// Each request modifies the query object and needs to be tared after each one.\n\t\tvar _query = p.query;\n\n\t\tp.query = _this.clone(p.query);\n\n\t\t// Assign a new callbackID\n\t\tp.callbackID = _this.globalEvent();\n\n\t\t// JSONP\n\t\tif (p.jsonp !== false) {\n\n\t\t\t// Clone the query object\n\t\t\tp.query.callback = p.callbackID;\n\n\t\t\t// If the JSONP is a function then run it\n\t\t\tif (typeof (p.jsonp) === 'function') {\n\t\t\t\tp.jsonp(p, p.query);\n\t\t\t}\n\n\t\t\t// Lets use JSONP if the method is 'get'\n\t\t\tif (p.method === 'get') {\n\n\t\t\t\tformatUrl(p, function(url) {\n\t\t\t\t\t_this.jsonp(url, callback, p.callbackID, p.timeout);\n\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// It's not compatible reset query\n\t\t\t\tp.query = _query;\n\t\t\t}\n\n\t\t}\n\n\t\t// Otherwise we're on to the old school, iframe hacks and JSONP\n\t\tif (p.form !== false) {\n\n\t\t\t// Add some additional query parameters to the URL\n\t\t\t// We're pretty stuffed if the endpoint doesn't like these\n\t\t\tp.query.redirect_uri = p.redirect_uri;\n\t\t\tp.query.state = JSON.stringify({callback:p.callbackID});\n\n\t\t\tvar opts;\n\n\t\t\tif (typeof (p.form) === 'function') {\n\n\t\t\t\t// Format the request\n\t\t\t\topts = p.form(p, p.query);\n\t\t\t}\n\n\t\t\tif (p.method === 'post' && opts !== false) {\n\n\t\t\t\tformatUrl(p, function(url) {\n\t\t\t\t\t_this.post(url, p.data, opts, callback, p.callbackID, p.timeout);\n\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// None of the methods were successful throw an error\n\t\tcallback(error('invalid_request', 'There was no mechanism for handling this request'));\n\n\t\treturn;\n\n\t\t// Format URL\n\t\t// Constructs the request URL, optionally wraps the URL through a call to a proxy server\n\t\t// Returns the formatted URL\n\t\tfunction formatUrl(p, callback) {\n\n\t\t\t// Are we signing the request?\n\t\t\tvar sign;\n\n\t\t\t// OAuth1\n\t\t\t// Remove the token from the query before signing\n\t\t\tif (p.authResponse && p.authResponse.oauth && parseInt(p.authResponse.oauth.version, 10) === 1) {\n\n\t\t\t\t// OAUTH SIGNING PROXY\n\t\t\t\tsign = p.query.access_token;\n\n\t\t\t\t// Remove the access_token\n\t\t\t\tdelete p.query.access_token;\n\n\t\t\t\t// Enfore use of Proxy\n\t\t\t\tp.proxy = true;\n\t\t\t}\n\n\t\t\t// POST body to querystring\n\t\t\tif (p.data && (p.method === 'get' || p.method === 'delete')) {\n\t\t\t\t// Attach the p.data to the querystring.\n\t\t\t\t_this.extend(p.query, p.data);\n\t\t\t\tp.data = null;\n\t\t\t}\n\n\t\t\t// Construct the path\n\t\t\tvar path = _this.qs(p.url, p.query);\n\n\t\t\t// Proxy the request through a server\n\t\t\t// Used for signing OAuth1\n\t\t\t// And circumventing services without Access-Control Headers\n\t\t\tif (p.proxy) {\n\t\t\t\t// Use the proxy as a path\n\t\t\t\tpath = _this.qs(p.oauth_proxy, {\n\t\t\t\t\tpath: path,\n\t\t\t\t\taccess_token: sign || '',\n\n\t\t\t\t\t// This will prompt the request to be signed as though it is OAuth1\n\t\t\t\t\tthen: p.proxy_response_type || (p.method.toLowerCase() === 'get' ? 'redirect' : 'proxy'),\n\t\t\t\t\tmethod: p.method.toLowerCase(),\n\t\t\t\t\tsuppress_response_codes: true\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tcallback(path);\n\t\t}\n\t},\n\n\t// Test whether the browser supports the CORS response\n\trequest_cors: function(callback) {\n\t\treturn 'withCredentials' in new XMLHttpRequest() && callback();\n\t},\n\n\t// Return the type of DOM object\n\tdomInstance: function(type, data) {\n\t\tvar test = 'HTML' + (type || '').replace(\n\t\t\t/^[a-z]/,\n\t\t\tfunction(m) {\n\t\t\t\treturn m.toUpperCase();\n\t\t\t}\n\n\t\t) + 'Element';\n\n\t\tif (!data) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (window[test]) {\n\t\t\treturn data instanceof window[test];\n\t\t}\n\t\telse if (window.Element) {\n\t\t\treturn data instanceof window.Element && (!type || (data.tagName && data.tagName.toLowerCase() === type));\n\t\t}\n\t\telse {\n\t\t\treturn (!(data instanceof Object || data instanceof Array || data instanceof String || data instanceof Number) && data.tagName && data.tagName.toLowerCase() === type);\n\t\t}\n\t},\n\n\t// Create a clone of an object\n\tclone: function(obj) {\n\t\t// Does not clone DOM elements, nor Binary data, e.g. Blobs, Filelists\n\t\tif (obj === null || typeof (obj) !== 'object' || obj instanceof Date || 'nodeName' in obj || this.isBinary(obj) || (typeof FormData === 'function' && obj instanceof FormData)) {\n\t\t\treturn obj;\n\t\t}\n\n\t\tif (Array.isArray(obj)) {\n\t\t\t// Clone each item in the array\n\t\t\treturn obj.map(this.clone.bind(this));\n\t\t}\n\n\t\t// But does clone everything else.\n\t\tvar clone = {};\n\t\tfor (var x in obj) {\n\t\t\tclone[x] = this.clone(obj[x]);\n\t\t}\n\n\t\treturn clone;\n\t},\n\n\t// XHR: uses CORS to make requests\n\txhr: function(method, url, headers, data, callback) {\n\n\t\tvar r = new XMLHttpRequest();\n\t\tvar error = this.error;\n\n\t\t// Binary?\n\t\tvar binary = false;\n\t\tif (method === 'blob') {\n\t\t\tbinary = method;\n\t\t\tmethod = 'GET';\n\t\t}\n\n\t\tmethod = method.toUpperCase();\n\n\t\t// Xhr.responseType 'json' is not supported in any of the vendors yet.\n\t\tr.onload = function(e) {\n\t\t\tvar json = r.response;\n\t\t\ttry {\n\t\t\t\tjson = JSON.parse(r.responseText);\n\t\t\t}\n\t\t\tcatch (_e) {\n\t\t\t\tif (r.status === 401) {\n\t\t\t\t\tjson = error('access_denied', r.statusText);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar headers = headersToJSON(r.getAllResponseHeaders());\n\t\t\theaders.statusCode = r.status;\n\n\t\t\tcallback(json || (method === 'GET' ? error('empty_response', 'Could not get resource') : {}), headers);\n\t\t};\n\n\t\tr.onerror = function(e) {\n\t\t\tvar json = r.responseText;\n\t\t\ttry {\n\t\t\t\tjson = JSON.parse(r.responseText);\n\t\t\t}\n\t\t\tcatch (_e) {}\n\n\t\t\tcallback(json || error('access_denied', 'Could not get resource'));\n\t\t};\n\n\t\tvar x;\n\n\t\t// Should we add the query to the URL?\n\t\tif (method === 'GET' || method === 'DELETE') {\n\t\t\tdata = null;\n\t\t}\n\t\telse if (data && typeof (data) !== 'string' && !(data instanceof FormData) && !(data instanceof File) && !(data instanceof Blob)) {\n\t\t\t// Loop through and add formData\n\t\t\tvar f = new FormData();\n\t\t\tfor (x in data) if (data.hasOwnProperty(x)) {\n\t\t\t\tif (data[x] instanceof HTMLInputElement) {\n\t\t\t\t\tif ('files' in data[x] && data[x].files.length > 0) {\n\t\t\t\t\t\tf.append(x, data[x].files[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (data[x] instanceof Blob) {\n\t\t\t\t\tf.append(x, data[x], data.name);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tf.append(x, data[x]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdata = f;\n\t\t}\n\n\t\t// Open the path, async\n\t\tr.open(method, url, true);\n\n\t\tif (binary) {\n\t\t\tif ('responseType' in r) {\n\t\t\t\tr.responseType = binary;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tr.overrideMimeType('text/plain; charset=x-user-defined');\n\t\t\t}\n\t\t}\n\n\t\t// Set any bespoke headers\n\t\tif (headers) {\n\t\t\tfor (x in headers) {\n\t\t\t\tr.setRequestHeader(x, headers[x]);\n\t\t\t}\n\t\t}\n\n\t\tr.send(data);\n\n\t\treturn r;\n\n\t\t// Headers are returned as a string\n\t\tfunction headersToJSON(s) {\n\t\t\tvar r = {};\n\t\t\tvar reg = /([a-z\\-]+):\\s?(.*);?/gi;\n\t\t\tvar m;\n\t\t\twhile ((m = reg.exec(s))) {\n\t\t\t\tr[m[1]] = m[2];\n\t\t\t}\n\n\t\t\treturn r;\n\t\t}\n\t},\n\n\t// JSONP\n\t// Injects a script tag into the DOM to be executed and appends a callback function to the window object\n\t// @param string/function pathFunc either a string of the URL or a callback function pathFunc(querystringhash, continueFunc);\n\t// @param function callback a function to call on completion;\n\tjsonp: function(url, callback, callbackID, timeout) {\n\n\t\tvar _this = this;\n\t\tvar error = _this.error;\n\n\t\t// Change the name of the callback\n\t\tvar bool = 0;\n\t\tvar head = document.getElementsByTagName('head')[0];\n\t\tvar operaFix;\n\t\tvar result = error('server_error', 'server_error');\n\t\tvar cb = function() {\n\t\t\tif (!(bool++)) {\n\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\tcallback(result);\n\t\t\t\t\thead.removeChild(script);\n\t\t\t\t}, 0);\n\t\t\t}\n\n\t\t};\n\n\t\t// Add callback to the window object\n\t\tcallbackID = _this.globalEvent(function(json) {\n\t\t\tresult = json;\n\t\t\treturn true;\n\n\t\t\t// Mark callback as done\n\t\t}, callbackID);\n\n\t\t// The URL is a function for some cases and as such\n\t\t// Determine its value with a callback containing the new parameters of this function.\n\t\turl = url.replace(new RegExp('=\\\\?(&|$)'), '=' + callbackID + '$1');\n\n\t\t// Build script tag\n\t\tvar script = _this.append('script', {\n\t\t\tid: callbackID,\n\t\t\tname: callbackID,\n\t\t\tsrc: url,\n\t\t\tasync: true,\n\t\t\tonload: cb,\n\t\t\tonerror: cb,\n\t\t\tonreadystatechange: function() {\n\t\t\t\tif (/loaded|complete/i.test(this.readyState)) {\n\t\t\t\t\tcb();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t// Opera fix error\n\t\t// Problem: If an error occurs with script loading Opera fails to trigger the script.onerror handler we specified\n\t\t//\n\t\t// Fix:\n\t\t// By setting the request to synchronous we can trigger the error handler when all else fails.\n\t\t// This action will be ignored if we've already called the callback handler \"cb\" with a successful onload event\n\t\tif (window.navigator.userAgent.toLowerCase().indexOf('opera') > -1) {\n\t\t\toperaFix = _this.append('script', {\n\t\t\t\ttext: 'document.getElementById(\\'' + callbackID + '\\').onerror();'\n\t\t\t});\n\t\t\tscript.async = false;\n\t\t}\n\n\t\t// Add timeout\n\t\tif (timeout) {\n\t\t\twindow.setTimeout(function() {\n\t\t\t\tresult = error('timeout', 'timeout');\n\t\t\t\tcb();\n\t\t\t}, timeout);\n\t\t}\n\n\t\t// TODO: add fix for IE,\n\t\t// However: unable recreate the bug of firing off the onreadystatechange before the script content has been executed and the value of \"result\" has been defined.\n\t\t// Inject script tag into the head element\n\t\thead.appendChild(script);\n\n\t\t// Append Opera Fix to run after our script\n\t\tif (operaFix) {\n\t\t\thead.appendChild(operaFix);\n\t\t}\n\t},\n\n\t// Post\n\t// Send information to a remote location using the post mechanism\n\t// @param string uri path\n\t// @param object data, key value data to send\n\t// @param function callback, function to execute in response\n\tpost: function(url, data, options, callback, callbackID, timeout) {\n\n\t\tvar _this = this;\n\t\tvar error = _this.error;\n\t\tvar doc = document;\n\n\t\t// This hack needs a form\n\t\tvar form = null;\n\t\tvar reenableAfterSubmit = [];\n\t\tvar newform;\n\t\tvar i = 0;\n\t\tvar x = null;\n\t\tvar bool = 0;\n\t\tvar cb = function(r) {\n\t\t\tif (!(bool++)) {\n\t\t\t\tcallback(r);\n\t\t\t}\n\t\t};\n\n\t\t// What is the name of the callback to contain\n\t\t// We'll also use this to name the iframe\n\t\t_this.globalEvent(cb, callbackID);\n\n\t\t// Build the iframe window\n\t\tvar win;\n\t\ttry {\n\t\t\t// IE7 hack, only lets us define the name here, not later.\n\t\t\twin = doc.createElement('<iframe name=\"' + callbackID + '\">');\n\t\t}\n\t\tcatch (e) {\n\t\t\twin = doc.createElement('iframe');\n\t\t}\n\n\t\twin.name = callbackID;\n\t\twin.id = callbackID;\n\t\twin.style.display = 'none';\n\n\t\t// Override callback mechanism. Triggger a response onload/onerror\n\t\tif (options && options.callbackonload) {\n\t\t\t// Onload is being fired twice\n\t\t\twin.onload = function() {\n\t\t\t\tcb({\n\t\t\t\t\tresponse: 'posted',\n\t\t\t\t\tmessage: 'Content was posted'\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\n\t\tif (timeout) {\n\t\t\tsetTimeout(function() {\n\t\t\t\tcb(error('timeout', 'The post operation timed out'));\n\t\t\t}, timeout);\n\t\t}\n\n\t\tdoc.body.appendChild(win);\n\n\t\t// If we are just posting a single item\n\t\tif (_this.domInstance('form', data)) {\n\t\t\t// Get the parent form\n\t\t\tform = data.form;\n\n\t\t\t// Loop through and disable all of its siblings\n\t\t\tfor (i = 0; i < form.elements.length; i++) {\n\t\t\t\tif (form.elements[i] !== data) {\n\t\t\t\t\tform.elements[i].setAttribute('disabled', true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Move the focus to the form\n\t\t\tdata = form;\n\t\t}\n\n\t\t// Posting a form\n\t\tif (_this.domInstance('form', data)) {\n\t\t\t// This is a form element\n\t\t\tform = data;\n\n\t\t\t// Does this form need to be a multipart form?\n\t\t\tfor (i = 0; i < form.elements.length; i++) {\n\t\t\t\tif (!form.elements[i].disabled && form.elements[i].type === 'file') {\n\t\t\t\t\tform.encoding = form.enctype = 'multipart/form-data';\n\t\t\t\t\tform.elements[i].setAttribute('name', 'file');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// Its not a form element,\n\t\t\t// Therefore it must be a JSON object of Key=>Value or Key=>Element\n\t\t\t// If anyone of those values are a input type=file we shall shall insert its siblings into the form for which it belongs.\n\t\t\tfor (x in data) if (data.hasOwnProperty(x)) {\n\t\t\t\t// Is this an input Element?\n\t\t\t\tif (_this.domInstance('input', data[x]) && data[x].type === 'file') {\n\t\t\t\t\tform = data[x].form;\n\t\t\t\t\tform.encoding = form.enctype = 'multipart/form-data';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Do If there is no defined form element, lets create one.\n\t\t\tif (!form) {\n\t\t\t\t// Build form\n\t\t\t\tform = doc.createElement('form');\n\t\t\t\tdoc.body.appendChild(form);\n\t\t\t\tnewform = form;\n\t\t\t}\n\n\t\t\tvar input;\n\n\t\t\t// Add elements to the form if they dont exist\n\t\t\tfor (x in data) if (data.hasOwnProperty(x)) {\n\n\t\t\t\t// Is this an element?\n\t\t\t\tvar el = (_this.domInstance('input', data[x]) || _this.domInstance('textArea', data[x]) || _this.domInstance('select', data[x]));\n\n\t\t\t\t// Is this not an input element, or one that exists outside the form.\n\t\t\t\tif (!el || data[x].form !== form) {\n\n\t\t\t\t\t// Does an element have the same name?\n\t\t\t\t\tvar inputs = form.elements[x];\n\t\t\t\t\tif (input) {\n\t\t\t\t\t\t// Remove it.\n\t\t\t\t\t\tif (!(inputs instanceof NodeList)) {\n\t\t\t\t\t\t\tinputs = [inputs];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (i = 0; i < inputs.length; i++) {\n\t\t\t\t\t\t\tinputs[i].parentNode.removeChild(inputs[i]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Create an input element\n\t\t\t\t\tinput = doc.createElement('input');\n\t\t\t\t\tinput.setAttribute('type', 'hidden');\n\t\t\t\t\tinput.setAttribute('name', x);\n\n\t\t\t\t\t// Does it have a value attribute?\n\t\t\t\t\tif (el) {\n\t\t\t\t\t\tinput.value = data[x].value;\n\t\t\t\t\t}\n\t\t\t\t\telse if (_this.domInstance(null, data[x])) {\n\t\t\t\t\t\tinput.value = data[x].innerHTML || data[x].innerText;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tinput.value = data[x];\n\t\t\t\t\t}\n\n\t\t\t\t\tform.appendChild(input);\n\t\t\t\t}\n\n\t\t\t\t// It is an element, which exists within the form, but the name is wrong\n\t\t\t\telse if (el && data[x].name !== x) {\n\t\t\t\t\tdata[x].setAttribute('name', x);\n\t\t\t\t\tdata[x].name = x;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Disable elements from within the form if they weren't specified\n\t\t\tfor (i = 0; i < form.elements.length; i++) {\n\n\t\t\t\tinput = form.elements[i];\n\n\t\t\t\t// Does the same name and value exist in the parent\n\t\t\t\tif (!(input.name in data) && input.getAttribute('disabled') !== true) {\n\t\t\t\t\t// Disable\n\t\t\t\t\tinput.setAttribute('disabled', true);\n\n\t\t\t\t\t// Add re-enable to callback\n\t\t\t\t\treenableAfterSubmit.push(input);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Set the target of the form\n\t\tform.setAttribute('method', 'POST');\n\t\tform.setAttribute('target', callbackID);\n\t\tform.target = callbackID;\n\n\t\t// Update the form URL\n\t\tform.setAttribute('action', url);\n\n\t\t// Submit the form\n\t\t// Some reason this needs to be offset from the current window execution\n\t\tsetTimeout(function() {\n\t\t\tform.submit();\n\n\t\t\tsetTimeout(function() {\n\t\t\t\ttry {\n\t\t\t\t\t// Remove the iframe from the page.\n\t\t\t\t\t//win.parentNode.removeChild(win);\n\t\t\t\t\t// Remove the form\n\t\t\t\t\tif (newform) {\n\t\t\t\t\t\tnewform.parentNode.removeChild(newform);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconsole.error('HelloJS: could not remove iframe');\n\t\t\t\t\t}\n\t\t\t\t\tcatch (ee) {}\n\t\t\t\t}\n\n\t\t\t\t// Reenable the disabled form\n\t\t\t\tfor (var i = 0; i < reenableAfterSubmit.length; i++) {\n\t\t\t\t\tif (reenableAfterSubmit[i]) {\n\t\t\t\t\t\treenableAfterSubmit[i].setAttribute('disabled', false);\n\t\t\t\t\t\treenableAfterSubmit[i].disabled = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t}, 100);\n\t},\n\n\t// Some of the providers require that only multipart is used with non-binary forms.\n\t// This function checks whether the form contains binary data\n\thasBinary: function(data) {\n\t\tfor (var x in data) if (data.hasOwnProperty(x)) {\n\t\t\tif (this.isBinary(data[x])) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t// Determines if a variable Either Is or like a FormInput has the value of a Blob\n\n\tisBinary: function(data) {\n\n\t\treturn data instanceof Object && (\n\t\t(this.domInstance('input', data) && data.type === 'file') ||\n\t\t('FileList' in window && data instanceof window.FileList) ||\n\t\t('File' in window && data instanceof window.File) ||\n\t\t('Blob' in window && data instanceof window.Blob));\n\n\t},\n\n\t// Convert Data-URI to Blob string\n\ttoBlob: function(dataURI) {\n\t\tvar reg = /^data\\:([^;,]+(\\;charset=[^;,]+)?)(\\;base64)?,/i;\n\t\tvar m = dataURI.match(reg);\n\t\tif (!m) {\n\t\t\treturn dataURI;\n\t\t}\n\n\t\tvar binary = atob(dataURI.replace(reg, ''));\n\t\tvar array = [];\n\t\tfor (var i = 0; i < binary.length; i++) {\n\t\t\tarray.push(binary.charCodeAt(i));\n\t\t}\n\n\t\treturn new Blob([new Uint8Array(array)], {type: m[1]});\n\t}\n\n});\n\n// EXTRA: Convert FormElement to JSON for POSTing\n// Wrappers to add additional functionality to existing functions\n(function(hello) {\n\n\t// Copy original function\n\tvar api = hello.api;\n\tvar utils = hello.utils;\n\n\tutils.extend(utils, {\n\n\t\t// DataToJSON\n\t\t// This takes a FormElement|NodeList|InputElement|MixedObjects and convers the data object to JSON.\n\t\tdataToJSON: function(p) {\n\n\t\t\tvar _this = this;\n\t\t\tvar w = window;\n\t\t\tvar data = p.data;\n\n\t\t\t// Is data a form object\n\t\t\tif (_this.domInstance('form', data)) {\n\t\t\t\tdata = _this.nodeListToJSON(data.elements);\n\t\t\t}\n\t\t\telse if ('NodeList' in w && data instanceof NodeList) {\n\t\t\t\tdata = _this.nodeListToJSON(data);\n\t\t\t}\n\t\t\telse if (_this.domInstance('input', data)) {\n\t\t\t\tdata = _this.nodeListToJSON([data]);\n\t\t\t}\n\n\t\t\t// Is data a blob, File, FileList?\n\t\t\tif (('File' in w && data instanceof w.File) ||\n\t\t\t\t('Blob' in w && data instanceof w.Blob) ||\n\t\t\t\t('FileList' in w && data instanceof w.FileList)) {\n\t\t\t\tdata = {file: data};\n\t\t\t}\n\n\t\t\t// Loop through data if it's not form data it must now be a JSON object\n\t\t\tif (!('FormData' in w && data instanceof w.FormData)) {\n\n\t\t\t\tfor (var x in data) if (data.hasOwnProperty(x)) {\n\n\t\t\t\t\tif ('FileList' in w && data[x] instanceof w.FileList) {\n\t\t\t\t\t\tif (data[x].length === 1) {\n\t\t\t\t\t\t\tdata[x] = data[x][0];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (_this.domInstance('input', data[x]) && data[x].type === 'file') {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\telse if (_this.domInstance('input', data[x]) ||\n\t\t\t\t\t\t_this.domInstance('select', data[x]) ||\n\t\t\t\t\t\t_this.domInstance('textArea', data[x])) {\n\t\t\t\t\t\tdata[x] = data[x].value;\n\t\t\t\t\t}\n\t\t\t\t\telse if (_this.domInstance(null, data[x])) {\n\t\t\t\t\t\tdata[x] = data[x].innerHTML || data[x].innerText;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tp.data = data;\n\t\t\treturn data;\n\t\t},\n\n\t\t// NodeListToJSON\n\t\t// Given a list of elements extrapolate their values and return as a json object\n\t\tnodeListToJSON: function(nodelist) {\n\n\t\t\tvar json = {};\n\n\t\t\t// Create a data string\n\t\t\tfor (var i = 0; i < nodelist.length; i++) {\n\n\t\t\t\tvar input = nodelist[i];\n\n\t\t\t\t// If the name of the input is empty or diabled, dont add it.\n\t\t\t\tif (input.disabled || !input.name) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Is this a file, does the browser not support 'files' and 'FormData'?\n\t\t\t\tif (input.type === 'file') {\n\t\t\t\t\tjson[input.name] = input;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tjson[input.name] = input.value || input.innerHTML;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn json;\n\t\t}\n\t});\n\n\t// Replace it\n\thello.api = function() {\n\n\t\t// Get arguments\n\t\tvar p = utils.args({path: 's!', method: 's', data:'o', timeout: 'i', callback: 'f'}, arguments);\n\n\t\t// Change for into a data object\n\t\tif (p.data) {\n\t\t\tutils.dataToJSON(p);\n\t\t}\n\n\t\treturn api.call(this, p);\n\t};\n\n})(hello);\n\n/////////////////////////////////////\n//\n// Save any access token that is in the current page URL\n// Handle any response solicited through iframe hash tag following an API request\n//\n/////////////////////////////////////\n\nhello.utils.responseHandler(window, window.opener || window.parent);\n\n// Script to support ChromeApps\n// This overides the hello.utils.popup method to support chrome.identity.launchWebAuthFlow\n// See https://developer.chrome.com/apps/app_identity#non\n\n// Is this a chrome app?\n\nif (typeof chrome === 'object' && typeof chrome.identity === 'object' && chrome.identity.launchWebAuthFlow) {\n\n\t(function() {\n\n\t\t// Swap the popup method\n\t\thello.utils.popup = function(url) {\n\n\t\t\treturn _open(url, true);\n\n\t\t};\n\n\t\t// Swap the hidden iframe method\n\t\thello.utils.iframe = function(url) {\n\n\t\t\t_open(url, false);\n\n\t\t};\n\n\t\t// Swap the request_cors method\n\t\thello.utils.request_cors = function(callback) {\n\n\t\t\tcallback();\n\n\t\t\t// Always run as CORS\n\n\t\t\treturn true;\n\t\t};\n\n\t\t// Swap the storage method\n\t\tvar _cache = {};\n\t\tchrome.storage.local.get('hello', function(r) {\n\t\t\t// Update the cache\n\t\t\t_cache = r.hello || {};\n\t\t});\n\n\t\thello.utils.store = function(name, value) {\n\n\t\t\t// Get all\n\t\t\tif (arguments.length === 0) {\n\t\t\t\treturn _cache;\n\t\t\t}\n\n\t\t\t// Get\n\t\t\tif (arguments.length === 1) {\n\t\t\t\treturn _cache[name] || null;\n\t\t\t}\n\n\t\t\t// Set\n\t\t\tif (value) {\n\t\t\t\t_cache[name] = value;\n\t\t\t\tchrome.storage.local.set({hello: _cache});\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\t// Delete\n\t\t\tif (value === null) {\n\t\t\t\tdelete _cache[name];\n\t\t\t\tchrome.storage.local.set({hello: _cache});\n\t\t\t\treturn null;\n\t\t\t}\n\t\t};\n\n\t\t// Open function\n\t\tfunction _open(url, interactive) {\n\n\t\t\t// Launch\n\t\t\tvar ref = {\n\t\t\t\tclosed: false\n\t\t\t};\n\n\t\t\t// Launch the webAuthFlow\n\t\t\tchrome.identity.launchWebAuthFlow({\n\t\t\t\turl: url,\n\t\t\t\tinteractive: interactive\n\t\t\t}, function(responseUrl) {\n\n\t\t\t\t// Did the user cancel this prematurely\n\t\t\t\tif (responseUrl === undefined) {\n\t\t\t\t\tref.closed = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Split appart the URL\n\t\t\t\tvar a = hello.utils.url(responseUrl);\n\n\t\t\t\t// The location can be augmented in to a location object like so...\n\t\t\t\t// We dont have window operations on the popup so lets create some\n\t\t\t\tvar _popup = {\n\t\t\t\t\tlocation: {\n\n\t\t\t\t\t\t// Change the location of the popup\n\t\t\t\t\t\tassign: function(url) {\n\n\t\t\t\t\t\t\t// If there is a secondary reassign\n\t\t\t\t\t\t\t// In the case of OAuth1\n\t\t\t\t\t\t\t// Trigger this in non-interactive mode.\n\t\t\t\t\t\t\t_open(url, false);\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tsearch: a.search,\n\t\t\t\t\t\thash: a.hash,\n\t\t\t\t\t\thref: a.href\n\t\t\t\t\t},\n\t\t\t\t\tclose: function() {}\n\t\t\t\t};\n\n\t\t\t\t// Then this URL contains information which HelloJS must process\n\t\t\t\t// URL string\n\t\t\t\t// Window - any action such as window relocation goes here\n\t\t\t\t// Opener - the parent window which opened this, aka this script\n\n\t\t\t\thello.utils.responseHandler(_popup, window);\n\t\t\t});\n\n\t\t\t// Return the reference\n\t\t\treturn ref;\n\t\t}\n\n\t})();\n}\n\n// Phonegap override for hello.phonegap.js\n(function() {\n\n\t// Is this a phonegap implementation?\n\tif (!(/^file:\\/{3}[^\\/]/.test(window.location.href) && window.cordova)) {\n\t\t// Cordova is not included.\n\t\treturn;\n\t}\n\n\t// Augment the hidden iframe method\n\thello.utils.iframe = function(url, redirectUri) {\n\t\thello.utils.popup(url, redirectUri, {hidden: 'yes'});\n\t};\n\n\t// Augment the popup\n\tvar utilPopup = hello.utils.popup;\n\n\t// Replace popup\n\thello.utils.popup = function(url, redirectUri, options) {\n\n\t\t// Run the standard\n\t\tvar popup = utilPopup.call(this, url, redirectUri, options);\n\n\t\t// Create a function for reopening the popup, and assigning events to the new popup object\n\t\t// PhoneGap support\n\t\t// Add an event listener to listen to the change in the popup windows URL\n\t\t// This must appear before popup.focus();\n\t\ttry {\n\t\t\tif (popup && popup.addEventListener) {\n\n\t\t\t\t// Get the origin of the redirect URI\n\n\t\t\t\tvar a = hello.utils.url(redirectUri);\n\t\t\t\tvar redirectUriOrigin = a.origin || (a.protocol + '//' + a.hostname);\n\n\t\t\t\t// Listen to changes in the InAppBrowser window\n\n\t\t\t\tpopup.addEventListener('loadstart', function(e) {\n\n\t\t\t\t\tvar url = e.url;\n\n\t\t\t\t\t// Is this the path, as given by the redirectUri?\n\t\t\t\t\t// Check the new URL agains the redirectUriOrigin.\n\t\t\t\t\t// According to #63 a user could click 'cancel' in some dialog boxes ....\n\t\t\t\t\t// The popup redirects to another page with the same origin, yet we still wish it to close.\n\n\t\t\t\t\tif (url.indexOf(redirectUriOrigin) !== 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Split appart the URL\n\t\t\t\t\tvar a = hello.utils.url(url);\n\n\t\t\t\t\t// We dont have window operations on the popup so lets create some\n\t\t\t\t\t// The location can be augmented in to a location object like so...\n\n\t\t\t\t\tvar _popup = {\n\t\t\t\t\t\tlocation: {\n\t\t\t\t\t\t\t// Change the location of the popup\n\t\t\t\t\t\t\tassign: function(location) {\n\n\t\t\t\t\t\t\t\t// Unfourtunatly an app is may not change the location of a InAppBrowser window.\n\t\t\t\t\t\t\t\t// So to shim this, just open a new one.\n\t\t\t\t\t\t\t\tpopup.executeScript({code: 'window.location.href = \"' + location + ';\"'});\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\tsearch: a.search,\n\t\t\t\t\t\t\thash: a.hash,\n\t\t\t\t\t\t\thref: a.href\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclose: function() {\n\t\t\t\t\t\t\tif (popup.close) {\n\t\t\t\t\t\t\t\tpopup.close();\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tpopup.closed = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcatch (_e) {}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t// Then this URL contains information which HelloJS must process\n\t\t\t\t\t// URL string\n\t\t\t\t\t// Window - any action such as window relocation goes here\n\t\t\t\t\t// Opener - the parent window which opened this, aka this script\n\n\t\t\t\t\thello.utils.responseHandler(_popup, window);\n\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tcatch (e) {}\n\n\t\treturn popup;\n\t};\n\n})();\n\n(function(hello) {\n\n\t// OAuth1\n\tvar OAuth1Settings = {\n\t\tversion: '1.0',\n\t\tauth: 'https://www.dropbox.com/1/oauth/authorize',\n\t\trequest: 'https://api.dropbox.com/1/oauth/request_token',\n\t\ttoken: 'https://api.dropbox.com/1/oauth/access_token'\n\t};\n\n\t// OAuth2 Settings\n\tvar OAuth2Settings = {\n\t\tversion: 2,\n\t\tauth: 'https://www.dropbox.com/1/oauth2/authorize',\n\t\tgrant: 'https://api.dropbox.com/1/oauth2/token'\n\t};\n\n\t// Initiate the Dropbox module\n\thello.init({\n\n\t\tdropbox: {\n\n\t\t\tname: 'Dropbox',\n\n\t\t\toauth: OAuth2Settings,\n\n\t\t\tlogin: function(p) {\n\t\t\t\t// OAuth2 non-standard adjustments\n\t\t\t\tp.qs.scope = '';\n\t\t\t\tdelete p.qs.display;\n\n\t\t\t\t// Should this be run as OAuth1?\n\t\t\t\t// If the redirect_uri is is HTTP (non-secure) then its required to revert to the OAuth1 endpoints\n\t\t\t\tvar redirect = decodeURIComponent(p.qs.redirect_uri);\n\t\t\t\tif (redirect.indexOf('http:') === 0 && redirect.indexOf('http://localhost/') !== 0) {\n\n\t\t\t\t\t// Override the dropbox OAuth settings.\n\t\t\t\t\thello.services.dropbox.oauth = OAuth1Settings;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Override the dropbox OAuth settings.\n\t\t\t\t\thello.services.dropbox.oauth = OAuth2Settings;\n\t\t\t\t}\n\n\t\t\t\t// The dropbox login window is a different size\n\t\t\t\tp.options.popup.width = 1000;\n\t\t\t\tp.options.popup.height = 1000;\n\t\t\t},\n\n\t\t\t/*\n\t\t\t\tDropbox does not allow insecure HTTP URI's in the redirect_uri field\n\t\t\t\t...otherwise I'd love to use OAuth2\n\n\t\t\t\tFollow request https://forums.dropbox.com/topic.php?id=106505\n\n\t\t\t\tp.qs.response_type = 'code';\n\t\t\t\toauth: {\n\t\t\t\t\tversion: 2,\n\t\t\t\t\tauth: 'https://www.dropbox.com/1/oauth2/authorize',\n\t\t\t\t\tgrant: 'https://api.dropbox.com/1/oauth2/token'\n\t\t\t\t}\n\t\t\t*/\n\n\t\t\t// API Base URL\n\t\t\tbase: 'https://api.dropbox.com/1/',\n\n\t\t\t// Bespoke setting: this is states whether to use the custom environment of Dropbox or to use their own environment\n\t\t\t// Because it's notoriously difficult for Dropbox too provide access from other webservices, this defaults to Sandbox\n\t\t\troot: 'sandbox',\n\n\t\t\t// Map GET requests\n\t\t\tget: {\n\t\t\t\tme: 'account/info',\n\n\t\t\t\t// Https://www.dropbox.com/developers/core/docs#metadata\n\t\t\t\t'me/files': req('metadata/auto/@{parent|}'),\n\t\t\t\t'me/folder': req('metadata/auto/@{id}'),\n\t\t\t\t'me/folders': req('metadata/auto/'),\n\n\t\t\t\t'default': function(p, callback) {\n\t\t\t\t\tif (p.path.match('https://api-content.dropbox.com/1/files/')) {\n\t\t\t\t\t\t// This is a file, return binary data\n\t\t\t\t\t\tp.method = 'blob';\n\t\t\t\t\t}\n\n\t\t\t\t\tcallback(p.path);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tpost: {\n\t\t\t\t'me/files': function(p, callback) {\n\n\t\t\t\t\tvar path = p.data.parent;\n\t\t\t\t\tvar fileName = p.data.name;\n\n\t\t\t\t\tp.data = {\n\t\t\t\t\t\tfile: p.data.file\n\t\t\t\t\t};\n\n\t\t\t\t\t// Does this have a data-uri to upload as a file?\n\t\t\t\t\tif (typeof (p.data.file) === 'string') {\n\t\t\t\t\t\tp.data.file = hello.utils.toBlob(p.data.file);\n\t\t\t\t\t}\n\n\t\t\t\t\tcallback('https://api-content.dropbox.com/1/files_put/auto/' + path + '/' + fileName);\n\t\t\t\t},\n\n\t\t\t\t'me/folders': function(p, callback) {\n\n\t\t\t\t\tvar name = p.data.name;\n\t\t\t\t\tp.data = {};\n\n\t\t\t\t\tcallback('fileops/create_folder?root=@{root|sandbox}&' + hello.utils.param({\n\t\t\t\t\t\tpath: name\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Map DELETE requests\n\t\t\tdel: {\n\t\t\t\t'me/files': 'fileops/delete?root=@{root|sandbox}&path=@{id}',\n\t\t\t\t'me/folder': 'fileops/delete?root=@{root|sandbox}&path=@{id}'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tif (!o.uid) {\n\t\t\t\t\t\treturn o;\n\t\t\t\t\t}\n\n\t\t\t\t\to.name = o.display_name;\n\t\t\t\t\tvar m = o.name.split(' ');\n\t\t\t\t\to.first_name = m.shift();\n\t\t\t\t\to.last_name = m.join(' ');\n\t\t\t\t\to.id = o.uid;\n\t\t\t\t\tdelete o.uid;\n\t\t\t\t\tdelete o.display_name;\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o, headers, req) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tif (o.is_dir && o.contents) {\n\t\t\t\t\t\to.data = o.contents;\n\t\t\t\t\t\tdelete o.contents;\n\n\t\t\t\t\t\to.data.forEach(function(item) {\n\t\t\t\t\t\t\titem.root = o.root;\n\t\t\t\t\t\t\tformatFile(item, headers, req);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tformatFile(o, headers, req);\n\n\t\t\t\t\tif (o.is_deleted) {\n\t\t\t\t\t\to.success = true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Doesn't return the CORS headers\n\t\t\txhr: function(p) {\n\n\t\t\t\t// The proxy supports allow-cross-origin-resource\n\t\t\t\t// Alas that's the only thing we're using.\n\t\t\t\tif (p.data && p.data.file) {\n\t\t\t\t\tvar file = p.data.file;\n\t\t\t\t\tif (file) {\n\t\t\t\t\t\tif (file.files) {\n\t\t\t\t\t\t\tp.data = file.files[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tp.data = file;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (p.method === 'delete') {\n\t\t\t\t\tp.method = 'post';\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tform: function(p, qs) {\n\t\t\t\tdelete qs.state;\n\t\t\t\tdelete qs.redirect_uri;\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction formatError(o) {\n\t\tif (o && 'error' in o) {\n\t\t\to.error = {\n\t\t\t\tcode: 'server_error',\n\t\t\t\tmessage: o.error.message || o.error\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction formatFile(o, headers, req) {\n\n\t\tif (typeof o !== 'object' ||\n\t\t\t(typeof Blob !== 'undefined' && o instanceof Blob) ||\n\t\t\t(typeof ArrayBuffer !== 'undefined' && o instanceof ArrayBuffer)) {\n\t\t\t// This is a file, let it through unformatted\n\t\t\treturn;\n\t\t}\n\n\t\tif ('error' in o) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar path = (o.root !== 'app_folder' ? o.root : '') + o.path.replace(/\\&/g, '%26');\n\t\tpath = path.replace(/^\\//, '');\n\t\tif (o.thumb_exists) {\n\t\t\to.thumbnail = req.oauth_proxy + '?path=' +\n\t\t\tencodeURIComponent('https://api-content.dropbox.com/1/thumbnails/auto/' + path + '?format=jpeg&size=m') + '&access_token=' + req.options.access_token;\n\t\t}\n\n\t\to.type = (o.is_dir ? 'folder' : o.mime_type);\n\t\to.name = o.path.replace(/.*\\//g, '');\n\t\tif (o.is_dir) {\n\t\t\to.files = path.replace(/^\\//, '');\n\t\t}\n\t\telse {\n\t\t\to.downloadLink = hello.settings.oauth_proxy + '?path=' +\n\t\t\tencodeURIComponent('https://api-content.dropbox.com/1/files/auto/' + path) + '&access_token=' + req.options.access_token;\n\t\t\to.file = 'https://api-content.dropbox.com/1/files/auto/' + path;\n\t\t}\n\n\t\tif (!o.id) {\n\t\t\to.id = o.path.replace(/^\\//, '');\n\t\t}\n\n\t\t// O.media = 'https://api-content.dropbox.com/1/files/' + path;\n\t}\n\n\tfunction req(str) {\n\t\treturn function(p, cb) {\n\t\t\tdelete p.query.limit;\n\t\t\tcb(str);\n\t\t};\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\thello.init({\n\n\t\tfacebook: {\n\n\t\t\tname: 'Facebook',\n\n\t\t\t// SEE https://developers.facebook.com/docs/facebook-login/manually-build-a-login-flow/v2.1\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://www.facebook.com/dialog/oauth/',\n\t\t\t\tgrant: 'https://graph.facebook.com/oauth/access_token'\n\t\t\t},\n\n\t\t\t// Authorization scopes\n\t\t\tscope: {\n\t\t\t\tbasic: 'public_profile',\n\t\t\t\temail: 'email',\n\t\t\t\tshare: 'user_posts',\n\t\t\t\tbirthday: 'user_birthday',\n\t\t\t\tevents: 'user_events',\n\t\t\t\tphotos: 'user_photos',\n\t\t\t\tvideos: 'user_videos',\n\t\t\t\tfriends: 'user_friends',\n\t\t\t\tfiles: 'user_photos,user_videos',\n\t\t\t\tpublish_files: 'user_photos,user_videos,publish_actions',\n\t\t\t\tpublish: 'publish_actions',\n\n\t\t\t\t// Deprecated in v2.0\n\t\t\t\t// Create_event\t: 'create_event',\n\n\t\t\t\toffline_access: ''\n\t\t\t},\n\n\t\t\t// Refresh the access_token\n\t\t\trefresh: true,\n\n\t\t\tlogin: function(p) {\n\n\t\t\t\t// Reauthenticate\n\t\t\t\t// https://developers.facebook.com/docs/facebook-login/reauthentication\n\t\t\t\tif (p.options.force) {\n\t\t\t\t\tp.qs.auth_type = 'reauthenticate';\n\t\t\t\t}\n\n\t\t\t\t// The facebook login window is a different size.\n\t\t\t\tp.options.popup.width = 580;\n\t\t\t\tp.options.popup.height = 400;\n\t\t\t},\n\n\t\t\tlogout: function(callback, options) {\n\t\t\t\t// Assign callback to a global handler\n\t\t\t\tvar callbackID = hello.utils.globalEvent(callback);\n\t\t\t\tvar redirect = encodeURIComponent(hello.settings.redirect_uri + '?' + hello.utils.param({callback:callbackID, result: JSON.stringify({force:true}), state: '{}'}));\n\t\t\t\tvar token = (options.authResponse || {}).access_token;\n\t\t\t\thello.utils.iframe('https://www.facebook.com/logout.php?next=' + redirect + '&access_token=' + token);\n\n\t\t\t\t// Possible responses:\n\t\t\t\t// String URL\t- hello.logout should handle the logout\n\t\t\t\t// Undefined\t- this function will handle the callback\n\t\t\t\t// True - throw a success, this callback isn't handling the callback\n\t\t\t\t// False - throw a error\n\t\t\t\tif (!token) {\n\t\t\t\t\t// If there isn't a token, the above wont return a response, so lets trigger a response\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// API Base URL\n\t\t\tbase: 'https://graph.facebook.com/v2.4/',\n\n\t\t\t// Map GET requests\n\t\t\tget: {\n\t\t\t\tme: 'me?fields=email,first_name,last_name,name,timezone,verified',\n\t\t\t\t'me/friends': 'me/friends',\n\t\t\t\t'me/following': 'me/friends',\n\t\t\t\t'me/followers': 'me/friends',\n\t\t\t\t'me/share': 'me/feed',\n\t\t\t\t'me/like': 'me/likes',\n\t\t\t\t'me/files': 'me/albums',\n\t\t\t\t'me/albums': 'me/albums?fields=cover_photo,name',\n\t\t\t\t'me/album': '@{id}/photos?fields=picture',\n\t\t\t\t'me/photos': 'me/photos',\n\t\t\t\t'me/photo': '@{id}',\n\t\t\t\t'friend/albums': '@{id}/albums',\n\t\t\t\t'friend/photos': '@{id}/photos'\n\n\t\t\t\t// Pagination\n\t\t\t\t// Https://developers.facebook.com/docs/reference/api/pagination/\n\t\t\t},\n\n\t\t\t// Map POST requests\n\t\t\tpost: {\n\t\t\t\t'me/share': 'me/feed',\n\t\t\t\t'me/photo': '@{id}'\n\n\t\t\t\t// Https://developers.facebook.com/docs/graph-api/reference/v2.2/object/likes/\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: formatUser,\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/albums': format,\n\t\t\t\t'me/photos': format,\n\t\t\t\t'me/files': format,\n\t\t\t\t'default': format\n\t\t\t},\n\n\t\t\t// Special requirements for handling XHR\n\t\t\txhr: function(p, qs) {\n\t\t\t\tif (p.method === 'get' || p.method === 'post') {\n\t\t\t\t\tqs.suppress_response_codes = true;\n\t\t\t\t}\n\n\t\t\t\t// Is this a post with a data-uri?\n\t\t\t\tif (p.method === 'post' && p.data && typeof (p.data.file) === 'string') {\n\t\t\t\t\t// Convert the Data-URI to a Blob\n\t\t\t\t\tp.data.file = hello.utils.toBlob(p.data.file);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// Special requirements for handling JSONP fallback\n\t\t\tjsonp: function(p, qs) {\n\t\t\t\tvar m = p.method;\n\t\t\t\tif (m !== 'get' && !hello.utils.hasBinary(p.data)) {\n\t\t\t\t\tp.data.method = m;\n\t\t\t\t\tp.method = 'get';\n\t\t\t\t}\n\t\t\t\telse if (p.method === 'delete') {\n\t\t\t\t\tqs.method = 'delete';\n\t\t\t\t\tp.method = 'post';\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Special requirements for iframe form hack\n\t\t\tform: function(p) {\n\t\t\t\treturn {\n\t\t\t\t\t// Fire the callback onload\n\t\t\t\t\tcallbackonload: true\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t});\n\n\tvar base = 'https://graph.facebook.com/';\n\n\tfunction formatUser(o) {\n\t\tif (o.id) {\n\t\t\to.thumbnail = o.picture = 'https://graph.facebook.com/' + o.id + '/picture';\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o) {\n\t\tif ('data' in o) {\n\t\t\to.data.forEach(formatUser);\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction format(o, headers, req) {\n\t\tif (typeof o === 'boolean') {\n\t\t\to = {success: o};\n\t\t}\n\n\t\tif (o && 'data' in o) {\n\t\t\tvar token = req.query.access_token;\n\n\t\t\tif (!(o.data instanceof Array)) {\n\t\t\t\tvar data = o.data;\n\t\t\t\tdelete o.data;\n\t\t\t\to.data = [data];\n\t\t\t}\n\n\t\t\to.data.forEach(function(d) {\n\n\t\t\t\tif (d.picture) {\n\t\t\t\t\td.thumbnail = d.picture;\n\t\t\t\t}\n\n\t\t\t\td.pictures = (d.images || [])\n\t\t\t\t\t.sort(function(a, b) {\n\t\t\t\t\t\treturn a.width - b.width;\n\t\t\t\t\t});\n\n\t\t\t\tif (d.cover_photo && d.cover_photo.id) {\n\t\t\t\t\td.thumbnail = base + d.cover_photo.id + '/picture?access_token=' + token;\n\t\t\t\t}\n\n\t\t\t\tif (d.type === 'album') {\n\t\t\t\t\td.files = d.photos = base + d.id + '/photos';\n\t\t\t\t}\n\n\t\t\t\tif (d.can_upload) {\n\t\t\t\t\td.upload_location = base + d.id + '/photos';\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn o;\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\thello.init({\n\n\t\tflickr: {\n\n\t\t\tname: 'Flickr',\n\n\t\t\t// Ensure that you define an oauth_proxy\n\t\t\toauth: {\n\t\t\t\tversion: '1.0a',\n\t\t\t\tauth: 'https://www.flickr.com/services/oauth/authorize?perms=read',\n\t\t\t\trequest: 'https://www.flickr.com/services/oauth/request_token',\n\t\t\t\ttoken: 'https://www.flickr.com/services/oauth/access_token'\n\t\t\t},\n\n\t\t\t// API base URL\n\t\t\tbase: 'https://api.flickr.com/services/rest',\n\n\t\t\t// Map GET resquests\n\t\t\tget: {\n\t\t\t\tme: sign('flickr.people.getInfo'),\n\t\t\t\t'me/friends': sign('flickr.contacts.getList', {per_page:'@{limit|50}'}),\n\t\t\t\t'me/following': sign('flickr.contacts.getList', {per_page:'@{limit|50}'}),\n\t\t\t\t'me/followers': sign('flickr.contacts.getList', {per_page:'@{limit|50}'}),\n\t\t\t\t'me/albums': sign('flickr.photosets.getList', {per_page:'@{limit|50}'}),\n\t\t\t\t'me/album': sign('flickr.photosets.getPhotos', {photoset_id: '@{id}'}),\n\t\t\t\t'me/photos': sign('flickr.people.getPhotos', {per_page:'@{limit|50}'})\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\to = checkResponse(o, 'person');\n\t\t\t\t\tif (o.id) {\n\t\t\t\t\t\tif (o.realname) {\n\t\t\t\t\t\t\to.name = o.realname._content;\n\t\t\t\t\t\t\tvar m = o.name.split(' ');\n\t\t\t\t\t\t\to.first_name = m.shift();\n\t\t\t\t\t\t\to.last_name = m.join(' ');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\to.thumbnail = getBuddyIcon(o, 'l');\n\t\t\t\t\t\to.picture = getBuddyIcon(o, 'l');\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'me/albums': function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\to = checkResponse(o, 'photosets');\n\t\t\t\t\tpaging(o);\n\t\t\t\t\tif (o.photoset) {\n\t\t\t\t\t\to.data = o.photoset;\n\t\t\t\t\t\to.data.forEach(function(item) {\n\t\t\t\t\t\t\titem.name = item.title._content;\n\t\t\t\t\t\t\titem.photos = 'https://api.flickr.com/services/rest' + getApiUrl('flickr.photosets.getPhotos', {photoset_id: item.id}, true);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tdelete o.photoset;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'me/photos': function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\treturn formatPhotos(o);\n\t\t\t\t},\n\n\t\t\t\t'default': function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\treturn formatPhotos(o);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\txhr: false,\n\n\t\t\tjsonp: function(p, qs) {\n\t\t\t\tif (p.method == 'get') {\n\t\t\t\t\tdelete qs.callback;\n\t\t\t\t\tqs.jsoncallback = p.callbackID;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction getApiUrl(method, extraParams, skipNetwork) {\n\t\tvar url = ((skipNetwork) ? '' : 'flickr:') +\n\t\t\t'?method=' + method +\n\t\t\t'&api_key=' + hello.services.flickr.id +\n\t\t\t'&format=json';\n\t\tfor (var param in extraParams) {\n\t\t\tif (extraParams.hasOwnProperty(param)) {\n\t\t\t\turl += '&' + param + '=' + extraParams[param];\n\t\t\t}\n\t\t}\n\n\t\treturn url;\n\t}\n\n\t// This is not exactly neat but avoid to call\n\t// The method 'flickr.test.login' for each api call\n\n\tfunction withUser(cb) {\n\t\tvar auth = hello.getAuthResponse('flickr');\n\t\tcb(auth && auth.user_nsid ? auth.user_nsid : null);\n\t}\n\n\tfunction sign(url, params) {\n\t\tif (!params) {\n\t\t\tparams = {};\n\t\t}\n\n\t\treturn function(p, callback) {\n\t\t\twithUser(function(userId) {\n\t\t\t\tparams.user_id = userId;\n\t\t\t\tcallback(getApiUrl(url, params, true));\n\t\t\t});\n\t\t};\n\t}\n\n\tfunction getBuddyIcon(profile, size) {\n\t\tvar url = 'https://www.flickr.com/images/buddyicon.gif';\n\t\tif (profile.nsid && profile.iconserver && profile.iconfarm) {\n\t\t\turl = 'https://farm' + profile.iconfarm + '.staticflickr.com/' +\n\t\t\t\tprofile.iconserver + '/' +\n\t\t\t\t'buddyicons/' + profile.nsid +\n\t\t\t\t((size) ? '_' + size : '') + '.jpg';\n\t\t}\n\n\t\treturn url;\n\t}\n\n\t// See: https://www.flickr.com/services/api/misc.urls.html\n\tfunction createPhotoUrl(id, farm, server, secret, size) {\n\t\tsize = (size) ? '_' + size : '';\n\t\treturn 'https://farm' + farm + '.staticflickr.com/' + server + '/' + id + '_' + secret + size + '.jpg';\n\t}\n\n\tfunction formatUser(o) {\n\t}\n\n\tfunction formatError(o) {\n\t\tif (o && o.stat && o.stat.toLowerCase() != 'ok') {\n\t\t\to.error = {\n\t\t\t\tcode: 'invalid_request',\n\t\t\t\tmessage: o.message\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction formatPhotos(o) {\n\t\tif (o.photoset || o.photos) {\n\t\t\tvar set = ('photoset' in o) ? 'photoset' : 'photos';\n\t\t\to = checkResponse(o, set);\n\t\t\tpaging(o);\n\t\t\to.data = o.photo;\n\t\t\tdelete o.photo;\n\t\t\tfor (var i = 0; i < o.data.length; i++) {\n\t\t\t\tvar photo = o.data[i];\n\t\t\t\tphoto.name = photo.title;\n\t\t\t\tphoto.picture = createPhotoUrl(photo.id, photo.farm, photo.server, photo.secret, '');\n\t\t\t\tphoto.pictures = createPictures(photo.id, photo.farm, photo.server, photo.secret);\n\t\t\t\tphoto.source = createPhotoUrl(photo.id, photo.farm, photo.server, photo.secret, 'b');\n\t\t\t\tphoto.thumbnail = createPhotoUrl(photo.id, photo.farm, photo.server, photo.secret, 'm');\n\t\t\t}\n\t\t}\n\n\t\treturn o;\n\t}\n\n\t// See: https://www.flickr.com/services/api/misc.urls.html\n\tfunction createPictures(id, farm, server, secret) {\n\n\t\tvar NO_LIMIT = 2048;\n\t\tvar sizes = [\n\t\t\t{id: 't', max: 100},\n\t\t\t{id: 'm', max: 240},\n\t\t\t{id: 'n', max: 320},\n\t\t\t{id: '', max: 500},\n\t\t\t{id: 'z', max: 640},\n\t\t\t{id: 'c', max: 800},\n\t\t\t{id: 'b', max: 1024},\n\t\t\t{id: 'h', max: 1600},\n\t\t\t{id: 'k', max: 2048},\n\t\t\t{id: 'o', max: NO_LIMIT}\n\t\t];\n\n\t\treturn sizes.map(function(size) {\n\t\t\treturn {\n\t\t\t\tsource: createPhotoUrl(id, farm, server, secret, size.id),\n\n\t\t\t\t// Note: this is a guess that's almost certain to be wrong (unless square source)\n\t\t\t\twidth: size.max,\n\t\t\t\theight: size.max\n\t\t\t};\n\t\t});\n\t}\n\n\tfunction checkResponse(o, key) {\n\n\t\tif (key in o) {\n\t\t\to = o[key];\n\t\t}\n\t\telse if (!('error' in o)) {\n\t\t\to.error = {\n\t\t\t\tcode: 'invalid_request',\n\t\t\t\tmessage: o.message || 'Failed to get data from Flickr'\n\t\t\t};\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o) {\n\t\tformatError(o);\n\t\tif (o.contacts) {\n\t\t\to = checkResponse(o, 'contacts');\n\t\t\tpaging(o);\n\t\t\to.data = o.contact;\n\t\t\tdelete o.contact;\n\t\t\tfor (var i = 0; i < o.data.length; i++) {\n\t\t\t\tvar item = o.data[i];\n\t\t\t\titem.id = item.nsid;\n\t\t\t\titem.name = item.realname || item.username;\n\t\t\t\titem.thumbnail = getBuddyIcon(item, 'm');\n\t\t\t}\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction paging(res) {\n\t\tif (res.page && res.pages && res.page !== res.pages) {\n\t\t\tres.paging = {\n\t\t\t\tnext: '?page=' + (++res.page)\n\t\t\t};\n\t\t}\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\thello.init({\n\n\t\tfoursquare: {\n\n\t\t\tname: 'Foursquare',\n\n\t\t\toauth: {\n\t\t\t\t// See: https://developer.foursquare.com/overview/auth\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://foursquare.com/oauth2/authenticate',\n\t\t\t\tgrant: 'https://foursquare.com/oauth2/access_token'\n\t\t\t},\n\n\t\t\t// Refresh the access_token once expired\n\t\t\trefresh: true,\n\n\t\t\tbase: 'https://api.foursquare.com/v2/',\n\n\t\t\tget: {\n\t\t\t\tme: 'users/self',\n\t\t\t\t'me/friends': 'users/self/friends',\n\t\t\t\t'me/followers': 'users/self/friends',\n\t\t\t\t'me/following': 'users/self/friends'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tif (o && o.response) {\n\t\t\t\t\t\to = o.response.user;\n\t\t\t\t\t\tformatUser(o);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o) {\n\t\t\t\t\tformatError(o);\n\n\t\t\t\t\t// Format friends\n\t\t\t\t\tif (o && 'response' in o && 'friends' in o.response && 'items' in o.response.friends) {\n\t\t\t\t\t\to.data = o.response.friends.items;\n\t\t\t\t\t\to.data.forEach(formatUser);\n\t\t\t\t\t\tdelete o.response;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\txhr: formatRequest,\n\t\t\tjsonp: formatRequest\n\t\t}\n\t});\n\n\tfunction formatError(o) {\n\t\tif (o.meta && (o.meta.code === 400 || o.meta.code === 401)) {\n\t\t\to.error = {\n\t\t\t\tcode: 'access_denied',\n\t\t\t\tmessage: o.meta.errorDetail\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction formatUser(o) {\n\t\tif (o && o.id) {\n\t\t\to.thumbnail = o.photo.prefix + '100x100' + o.photo.suffix;\n\t\t\to.name = o.firstName + ' ' + o.lastName;\n\t\t\to.first_name = o.firstName;\n\t\t\to.last_name = o.lastName;\n\t\t\tif (o.contact) {\n\t\t\t\tif (o.contact.email) {\n\t\t\t\t\to.email = o.contact.email;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction formatRequest(p, qs) {\n\t\tvar token = qs.access_token;\n\t\tdelete qs.access_token;\n\t\tqs.oauth_token = token;\n\t\tqs.v = 20121125;\n\t\treturn true;\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\thello.init({\n\n\t\tgithub: {\n\n\t\t\tname: 'GitHub',\n\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://github.com/login/oauth/authorize',\n\t\t\t\tgrant: 'https://github.com/login/oauth/access_token',\n\t\t\t\tresponse_type: 'code'\n\t\t\t},\n\n\t\t\tscope: {\n\t\t\t\temail: 'user:email'\n\t\t\t},\n\n\t\t\tbase: 'https://api.github.com/',\n\n\t\t\tget: {\n\t\t\t\tme: 'user',\n\t\t\t\t'me/friends': 'user/following?per_page=@{limit|100}',\n\t\t\t\t'me/following': 'user/following?per_page=@{limit|100}',\n\t\t\t\t'me/followers': 'user/followers?per_page=@{limit|100}',\n\t\t\t\t'me/like': 'user/starred?per_page=@{limit|100}'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o, headers) {\n\n\t\t\t\t\tformatError(o, headers);\n\t\t\t\t\tformatUser(o);\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o, headers, req) {\n\n\t\t\t\t\tformatError(o, headers);\n\n\t\t\t\t\tif (Array.isArray(o)) {\n\t\t\t\t\t\to = {data:o};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (o.data) {\n\t\t\t\t\t\tpaging(o, headers, req);\n\t\t\t\t\t\to.data.forEach(formatUser);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\txhr: function(p) {\n\n\t\t\t\tif (p.method !== 'get' && p.data) {\n\n\t\t\t\t\t// Serialize payload as JSON\n\t\t\t\t\tp.headers = p.headers || {};\n\t\t\t\t\tp.headers['Content-Type'] = 'application/json';\n\t\t\t\t\tif (typeof (p.data) === 'object') {\n\t\t\t\t\t\tp.data = JSON.stringify(p.data);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction formatError(o, headers) {\n\t\tvar code = headers ? headers.statusCode : (o && 'meta' in o && 'status' in o.meta && o.meta.status);\n\t\tif ((code === 401 || code === 403)) {\n\t\t\to.error = {\n\t\t\t\tcode: 'access_denied',\n\t\t\t\tmessage: o.message || (o.data ? o.data.message : 'Could not get response')\n\t\t\t};\n\t\t\tdelete o.message;\n\t\t}\n\t}\n\n\tfunction formatUser(o) {\n\t\tif (o.id) {\n\t\t\to.thumbnail = o.picture = o.avatar_url;\n\t\t\to.name = o.login;\n\t\t}\n\t}\n\n\tfunction paging(res, headers, req) {\n\t\tif (res.data && res.data.length && headers && headers.Link) {\n\t\t\tvar next = headers.Link.match(/<(.*?)>;\\s*rel=\\\"next\\\"/);\n\t\t\tif (next) {\n\t\t\t\tres.paging = {\n\t\t\t\t\tnext: next[1]\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\tvar contactsUrl = 'https://www.google.com/m8/feeds/contacts/default/full?v=3.0&alt=json&max-results=@{limit|1000}&start-index=@{start|1}';\n\n\thello.init({\n\n\t\tgoogle: {\n\n\t\t\tname: 'Google Plus',\n\n\t\t\t// See: http://code.google.com/apis/accounts/docs/OAuth2UserAgent.html\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://accounts.google.com/o/oauth2/auth',\n\t\t\t\tgrant: 'https://accounts.google.com/o/oauth2/token'\n\t\t\t},\n\n\t\t\t// Authorization scopes\n\t\t\tscope: {\n\t\t\t\tbasic: 'https://www.googleapis.com/auth/plus.me profile',\n\t\t\t\temail: 'email',\n\t\t\t\tbirthday: '',\n\t\t\t\tevents: '',\n\t\t\t\tphotos: 'https://picasaweb.google.com/data/',\n\t\t\t\tvideos: 'http://gdata.youtube.com',\n\t\t\t\tfriends: 'https://www.google.com/m8/feeds, https://www.googleapis.com/auth/plus.login',\n\t\t\t\tfiles: 'https://www.googleapis.com/auth/drive.readonly',\n\t\t\t\tpublish: '',\n\t\t\t\tpublish_files: 'https://www.googleapis.com/auth/drive',\n\t\t\t\tshare: '',\n\t\t\t\tcreate_event: '',\n\t\t\t\toffline_access: ''\n\t\t\t},\n\n\t\t\tscope_delim: ' ',\n\n\t\t\tlogin: function(p) {\n\t\t\t\tif (p.qs.display === 'none') {\n\t\t\t\t\t// Google doesn't like display=none\n\t\t\t\t\tp.qs.display = '';\n\t\t\t\t}\n\n\t\t\t\tif (p.qs.response_type === 'code') {\n\n\t\t\t\t\t// Let's set this to an offline access to return a refresh_token\n\t\t\t\t\tp.qs.access_type = 'offline';\n\t\t\t\t}\n\n\t\t\t\t// Reauthenticate\n\t\t\t\t// https://developers.google.com/identity/protocols/\n\t\t\t\tif (p.options.force) {\n\t\t\t\t\tp.qs.approval_prompt = 'force';\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// API base URI\n\t\t\tbase: 'https://www.googleapis.com/',\n\n\t\t\t// Map GET requests\n\t\t\tget: {\n\t\t\t\tme: 'plus/v1/people/me',\n\n\t\t\t\t// Deprecated Sept 1, 2014\n\t\t\t\t//'me': 'oauth2/v1/userinfo?alt=json',\n\n\t\t\t\t// See: https://developers.google.com/+/api/latest/people/list\n\t\t\t\t'me/friends': 'plus/v1/people/me/people/visible?maxResults=@{limit|100}',\n\t\t\t\t'me/following': contactsUrl,\n\t\t\t\t'me/followers': contactsUrl,\n\t\t\t\t'me/contacts': contactsUrl,\n\t\t\t\t'me/share': 'plus/v1/people/me/activities/public?maxResults=@{limit|100}',\n\t\t\t\t'me/feed': 'plus/v1/people/me/activities/public?maxResults=@{limit|100}',\n\t\t\t\t'me/albums': 'https://picasaweb.google.com/data/feed/api/user/default?alt=json&max-results=@{limit|100}&start-index=@{start|1}',\n\t\t\t\t'me/album': function(p, callback) {\n\t\t\t\t\tvar key = p.query.id;\n\t\t\t\t\tdelete p.query.id;\n\t\t\t\t\tcallback(key.replace('/entry/', '/feed/'));\n\t\t\t\t},\n\n\t\t\t\t'me/photos': 'https://picasaweb.google.com/data/feed/api/user/default?alt=json&kind=photo&max-results=@{limit|100}&start-index=@{start|1}',\n\n\t\t\t\t// See: https://developers.google.com/drive/v2/reference/files/list\n\t\t\t\t'me/file': 'drive/v2/files/@{id}',\n\t\t\t\t'me/files': 'drive/v2/files?q=%22@{parent|root}%22+in+parents+and+trashed=false&maxResults=@{limit|100}',\n\n\t\t\t\t// See: https://developers.google.com/drive/v2/reference/files/list\n\t\t\t\t'me/folders': 'drive/v2/files?q=%22@{id|root}%22+in+parents+and+mimeType+=+%22application/vnd.google-apps.folder%22+and+trashed=false&maxResults=@{limit|100}',\n\n\t\t\t\t// See: https://developers.google.com/drive/v2/reference/files/list\n\t\t\t\t'me/folder': 'drive/v2/files?q=%22@{id|root}%22+in+parents+and+trashed=false&maxResults=@{limit|100}'\n\t\t\t},\n\n\t\t\t// Map POST requests\n\t\t\tpost: {\n\n\t\t\t\t// Google Drive\n\t\t\t\t'me/files': uploadDrive,\n\t\t\t\t'me/folders': function(p, callback) {\n\t\t\t\t\tp.data = {\n\t\t\t\t\t\ttitle: p.data.name,\n\t\t\t\t\t\tparents: [{id: p.data.parent || 'root'}],\n\t\t\t\t\t\tmimeType: 'application/vnd.google-apps.folder'\n\t\t\t\t\t};\n\t\t\t\t\tcallback('drive/v2/files');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Map PUT requests\n\t\t\tput: {\n\t\t\t\t'me/files': uploadDrive\n\t\t\t},\n\n\t\t\t// Map DELETE requests\n\t\t\tdel: {\n\t\t\t\t'me/files': 'drive/v2/files/@{id}',\n\t\t\t\t'me/folder': 'drive/v2/files/@{id}'\n\t\t\t},\n\n\t\t\t// Map PATCH requests\n\t\t\tpatch: {\n\t\t\t\t'me/file': 'drive/v2/files/@{id}'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\t\t\t\t\tif (o.id) {\n\t\t\t\t\t\to.last_name = o.family_name || (o.name ? o.name.familyName : null);\n\t\t\t\t\t\to.first_name = o.given_name || (o.name ? o.name.givenName : null);\n\n\t\t\t\t\t\tif (o.emails && o.emails.length) {\n\t\t\t\t\t\t\to.email = o.emails[0].value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tformatPerson(o);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'me/friends': function(o) {\n\t\t\t\t\tif (o.items) {\n\t\t\t\t\t\tpaging(o);\n\t\t\t\t\t\to.data = o.items;\n\t\t\t\t\t\to.data.forEach(formatPerson);\n\t\t\t\t\t\tdelete o.items;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'me/contacts': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'me/share': formatFeed,\n\t\t\t\t'me/feed': formatFeed,\n\t\t\t\t'me/albums': gEntry,\n\t\t\t\t'me/photos': formatPhotos,\n\t\t\t\t'default': gEntry\n\t\t\t},\n\n\t\t\txhr: function(p) {\n\n\t\t\t\tif (p.method === 'post' || p.method === 'put') {\n\t\t\t\t\ttoJSON(p);\n\t\t\t\t}\n\t\t\t\telse if (p.method === 'patch') {\n\t\t\t\t\thello.utils.extend(p.query, p.data);\n\t\t\t\t\tp.data = null;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// Don't even try submitting via form.\n\t\t\t// This means no POST operations in <=IE9\n\t\t\tform: false\n\t\t}\n\t});\n\n\tfunction toInt(s) {\n\t\treturn parseInt(s, 10);\n\t}\n\n\tfunction formatFeed(o) {\n\t\tpaging(o);\n\t\to.data = o.items;\n\t\tdelete o.items;\n\t\treturn o;\n\t}\n\n\t// Format: ensure each record contains a name, id etc.\n\tfunction formatItem(o) {\n\t\tif (o.error) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!o.name) {\n\t\t\to.name = o.title || o.message;\n\t\t}\n\n\t\tif (!o.picture) {\n\t\t\to.picture = o.thumbnailLink;\n\t\t}\n\n\t\tif (!o.thumbnail) {\n\t\t\to.thumbnail = o.thumbnailLink;\n\t\t}\n\n\t\tif (o.mimeType === 'application/vnd.google-apps.folder') {\n\t\t\to.type = 'folder';\n\t\t\to.files = 'https://www.googleapis.com/drive/v2/files?q=%22' + o.id + '%22+in+parents';\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatImage(image) {\n\t\treturn {\n\t\t\tsource: image.url,\n\t\t\twidth: image.width,\n\t\t\theight: image.height\n\t\t};\n\t}\n\n\tfunction formatPhotos(o) {\n\t\to.data = o.feed.entry.map(formatEntry);\n\t\tdelete o.feed;\n\t}\n\n\t// Google has a horrible JSON API\n\tfunction gEntry(o) {\n\t\tpaging(o);\n\n\t\tif ('feed' in o && 'entry' in o.feed) {\n\t\t\to.data = o.feed.entry.map(formatEntry);\n\t\t\tdelete o.feed;\n\t\t}\n\n\t\t// Old style: Picasa, etc.\n\t\telse if ('entry' in o) {\n\t\t\treturn formatEntry(o.entry);\n\t\t}\n\n\t\t// New style: Google Drive & Plus\n\t\telse if ('items' in o) {\n\t\t\to.data = o.items.map(formatItem);\n\t\t\tdelete o.items;\n\t\t}\n\t\telse {\n\t\t\tformatItem(o);\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatPerson(o) {\n\t\to.name = o.displayName || o.name;\n\t\to.picture = o.picture || (o.image ? o.image.url : null);\n\t\to.thumbnail = o.picture;\n\t}\n\n\tfunction formatFriends(o, headers, req) {\n\t\tpaging(o);\n\t\tvar r = [];\n\t\tif ('feed' in o && 'entry' in o.feed) {\n\t\t\tvar token = req.query.access_token;\n\t\t\tfor (var i = 0; i < o.feed.entry.length; i++) {\n\t\t\t\tvar a = o.feed.entry[i];\n\n\t\t\t\ta.id\t= a.id.$t;\n\t\t\t\ta.name\t= a.title.$t;\n\t\t\t\tdelete a.title;\n\t\t\t\tif (a.gd$email) {\n\t\t\t\t\ta.email\t= (a.gd$email && a.gd$email.length > 0) ? a.gd$email[0].address : null;\n\t\t\t\t\ta.emails = a.gd$email;\n\t\t\t\t\tdelete a.gd$email;\n\t\t\t\t}\n\n\t\t\t\tif (a.updated) {\n\t\t\t\t\ta.updated = a.updated.$t;\n\t\t\t\t}\n\n\t\t\t\tif (a.link) {\n\n\t\t\t\t\tvar pic = (a.link.length > 0) ? a.link[0].href : null;\n\t\t\t\t\tif (pic && a.link[0].gd$etag) {\n\t\t\t\t\t\tpic += (pic.indexOf('?') > -1 ? '&' : '?') + 'access_token=' + token;\n\t\t\t\t\t\ta.picture = pic;\n\t\t\t\t\t\ta.thumbnail = pic;\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete a.link;\n\t\t\t\t}\n\n\t\t\t\tif (a.category) {\n\t\t\t\t\tdelete a.category;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\to.data = o.feed.entry;\n\t\t\tdelete o.feed;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatEntry(a) {\n\n\t\tvar group = a.media$group;\n\t\tvar photo = group.media$content.length ? group.media$content[0] : {};\n\t\tvar mediaContent = group.media$content || [];\n\t\tvar mediaThumbnail = group.media$thumbnail || [];\n\n\t\tvar pictures = mediaContent\n\t\t\t.concat(mediaThumbnail)\n\t\t\t.map(formatImage)\n\t\t\t.sort(function(a, b) {\n\t\t\t\treturn a.width - b.width;\n\t\t\t});\n\n\t\tvar i = 0;\n\t\tvar _a;\n\t\tvar p = {\n\t\t\tid: a.id.$t,\n\t\t\tname: a.title.$t,\n\t\t\tdescription: a.summary.$t,\n\t\t\tupdated_time: a.updated.$t,\n\t\t\tcreated_time: a.published.$t,\n\t\t\tpicture: photo ? photo.url : null,\n\t\t\tpictures: pictures,\n\t\t\timages: [],\n\t\t\tthumbnail: photo ? photo.url : null,\n\t\t\twidth: photo.width,\n\t\t\theight: photo.height\n\t\t};\n\n\t\t// Get feed/children\n\t\tif ('link' in a) {\n\t\t\tfor (i = 0; i < a.link.length; i++) {\n\t\t\t\tvar d = a.link[i];\n\t\t\t\tif (d.rel.match(/\\#feed$/)) {\n\t\t\t\t\tp.upload_location = p.files = p.photos = d.href;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Get images of different scales\n\t\tif ('category' in a && a.category.length) {\n\t\t\t_a = a.category;\n\t\t\tfor (i = 0; i < _a.length; i++) {\n\t\t\t\tif (_a[i].scheme && _a[i].scheme.match(/\\#kind$/)) {\n\t\t\t\t\tp.type = _a[i].term.replace(/^.*?\\#/, '');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Get images of different scales\n\t\tif ('media$thumbnail' in group && group.media$thumbnail.length) {\n\t\t\t_a = group.media$thumbnail;\n\t\t\tp.thumbnail = _a[0].url;\n\t\t\tp.images = _a.map(formatImage);\n\t\t}\n\n\t\t_a = group.media$content;\n\n\t\tif (_a && _a.length) {\n\t\t\tp.images.push(formatImage(_a[0]));\n\t\t}\n\n\t\treturn p;\n\t}\n\n\tfunction paging(res) {\n\n\t\t// Contacts V2\n\t\tif ('feed' in res && res.feed.openSearch$itemsPerPage) {\n\t\t\tvar limit = toInt(res.feed.openSearch$itemsPerPage.$t);\n\t\t\tvar start = toInt(res.feed.openSearch$startIndex.$t);\n\t\t\tvar total = toInt(res.feed.openSearch$totalResults.$t);\n\n\t\t\tif ((start + limit) < total) {\n\t\t\t\tres.paging = {\n\t\t\t\t\tnext: '?start=' + (start + limit)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\telse if ('nextPageToken' in res) {\n\t\t\tres.paging = {\n\t\t\t\tnext: '?pageToken=' + res.nextPageToken\n\t\t\t};\n\t\t}\n\t}\n\n\t// Construct a multipart message\n\tfunction Multipart() {\n\n\t\t// Internal body\n\t\tvar body = [];\n\t\tvar boundary = (Math.random() * 1e10).toString(32);\n\t\tvar counter = 0;\n\t\tvar lineBreak = '\\r\\n';\n\t\tvar delim = lineBreak + '--' + boundary;\n\t\tvar ready = function() {};\n\n\t\tvar dataUri = /^data\\:([^;,]+(\\;charset=[^;,]+)?)(\\;base64)?,/i;\n\n\t\t// Add file\n\t\tfunction addFile(item) {\n\t\t\tvar fr = new FileReader();\n\t\t\tfr.onload = function(e) {\n\t\t\t\taddContent(btoa(e.target.result), item.type + lineBreak + 'Content-Transfer-Encoding: base64');\n\t\t\t};\n\n\t\t\tfr.readAsBinaryString(item);\n\t\t}\n\n\t\t// Add content\n\t\tfunction addContent(content, type) {\n\t\t\tbody.push(lineBreak + 'Content-Type: ' + type + lineBreak + lineBreak + content);\n\t\t\tcounter--;\n\t\t\tready();\n\t\t}\n\n\t\t// Add new things to the object\n\t\tthis.append = function(content, type) {\n\n\t\t\t// Does the content have an array\n\t\t\tif (typeof (content) === 'string' || !('length' in Object(content))) {\n\t\t\t\t// Converti to multiples\n\t\t\t\tcontent = [content];\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < content.length; i++) {\n\n\t\t\t\tcounter++;\n\n\t\t\t\tvar item = content[i];\n\n\t\t\t\t// Is this a file?\n\t\t\t\t// Files can be either Blobs or File types\n\t\t\t\tif (\n\t\t\t\t\t(typeof (File) !== 'undefined' && item instanceof File) ||\n\t\t\t\t\t(typeof (Blob) !== 'undefined' && item instanceof Blob)\n\t\t\t\t) {\n\t\t\t\t\t// Read the file in\n\t\t\t\t\taddFile(item);\n\t\t\t\t}\n\n\t\t\t\t// Data-URI?\n\t\t\t\t// Data:[<mime type>][;charset=<charset>][;base64],<encoded data>\n\t\t\t\t// /^data\\:([^;,]+(\\;charset=[^;,]+)?)(\\;base64)?,/i\n\t\t\t\telse if (typeof (item) === 'string' && item.match(dataUri)) {\n\t\t\t\t\tvar m = item.match(dataUri);\n\t\t\t\t\taddContent(item.replace(dataUri, ''), m[1] + lineBreak + 'Content-Transfer-Encoding: base64');\n\t\t\t\t}\n\n\t\t\t\t// Regular string\n\t\t\t\telse {\n\t\t\t\t\taddContent(item, type);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.onready = function(fn) {\n\t\t\tready = function() {\n\t\t\t\tif (counter === 0) {\n\t\t\t\t\t// Trigger ready\n\t\t\t\t\tbody.unshift('');\n\t\t\t\t\tbody.push('--');\n\t\t\t\t\tfn(body.join(delim), boundary);\n\t\t\t\t\tbody = [];\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tready();\n\t\t};\n\t}\n\n\t// Upload to Drive\n\t// If this is PUT then only augment the file uploaded\n\t// PUT https://developers.google.com/drive/v2/reference/files/update\n\t// POST https://developers.google.com/drive/manage-uploads\n\tfunction uploadDrive(p, callback) {\n\n\t\tvar data = {};\n\n\t\t// Test for DOM element\n\t\tif (p.data &&\n\t\t\t(typeof (HTMLInputElement) !== 'undefined' && p.data instanceof HTMLInputElement)\n\t\t) {\n\t\t\tp.data = {file: p.data};\n\t\t}\n\n\t\tif (!p.data.name && Object(Object(p.data.file).files).length && p.method === 'post') {\n\t\t\tp.data.name = p.data.file.files[0].name;\n\t\t}\n\n\t\tif (p.method === 'post') {\n\t\t\tp.data = {\n\t\t\t\ttitle: p.data.name,\n\t\t\t\tparents: [{id: p.data.parent || 'root'}],\n\t\t\t\tfile: p.data.file\n\t\t\t};\n\t\t}\n\t\telse {\n\n\t\t\t// Make a reference\n\t\t\tdata = p.data;\n\t\t\tp.data = {};\n\n\t\t\t// Add the parts to change as required\n\t\t\tif (data.parent) {\n\t\t\t\tp.data.parents = [{id: p.data.parent || 'root'}];\n\t\t\t}\n\n\t\t\tif (data.file) {\n\t\t\t\tp.data.file = data.file;\n\t\t\t}\n\n\t\t\tif (data.name) {\n\t\t\t\tp.data.title = data.name;\n\t\t\t}\n\t\t}\n\n\t\t// Extract the file, if it exists from the data object\n\t\t// If the File is an INPUT element lets just concern ourselves with the NodeList\n\t\tvar file;\n\t\tif ('file' in p.data) {\n\t\t\tfile = p.data.file;\n\t\t\tdelete p.data.file;\n\n\t\t\tif (typeof (file) === 'object' && 'files' in file) {\n\t\t\t\t// Assign the NodeList\n\t\t\t\tfile = file.files;\n\t\t\t}\n\n\t\t\tif (!file || !file.length) {\n\t\t\t\tcallback({\n\t\t\t\t\terror: {\n\t\t\t\t\t\tcode: 'request_invalid',\n\t\t\t\t\t\tmessage: 'There were no files attached with this request to upload'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Set type p.data.mimeType = Object(file[0]).type || 'application/octet-stream';\n\n\t\t// Construct a multipart message\n\t\tvar parts = new Multipart();\n\t\tparts.append(JSON.stringify(p.data), 'application/json');\n\n\t\t// Read the file into a  base64 string... yep a hassle, i know\n\t\t// FormData doesn't let us assign our own Multipart headers and HTTP Content-Type\n\t\t// Alas GoogleApi need these in a particular format\n\t\tif (file) {\n\t\t\tparts.append(file);\n\t\t}\n\n\t\tparts.onready(function(body, boundary) {\n\n\t\t\tp.headers['content-type'] = 'multipart/related; boundary=\"' + boundary + '\"';\n\t\t\tp.data = body;\n\n\t\t\tcallback('upload/drive/v2/files' + (data.id ? '/' + data.id : '') + '?uploadType=multipart');\n\t\t});\n\n\t}\n\n\tfunction toJSON(p) {\n\t\tif (typeof (p.data) === 'object') {\n\t\t\t// Convert the POST into a javascript object\n\t\t\ttry {\n\t\t\t\tp.data = JSON.stringify(p.data);\n\t\t\t\tp.headers['content-type'] = 'application/json';\n\t\t\t}\n\t\t\tcatch (e) {}\n\t\t}\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\thello.init({\n\n\t\tinstagram: {\n\n\t\t\tname: 'Instagram',\n\n\t\t\toauth: {\n\t\t\t\t// See: http://instagram.com/developer/authentication/\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://instagram.com/oauth/authorize/',\n\t\t\t\tgrant: 'https://api.instagram.com/oauth/access_token'\n\t\t\t},\n\n\t\t\t// Refresh the access_token once expired\n\t\t\trefresh: true,\n\n\t\t\tscope: {\n\t\t\t\tbasic: 'basic',\n\t\t\t\tphotos: '',\n\t\t\t\tfriends: 'relationships',\n\t\t\t\tpublish: 'likes comments',\n\t\t\t\temail: '',\n\t\t\t\tshare: '',\n\t\t\t\tpublish_files: '',\n\t\t\t\tfiles: '',\n\t\t\t\tvideos: '',\n\t\t\t\toffline_access: ''\n\t\t\t},\n\n\t\t\tscope_delim: ' ',\n\n\t\t\tlogin: function(p) {\n\t\t\t\t// Instagram throws errors like 'JavaScript API is unsupported' if the display is 'popup'.\n\t\t\t\t// Make the display anything but 'popup'\n\t\t\t\tp.qs.display = '';\n\t\t\t},\n\n\t\t\tbase: 'https://api.instagram.com/v1/',\n\n\t\t\tget: {\n\t\t\t\tme: 'users/self',\n\t\t\t\t'me/feed': 'users/self/feed?count=@{limit|100}',\n\t\t\t\t'me/photos': 'users/self/media/recent?min_id=0&count=@{limit|100}',\n\t\t\t\t'me/friends': 'users/self/follows?count=@{limit|100}',\n\t\t\t\t'me/following': 'users/self/follows?count=@{limit|100}',\n\t\t\t\t'me/followers': 'users/self/followed-by?count=@{limit|100}',\n\t\t\t\t'friend/photos': 'users/@{id}/media/recent?min_id=0&count=@{limit|100}'\n\t\t\t},\n\n\t\t\tpost: {\n\t\t\t\t'me/like': function(p, callback) {\n\t\t\t\t\tvar id = p.data.id;\n\t\t\t\t\tp.data = {};\n\t\t\t\t\tcallback('media/' + id + '/likes');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdel: {\n\t\t\t\t'me/like': 'media/@{id}/likes'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\n\t\t\t\t\tformatError(o);\n\n\t\t\t\t\tif ('data' in o) {\n\t\t\t\t\t\to.id = o.data.id;\n\t\t\t\t\t\to.thumbnail = o.data.profile_picture;\n\t\t\t\t\t\to.name = o.data.full_name || o.data.username;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/photos': function(o) {\n\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tpaging(o);\n\n\t\t\t\t\tif ('data' in o) {\n\t\t\t\t\t\to.data = o.data.filter(function(d) {\n\t\t\t\t\t\t\treturn d.type === 'image';\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\to.data.forEach(function(d) {\n\t\t\t\t\t\t\td.name = d.caption ? d.caption.text : null;\n\t\t\t\t\t\t\td.thumbnail = d.images.thumbnail.url;\n\t\t\t\t\t\t\td.picture = d.images.standard_resolution.url;\n\t\t\t\t\t\t\td.pictures = Object.keys(d.images)\n\t\t\t\t\t\t\t\t.map(function(key) {\n\t\t\t\t\t\t\t\t\tvar image = d.images[key];\n\t\t\t\t\t\t\t\t\treturn formatImage(image);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.sort(function(a, b) {\n\t\t\t\t\t\t\t\t\treturn a.width - b.width;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o) {\n\t\t\t\t\to = formatError(o);\n\t\t\t\t\tpaging(o);\n\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Instagram does not return any CORS Headers\n\t\t\t// So besides JSONP we're stuck with proxy\n\t\t\txhr: function(p, qs) {\n\n\t\t\t\tvar method = p.method;\n\t\t\t\tvar proxy = method !== 'get';\n\n\t\t\t\tif (proxy) {\n\n\t\t\t\t\tif ((method === 'post' || method === 'put') && p.query.access_token) {\n\t\t\t\t\t\tp.data.access_token = p.query.access_token;\n\t\t\t\t\t\tdelete p.query.access_token;\n\t\t\t\t\t}\n\n\t\t\t\t\t// No access control headers\n\t\t\t\t\t// Use the proxy instead\n\t\t\t\t\tp.proxy = proxy;\n\t\t\t\t}\n\n\t\t\t\treturn proxy;\n\t\t\t},\n\n\t\t\t// No form\n\t\t\tform: false\n\t\t}\n\t});\n\n\tfunction formatImage(image) {\n\t\treturn {\n\t\t\tsource: image.url,\n\t\t\twidth: image.width,\n\t\t\theight: image.height\n\t\t};\n\t}\n\n\tfunction formatError(o) {\n\t\tif (typeof o === 'string') {\n\t\t\treturn {\n\t\t\t\terror: {\n\t\t\t\t\tcode: 'invalid_request',\n\t\t\t\t\tmessage: o\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tif (o && 'meta' in o && 'error_type' in o.meta) {\n\t\t\to.error = {\n\t\t\t\tcode: o.meta.error_type,\n\t\t\t\tmessage: o.meta.error_message\n\t\t\t};\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o) {\n\t\tpaging(o);\n\t\tif (o && 'data' in o) {\n\t\t\to.data.forEach(formatFriend);\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriend(o) {\n\t\tif (o.id) {\n\t\t\to.thumbnail = o.profile_picture;\n\t\t\to.name = o.full_name || o.username;\n\t\t}\n\t}\n\n\t// See: http://instagram.com/developer/endpoints/\n\tfunction paging(res) {\n\t\tif ('pagination' in res) {\n\t\t\tres.paging = {\n\t\t\t\tnext: res.pagination.next_url\n\t\t\t};\n\t\t\tdelete res.pagination;\n\t\t}\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\thello.init({\n\n\t\tjoinme: {\n\n\t\t\tname: 'join.me',\n\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://secure.join.me/api/public/v1/auth/oauth2',\n\t\t\t\tgrant: 'https://secure.join.me/api/public/v1/auth/oauth2'\n\t\t\t},\n\n\t\t\trefresh: false,\n\n\t\t\tscope: {\n\t\t\t\tbasic: 'user_info',\n\t\t\t\tuser: 'user_info',\n\t\t\t\tscheduler: 'scheduler',\n\t\t\t\tstart: 'start_meeting',\n\t\t\t\temail: '',\n\t\t\t\tfriends: '',\n\t\t\t\tshare: '',\n\t\t\t\tpublish: '',\n\t\t\t\tphotos: '',\n\t\t\t\tpublish_files: '',\n\t\t\t\tfiles: '',\n\t\t\t\tvideos: '',\n\t\t\t\toffline_access: ''\n\t\t\t},\n\n\t\t\tscope_delim: ' ',\n\n\t\t\tlogin: function(p) {\n\t\t\t\tp.options.popup.width = 400;\n\t\t\t\tp.options.popup.height = 700;\n\t\t\t},\n\n\t\t\tbase: 'https://api.join.me/v1/',\n\n\t\t\tget: {\n\t\t\t\tme: 'user',\n\t\t\t\tmeetings: 'meetings',\n\t\t\t\t'meetings/info': 'meetings/@{id}'\n\t\t\t},\n\n\t\t\tpost: {\n\t\t\t\t'meetings/start/adhoc': function(p, callback) {\n\t\t\t\t\tcallback('meetings/start');\n\t\t\t\t},\n\n\t\t\t\t'meetings/start/scheduled': function(p, callback) {\n\t\t\t\t\tvar meetingId = p.data.meetingId;\n\t\t\t\t\tp.data = {};\n\t\t\t\t\tcallback('meetings/' + meetingId + '/start');\n\t\t\t\t},\n\n\t\t\t\t'meetings/schedule': function(p, callback) {\n\t\t\t\t\tcallback('meetings');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tpatch: {\n\t\t\t\t'meetings/update': function(p, callback) {\n\t\t\t\t\tcallback('meetings/' + p.data.meetingId);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdel: {\n\t\t\t\t'meetings/delete': 'meetings/@{id}'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o, headers) {\n\t\t\t\t\tformatError(o, headers);\n\n\t\t\t\t\tif (!o.email) {\n\t\t\t\t\t\treturn o;\n\t\t\t\t\t}\n\n\t\t\t\t\to.name = o.fullName;\n\t\t\t\t\to.first_name = o.name.split(' ')[0];\n\t\t\t\t\to.last_name = o.name.split(' ')[1];\n\t\t\t\t\to.id = o.email;\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o, headers) {\n\t\t\t\t\tformatError(o, headers);\n\n\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\txhr: formatRequest\n\n\t\t}\n\t});\n\n\tfunction formatError(o, headers) {\n\t\tvar errorCode;\n\t\tvar message;\n\t\tvar details;\n\n\t\tif (o && ('Message' in o)) {\n\t\t\tmessage = o.Message;\n\t\t\tdelete o.Message;\n\n\t\t\tif ('ErrorCode' in o) {\n\t\t\t\terrorCode = o.ErrorCode;\n\t\t\t\tdelete o.ErrorCode;\n\t\t\t}\n\t\t\telse {\n\t\t\t\terrorCode = getErrorCode(headers);\n\t\t\t}\n\n\t\t\to.error = {\n\t\t\t\tcode: errorCode,\n\t\t\t\tmessage: message,\n\t\t\t\tdetails: o\n\t\t\t};\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatRequest(p, qs) {\n\t\t// Move the access token from the request body to the request header\n\t\tvar token = qs.access_token;\n\t\tdelete qs.access_token;\n\t\tp.headers.Authorization = 'Bearer ' + token;\n\n\t\t// Format non-get requests to indicate json body\n\t\tif (p.method !== 'get' && p.data) {\n\t\t\tp.headers['Content-Type'] = 'application/json';\n\t\t\tif (typeof (p.data) === 'object') {\n\t\t\t\tp.data = JSON.stringify(p.data);\n\t\t\t}\n\t\t}\n\n\t\tif (p.method === 'put') {\n\t\t\tp.method = 'patch';\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tfunction getErrorCode(headers) {\n\t\tswitch (headers.statusCode) {\n\t\t\tcase 400:\n\t\t\t\treturn 'invalid_request';\n\t\t\tcase 403:\n\t\t\t\treturn 'stale_token';\n\t\t\tcase 401:\n\t\t\t\treturn 'invalid_token';\n\t\t\tcase 500:\n\t\t\t\treturn 'server_error';\n\t\t\tdefault:\n\t\t\t\treturn 'server_error';\n\t\t}\n\t}\n\n}(hello));\n\n(function(hello) {\n\n\thello.init({\n\n\t\tlinkedin: {\n\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tresponse_type: 'code',\n\t\t\t\tauth: 'https://www.linkedin.com/uas/oauth2/authorization',\n\t\t\t\tgrant: 'https://www.linkedin.com/uas/oauth2/accessToken'\n\t\t\t},\n\n\t\t\t// Refresh the access_token once expired\n\t\t\trefresh: true,\n\n\t\t\tscope: {\n\t\t\t\tbasic: 'r_basicprofile',\n\t\t\t\temail: 'r_emailaddress',\n\t\t\t\tfiles: '',\n\t\t\t\tfriends: '',\n\t\t\t\tphotos: '',\n\t\t\t\tpublish: 'w_share',\n\t\t\t\tpublish_files: 'w_share',\n\t\t\t\tshare: '',\n\t\t\t\tvideos: '',\n\t\t\t\toffline_access: ''\n\t\t\t},\n\t\t\tscope_delim: ' ',\n\n\t\t\tbase: 'https://api.linkedin.com/v1/',\n\n\t\t\tget: {\n\t\t\t\tme: 'people/~:(picture-url,first-name,last-name,id,formatted-name,email-address)',\n\n\t\t\t\t// See: http://developer.linkedin.com/documents/get-network-updates-and-statistics-api\n\t\t\t\t'me/share': 'people/~/network/updates?count=@{limit|250}'\n\t\t\t},\n\n\t\t\tpost: {\n\n\t\t\t\t// See: https://developer.linkedin.com/documents/api-requests-json\n\t\t\t\t'me/share': function(p, callback) {\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\tvisibility: {\n\t\t\t\t\t\t\tcode: 'anyone'\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tif (p.data.id) {\n\n\t\t\t\t\t\tdata.attribution = {\n\t\t\t\t\t\t\tshare: {\n\t\t\t\t\t\t\t\tid: p.data.id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tdata.comment = p.data.message;\n\t\t\t\t\t\tif (p.data.picture && p.data.link) {\n\t\t\t\t\t\t\tdata.content = {\n\t\t\t\t\t\t\t\t'submitted-url': p.data.link,\n\t\t\t\t\t\t\t\t'submitted-image-url': p.data.picture\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tp.data = JSON.stringify(data);\n\n\t\t\t\t\tcallback('people/~/shares?format=json');\n\t\t\t\t},\n\n\t\t\t\t'me/like': like\n\t\t\t},\n\n\t\t\tdel:{\n\t\t\t\t'me/like': like\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tformatUser(o);\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/share': function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tpaging(o);\n\t\t\t\t\tif (o.values) {\n\t\t\t\t\t\to.data = o.values.map(formatUser);\n\t\t\t\t\t\to.data.forEach(function(item) {\n\t\t\t\t\t\t\titem.message = item.headline;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tdelete o.values;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o, headers) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tempty(o, headers);\n\t\t\t\t\tpaging(o);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tjsonp: function(p, qs) {\n\t\t\t\tformatQuery(qs);\n\t\t\t\tif (p.method === 'get') {\n\t\t\t\t\tqs.format = 'jsonp';\n\t\t\t\t\tqs['error-callback'] = p.callbackID;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\txhr: function(p, qs) {\n\t\t\t\tif (p.method !== 'get') {\n\t\t\t\t\tformatQuery(qs);\n\t\t\t\t\tp.headers['Content-Type'] = 'application/json';\n\n\t\t\t\t\t// Note: x-li-format ensures error responses are not returned in XML\n\t\t\t\t\tp.headers['x-li-format'] = 'json';\n\t\t\t\t\tp.proxy = true;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction formatError(o) {\n\t\tif (o && 'errorCode' in o) {\n\t\t\to.error = {\n\t\t\t\tcode: o.status,\n\t\t\t\tmessage: o.message\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction formatUser(o) {\n\t\tif (o.error) {\n\t\t\treturn;\n\t\t}\n\n\t\to.first_name = o.firstName;\n\t\to.last_name = o.lastName;\n\t\to.name = o.formattedName || (o.first_name + ' ' + o.last_name);\n\t\to.thumbnail = o.pictureUrl;\n\t\to.email = o.emailAddress;\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o) {\n\t\tformatError(o);\n\t\tpaging(o);\n\t\tif (o.values) {\n\t\t\to.data = o.values.map(formatUser);\n\t\t\tdelete o.values;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction paging(res) {\n\t\tif ('_count' in res && '_start' in res && (res._count + res._start) < res._total) {\n\t\t\tres.paging = {\n\t\t\t\tnext: '?start=' + (res._start + res._count) + '&count=' + res._count\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction empty(o, headers) {\n\t\tif (JSON.stringify(o) === '{}' && headers.statusCode === 200) {\n\t\t\to.success = true;\n\t\t}\n\t}\n\n\tfunction formatQuery(qs) {\n\t\t// LinkedIn signs requests with the parameter 'oauth2_access_token'\n\t\t// ... yeah another one who thinks they should be different!\n\t\tif (qs.access_token) {\n\t\t\tqs.oauth2_access_token = qs.access_token;\n\t\t\tdelete qs.access_token;\n\t\t}\n\t}\n\n\tfunction like(p, callback) {\n\t\tp.headers['x-li-format'] = 'json';\n\t\tvar id = p.data.id;\n\t\tp.data = (p.method !== 'delete').toString();\n\t\tp.method = 'put';\n\t\tcallback('people/~/network/updates/key=' + id + '/is-liked');\n\t}\n\n})(hello);\n\n// See: https://developers.soundcloud.com/docs/api/reference\n(function(hello) {\n\n\thello.init({\n\n\t\tsoundcloud: {\n\t\t\tname: 'SoundCloud',\n\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://soundcloud.com/connect',\n\t\t\t\tgrant: 'https://soundcloud.com/oauth2/token'\n\t\t\t},\n\n\t\t\t// Request path translated\n\t\t\tbase: 'https://api.soundcloud.com/',\n\t\t\tget: {\n\t\t\t\tme: 'me.json',\n\n\t\t\t\t// Http://developers.soundcloud.com/docs/api/reference#me\n\t\t\t\t'me/friends': 'me/followings.json',\n\t\t\t\t'me/followers': 'me/followers.json',\n\t\t\t\t'me/following': 'me/followings.json',\n\n\t\t\t\t// See: http://developers.soundcloud.com/docs/api/reference#activities\n\t\t\t\t'default': function(p, callback) {\n\n\t\t\t\t\t// Include '.json at the end of each request'\n\t\t\t\t\tcallback(p.path + '.json');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Response handlers\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\t\t\t\t\tformatUser(o);\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o) {\n\t\t\t\t\tif (Array.isArray(o)) {\n\t\t\t\t\t\to = {\n\t\t\t\t\t\t\tdata: o.map(formatUser)\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tpaging(o);\n\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\txhr: formatRequest,\n\t\t\tjsonp: formatRequest\n\t\t}\n\t});\n\n\tfunction formatRequest(p, qs) {\n\t\t// Alter the querystring\n\t\tvar token = qs.access_token;\n\t\tdelete qs.access_token;\n\t\tqs.oauth_token = token;\n\t\tqs['_status_code_map[302]'] = 200;\n\t\treturn true;\n\t}\n\n\tfunction formatUser(o) {\n\t\tif (o.id) {\n\t\t\to.picture = o.avatar_url;\n\t\t\to.thumbnail = o.avatar_url;\n\t\t\to.name = o.username || o.full_name;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\t// See: http://developers.soundcloud.com/docs/api/reference#activities\n\tfunction paging(res) {\n\t\tif ('next_href' in res) {\n\t\t\tres.paging = {\n\t\t\t\tnext: res.next_href\n\t\t\t};\n\t\t}\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\tvar base = 'https://api.twitter.com/';\n\n\thello.init({\n\n\t\ttwitter: {\n\n\t\t\t// Ensure that you define an oauth_proxy\n\t\t\toauth: {\n\t\t\t\tversion: '1.0a',\n\t\t\t\tauth: base + 'oauth/authenticate',\n\t\t\t\trequest: base + 'oauth/request_token',\n\t\t\t\ttoken: base + 'oauth/access_token'\n\t\t\t},\n\n\t\t\tlogin: function(p) {\n\t\t\t\t// Reauthenticate\n\t\t\t\t// https://dev.twitter.com/oauth/reference/get/oauth/authenticate\n\t\t\t\tvar prefix = '?force_login=true';\n\t\t\t\tthis.oauth.auth = this.oauth.auth.replace(prefix, '') + (p.options.force ? prefix : '');\n\t\t\t},\n\n\t\t\tbase: base + '1.1/',\n\n\t\t\tget: {\n\t\t\t\tme: 'account/verify_credentials.json',\n\t\t\t\t'me/friends': 'friends/list.json?count=@{limit|200}',\n\t\t\t\t'me/following': 'friends/list.json?count=@{limit|200}',\n\t\t\t\t'me/followers': 'followers/list.json?count=@{limit|200}',\n\n\t\t\t\t// Https://dev.twitter.com/docs/api/1.1/get/statuses/user_timeline\n\t\t\t\t'me/share': 'statuses/user_timeline.json?count=@{limit|200}',\n\n\t\t\t\t// Https://dev.twitter.com/rest/reference/get/favorites/list\n\t\t\t\t'me/like': 'favorites/list.json?count=@{limit|200}'\n\t\t\t},\n\n\t\t\tpost: {\n\t\t\t\t'me/share': function(p, callback) {\n\n\t\t\t\t\tvar data = p.data;\n\t\t\t\t\tp.data = null;\n\n\t\t\t\t\tvar status = [];\n\n\t\t\t\t\t// Change message to status\n\t\t\t\t\tif (data.message) {\n\t\t\t\t\t\tstatus.push(data.message);\n\t\t\t\t\t\tdelete data.message;\n\t\t\t\t\t}\n\n\t\t\t\t\t// If link is given\n\t\t\t\t\tif (data.link) {\n\t\t\t\t\t\tstatus.push(data.link);\n\t\t\t\t\t\tdelete data.link;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (data.picture) {\n\t\t\t\t\t\tstatus.push(data.picture);\n\t\t\t\t\t\tdelete data.picture;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Compound all the components\n\t\t\t\t\tif (status.length) {\n\t\t\t\t\t\tdata.status = status.join(' ');\n\t\t\t\t\t}\n\n\t\t\t\t\t// Tweet media\n\t\t\t\t\tif (data.file) {\n\t\t\t\t\t\tdata['media[]'] = data.file;\n\t\t\t\t\t\tdelete data.file;\n\t\t\t\t\t\tp.data = data;\n\t\t\t\t\t\tcallback('statuses/update_with_media.json');\n\t\t\t\t\t}\n\n\t\t\t\t\t// Retweet?\n\t\t\t\t\telse if ('id' in data) {\n\t\t\t\t\t\tcallback('statuses/retweet/' + data.id + '.json');\n\t\t\t\t\t}\n\n\t\t\t\t\t// Tweet\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Assign the post body to the query parameters\n\t\t\t\t\t\thello.utils.extend(p.query, data);\n\t\t\t\t\t\tcallback('statuses/update.json?include_entities=1');\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// See: https://dev.twitter.com/rest/reference/post/favorites/create\n\t\t\t\t'me/like': function(p, callback) {\n\t\t\t\t\tvar id = p.data.id;\n\t\t\t\t\tp.data = null;\n\t\t\t\t\tcallback('favorites/create.json?id=' + id);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdel: {\n\n\t\t\t\t// See: https://dev.twitter.com/rest/reference/post/favorites/destroy\n\t\t\t\t'me/like': function() {\n\t\t\t\t\tp.method = 'post';\n\t\t\t\t\tvar id = p.data.id;\n\t\t\t\t\tp.data = null;\n\t\t\t\t\tcallback('favorites/destroy.json?id=' + id);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(res) {\n\t\t\t\t\tformatError(res);\n\t\t\t\t\tformatUser(res);\n\t\t\t\t\treturn res;\n\t\t\t\t},\n\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\n\t\t\t\t'me/share': function(res) {\n\t\t\t\t\tformatError(res);\n\t\t\t\t\tpaging(res);\n\t\t\t\t\tif (!res.error && 'length' in res) {\n\t\t\t\t\t\treturn {data: res};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn res;\n\t\t\t\t},\n\n\t\t\t\t'default': function(res) {\n\t\t\t\t\tres = arrayToDataResponse(res);\n\t\t\t\t\tpaging(res);\n\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t},\n\t\t\txhr: function(p) {\n\n\t\t\t\t// Rely on the proxy for non-GET requests.\n\t\t\t\treturn (p.method !== 'get');\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction formatUser(o) {\n\t\tif (o.id) {\n\t\t\tif (o.name) {\n\t\t\t\tvar m = o.name.split(' ');\n\t\t\t\to.first_name = m.shift();\n\t\t\t\to.last_name = m.join(' ');\n\t\t\t}\n\n\t\t\t// See: https://dev.twitter.com/overview/general/user-profile-images-and-banners\n\t\t\to.thumbnail = o.profile_image_url_https || o.profile_image_url;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o) {\n\t\tformatError(o);\n\t\tpaging(o);\n\t\tif (o.users) {\n\t\t\to.data = o.users.map(formatUser);\n\t\t\tdelete o.users;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatError(o) {\n\t\tif (o.errors) {\n\t\t\tvar e = o.errors[0];\n\t\t\to.error = {\n\t\t\t\tcode: 'request_failed',\n\t\t\t\tmessage: e.message\n\t\t\t};\n\t\t}\n\t}\n\n\t// Take a cursor and add it to the path\n\tfunction paging(res) {\n\t\t// Does the response include a 'next_cursor_string'\n\t\tif ('next_cursor_str' in res) {\n\t\t\t// See: https://dev.twitter.com/docs/misc/cursoring\n\t\t\tres.paging = {\n\t\t\t\tnext: '?cursor=' + res.next_cursor_str\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction arrayToDataResponse(res) {\n\t\treturn Array.isArray(res) ? {data: res} : res;\n\t}\n\n\t/**\n\t// The documentation says to define user in the request\n\t// Although its not actually required.\n\n\tvar user_id;\n\n\tfunction withUserId(callback){\n\t\tif(user_id){\n\t\t\tcallback(user_id);\n\t\t}\n\t\telse{\n\t\t\thello.api('twitter:/me', function(o){\n\t\t\t\tuser_id = o.id;\n\t\t\t\tcallback(o.id);\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction sign(url){\n\t\treturn function(p, callback){\n\t\t\twithUserId(function(user_id){\n\t\t\t\tcallback(url+'?user_id='+user_id);\n\t\t\t});\n\t\t};\n\t}\n\t*/\n\n})(hello);\n\n// Vkontakte (vk.com)\n(function(hello) {\n\n\thello.init({\n\n\t\tvk: {\n\t\t\tname: 'Vk',\n\n\t\t\t// See https://vk.com/dev/oauth_dialog\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://oauth.vk.com/authorize',\n\t\t\t\tgrant: 'https://oauth.vk.com/access_token'\n\t\t\t},\n\n\t\t\t// Authorization scopes\n\t\t\t// See https://vk.com/dev/permissions\n\t\t\tscope: {\n\t\t\t\temail: 'email',\n\t\t\t\tfriends: 'friends',\n\t\t\t\tphotos: 'photos',\n\t\t\t\tvideos: 'video',\n\t\t\t\tshare: 'share',\n\t\t\t\toffline_access: 'offline'\n\t\t\t},\n\n\t\t\t// Refresh the access_token\n\t\t\trefresh: true,\n\n\t\t\tlogin: function(p) {\n\t\t\t\tp.qs.display = window.navigator &&\n\t\t\t\t\twindow.navigator.userAgent &&\n\t\t\t\t\t/ipad|phone|phone|android/.test(window.navigator.userAgent.toLowerCase()) ? 'mobile' : 'popup';\n\t\t\t},\n\n\t\t\t// API Base URL\n\t\t\tbase: 'https://api.vk.com/method/',\n\n\t\t\t// Map GET requests\n\t\t\tget: {\n\t\t\t\tme: function(p, callback) {\n\t\t\t\t\tp.query.fields = 'id,first_name,last_name,photo_max';\n\t\t\t\t\tcallback('users.get');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(res, headers, req) {\n\t\t\t\t\tformatError(res);\n\t\t\t\t\treturn formatUser(res, req);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// No XHR\n\t\t\txhr: false,\n\n\t\t\t// All requests should be JSONP as of missing CORS headers in https://api.vk.com/method/*\n\t\t\tjsonp: true,\n\n\t\t\t// No form\n\t\t\tform: false\n\t\t}\n\t});\n\n\tfunction formatUser(o, req) {\n\n\t\tif (o !== null && 'response' in o && o.response !== null && o.response.length) {\n\t\t\to = o.response[0];\n\t\t\to.id = o.uid;\n\t\t\to.thumbnail = o.picture = o.photo_max;\n\t\t\to.name = o.first_name + ' ' + o.last_name;\n\n\t\t\tif (req.authResponse && req.authResponse.email !== null)\n\t\t\t\to.email = req.authResponse.email;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatError(o) {\n\n\t\tif (o.error) {\n\t\t\tvar e = o.error;\n\t\t\to.error = {\n\t\t\t\tcode: e.error_code,\n\t\t\t\tmessage: e.error_msg\n\t\t\t};\n\t\t}\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\thello.init({\n\t\twindows: {\n\t\t\tname: 'Windows live',\n\n\t\t\t// REF: http://msdn.microsoft.com/en-us/library/hh243641.aspx\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://login.live.com/oauth20_authorize.srf',\n\t\t\t\tgrant: 'https://login.live.com/oauth20_token.srf'\n\t\t\t},\n\n\t\t\t// Refresh the access_token once expired\n\t\t\trefresh: true,\n\n\t\t\tlogout: function() {\n\t\t\t\treturn 'http://login.live.com/oauth20_logout.srf?ts=' + (new Date()).getTime();\n\t\t\t},\n\n\t\t\t// Authorization scopes\n\t\t\tscope: {\n\t\t\t\tbasic: 'wl.signin,wl.basic',\n\t\t\t\temail: 'wl.emails',\n\t\t\t\tbirthday: 'wl.birthday',\n\t\t\t\tevents: 'wl.calendars',\n\t\t\t\tphotos: 'wl.photos',\n\t\t\t\tvideos: 'wl.photos',\n\t\t\t\tfriends: 'wl.contacts_emails',\n\t\t\t\tfiles: 'wl.skydrive',\n\t\t\t\tpublish: 'wl.share',\n\t\t\t\tpublish_files: 'wl.skydrive_update',\n\t\t\t\tshare: 'wl.share',\n\t\t\t\tcreate_event: 'wl.calendars_update,wl.events_create',\n\t\t\t\toffline_access: 'wl.offline_access'\n\t\t\t},\n\n\t\t\t// API base URL\n\t\t\tbase: 'https://apis.live.net/v5.0/',\n\n\t\t\t// Map GET requests\n\t\t\tget: {\n\n\t\t\t\t// Friends\n\t\t\t\tme: 'me',\n\t\t\t\t'me/friends': 'me/friends',\n\t\t\t\t'me/following': 'me/contacts',\n\t\t\t\t'me/followers': 'me/friends',\n\t\t\t\t'me/contacts': 'me/contacts',\n\n\t\t\t\t'me/albums': 'me/albums',\n\n\t\t\t\t// Include the data[id] in the path\n\t\t\t\t'me/album': '@{id}/files',\n\t\t\t\t'me/photo': '@{id}',\n\n\t\t\t\t// Files\n\t\t\t\t'me/files': '@{parent|me/skydrive}/files',\n\t\t\t\t'me/folders': '@{id|me/skydrive}/files',\n\t\t\t\t'me/folder': '@{id|me/skydrive}/files'\n\t\t\t},\n\n\t\t\t// Map POST requests\n\t\t\tpost: {\n\t\t\t\t'me/albums': 'me/albums',\n\t\t\t\t'me/album': '@{id}/files/',\n\n\t\t\t\t'me/folders': '@{id|me/skydrive/}',\n\t\t\t\t'me/files': '@{parent|me/skydrive}/files'\n\t\t\t},\n\n\t\t\t// Map DELETE requests\n\t\t\tdel: {\n\t\t\t\t// Include the data[id] in the path\n\t\t\t\t'me/album': '@{id}',\n\t\t\t\t'me/photo': '@{id}',\n\t\t\t\t'me/folder': '@{id}',\n\t\t\t\t'me/files': '@{id}'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: formatUser,\n\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/contacts': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'me/albums': formatAlbums,\n\t\t\t\t'me/photos': formatDefault,\n\t\t\t\t'default': formatDefault\n\t\t\t},\n\n\t\t\txhr: function(p) {\n\t\t\t\tif (p.method !== 'get' && p.method !== 'delete' && !hello.utils.hasBinary(p.data)) {\n\n\t\t\t\t\t// Does this have a data-uri to upload as a file?\n\t\t\t\t\tif (typeof (p.data.file) === 'string') {\n\t\t\t\t\t\tp.data.file = hello.utils.toBlob(p.data.file);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tp.data = JSON.stringify(p.data);\n\t\t\t\t\t\tp.headers = {\n\t\t\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tjsonp: function(p) {\n\t\t\t\tif (p.method !== 'get' && !hello.utils.hasBinary(p.data)) {\n\t\t\t\t\tp.data.method = p.method;\n\t\t\t\t\tp.method = 'get';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction formatDefault(o) {\n\t\tif ('data' in o) {\n\t\t\to.data.forEach(function(d) {\n\t\t\t\tif (d.picture) {\n\t\t\t\t\td.thumbnail = d.picture;\n\t\t\t\t}\n\n\t\t\t\tif (d.images) {\n\t\t\t\t\td.pictures = d.images\n\t\t\t\t\t\t.map(formatImage)\n\t\t\t\t\t\t.sort(function(a, b) {\n\t\t\t\t\t\t\treturn a.width - b.width;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatImage(image) {\n\t\treturn {\n\t\t\twidth: image.width,\n\t\t\theight: image.height,\n\t\t\tsource: image.source\n\t\t};\n\t}\n\n\tfunction formatAlbums(o) {\n\t\tif ('data' in o) {\n\t\t\to.data.forEach(function(d) {\n\t\t\t\td.photos = d.files = 'https://apis.live.net/v5.0/' + d.id + '/photos';\n\t\t\t});\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatUser(o, headers, req) {\n\t\tif (o.id) {\n\t\t\tvar token = req.query.access_token;\n\t\t\tif (o.emails) {\n\t\t\t\to.email = o.emails.preferred;\n\t\t\t}\n\n\t\t\t// If this is not an non-network friend\n\t\t\tif (o.is_friend !== false) {\n\t\t\t\t// Use the id of the user_id if available\n\t\t\t\tvar id = (o.user_id || o.id);\n\t\t\t\to.thumbnail = o.picture = 'https://apis.live.net/v5.0/' + id + '/picture?access_token=' + token;\n\t\t\t}\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o, headers, req) {\n\t\tif ('data' in o) {\n\t\t\to.data.forEach(function(d) {\n\t\t\t\tformatUser(d, headers, req);\n\t\t\t});\n\t\t}\n\n\t\treturn o;\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\thello.init({\n\n\t\tyahoo: {\n\n\t\t\t// Ensure that you define an oauth_proxy\n\t\t\toauth: {\n\t\t\t\tversion: '1.0a',\n\t\t\t\tauth: 'https://api.login.yahoo.com/oauth/v2/request_auth',\n\t\t\t\trequest: 'https://api.login.yahoo.com/oauth/v2/get_request_token',\n\t\t\t\ttoken: 'https://api.login.yahoo.com/oauth/v2/get_token'\n\t\t\t},\n\n\t\t\t// Login handler\n\t\t\tlogin: function(p) {\n\t\t\t\t// Change the default popup window to be at least 560\n\t\t\t\t// Yahoo does dynamically change it on the fly for the signin screen (only, what if your already signed in)\n\t\t\t\tp.options.popup.width = 560;\n\n\t\t\t\t// Yahoo throws an parameter error if for whatever reason the state.scope contains a comma, so lets remove scope\n\t\t\t\ttry {delete p.qs.state.scope;}\n\t\t\t\tcatch (e) {}\n\t\t\t},\n\n\t\t\tbase: 'https://social.yahooapis.com/v1/',\n\n\t\t\tget: {\n\t\t\t\tme: yql('select * from social.profile(0) where guid=me'),\n\t\t\t\t'me/friends': yql('select * from social.contacts(0) where guid=me'),\n\t\t\t\t'me/following': yql('select * from social.contacts(0) where guid=me')\n\t\t\t},\n\t\t\twrap: {\n\t\t\t\tme: formatUser,\n\n\t\t\t\t// Can't get IDs\n\t\t\t\t// It might be better to loop through the social.relationship table with has unique IDs of users.\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'default': paging\n\t\t\t}\n\t\t}\n\t});\n\n\t/*\n\t\t// Auto-refresh fix: bug in Yahoo can't get this to work with node-oauth-shim\n\t\tlogin : function(o){\n\t\t\t// Is the user already logged in\n\t\t\tvar auth = hello('yahoo').getAuthResponse();\n\n\t\t\t// Is this a refresh token?\n\t\t\tif(o.options.display==='none'&&auth&&auth.access_token&&auth.refresh_token){\n\t\t\t\t// Add the old token and the refresh token, including path to the query\n\t\t\t\t// See http://developer.yahoo.com/oauth/guide/oauth-refreshaccesstoken.html\n\t\t\t\to.qs.access_token = auth.access_token;\n\t\t\t\to.qs.refresh_token = auth.refresh_token;\n\t\t\t\to.qs.token_url = 'https://api.login.yahoo.com/oauth/v2/get_token';\n\t\t\t}\n\t\t},\n\t*/\n\n\tfunction formatError(o) {\n\t\tif (o && 'meta' in o && 'error_type' in o.meta) {\n\t\t\to.error = {\n\t\t\t\tcode: o.meta.error_type,\n\t\t\t\tmessage: o.meta.error_message\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction formatUser(o) {\n\n\t\tformatError(o);\n\t\tif (o.query && o.query.results && o.query.results.profile) {\n\t\t\to = o.query.results.profile;\n\t\t\to.id = o.guid;\n\t\t\to.last_name = o.familyName;\n\t\t\to.first_name = o.givenName || o.nickname;\n\t\t\tvar a = [];\n\t\t\tif (o.first_name) {\n\t\t\t\ta.push(o.first_name);\n\t\t\t}\n\n\t\t\tif (o.last_name) {\n\t\t\t\ta.push(o.last_name);\n\t\t\t}\n\n\t\t\to.name = a.join(' ');\n\t\t\to.email = (o.emails && o.emails[0]) ? o.emails[0].handle : null;\n\t\t\to.thumbnail = o.image ? o.image.imageUrl : null;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o, headers, request) {\n\t\tformatError(o);\n\t\tpaging(o, headers, request);\n\t\tvar contact;\n\t\tvar field;\n\t\tif (o.query && o.query.results && o.query.results.contact) {\n\t\t\to.data = o.query.results.contact;\n\t\t\tdelete o.query;\n\n\t\t\tif (!Array.isArray(o.data)) {\n\t\t\t\to.data = [o.data];\n\t\t\t}\n\n\t\t\to.data.forEach(formatFriend);\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriend(contact) {\n\t\tcontact.id = null;\n\n\t\t// #362: Reports of responses returning a single item, rather than an Array of items.\n\t\t// Format the contact.fields to be an array.\n\t\tif (contact.fields && !(contact.fields instanceof Array)) {\n\t\t\tcontact.fields = [contact.fields];\n\t\t}\n\n\t\t(contact.fields || []).forEach(function(field) {\n\t\t\tif (field.type === 'email') {\n\t\t\t\tcontact.email = field.value;\n\t\t\t}\n\n\t\t\tif (field.type === 'name') {\n\t\t\t\tcontact.first_name = field.value.givenName;\n\t\t\t\tcontact.last_name = field.value.familyName;\n\t\t\t\tcontact.name = field.value.givenName + ' ' + field.value.familyName;\n\t\t\t}\n\n\t\t\tif (field.type === 'yahooid') {\n\t\t\t\tcontact.id = field.value;\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction paging(res, headers, request) {\n\n\t\t// See: http://developer.yahoo.com/yql/guide/paging.html#local_limits\n\t\tif (res.query && res.query.count && request.options) {\n\t\t\tres.paging = {\n\t\t\t\tnext: '?start=' + (res.query.count + (+request.options.start || 1))\n\t\t\t};\n\t\t}\n\n\t\treturn res;\n\t}\n\n\tfunction yql(q) {\n\t\treturn 'https://query.yahooapis.com/v1/yql?q=' + (q + ' limit @{limit|100} offset @{start|0}').replace(/\\s/g, '%20') + '&format=json';\n\t}\n\n})(hello);\n\n// Register as anonymous AMD module\nif (typeof define === 'function' && define.amd) {\n\tdefine(function() {\n\t\treturn hello;\n\t});\n}\n\n// CommonJS module for browserify\nif (typeof module === 'object' && module.exports) {\n\tmodule.exports = hello;\n}\n\n}).call(this,require('_process'))\n\n},{\"_process\":249}],13:[function(require,module,exports){\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n},{}],14:[function(require,module,exports){\nvar idbModules = {  // jshint ignore:line\n    util: {\n        cleanInterface: false\n    }\n};\n\n(function () {\n    'use strict';\n\n    var testObject = {test: true};\n    //Test whether Object.defineProperty really works.\n    if (Object.defineProperty) {\n        try {\n            Object.defineProperty(testObject, 'test', { enumerable: false });\n            if (testObject.test) {\n                idbModules.util.cleanInterface = true;      // jshint ignore:line\n            }\n        } catch (e) {\n        //Object.defineProperty does not work as intended.\n        }\n    }\n})();\n\n(function(idbModules) {\n    'use strict';\n\n    /**\n     * A utility method to callback onsuccess, onerror, etc as soon as the calling function's context is over\n     * @param {Object} fn\n     * @param {Object} context\n     * @param {Object} argArray\n     */\n    function callback(fn, context, event) {\n        //window.setTimeout(function(){\n        event.target = context;\n        (typeof context[fn] === \"function\") && context[fn].apply(context, [event]);\n        //}, 1);\n    }\n\n    /**\n     * Shim the DOMStringList object.\n     *\n     */\n    var StringList = function() {\n        this.length = 0;\n        this._items = [];\n        //Internal functions on the prototype have been made non-enumerable below.\n        if (idbModules.util.cleanInterface) {\n            Object.defineProperty(this, '_items', {\n                enumerable: false\n            });\n        }\n    };\n    StringList.prototype = {\n        // Interface.\n        contains: function(str) {\n            return -1 !== this._items.indexOf(str);\n        },\n        item: function(key) {\n            return this._items[key];\n        },\n\n        // Helpers. Should only be used internally.\n        indexOf: function(str) {\n            return this._items.indexOf(str);\n        },\n        push: function(item) {\n            this._items.push(item);\n            this.length += 1;\n            for (var i = 0; i < this._items.length; i++) {\n                this[i] = this._items[i];\n            }\n        },\n        splice: function(/*index, howmany, item1, ..., itemX*/) {\n            this._items.splice.apply(this._items, arguments);\n            this.length = this._items.length;\n            for (var i in this) {\n                if (i === String(parseInt(i, 10))) {\n                    delete this[i];\n                }\n            }\n            for (i = 0; i < this._items.length; i++) {\n                this[i] = this._items[i];\n            }\n        }\n    };\n    if (idbModules.util.cleanInterface) {\n        for (var i in {\n            'indexOf': false,\n            'push': false,\n            'splice': false\n        }) {\n            Object.defineProperty(StringList.prototype, i, {\n                enumerable: false\n            });\n        }\n    }\n\n    idbModules.util.callback = callback;\n    idbModules.util.StringList = StringList;\n    idbModules.util.quote = function(arg) {\n        return \"\\\"\" + arg + \"\\\"\";\n    };\n\n}(idbModules));\n\n(function (idbModules) {\n    'use strict';\n\n    /**\n     * Polyfills missing features in the browser's native IndexedDB implementation.\n     * This is used for browsers that DON'T support WebSQL but DO support IndexedDB\n     */\n    function polyfill() {\n        if (navigator.userAgent.match(/MSIE/) ||\n            navigator.userAgent.match(/Trident/) ||\n            navigator.userAgent.match(/Edge/)) {\n            // Internet Explorer's native IndexedDB does not support compound keys\n            compoundKeyPolyfill();\n        }\n    }\n\n    /**\n     * Polyfills support for compound keys\n     */\n    function compoundKeyPolyfill() {\n        var cmp = IDBFactory.prototype.cmp;\n        var createObjectStore = IDBDatabase.prototype.createObjectStore;\n        var createIndex = IDBObjectStore.prototype.createIndex;\n        var add = IDBObjectStore.prototype.add;\n        var put = IDBObjectStore.prototype.put;\n        var indexGet = IDBIndex.prototype.get;\n        var indexGetKey = IDBIndex.prototype.getKey;\n        var indexCursor = IDBIndex.prototype.openCursor;\n        var indexKeyCursor = IDBIndex.prototype.openKeyCursor;\n        var storeGet = IDBObjectStore.prototype.get;\n        var storeDelete = IDBObjectStore.prototype.delete;\n        var storeCursor = IDBObjectStore.prototype.openCursor;\n        var storeKeyCursor = IDBObjectStore.prototype.openKeyCursor;\n        var bound = IDBKeyRange.bound;\n        var upperBound = IDBKeyRange.upperBound;\n        var lowerBound = IDBKeyRange.lowerBound;\n        var only = IDBKeyRange.only;\n        var requestResult = Object.getOwnPropertyDescriptor(IDBRequest.prototype, 'result');\n        var cursorPrimaryKey = Object.getOwnPropertyDescriptor(IDBCursor.prototype, 'primaryKey');\n        var cursorKey = Object.getOwnPropertyDescriptor(IDBCursor.prototype, 'key');\n        var cursorValue = Object.getOwnPropertyDescriptor(IDBCursorWithValue.prototype, 'value');\n\n        IDBFactory.prototype.cmp = function(key1, key2) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key1 instanceof Array) {\n                args[0] = encodeCompoundKey(key1);\n            }\n            if (key2 instanceof Array) {\n                args[1] = encodeCompoundKey(key2);\n            }\n            return cmp.apply(this, args);\n        };\n\n        IDBDatabase.prototype.createObjectStore = function(name, opts) {\n            if (opts && opts.keyPath instanceof Array) {\n                opts.keyPath = encodeCompoundKeyPath(opts.keyPath);\n            }\n            return createObjectStore.apply(this, arguments);\n        };\n\n        IDBObjectStore.prototype.createIndex = function(name, keyPath, opts) {\n            var args = Array.prototype.slice.call(arguments);\n            if (keyPath instanceof Array) {\n                args[1] = encodeCompoundKeyPath(keyPath);\n            }\n            return createIndex.apply(this, args);\n        };\n\n        IDBObjectStore.prototype.add = function(value, key) {\n            return this.__insertData(add, arguments);\n        };\n\n        IDBObjectStore.prototype.put = function(value, key) {\n            return this.__insertData(put, arguments);\n        };\n\n        IDBObjectStore.prototype.__insertData = function(method, args) {\n            args = Array.prototype.slice.call(args);\n            var value = args[0];\n            var key = args[1];\n\n            // out-of-line key\n            if (key instanceof Array) {\n                args[1] = encodeCompoundKey(key);\n            }\n\n            if (typeof value === 'object') {\n                // inline key\n                if (isCompoundKey(this.keyPath)) {\n                    setInlineCompoundKey(value, this.keyPath);\n                }\n\n                // inline indexes\n                for (var i = 0; i < this.indexNames.length; i++) {\n                    var index = this.index(this.indexNames[i]);\n                    if (isCompoundKey(index.keyPath)) {\n                        try {\n                            setInlineCompoundKey(value, index.keyPath);\n                        }\n                        catch (e) {\n                            // The value doesn't have a valid key for this index.\n                        }\n                    }\n                }\n            }\n            return method.apply(this, args);\n        };\n\n        IDBIndex.prototype.get = function(key) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return indexGet.apply(this, args);\n        };\n\n        IDBIndex.prototype.getKey = function(key) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return indexGetKey.apply(this, args);\n        };\n\n        IDBIndex.prototype.openCursor = function(key) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return indexCursor.apply(this, args);\n        };\n\n        IDBIndex.prototype.openKeyCursor = function(key) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return indexKeyCursor.apply(this, args);\n        };\n\n        IDBObjectStore.prototype.get = function(key) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return storeGet.apply(this, args);\n        };\n\n        IDBObjectStore.prototype.delete = function(key) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return storeDelete.apply(this, args);\n        };\n\n        IDBObjectStore.prototype.openCursor = function(key) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return storeCursor.apply(this, args);\n        };\n\n        IDBObjectStore.prototype.openKeyCursor = function(key) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return storeKeyCursor.apply(this, args);\n        };\n\n        IDBKeyRange.bound = function(lower, upper, lowerOpen, upperOpen) {\n            var args = Array.prototype.slice.call(arguments);\n            if (lower instanceof Array) {\n                args[0] = encodeCompoundKey(lower);\n            }\n            if (upper instanceof Array) {\n                args[1] = encodeCompoundKey(upper);\n            }\n            return bound.apply(IDBKeyRange, args);\n        };\n\n        IDBKeyRange.upperBound = function(key, open) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return upperBound.apply(IDBKeyRange, args);\n        };\n\n        IDBKeyRange.lowerBound = function(key, open) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return lowerBound.apply(IDBKeyRange, args);\n        };\n\n        IDBKeyRange.only = function(key) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return only.apply(IDBKeyRange, args);\n        };\n\n        Object.defineProperty(IDBRequest.prototype, 'result', {\n            enumerable: requestResult.enumerable,\n            configurable: requestResult.configurable,\n            get: function() {\n                var result = requestResult.get.call(this);\n                return removeInlineCompoundKey(result);\n            }\n        });\n\n        Object.defineProperty(IDBCursor.prototype, 'primaryKey', {\n            enumerable: cursorPrimaryKey.enumerable,\n            configurable: cursorPrimaryKey.configurable,\n            get: function() {\n                var result = cursorPrimaryKey.get.call(this);\n                return removeInlineCompoundKey(result);\n            }\n        });\n\n        Object.defineProperty(IDBCursor.prototype, 'key', {\n            enumerable: cursorKey.enumerable,\n            configurable: cursorKey.configurable,\n            get: function() {\n                var result = cursorKey.get.call(this);\n                return removeInlineCompoundKey(result);\n            }\n        });\n\n        Object.defineProperty(IDBCursorWithValue.prototype, 'value', {\n            enumerable: cursorValue.enumerable,\n            configurable: cursorValue.configurable,\n            get: function() {\n                var result = cursorValue.get.call(this);\n                return removeInlineCompoundKey(result);\n            }\n        });\n\n        try {\n            if (!IDBTransaction.VERSION_CHANGE) {\n                IDBTransaction.VERSION_CHANGE = 'versionchange';\n            }\n        }\n        catch (e) {}\n    }\n\n    var compoundKeysPropertyName = '__$$compoundKey';\n    var propertySeparatorRegExp = /\\$\\$/g;\n    var propertySeparator = '$$$$';         // \"$$\" after RegExp escaping\n    var keySeparator = '$_$';\n\n    function isCompoundKey(keyPath) {\n        return keyPath && (keyPath.indexOf(compoundKeysPropertyName + '.') === 0);\n    }\n\n    function encodeCompoundKeyPath(keyPath) {\n        // Encoded dotted properties\n        // [\"name.first\", \"name.last\"] ==> [\"name$$first\", \"name$$last\"]\n        for (var i = 0; i < keyPath.length; i++) {\n            keyPath[i] = keyPath[i].replace(/\\./g, propertySeparator);\n        }\n\n        // Encode the array as a single property\n        // [\"name$$first\", \"name$$last\"] => \"__$$compoundKey.name$$first$_$name$$last\"\n        return compoundKeysPropertyName + '.' + keyPath.join(keySeparator);\n    }\n\n    function decodeCompoundKeyPath(keyPath) {\n        // Remove the \"__$$compoundKey.\" prefix\n        keyPath = keyPath.substr(compoundKeysPropertyName.length + 1);\n\n        // Split the properties into an array\n        // \"name$$first$_$name$$last\" ==> [\"name$$first\", \"name$$last\"]\n        keyPath = keyPath.split(keySeparator);\n\n        // Decode dotted properties\n        // [\"name$$first\", \"name$$last\"] ==> [\"name.first\", \"name.last\"]\n        for (var i = 0; i < keyPath.length; i++) {\n            keyPath[i] = keyPath[i].replace(propertySeparatorRegExp, '.');\n        }\n        return keyPath;\n    }\n\n    function setInlineCompoundKey(value, encodedKeyPath) {\n        // Encode the key\n        var keyPath = decodeCompoundKeyPath(encodedKeyPath);\n        var key = idbModules.Key.getValue(value, keyPath);\n        var encodedKey = encodeCompoundKey(key);\n\n        // Store the encoded key inline\n        encodedKeyPath = encodedKeyPath.substr(compoundKeysPropertyName.length + 1);\n        value[compoundKeysPropertyName] = value[compoundKeysPropertyName] || {};\n        value[compoundKeysPropertyName][encodedKeyPath] = encodedKey;\n    }\n\n    function removeInlineCompoundKey(value) {\n        if (typeof value === \"string\" && isCompoundKey(value)) {\n            return decodeCompoundKey(value);\n        }\n        else if (value && typeof value[compoundKeysPropertyName] === \"object\") {\n            delete value[compoundKeysPropertyName];\n        }\n        return value;\n    }\n\n    function encodeCompoundKey(key) {\n        // Validate and encode the key\n        idbModules.Key.validate(key);\n        key = idbModules.Key.encode(key);\n\n        // Prepend the \"__$$compoundKey.\" prefix\n        key = compoundKeysPropertyName + '.' + key;\n\n        validateKeyLength(key);\n        return key;\n    }\n\n    function decodeCompoundKey(key) {\n        validateKeyLength(key);\n\n        // Remove the \"__$$compoundKey.\" prefix\n        key = key.substr(compoundKeysPropertyName.length + 1);\n\n        // Decode the key\n        key = idbModules.Key.decode(key);\n        return key;\n    }\n\n    function validateKeyLength(key) {\n        // BUG: Internet Explorer truncates string keys at 889 characters\n        if (key.length > 889) {\n            throw idbModules.util.createDOMException(\"DataError\", \"The encoded key is \" + key.length + \" characters long, but IE only allows 889 characters. Consider replacing numeric keys with strings to reduce the encoded length.\");\n        }\n    }\n\n    idbModules.polyfill = polyfill;\n})(idbModules);\n\n(function(idbModules){\n    'use strict';\n\n    /**\n     * Implementation of the Structured Cloning Algorithm.  Supports the\n     * following object types:\n     * - Blob\n     * - Boolean\n     * - Date object\n     * - File object (deserialized as Blob object).\n     * - Number object\n     * - RegExp object\n     * - String object\n     * This is accomplished by doing the following:\n     * 1) Using the cycle/decycle functions from:\n     *    https://github.com/douglascrockford/JSON-js/blob/master/cycle.js\n     * 2) Serializing/deserializing objects to/from string that don't work with\n     *    JSON.stringify and JSON.parse by using object specific logic (eg use \n     *    the FileReader API to convert a Blob or File object to a data URL.   \n     * 3) JSON.stringify and JSON.parse do the final conversion to/from string.\n     */\n    var Sca = (function(){\n        return {\n            decycle: function(object, callback) {\n                //From: https://github.com/douglascrockford/JSON-js/blob/master/cycle.js\n                // Contains additional logic to convert the following object types to string\n                // so that they can properly be encoded using JSON.stringify:\n                //  *Boolean\n                //  *Date\n                //  *File\n                //  *Blob\n                //  *Number\n                //  *Regex\n                // Make a deep copy of an object or array, assuring that there is at most\n                // one instance of each object or array in the resulting structure. The\n                // duplicate references (which might be forming cycles) are replaced with\n                // an object of the form\n                //      {$ref: PATH}\n                // where the PATH is a JSONPath string that locates the first occurance.\n                // So,\n                //      var a = [];\n                //      a[0] = a;\n                //      return JSON.stringify(JSON.decycle(a));\n                // produces the string '[{\"$ref\":\"$\"}]'.\n\n                // JSONPath is used to locate the unique object. $ indicates the top level of\n                // the object or array. [NUMBER] or [STRING] indicates a child member or\n                // property.\n\n                var objects = [],   // Keep a reference to each unique object or array\n                paths = [],     // Keep the path to each unique object or array\n                queuedObjects = [],\n                returnCallback = callback;\n\n                /**\n                 * Check the queue to see if all objects have been processed.\n                 * if they have, call the callback with the converted object.\n                 */\n                function checkForCompletion() {\n                    if (queuedObjects.length === 0) {\n                        returnCallback(derezObj);\n                    }    \n                }\n\n                /**\n                 * Convert a blob to a data URL.\n                 * @param {Blob} blob to convert.\n                 * @param {String} path of blob in object being encoded.\n                 */\n                function readBlobAsDataURL(blob, path) {\n                    var reader = new FileReader();\n                    reader.onloadend = function(loadedEvent) {\n                        var dataURL = loadedEvent.target.result;\n                        var blobtype = 'Blob';\n                        if (blob instanceof File) {\n                            //blobtype = 'File';\n                        }\n                        updateEncodedBlob(dataURL, path, blobtype);\n                    };\n                    reader.readAsDataURL(blob);\n                }\n                \n                /**\n                 * Async handler to update a blob object to a data URL for encoding.\n                 * @param {String} dataURL\n                 * @param {String} path\n                 * @param {String} blobtype - file if the blob is a file; blob otherwise\n                 */\n                function updateEncodedBlob(dataURL, path, blobtype) {\n                    var encoded = queuedObjects.indexOf(path);\n                    path = path.replace('$','derezObj');\n                    eval(path+'.$enc=\"'+dataURL+'\"');\n                    eval(path+'.$type=\"'+blobtype+'\"');\n                    queuedObjects.splice(encoded, 1);\n                    checkForCompletion();\n                }\n\n                function derez(value, path) {\n\n                    // The derez recurses through the object, producing the deep copy.\n\n                    var i,          // The loop counter\n                    name,       // Property name\n                    nu;         // The new object or array\n\n                    // typeof null === 'object', so go on if this value is really an object but not\n                    // one of the weird builtin objects.\n\n                    if (typeof value === 'object' && value !== null &&\n                        !(value instanceof Boolean) &&\n                        !(value instanceof Date)    &&\n                        !(value instanceof Number)  &&\n                        !(value instanceof RegExp)  &&\n                        !(value instanceof Blob)  &&\n                        !(value instanceof String)) {\n\n                        // If the value is an object or array, look to see if we have already\n                        // encountered it. If so, return a $ref/path object. This is a hard way,\n                        // linear search that will get slower as the number of unique objects grows.\n\n                        for (i = 0; i < objects.length; i += 1) {\n                            if (objects[i] === value) {\n                                return {$ref: paths[i]};\n                            }\n                        }\n\n                        // Otherwise, accumulate the unique value and its path.\n\n                        objects.push(value);\n                        paths.push(path);\n\n                        // If it is an array, replicate the array.\n\n                        if (Object.prototype.toString.apply(value) === '[object Array]') {\n                            nu = [];\n                            for (i = 0; i < value.length; i += 1) {\n                                nu[i] = derez(value[i], path + '[' + i + ']');\n                            }\n                        } else {\n                            // If it is an object, replicate the object.\n                            nu = {};\n                            for (name in value) {\n                                if (Object.prototype.hasOwnProperty.call(value, name)) {\n                                    nu[name] = derez(value[name],\n                                     path + '[' + JSON.stringify(name) + ']');\n                                }\n                            }\n                        }\n\n                        return nu;\n                    } else if (value instanceof Blob) {\n                        //Queue blob for conversion\n                        queuedObjects.push(path);\n                        readBlobAsDataURL(value, path);\n                    } else if (value instanceof Boolean) {\n                        value = {\n                            '$type': 'Boolean',\n                            '$enc': value.toString()\n                        };\n                    } else if (value instanceof Date) {\n                        value = {\n                            '$type': 'Date',\n                            '$enc': value.getTime()\n                        };\n                    } else if (value instanceof Number) {\n                        value = {\n                            '$type': 'Number',\n                            '$enc': value.toString()\n                        };\n                    } else if (value instanceof RegExp) {\n                        value = {\n                            '$type': 'RegExp',\n                            '$enc': value.toString()\n                        };\n                    } else if (typeof value === 'number') {\n                        value = {\n                            '$type': 'number',\n                            '$enc': value + ''  // handles NaN, Infinity, Negative Infinity\n                        };\n                    } else if (value === undefined) {\n                        value = {\n                            '$type': 'undefined'\n                        };\n                    }\n                    return value;\n                }\n                var derezObj = derez(object, '$');\n                checkForCompletion();\n            },\n                \n            retrocycle: function retrocycle($) {\n                //From: https://github.com/douglascrockford/JSON-js/blob/master/cycle.js\n                // Contains additional logic to convert strings to the following object types \n                // so that they can properly be decoded:\n                //  *Boolean\n                //  *Date\n                //  *File\n                //  *Blob\n                //  *Number\n                //  *Regex\n                // Restore an object that was reduced by decycle. Members whose values are\n                // objects of the form\n                //      {$ref: PATH}\n                // are replaced with references to the value found by the PATH. This will\n                // restore cycles. The object will be mutated.\n\n                // The eval function is used to locate the values described by a PATH. The\n                // root object is kept in a $ variable. A regular expression is used to\n                // assure that the PATH is extremely well formed. The regexp contains nested\n                // * quantifiers. That has been known to have extremely bad performance\n                // problems on some browsers for very long strings. A PATH is expected to be\n                // reasonably short. A PATH is allowed to belong to a very restricted subset of\n                // Goessner's JSONPath.\n\n                // So,\n                //      var s = '[{\"$ref\":\"$\"}]';\n                //      return JSON.retrocycle(JSON.parse(s));\n                // produces an array containing a single element which is the array itself.\n\n                var px = /^\\$(?:\\[(?:\\d+|\\\"(?:[^\\\\\\\"\\u0000-\\u001f]|\\\\([\\\\\\\"\\/bfnrt]|u[0-9a-zA-Z]{4}))*\\\")\\])*$/;\n                \n                /**\n                 * Converts the specified data URL to a Blob object\n                 * @param {String} dataURL to convert to a Blob\n                 * @returns {Blob} the converted Blob object\n                 */\n                function dataURLToBlob(dataURL) {\n                    var BASE64_MARKER = ';base64,',\n                        contentType,\n                        parts,\n                        raw;\n                    if (dataURL.indexOf(BASE64_MARKER) === -1) {\n                        parts = dataURL.split(',');\n                        contentType = parts[0].split(':')[1];\n                        raw = parts[1];\n\n                        return new Blob([raw], {type: contentType});\n                    }\n\n                    parts = dataURL.split(BASE64_MARKER);\n                    contentType = parts[0].split(':')[1];\n                    raw = window.atob(parts[1]);\n                    var rawLength = raw.length;\n                    var uInt8Array = new Uint8Array(rawLength);\n\n                    for (var i = 0; i < rawLength; ++i) {\n                        uInt8Array[i] = raw.charCodeAt(i);\n                    }\n                    return new Blob([uInt8Array.buffer], {type: contentType});\n                }\n                \n                function rez(value) {\n                    // The rez function walks recursively through the object looking for $ref\n                    // properties. When it finds one that has a value that is a path, then it\n                    // replaces the $ref object with a reference to the value that is found by\n                    // the path.\n\n                    var i, item, name, path;\n\n                    if (value && typeof value === 'object') {\n                        if (Object.prototype.toString.apply(value) === '[object Array]') {\n                            for (i = 0; i < value.length; i += 1) {\n                                item = value[i];\n                                if (item && typeof item === 'object') {\n                                    path = item.$ref;\n                                    if (typeof path === 'string' && px.test(path)) {\n                                        value[i] = eval(path);\n                                    } else {\n                                        value[i] = rez(item);\n                                    }\n                                }\n                            }\n                        } else {\n                            if (value.$type !== undefined) {\n                                switch(value.$type) {\n                                    case 'Blob':\n                                    case 'File':\n                                        value = dataURLToBlob(value.$enc);\n                                        break;\n                                    case 'Boolean':\n                                        value = Boolean(value.$enc === 'true');\n                                        break;\n                                    case 'Date':\n                                        value = new Date(value.$enc);\n                                        break;\n                                    case 'Number':\n                                        value = Number(value.$enc);\n                                        break;\n                                    case 'RegExp':\n                                        value = eval(value.$enc);\n                                        break;\n                                    case 'number':\n                                        value = parseFloat(value.$enc);\n                                        break;\n                                    case 'undefined':\n                                        value = undefined;\n                                        break;\n                                }\n                            } else {\n                                for (name in value) {\n                                    if (typeof value[name] === 'object') {\n                                        item = value[name];\n                                        if (item) {\n                                            path = item.$ref;\n                                            if (typeof path === 'string' && px.test(path)) {\n                                                value[name] = eval(path);\n                                            } else {\n                                                value[name] = rez(item);\n                                            }\n                                        }\n                                    }   \n                                }\n                            }\n                        }\n                    }\n                    return value;\n                }\n                return rez($);\n\n            },\n\n            /**\n             * Encode the specified object as a string.  Because of the asynchronus\n             * conversion of Blob/File to string, the encode function requires\n             * a callback\n             * @param {Object} val the value to convert.\n             * @param {function} callback the function to call once conversion is\n             * complete.  The callback gets called with the converted value.\n             */\n            \"encode\": function(val, callback){\n                function finishEncode(val) {\n                    callback(JSON.stringify(val));\n                }\n                this.decycle(val, finishEncode);                        \n            },\n                    \n            /**\n             * Deserialize the specified string to an object\n             * @param {String} val the serialized string\n             * @returns {Object} the deserialized object\n             */\n            \"decode\": function(val){\n                return this.retrocycle(JSON.parse(val));\n            }\n        };\n    }());\n    idbModules.Sca = Sca;\n}(idbModules));\n\n(function(idbModules) {\n    \"use strict\";\n\n    /**\n     * Encodes the keys based on their types. This is required to maintain collations\n     */\n    var collations = [\"undefined\", \"number\", \"date\", \"string\", \"array\"];\n\n    /**\n     * The sign values for numbers, ordered from least to greatest.\n     *  - \"negativeInfinity\": Sorts below all other values.\n     *  - \"bigNegative\": Negative values less than or equal to negative one.\n     *  - \"smallNegative\": Negative values between negative one and zero, noninclusive.\n     *  - \"smallPositive\": Positive values between zero and one, including zero but not one.\n     *  - \"largePositive\": Positive values greater than or equal to one.\n     *  - \"positiveInfinity\": Sorts above all other values.\n     */\n    var signValues = [\"negativeInfinity\", \"bigNegative\", \"smallNegative\", \"smallPositive\", \"bigPositive\", \"positiveInfinity\"];\n\n    var types = {\n        // Undefined is not a valid key type.  It's only used when there is no key.\n        undefined: {\n            encode: function(key) {\n                return collations.indexOf(\"undefined\") + \"-\";\n            },\n            decode: function(key) {\n                return undefined;\n            }\n        },\n\n        // Dates are encoded as ISO 8601 strings, in UTC time zone.\n        date: {\n            encode: function(key) {\n                return collations.indexOf(\"date\") + \"-\" + key.toJSON();\n            },\n            decode: function(key) {\n                return new Date(key.substring(2));\n            }\n        },\n\n        // Numbers are represented in a lexically sortable base-32 sign-exponent-mantissa\n        // notation.\n        //\n        // sign: takes a value between zero and five, inclusive. Represents infinite cases\n        //     and the signs of both the exponent and the fractional part of the number.\n        // exponent: paded to two base-32 digits, represented by the 32's compliment in the\n        //     \"smallPositive\" and \"bigNegative\" cases to ensure proper lexical sorting.\n        // mantissa: also called the fractional part. Normed 11-digit base-32 representation.\n        //     Represented by the 32's compliment in the \"smallNegative\" and \"bigNegative\"\n        //     cases to ensure proper lexical sorting.\n        number: {\n            // The encode step checks for six numeric cases and generates 14-digit encoded\n            // sign-exponent-mantissa strings.\n            encode: function(key) {\n                var key32 = Math.abs(key).toString(32);\n                // Get the index of the decimal.\n                var decimalIndex = key32.indexOf(\".\");\n                // Remove the decimal.\n                key32 = (decimalIndex !== -1) ? key32.replace(\".\", \"\") : key32;\n                // Get the index of the first significant digit.\n                var significantDigitIndex = key32.search(/[^0]/);\n                // Truncate leading zeros.\n                key32 = key32.slice(significantDigitIndex);\n                var sign, exponent = zeros(2), mantissa = zeros(11);\n\n                // Finite cases:\n                if (isFinite(key)) {\n                    // Negative cases:\n                    if (key < 0) {\n                        // Negative exponent case:\n                        if (key > -1) {\n                            sign = signValues.indexOf(\"smallNegative\");\n                            exponent = padBase32Exponent(significantDigitIndex);\n                            mantissa = flipBase32(padBase32Mantissa(key32));\n                        }\n                        // Non-negative exponent case:\n                        else {\n                            sign = signValues.indexOf(\"bigNegative\");\n                            exponent = flipBase32(padBase32Exponent(\n                                (decimalIndex !== -1) ? decimalIndex : key32.length\n                            ));\n                            mantissa = flipBase32(padBase32Mantissa(key32));\n                        }\n                    }\n                    // Non-negative cases:\n                    else {\n                        // Negative exponent case:\n                        if (key < 1) {\n                            sign = signValues.indexOf(\"smallPositive\");\n                            exponent = flipBase32(padBase32Exponent(significantDigitIndex));\n                            mantissa = padBase32Mantissa(key32);\n                        }\n                        // Non-negative exponent case:\n                        else {\n                            sign = signValues.indexOf(\"bigPositive\");\n                            exponent = padBase32Exponent(\n                                (decimalIndex !== -1) ? decimalIndex : key32.length\n                            );\n                            mantissa = padBase32Mantissa(key32);\n                        }\n                    }\n                }\n                // Infinite cases:\n                else {\n                    sign = signValues.indexOf(\n                        key > 0 ? \"positiveInfinity\" : \"negativeInfinity\"\n                    );\n                }\n\n                return collations.indexOf(\"number\") + \"-\" + sign + exponent + mantissa;\n            },\n            // The decode step must interpret the sign, reflip values encoded as the 32's complements,\n            // apply signs to the exponent and mantissa, do the base-32 power operation, and return\n            // the original JavaScript number values.\n            decode: function(key) {\n                var sign = +key.substr(2, 1);\n                var exponent = key.substr(3, 2);\n                var mantissa = key.substr(5, 11);\n\n                switch (signValues[sign]) {\n                    case \"negativeInfinity\":\n                        return -Infinity;\n                    case \"positiveInfinity\":\n                        return Infinity;\n                    case \"bigPositive\":\n                        return pow32(mantissa, exponent);\n                    case \"smallPositive\":\n                        exponent = negate(flipBase32(exponent));\n                        return pow32(mantissa, exponent);\n                    case \"smallNegative\":\n                        exponent = negate(exponent);\n                        mantissa = flipBase32(mantissa);\n                        return -pow32(mantissa, exponent);\n                    case \"bigNegative\":\n                        exponent = flipBase32(exponent);\n                        mantissa = flipBase32(mantissa);\n                        return -pow32(mantissa, exponent);\n                    default:\n                        throw new Error(\"Invalid number.\");\n                }\n            }\n        },\n\n        // Strings are encoded as JSON strings (with quotes and unicode characters escaped).\n        //\n        // IF the strings are in an array, then some extra encoding is done to make sorting work correctly:\n        // Since we can't force all strings to be the same length, we need to ensure that characters line-up properly\n        // for sorting, while also accounting for the extra characters that are added when the array itself is encoded as JSON.\n        // To do this, each character of the string is prepended with a dash (\"-\"), and a space is added to the end of the string.\n        // This effectively doubles the size of every string, but it ensures that when two arrays of strings are compared,\n        // the indexes of each string's characters line up with each other.\n        string: {\n            encode: function(key, inArray) {\n                if (inArray) {\n                    // prepend each character with a dash, and append a space to the end\n                    key = key.replace(/(.)/g, '-$1') + ' ';\n                }\n                return collations.indexOf(\"string\") + \"-\" + key;\n            },\n            decode: function(key, inArray) {\n                key = key.substring(2);\n                if (inArray) {\n                    // remove the space at the end, and the dash before each character\n                    key = key.substr(0, key.length - 1).replace(/-(.)/g, '$1');\n                }\n                return key;\n            }\n        },\n\n        // Arrays are encoded as JSON strings.\n        // An extra, value is added to each array during encoding to make empty arrays sort correctly.\n        array: {\n            encode: function(key) {\n                var encoded = [];\n                for (var i = 0; i < key.length; i++) {\n                    var item = key[i];\n                    var encodedItem = idbModules.Key.encode(item, true);        // encode the array item\n                    encoded[i] = encodedItem;\n                }\n                encoded.push(collations.indexOf(\"undefined\") + \"-\");            // append an extra item, so empty arrays sort correctly\n                return collations.indexOf(\"array\") + \"-\" + JSON.stringify(encoded);\n            },\n            decode: function(key) {\n                var decoded = JSON.parse(key.substring(2));\n                decoded.pop();                                                  // remove the extra item\n                for (var i = 0; i < decoded.length; i++) {\n                    var item = decoded[i];\n                    var decodedItem = idbModules.Key.decode(item, true);        // decode the item\n                    decoded[i] = decodedItem;\n                }\n                return decoded;\n            }\n        }\n    };\n\n    /**\n     * Return a padded base-32 exponent value.\n     * @param {number}\n     * @return {string}\n     */\n    function padBase32Exponent(n) {\n        n = n.toString(32);\n        return (n.length === 1) ? \"0\" + n : n;\n    }\n\n    /**\n     * Return a padded base-32 mantissa.\n     * @param {string}\n     * @return {string}\n     */\n    function padBase32Mantissa(s) {\n        return (s + zeros(11)).slice(0, 11);\n    }\n\n    /**\n     * Flips each digit of a base-32 encoded string.\n     * @param {string} encoded\n     */\n    function flipBase32(encoded) {\n        var flipped = \"\";\n        for (var i = 0; i < encoded.length; i++) {\n            flipped += (31 - parseInt(encoded[i], 32)).toString(32);\n        }\n        return flipped;\n    }\n\n    /**\n     * Base-32 power function.\n     * RESEARCH: This function does not precisely decode floats because it performs\n     * floating point arithmetic to recover values. But can the original values be\n     * recovered exactly?\n     * Someone may have already figured out a good way to store JavaScript floats as\n     * binary strings and convert back. Barring a better method, however, one route\n     * may be to generate decimal strings that `parseFloat` decodes predictably.\n     * @param {string}\n     * @param {string}\n     * @return {number}\n     */\n    function pow32(mantissa, exponent) {\n        var whole, fraction, expansion;\n        exponent = parseInt(exponent, 32);\n        if (exponent < 0) {\n            return roundToPrecision(\n                parseInt(mantissa, 32) * Math.pow(32, exponent - 10)\n            );\n        }\n        else {\n            if (exponent < 11) {\n                whole = mantissa.slice(0, exponent);\n                whole = parseInt(whole, 32);\n                fraction = mantissa.slice(exponent);\n                fraction = parseInt(fraction, 32) * Math.pow(32, exponent - 11);\n                return roundToPrecision(whole + fraction);\n            }\n            else {\n                expansion = mantissa + zeros(exponent - 11);\n                return parseInt(expansion, 32);\n            }\n        }\n    }\n\n    /**\n     *\n     */\n    function roundToPrecision(num, precision) {\n        precision = precision || 16;\n        return parseFloat(num.toPrecision(precision));\n    }\n\n    /**\n     * Returns a string of n zeros.\n     * @param {number}\n     * @return {string}\n     */\n    function zeros(n) {\n        var result = \"\";\n        while (n--) {\n            result = result + \"0\";\n        }\n        return result;\n    }\n\n    /**\n     * Negates numeric strings.\n     * @param {string}\n     * @return {string}\n     */\n    function negate(s) {\n        return \"-\" + s;\n    }\n\n    /**\n     * Returns the string \"number\", \"date\", \"string\", or \"array\".\n     */\n    function getType(key) {\n        if (key instanceof Date) {\n            return \"date\";\n        }\n        if (key instanceof Array) {\n            return \"array\";\n        }\n        return typeof key;\n    }\n\n    /**\n     * Keys must be strings, numbers, Dates, or Arrays\n     */\n    function validate(key) {\n        var type = getType(key);\n        if (type === \"array\") {\n            for (var i = 0; i < key.length; i++) {\n                validate(key[i]);\n            }\n        }\n        else if (!types[type] || (type !== \"string\" && isNaN(key))) {\n            throw idbModules.util.createDOMException(\"DataError\", \"Not a valid key\");\n        }\n    }\n\n    /**\n     * Returns the value of an inline key\n     * @param {object} source\n     * @param {string|array} keyPath\n     */\n    function getValue(source, keyPath) {\n        try {\n            if (keyPath instanceof Array) {\n                var arrayValue = [];\n                for (var i = 0; i < keyPath.length; i++) {\n                    arrayValue.push(eval(\"source.\" + keyPath[i]));\n                }\n                return arrayValue;\n            } else {\n                return eval(\"source.\" + keyPath);\n            }\n        }\n        catch (e) {\n            return undefined;\n        }\n    }\n\n    /**\n     * Sets the inline key value\n     * @param {object} source\n     * @param {string} keyPath\n     * @param {*} value\n     */\n    function setValue(source, keyPath, value) {\n        var props = keyPath.split('.');\n        for (var i = 0; i < props.length - 1; i++) {\n            var prop = props[i];\n            source = source[prop] = source[prop] || {};\n        }\n        source[props[props.length - 1]] = value;\n    }\n\n    /**\n     * Determines whether an index entry matches a multi-entry key value.\n     * @param {string} encodedEntry     The entry value (already encoded)\n     * @param {string} encodedKey       The full index key (already encoded)\n     * @returns {boolean}\n     */\n    function isMultiEntryMatch(encodedEntry, encodedKey) {\n        var keyType = collations[encodedKey.substring(0, 1)];\n\n        if (keyType === \"array\") {\n            return encodedKey.indexOf(encodedEntry) > 1;\n        }\n        else {\n            return encodedKey === encodedEntry;\n        }\n    }\n\n    function isKeyInRange(key, range) {\n        var lowerMatch = range.lower === undefined;\n        var upperMatch = range.upper === undefined;\n        var encodedKey = idbModules.Key.encode(key, true);\n\n        if (range.lower !== undefined) {\n            if (range.lowerOpen && encodedKey > range.__lower) {\n                lowerMatch = true;\n            }\n            if (!range.lowerOpen && encodedKey >= range.__lower) {\n                lowerMatch = true;\n            }\n        }\n        if (range.upper !== undefined) {\n            if (range.upperOpen && encodedKey < range.__upper) {\n                upperMatch = true;\n            }\n            if (!range.upperOpen && encodedKey <= range.__upper) {\n                upperMatch = true;\n            }\n        }\n\n        return lowerMatch && upperMatch;\n    }\n\n    function findMultiEntryMatches(keyEntry, range) {\n        var matches = [];\n\n        if (keyEntry instanceof Array) {\n            for (var i = 0; i < keyEntry.length; i++) {\n                var key = keyEntry[i];\n\n                if (key instanceof Array) {\n                    if (range.lower === range.upper) {\n                        continue;\n                    }\n                    if (key.length === 1) {\n                        key = key[0];\n                    } else {\n                        var nested = findMultiEntryMatches(key, range);\n                        if (nested.length > 0) {\n                            matches.push(key);\n                        }\n                        continue;\n                    }\n                }\n\n                if (isKeyInRange(key, range)) {\n                    matches.push(key);\n                }\n            }\n        } else {\n            if (isKeyInRange(keyEntry, range)) {\n                matches.push(keyEntry);\n            }\n        }\n        return matches;\n    }\n\n    idbModules.Key = {\n        encode: function(key, inArray) {\n            if (key === undefined) {\n                return null;\n            }\n            return types[getType(key)].encode(key, inArray);\n        },\n        decode: function(key, inArray) {\n            if (typeof key !== \"string\") {\n                return undefined;\n            }\n            return types[collations[key.substring(0, 1)]].decode(key, inArray);\n        },\n        validate: validate,\n        getValue: getValue,\n        setValue: setValue,\n        isMultiEntryMatch: isMultiEntryMatch,\n        findMultiEntryMatches: findMultiEntryMatches\n    };\n}(idbModules));\n\n(function(idbModules) {\n    'use strict';\n\n    /**\n     * Creates a native Event object, for browsers that support it\n     * @returns {Event}\n     */\n    function createNativeEvent(type, debug) {\n        var event = new Event(type);\n        event.debug = debug;\n\n        // Make the \"target\" writable\n        Object.defineProperty(event, 'target', {\n            writable: true\n        });\n\n        return event;\n    }\n\n    /**\n     * A shim Event class, for browsers that don't allow us to create native Event objects.\n     * @constructor\n     */\n    function ShimEvent(type, debug) {\n        this.type = type;\n        this.debug = debug;\n        this.bubbles = false;\n        this.cancelable = false;\n        this.eventPhase = 0;\n        this.timeStamp = new Date().valueOf();\n    }\n\n    var useNativeEvent = false;\n    try {\n        // Test whether we can use the browser's native Event class\n        var test = createNativeEvent('test type', 'test debug');\n        var target = {test: 'test target'};\n        test.target = target;\n\n        if (test instanceof Event && test.type === 'test type' && test.debug === 'test debug' && test.target === target) {\n            // Native events work as expected\n            useNativeEvent = true;\n        }\n    }\n    catch (e) {}\n\n    if (useNativeEvent) {\n        idbModules.Event = Event;\n        idbModules.IDBVersionChangeEvent = Event;\n        idbModules.util.createEvent = createNativeEvent;\n    }\n    else {\n        idbModules.Event = ShimEvent;\n        idbModules.IDBVersionChangeEvent = ShimEvent;\n        idbModules.util.createEvent = function(type, debug) {\n            return new ShimEvent(type, debug);\n        };\n    }\n}(idbModules));\n\n(function(idbModules) {\n    'use strict';\n\n    /**\n     * Creates a native DOMException, for browsers that support it\n     * @returns {DOMException}\n     */\n    function createNativeDOMException(name, message) {\n        var e = new DOMException.prototype.constructor(0, message);\n        e.name = name || 'DOMException';\n        e.message = message;\n        return e;\n    }\n\n    /**\n     * Creates a native DOMError, for browsers that support it\n     * @returns {DOMError}\n     */\n    function createNativeDOMError(name, message) {\n        name = name || 'DOMError';\n        var e = new DOMError(name, message);\n        e.name === name || (e.name = name);\n        e.message === message || (e.message = message);\n        return e;\n    }\n\n    /**\n     * Creates a generic Error object\n     * @returns {Error}\n     */\n    function createError(name, message) {\n        var e = new Error(message);\n        e.name = name || 'DOMException';\n        e.message = message;\n        return e;\n    }\n\n    /**\n     * Logs detailed error information to the console.\n     * @param {string} name\n     * @param {string} message\n     * @param {string|Error|null} error\n     */\n    idbModules.util.logError = function(name, message, error) {\n        if (idbModules.DEBUG) {\n            if (error && error.message) {\n                error = error.message;\n            }\n\n            var method = typeof(console.error) === 'function' ? 'error' : 'log';\n            console[method](name + ': ' + message + '. ' + (error || ''));\n            console.trace && console.trace();\n        }\n    };\n\n    /**\n     * Finds the error argument.  This is useful because some WebSQL callbacks\n     * pass the error as the first argument, and some pass it as the second argument.\n     * @param {array} args\n     * @returns {Error|DOMException|undefined}\n     */\n    idbModules.util.findError = function(args) {\n        var err;\n        if (args) {\n            if (args.length === 1) {\n                return args[0];\n            }\n            for (var i = 0; i < args.length; i++) {\n                var arg = args[i];\n                if (arg instanceof Error || arg instanceof DOMException) {\n                    return arg;\n                }\n                else if (arg && typeof arg.message === \"string\") {\n                    err = arg;\n                }\n            }\n        }\n        return err;\n    };\n\n    var test, useNativeDOMException = false, useNativeDOMError = false;\n\n    // Test whether we can use the browser's native DOMException class\n    try {\n        test = createNativeDOMException('test name', 'test message');\n        if (test instanceof DOMException && test.name === 'test name' && test.message === 'test message') {\n            // Native DOMException works as expected\n            useNativeDOMException = true;\n        }\n    }\n    catch (e) {}\n\n    // Test whether we can use the browser's native DOMError class\n    try {\n        test = createNativeDOMError('test name', 'test message');\n        if (test instanceof DOMError && test.name === 'test name' && test.message === 'test message') {\n            // Native DOMError works as expected\n            useNativeDOMError = true;\n        }\n    }\n    catch (e) {}\n\n    if (useNativeDOMException) {\n        idbModules.DOMException = DOMException;\n        idbModules.util.createDOMException = function(name, message, error) {\n            idbModules.util.logError(name, message, error);\n            return createNativeDOMException(name, message);\n        };\n    }\n    else {\n        idbModules.DOMException = Error;\n        idbModules.util.createDOMException = function(name, message, error) {\n            idbModules.util.logError(name, message, error);\n            return createError(name, message);\n        };\n    }\n\n    if (useNativeDOMError) {\n        idbModules.DOMError = DOMError;\n        idbModules.util.createDOMError = function(name, message, error) {\n            idbModules.util.logError(name, message, error);\n            return createNativeDOMError(name, message);\n        };\n    }\n    else {\n        idbModules.DOMError = Error;\n        idbModules.util.createDOMError = function(name, message, error) {\n            idbModules.util.logError(name, message, error);\n            return createError(name, message);\n        };\n    }\n}(idbModules));\n\n(function(idbModules){\n    'use strict';\n\n    /**\n     * The IDBRequest Object that is returns for all async calls\n     * http://dvcs.w3.org/hg/IndexedDB/raw-file/tip/Overview.html#request-api\n     */\n    function IDBRequest(){\n        this.onsuccess = this.onerror = this.result = this.error = this.source = this.transaction = null;\n        this.readyState = \"pending\";\n    }\n\n    /**\n     * The IDBOpenDBRequest called when a database is opened\n     */\n    function IDBOpenDBRequest(){\n        this.onblocked = this.onupgradeneeded = null;\n    }\n    IDBOpenDBRequest.prototype = new IDBRequest();\n    IDBOpenDBRequest.prototype.constructor = IDBOpenDBRequest;\n    \n    idbModules.IDBRequest = IDBRequest;\n    idbModules.IDBOpenDBRequest = IDBOpenDBRequest;\n    \n}(idbModules));\n\n(function(idbModules, undefined){\n    'use strict';\n\n    /**\n     * The IndexedDB KeyRange object\n     * http://dvcs.w3.org/hg/IndexedDB/raw-file/tip/Overview.html#dfn-key-range\n     * @param {Object} lower\n     * @param {Object} upper\n     * @param {Object} lowerOpen\n     * @param {Object} upperOpen\n     */\n    function IDBKeyRange(lower, upper, lowerOpen, upperOpen){\n        if (lower !== undefined) {\n            idbModules.Key.validate(lower);\n        }\n        if (upper !== undefined) {\n            idbModules.Key.validate(upper);\n        }\n\n        this.lower = lower;\n        this.upper = upper;\n        this.lowerOpen = !!lowerOpen;\n        this.upperOpen = !!upperOpen;\n    }\n\n    IDBKeyRange.only = function(value){\n        return new IDBKeyRange(value, value, false, false);\n    };\n\n    IDBKeyRange.lowerBound = function(value, open){\n        return new IDBKeyRange(value, undefined, open, undefined);\n    };\n    IDBKeyRange.upperBound = function(value, open){\n        return new IDBKeyRange(undefined, value, undefined, open);\n    };\n    IDBKeyRange.bound = function(lower, upper, lowerOpen, upperOpen){\n        return new IDBKeyRange(lower, upper, lowerOpen, upperOpen);\n    };\n\n    idbModules.IDBKeyRange = IDBKeyRange;\n\n}(idbModules));\n\n(function(idbModules, undefined){\n    'use strict';\n\n    /**\n     * The IndexedDB Cursor Object\n     * http://dvcs.w3.org/hg/IndexedDB/raw-file/tip/Overview.html#idl-def-IDBCursor\n     * @param {IDBKeyRange} range\n     * @param {string} direction\n     * @param {IDBObjectStore} store\n     * @param {IDBObjectStore|IDBIndex} source\n     * @param {string} keyColumnName\n     * @param {string} valueColumnName\n     * @param {boolean} count\n     */\n    function IDBCursor(range, direction, store, source, keyColumnName, valueColumnName, count){\n        // Calling openCursor on an index or objectstore with null is allowed but we treat it as undefined internally\n        if (range === null) {\n            range = undefined;\n        }\n        if (range !== undefined && !(range instanceof idbModules.IDBKeyRange)) {\n            range = new idbModules.IDBKeyRange(range, range, false, false);\n        }\n        store.transaction.__assertActive();\n        if (direction !== undefined && [\"next\", \"prev\", \"nextunique\", \"prevunique\"].indexOf(direction) === -1) {\n            throw new TypeError(direction + \"is not a valid cursor direction\");\n        }\n\n        this.source = source;\n        this.direction = direction || \"next\";\n        this.key = undefined;\n        this.primaryKey = undefined;\n        this.__store = store;\n        this.__range = range;\n        this.__req = new idbModules.IDBRequest();\n        this.__keyColumnName = keyColumnName;\n        this.__valueColumnName = valueColumnName;\n        this.__valueDecoder = valueColumnName === \"value\" ? idbModules.Sca : idbModules.Key;\n        this.__count = count;\n        this.__offset = -1; // Setting this to -1 as continue will set it to 0 anyway\n        this.__lastKeyContinued = undefined; // Used when continuing with a key\n        this.__multiEntryIndex = source instanceof idbModules.IDBIndex ? source.multiEntry : false;\n        this.__unique = this.direction.indexOf(\"unique\") !== -1;\n\n        if (range !== undefined) {\n            // Encode the key range and cache the encoded values, so we don't have to re-encode them over and over\n            range.__lower = range.lower !== undefined && idbModules.Key.encode(range.lower, this.__multiEntryIndex);\n            range.__upper = range.upper !== undefined && idbModules.Key.encode(range.upper, this.__multiEntryIndex);\n        }\n\n        this[\"continue\"]();\n    }\n\n    IDBCursor.prototype.__find = function (/* key, tx, success, error, recordsToLoad */) {\n        var args = Array.prototype.slice.call(arguments);\n        if (this.__multiEntryIndex) {\n            this.__findMultiEntry.apply(this, args);\n        } else {\n            this.__findBasic.apply(this, args);\n        }\n    };\n\n    IDBCursor.prototype.__findBasic = function (key, tx, success, error, recordsToLoad) {\n        recordsToLoad = recordsToLoad || 1;\n\n        var me = this;\n        var quotedKeyColumnName = idbModules.util.quote(me.__keyColumnName);\n        var sql = [\"SELECT * FROM\", idbModules.util.quote(me.__store.name)];\n        var sqlValues = [];\n        sql.push(\"WHERE\", quotedKeyColumnName, \"NOT NULL\");\n        if (me.__range && (me.__range.lower !== undefined || me.__range.upper !== undefined )) {\n            sql.push(\"AND\");\n            if (me.__range.lower !== undefined) {\n                sql.push(quotedKeyColumnName, (me.__range.lowerOpen ? \">\" : \">=\"), \"?\");\n                sqlValues.push(me.__range.__lower);\n            }\n            (me.__range.lower !== undefined && me.__range.upper !== undefined) && sql.push(\"AND\");\n            if (me.__range.upper !== undefined) {\n                sql.push(quotedKeyColumnName, (me.__range.upperOpen ? \"<\" : \"<=\"), \"?\");\n                sqlValues.push(me.__range.__upper);\n            }\n        }\n        if (typeof key !== \"undefined\") {\n            me.__lastKeyContinued = key;\n            me.__offset = 0;\n        }\n        if (me.__lastKeyContinued !== undefined) {\n            sql.push(\"AND\", quotedKeyColumnName, \">= ?\");\n            idbModules.Key.validate(me.__lastKeyContinued);\n            sqlValues.push(idbModules.Key.encode(me.__lastKeyContinued));\n        }\n\n        // Determine the ORDER BY direction based on the cursor.\n        var direction = me.direction === 'prev' || me.direction === 'prevunique' ? 'DESC' : 'ASC';\n\n        if (!me.__count) {\n            sql.push(\"ORDER BY\", quotedKeyColumnName, direction);\n            sql.push(\"LIMIT\", recordsToLoad, \"OFFSET\", me.__offset);\n        }\n        sql = sql.join(\" \");\n        idbModules.DEBUG && console.log(sql, sqlValues);\n\n        me.__prefetchedData = null;\n        me.__prefetchedIndex = 0;\n        tx.executeSql(sql, sqlValues, function (tx, data) {\n            if (me.__count) {\n                success(undefined, data.rows.length, undefined);\n            }\n            else if (data.rows.length > 1) {\n                me.__prefetchedData = data.rows;\n                me.__prefetchedIndex = 0;\n                idbModules.DEBUG && console.log(\"Preloaded \" + me.__prefetchedData.length + \" records for cursor\");\n                me.__decode(data.rows.item(0), success);\n            }\n            else if (data.rows.length === 1) {\n                me.__decode(data.rows.item(0), success);\n            }\n            else {\n                idbModules.DEBUG && console.log(\"Reached end of cursors\");\n                success(undefined, undefined, undefined);\n            }\n        }, function (tx, err) {\n            idbModules.DEBUG && console.log(\"Could not execute Cursor.continue\", sql, sqlValues);\n            error(err);\n        });\n    };\n\n    IDBCursor.prototype.__findMultiEntry = function (key, tx, success, error) {\n        var me = this;\n\n        if (me.__prefetchedData && me.__prefetchedData.length === me.__prefetchedIndex) {\n            idbModules.DEBUG && console.log(\"Reached end of multiEntry cursor\");\n            success(undefined, undefined, undefined);\n            return;\n        }\n\n        var quotedKeyColumnName = idbModules.util.quote(me.__keyColumnName);\n        var sql = [\"SELECT * FROM\", idbModules.util.quote(me.__store.name)];\n        var sqlValues = [];\n        sql.push(\"WHERE\", quotedKeyColumnName, \"NOT NULL\");\n        if (me.__range && (me.__range.lower !== undefined && me.__range.upper !== undefined)) {\n            if (me.__range.upper.indexOf(me.__range.lower) === 0) {\n                sql.push(\"AND\", quotedKeyColumnName, \"LIKE ?\");\n                sqlValues.push(\"%\" + me.__range.__lower.slice(0, -1) + \"%\");\n            }\n        }\n        if (typeof key !== \"undefined\") {\n            me.__lastKeyContinued = key;\n            me.__offset = 0;\n        }\n        if (me.__lastKeyContinued !== undefined) {\n            sql.push(\"AND\", quotedKeyColumnName, \">= ?\");\n            idbModules.Key.validate(me.__lastKeyContinued);\n            sqlValues.push(idbModules.Key.encode(me.__lastKeyContinued));\n        }\n\n        // Determine the ORDER BY direction based on the cursor.\n        var direction = me.direction === 'prev' || me.direction === 'prevunique' ? 'DESC' : 'ASC';\n\n        if (!me.__count) {\n            sql.push(\"ORDER BY key\", direction);\n        }\n        sql = sql.join(\" \");\n        idbModules.DEBUG && console.log(sql, sqlValues);\n\n        me.__prefetchedData = null;\n        me.__prefetchedIndex = 0;\n        tx.executeSql(sql, sqlValues, function (tx, data) {\n            me.__multiEntryOffset = data.rows.length;\n\n            if (data.rows.length > 0) {\n                var rows = [];\n\n                for (var i = 0; i < data.rows.length; i++) {\n                    var rowItem = data.rows.item(i);\n                    var rowKey = idbModules.Key.decode(rowItem[me.__keyColumnName], true);\n                    var matches = idbModules.Key.findMultiEntryMatches(rowKey, me.__range);\n\n                    for (var j = 0; j < matches.length; j++) {\n                        var matchingKey = matches[j];\n                        var clone = {\n                            matchingKey: idbModules.Key.encode(matchingKey, true),\n                            key: rowItem.key\n                        };\n                        clone[me.__keyColumnName] = rowItem[me.__keyColumnName];\n                        clone[me.__valueColumnName] = rowItem[me.__valueColumnName];\n                        rows.push(clone);\n                    }\n                }\n\n                var reverse = me.direction.indexOf(\"prev\") === 0;\n                rows.sort(function (a, b) {\n                    if (a.matchingKey.replace('[','z') < b.matchingKey.replace('[','z')) {\n                        return reverse ? 1 : -1;\n                    }\n                    if (a.matchingKey.replace('[','z') > b.matchingKey.replace('[','z')) {\n                        return reverse ? -1 : 1;\n                    }\n                    if (a.key < b.key) {\n                        return me.direction === \"prev\" ? 1 : -1;\n                    }\n                    if (a.key > b.key) {\n                        return me.direction === \"prev\" ? -1 : 1;\n                    }\n                    return 0;\n                });\n\n                me.__prefetchedData = {\n                    data: rows,\n                    length: rows.length,\n                    item: function (index) {\n                        return this.data[index];\n                    }\n                };\n                me.__prefetchedIndex = 0;\n\n                if (me.__count) {\n                    success(undefined, rows.length, undefined);\n                }\n                else if (rows.length > 1) {\n                    idbModules.DEBUG && console.log(\"Preloaded \" + me.__prefetchedData.length + \" records for multiEntry cursor\");\n                    me.__decode(rows[0], success);\n                } else if (rows.length === 1) {\n                    idbModules.DEBUG && console.log(\"Reached end of multiEntry cursor\");\n                    me.__decode(rows[0], success);\n                } else {\n                    idbModules.DEBUG && console.log(\"Reached end of multiEntry cursor\");\n                    success(undefined, undefined, undefined);\n                }\n            }\n            else {\n                idbModules.DEBUG && console.log(\"Reached end of multiEntry cursor\");\n                success(undefined, undefined, undefined);\n            }\n        }, function (tx, err) {\n            idbModules.DEBUG && console.log(\"Could not execute Cursor.continue\", sql, sqlValues);\n            error(err);\n        });\n    };\n\n    /**\n     * Creates an \"onsuccess\" callback\n     * @private\n     */\n    IDBCursor.prototype.__onsuccess = function(success) {\n        var me = this;\n        return function(key, value, primaryKey) {\n            if (me.__count) {\n                success(value, me.__req);\n            }\n            else {\n                me.key = key === undefined ? null : key;\n                me.value = value === undefined ? null : value;\n                me.primaryKey = primaryKey === undefined ? null : primaryKey;\n                var result = key === undefined ? null : me;\n                success(result, me.__req);\n            }\n        };\n    };\n\n    IDBCursor.prototype.__decode = function (rowItem, callback) {\n        if (this.__multiEntryIndex && this.__unique) {\n            if (!this.__matchedKeys) {\n                this.__matchedKeys = {};\n            }\n            if (this.__matchedKeys[rowItem.matchingKey]) {\n                callback(undefined, undefined, undefined);\n                return;\n            }\n            this.__matchedKeys[rowItem.matchingKey] = true;\n        }\n        var key = idbModules.Key.decode(this.__multiEntryIndex ? rowItem.matchingKey : rowItem[this.__keyColumnName], this.__multiEntryIndex);\n        var val = this.__valueDecoder.decode(rowItem[this.__valueColumnName]);\n        var primaryKey = idbModules.Key.decode(rowItem.key);\n        callback(key, val, primaryKey);\n    };\n\n    IDBCursor.prototype[\"continue\"] = function (key) {\n        var recordsToPreloadOnContinue = idbModules.cursorPreloadPackSize || 100;\n        var me = this;\n\n        this.__store.transaction.__pushToQueue(me.__req, function cursorContinue(tx, args, success, error) {\n            me.__offset++;\n\n            if (me.__prefetchedData) {\n                // We have pre-loaded data for the cursor\n                me.__prefetchedIndex++;\n                if (me.__prefetchedIndex < me.__prefetchedData.length) {\n                    me.__decode(me.__prefetchedData.item(me.__prefetchedIndex), me.__onsuccess(success));\n                    return;\n                }\n            }\n\n            // No pre-fetched data, do query\n            me.__find(key, tx, me.__onsuccess(success), error, recordsToPreloadOnContinue);\n        });\n    };\n\n    IDBCursor.prototype.advance = function(count){\n        if (count <= 0) {\n            throw idbModules.util.createDOMException(\"Type Error\", \"Count is invalid - 0 or negative\", count);\n        }\n        var me = this;\n        this.__store.transaction.__pushToQueue(me.__req, function cursorAdvance(tx, args, success, error){\n            me.__offset += count;\n            me.__find(undefined, tx, me.__onsuccess(success), error);\n        });\n    };\n\n    IDBCursor.prototype.update = function(valueToUpdate){\n        var me = this;\n        me.__store.transaction.__assertWritable();\n        return me.__store.transaction.__addToTransactionQueue(function cursorUpdate(tx, args, success, error){\n            idbModules.Sca.encode(valueToUpdate, function(encoded) {\n                me.__find(undefined, tx, function(key, value, primaryKey){\n                    var store = me.__store;\n                    var params = [encoded];\n                    var sql = [\"UPDATE\", idbModules.util.quote(store.name), \"SET value = ?\"];\n                    idbModules.Key.validate(primaryKey);\n\n                    // Also correct the indexes in the table\n                    for (var i = 0; i < store.indexNames.length; i++) {\n                        var index = store.__indexes[store.indexNames[i]];\n                        var indexKey = idbModules.Key.getValue(valueToUpdate, index.keyPath);\n                        sql.push(\",\", idbModules.util.quote(index.name), \"= ?\");\n                        params.push(idbModules.Key.encode(indexKey, index.multiEntry));\n                    }\n\n                    sql.push(\"WHERE key = ?\");\n                    params.push(idbModules.Key.encode(primaryKey));\n\n                    idbModules.DEBUG && console.log(sql.join(\" \"), encoded, key, primaryKey);\n                    tx.executeSql(sql.join(\" \"), params, function(tx, data){\n                        me.__prefetchedData = null;\n                        me.__prefetchedIndex = 0;\n                        if (data.rowsAffected === 1) {\n                            success(key);\n                        }\n                        else {\n                            error(\"No rows with key found\" + key);\n                        }\n                    }, function(tx, data){\n                        error(data);\n                    });\n                }, error);\n            });\n        });\n    };\n\n    IDBCursor.prototype[\"delete\"] = function(){\n        var me = this;\n        me.__store.transaction.__assertWritable();\n        return this.__store.transaction.__addToTransactionQueue(function cursorDelete(tx, args, success, error){\n            me.__find(undefined, tx, function(key, value, primaryKey){\n                var sql = \"DELETE FROM  \" + idbModules.util.quote(me.__store.name) + \" WHERE key = ?\";\n                idbModules.DEBUG && console.log(sql, key, primaryKey);\n                idbModules.Key.validate(primaryKey);\n                tx.executeSql(sql, [idbModules.Key.encode(primaryKey)], function(tx, data){\n                    me.__prefetchedData = null;\n                    me.__prefetchedIndex = 0;\n                    if (data.rowsAffected === 1) {\n                        // lower the offset or we will miss a row\n                        me.__offset--;\n                        success(undefined);\n                    }\n                    else {\n                        error(\"No rows with key found\" + key);\n                    }\n                }, function(tx, data){\n                    error(data);\n                });\n            }, error);\n        });\n    };\n\n    idbModules.IDBCursor = IDBCursor;\n}(idbModules));\n\n(function(idbModules, undefined) {\n    'use strict';\n\n    /**\n     * IDB Index\n     * http://www.w3.org/TR/IndexedDB/#idl-def-IDBIndex\n     * @param {IDBObjectStore} store\n     * @param {IDBIndexProperties} indexProperties\n     * @constructor\n     */\n    function IDBIndex(store, indexProperties) {\n        this.objectStore = store;\n        this.name = indexProperties.columnName;\n        this.keyPath = indexProperties.keyPath;\n        this.multiEntry = indexProperties.optionalParams && indexProperties.optionalParams.multiEntry;\n        this.unique = indexProperties.optionalParams && indexProperties.optionalParams.unique;\n        this.__deleted = !!indexProperties.__deleted;\n    }\n\n    /**\n     * Clones an IDBIndex instance for a different IDBObjectStore instance.\n     * @param {IDBIndex} index\n     * @param {IDBObjectStore} store\n     * @protected\n     */\n    IDBIndex.__clone = function(index, store) {\n        return new IDBIndex(store, {\n            columnName: index.name,\n            keyPath: index.keyPath,\n            optionalParams: {\n                multiEntry: index.multiEntry,\n                unique: index.unique\n            }\n        });\n    };\n\n    /**\n     * Creates a new index on an object store.\n     * @param {IDBObjectStore} store\n     * @param {IDBIndex} index\n     * @returns {IDBIndex}\n     * @protected\n     */\n    IDBIndex.__createIndex = function(store, index) {\n        var columnExists = !!store.__indexes[index.name] && store.__indexes[index.name].__deleted;\n\n        // Add the index to the IDBObjectStore\n        store.__indexes[index.name] = index;\n        store.indexNames.push(index.name);\n\n        // Create the index in WebSQL\n        var transaction = store.transaction;\n        transaction.__addToTransactionQueue(function createIndex(tx, args, success, failure) {\n            function error(tx, err) {\n                failure(idbModules.util.createDOMException(0, \"Could not create index \\\"\" + index.name + \"\\\"\", err));\n            }\n\n            function applyIndex(tx) {\n                // Update the object store's index list\n                IDBIndex.__updateIndexList(store, tx, function() {\n                    // Add index entries for all existing records\n                    tx.executeSql(\"SELECT * FROM \" + idbModules.util.quote(store.name), [], function(tx, data) {\n                        idbModules.DEBUG && console.log(\"Adding existing \" + store.name + \" records to the \" + index.name + \" index\");\n                        addIndexEntry(0);\n\n                        function addIndexEntry(i) {\n                            if (i < data.rows.length) {\n                                try {\n                                    var value = idbModules.Sca.decode(data.rows.item(i).value);\n                                    var indexKey = idbModules.Key.getValue(value, index.keyPath);\n                                    indexKey = idbModules.Key.encode(indexKey, index.multiEntry);\n\n                                    tx.executeSql(\"UPDATE \" + idbModules.util.quote(store.name) + \" set \" + idbModules.util.quote(index.name) + \" = ? where key = ?\", [indexKey, data.rows.item(i).key], function(tx, data) {\n                                        addIndexEntry(i + 1);\n                                    }, error);\n                                }\n                                catch (e) {\n                                    // Not a valid value to insert into index, so just continue\n                                    addIndexEntry(i + 1);\n                                }\n                            }\n                            else {\n                                success(store);\n                            }\n                        }\n                    }, error);\n                }, error);\n            }\n\n            if (columnExists) {\n                // For a previously existing index, just update the index entries in the existing column\n                applyIndex(tx);\n            }\n            else {\n                // For a new index, add a new column to the object store, then apply the index\n                var sql = [\"ALTER TABLE\", idbModules.util.quote(store.name), \"ADD\", idbModules.util.quote(index.name), \"BLOB\"].join(\" \");\n                idbModules.DEBUG && console.log(sql);\n                tx.executeSql(sql, [], applyIndex, error);\n            }\n        });\n    };\n\n    /**\n     * Deletes an index from an object store.\n     * @param {IDBObjectStore} store\n     * @param {IDBIndex} index\n     * @protected\n     */\n    IDBIndex.__deleteIndex = function(store, index) {\n        // Remove the index from the IDBObjectStore\n        store.__indexes[index.name].__deleted = true;\n        store.indexNames.splice(store.indexNames.indexOf(index.name), 1);\n\n        // Remove the index in WebSQL\n        var transaction = store.transaction;\n        transaction.__addToTransactionQueue(function createIndex(tx, args, success, failure) {\n            function error(tx, err) {\n                failure(idbModules.util.createDOMException(0, \"Could not delete index \\\"\" + index.name + \"\\\"\", err));\n            }\n\n            // Update the object store's index list\n            IDBIndex.__updateIndexList(store, tx, success, error);\n        });\n    };\n\n    /**\n     * Updates index list for the given object store.\n     * @param {IDBObjectStore} store\n     * @param {object} tx\n     * @param {function} success\n     * @param {function} failure\n     */\n    IDBIndex.__updateIndexList = function(store, tx, success, failure) {\n        var indexList = {};\n        for (var i = 0; i < store.indexNames.length; i++) {\n            var idx = store.__indexes[store.indexNames[i]];\n            /** @type {IDBIndexProperties} **/\n            indexList[idx.name] = {\n                columnName: idx.name,\n                keyPath: idx.keyPath,\n                optionalParams: {\n                    unique: idx.unique,\n                    multiEntry: idx.multiEntry\n                },\n                deleted: !!idx.deleted\n            };\n        }\n\n        idbModules.DEBUG && console.log(\"Updating the index list for \" + store.name, indexList);\n        tx.executeSql(\"UPDATE __sys__ set indexList = ? where name = ?\", [JSON.stringify(indexList), store.name], function() {\n            success(store);\n        }, failure);\n    };\n\n    /**\n     * Retrieves index data for the given key\n     * @param {*|IDBKeyRange} key\n     * @param {string} opType\n     * @returns {IDBRequest}\n     * @private\n     */\n    IDBIndex.prototype.__fetchIndexData = function(key, opType) {\n        var me = this;\n        var hasKey, encodedKey;\n\n        // key is optional\n        if (arguments.length === 1) {\n            opType = key;\n            hasKey = false;\n        }\n        else {\n            idbModules.Key.validate(key);\n            encodedKey = idbModules.Key.encode(key, me.multiEntry);\n            hasKey = true;\n        }\n\n        return me.objectStore.transaction.__addToTransactionQueue(function fetchIndexData(tx, args, success, error) {\n            var sql = [\"SELECT * FROM\", idbModules.util.quote(me.objectStore.name), \"WHERE\", idbModules.util.quote(me.name), \"NOT NULL\"];\n            var sqlValues = [];\n            if (hasKey) {\n                if (me.multiEntry) {\n                    sql.push(\"AND\", idbModules.util.quote(me.name), \"LIKE ?\");\n                    sqlValues.push(\"%\" + encodedKey + \"%\");\n                }\n                else {\n                    sql.push(\"AND\", idbModules.util.quote(me.name), \"= ?\");\n                    sqlValues.push(encodedKey);\n                }\n            }\n            idbModules.DEBUG && console.log(\"Trying to fetch data for Index\", sql.join(\" \"), sqlValues);\n            tx.executeSql(sql.join(\" \"), sqlValues, function(tx, data) {\n                var recordCount = 0, record = null;\n                if (me.multiEntry) {\n                    for (var i = 0; i < data.rows.length; i++) {\n                        var row = data.rows.item(i);\n                        var rowKey = idbModules.Key.decode(row[me.name]);\n                        if (hasKey && idbModules.Key.isMultiEntryMatch(encodedKey, row[me.name])) {\n                            recordCount++;\n                            record = record || row;\n                        }\n                        else if (!hasKey && rowKey !== undefined) {\n                            recordCount = recordCount + (rowKey instanceof Array ? rowKey.length : 1);\n                            record = record || row;\n                        }\n                    }\n                }\n                else {\n                    recordCount = data.rows.length;\n                    record = recordCount && data.rows.item(0);\n                }\n\n                if (opType === \"count\") {\n                    success(recordCount);\n                }\n                else if (recordCount === 0) {\n                    success(undefined);\n                }\n                else if (opType === \"key\") {\n                    success(idbModules.Key.decode(record.key));\n                }\n                else { // when opType is value\n                    success(idbModules.Sca.decode(record.value));\n                }\n            }, error);\n        });\n    };\n\n    /**\n     * Opens a cursor over the given key range.\n     * @param {IDBKeyRange} range\n     * @param {string} direction\n     * @returns {IDBRequest}\n     */\n    IDBIndex.prototype.openCursor = function(range, direction) {\n        return new idbModules.IDBCursor(range, direction, this.objectStore, this, this.name, \"value\").__req;\n    };\n\n    /**\n     * Opens a cursor over the given key range.  The cursor only includes key values, not data.\n     * @param {IDBKeyRange} range\n     * @param {string} direction\n     * @returns {IDBRequest}\n     */\n    IDBIndex.prototype.openKeyCursor = function(range, direction) {\n        return new idbModules.IDBCursor(range, direction, this.objectStore, this, this.name, \"key\").__req;\n    };\n\n    IDBIndex.prototype.get = function(key) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"No key was specified\");\n        }\n\n        return this.__fetchIndexData(key, \"value\");\n    };\n\n    IDBIndex.prototype.getKey = function(key) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"No key was specified\");\n        }\n\n        return this.__fetchIndexData(key, \"key\");\n    };\n\n    IDBIndex.prototype.count = function(key) {\n        // key is optional\n        if (key === undefined) {\n            return this.__fetchIndexData(\"count\");\n        }\n        else if (key instanceof idbModules.IDBKeyRange) {\n            return new idbModules.IDBCursor(key, \"next\", this.objectStore, this, this.name, \"value\", true).__req;\n        }\n        else {\n            return this.__fetchIndexData(key, \"count\");\n        }\n    };\n\n    idbModules.IDBIndex = IDBIndex;\n}(idbModules));\n\n(function(idbModules) {\n    'use strict';\n\n    /**\n     * IndexedDB Object Store\n     * http://dvcs.w3.org/hg/IndexedDB/raw-file/tip/Overview.html#idl-def-IDBObjectStore\n     * @param {IDBObjectStoreProperties} storeProperties\n     * @param {IDBTransaction} transaction\n     * @constructor\n     */\n    function IDBObjectStore(storeProperties, transaction) {\n        this.name = storeProperties.name;\n        this.keyPath = JSON.parse(storeProperties.keyPath);\n        this.transaction = transaction;\n\n        // autoInc is numeric (0/1) on WinPhone\n        this.autoIncrement = typeof storeProperties.autoInc === \"string\" ? storeProperties.autoInc === \"true\" : !!storeProperties.autoInc;\n\n        this.__indexes = {};\n        this.indexNames = new idbModules.util.StringList();\n        var indexList = JSON.parse(storeProperties.indexList);\n        for (var indexName in indexList) {\n            if (indexList.hasOwnProperty(indexName)) {\n                var index = new idbModules.IDBIndex(this, indexList[indexName]);\n                this.__indexes[index.name] = index;\n                if (!index.__deleted) {\n                    this.indexNames.push(index.name);\n                }\n            }\n        }\n    }\n\n    /**\n     * Clones an IDBObjectStore instance for a different IDBTransaction instance.\n     * @param {IDBObjectStore} store\n     * @param {IDBTransaction} transaction\n     * @protected\n     */\n    IDBObjectStore.__clone = function(store, transaction) {\n        var newStore = new IDBObjectStore({\n            name: store.name,\n            keyPath: JSON.stringify(store.keyPath),\n            autoInc: JSON.stringify(store.autoIncrement),\n            indexList: \"{}\"\n        }, transaction);\n        newStore.__indexes = store.__indexes;\n        newStore.indexNames = store.indexNames;\n        return newStore;\n    };\n\n    /**\n     * Creates a new object store in the database.\n     * @param {IDBDatabase} db\n     * @param {IDBObjectStore} store\n     * @protected\n     */\n    IDBObjectStore.__createObjectStore = function(db, store) {\n        // Add the object store to the IDBDatabase\n        db.__objectStores[store.name] = store;\n        db.objectStoreNames.push(store.name);\n\n        // Add the object store to WebSQL\n        var transaction = db.__versionTransaction;\n        idbModules.IDBTransaction.__assertVersionChange(transaction);\n        transaction.__addToTransactionQueue(function createObjectStore(tx, args, success, failure) {\n            function error(tx, err) {\n                throw idbModules.util.createDOMException(0, \"Could not create object store \\\"\" + store.name + \"\\\"\", err);\n            }\n\n            //key INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL UNIQUE\n            var sql = [\"CREATE TABLE\", idbModules.util.quote(store.name), \"(key BLOB\", store.autoIncrement ? \"UNIQUE, inc INTEGER PRIMARY KEY AUTOINCREMENT\" : \"PRIMARY KEY\", \", value BLOB)\"].join(\" \");\n            idbModules.DEBUG && console.log(sql);\n            tx.executeSql(sql, [], function(tx, data) {\n                tx.executeSql(\"INSERT INTO __sys__ VALUES (?,?,?,?)\", [store.name, JSON.stringify(store.keyPath), store.autoIncrement, \"{}\"], function() {\n                    success(store);\n                }, error);\n            }, error);\n        });\n    };\n\n    /**\n     * Deletes an object store from the database.\n     * @param {IDBDatabase} db\n     * @param {IDBObjectStore} store\n     * @protected\n     */\n    IDBObjectStore.__deleteObjectStore = function(db, store) {\n        // Remove the object store from the IDBDatabase\n        db.__objectStores[store.name] = undefined;\n        db.objectStoreNames.splice(db.objectStoreNames.indexOf(store.name), 1);\n\n        // Remove the object store from WebSQL\n        var transaction = db.__versionTransaction;\n        idbModules.IDBTransaction.__assertVersionChange(transaction);\n        transaction.__addToTransactionQueue(function deleteObjectStore(tx, args, success, failure) {\n            function error(tx, err) {\n                failure(idbModules.util.createDOMException(0, \"Could not delete ObjectStore\", err));\n            }\n\n            tx.executeSql(\"SELECT * FROM __sys__ where name = ?\", [store.name], function(tx, data) {\n                if (data.rows.length > 0) {\n                    tx.executeSql(\"DROP TABLE \" + idbModules.util.quote(store.name), [], function() {\n                        tx.executeSql(\"DELETE FROM __sys__ WHERE name = ?\", [store.name], function() {\n                            success();\n                        }, error);\n                    }, error);\n                }\n            });\n        });\n    };\n\n    /**\n     * Determines whether the given inline or out-of-line key is valid, according to the object store's schema.\n     * @param {*} value     Used for inline keys\n     * @param {*} key       Used for out-of-line keys\n     * @private\n     */\n    IDBObjectStore.prototype.__validateKey = function(value, key) {\n        if (this.keyPath) {\n            if (typeof key !== \"undefined\") {\n                throw idbModules.util.createDOMException(\"DataError\", \"The object store uses in-line keys and the key parameter was provided\", this);\n            }\n            else if (value && typeof value === \"object\") {\n                key = idbModules.Key.getValue(value, this.keyPath);\n                if (key === undefined) {\n                    if (this.autoIncrement) {\n                        // A key will be generated\n                        return;\n                    }\n                    else {\n                        throw idbModules.util.createDOMException(\"DataError\", \"Could not eval key from keyPath\");\n                    }\n                }\n            }\n            else {\n                throw idbModules.util.createDOMException(\"DataError\", \"KeyPath was specified, but value was not an object\");\n            }\n        }\n        else {\n            if (typeof key === \"undefined\") {\n                if (this.autoIncrement) {\n                    // A key will be generated\n                    return;\n                }\n                else {\n                    throw idbModules.util.createDOMException(\"DataError\", \"The object store uses out-of-line keys and has no key generator and the key parameter was not provided. \", this);\n                }\n            }\n        }\n\n        idbModules.Key.validate(key);\n    };\n\n    /**\n     * From the store properties and object, extracts the value for the key in hte object Store\n     * If the table has auto increment, get the next in sequence\n     * @param {Object} tx\n     * @param {Object} value\n     * @param {Object} key\n     * @param {function} success\n     * @param {function} failure\n     */\n    IDBObjectStore.prototype.__deriveKey = function(tx, value, key, success, failure) {\n        var me = this;\n\n        function getNextAutoIncKey(callback) {\n            tx.executeSql(\"SELECT * FROM sqlite_sequence where name like ?\", [me.name], function(tx, data) {\n                if (data.rows.length !== 1) {\n                    callback(1);\n                }\n                else {\n                    callback(data.rows.item(0).seq + 1);\n                }\n            }, function(tx, error) {\n                failure(idbModules.util.createDOMException(\"DataError\", \"Could not get the auto increment value for key\", error));\n            });\n        }\n\n        if (me.keyPath) {\n            var primaryKey = idbModules.Key.getValue(value, me.keyPath);\n            if (primaryKey === undefined && me.autoIncrement) {\n                getNextAutoIncKey(function(primaryKey) {\n                    try {\n                        // Update the value with the new key\n                        idbModules.Key.setValue(value, me.keyPath, primaryKey);\n                        success(primaryKey);\n                    }\n                    catch (e) {\n                        failure(idbModules.util.createDOMException(\"DataError\", \"Could not assign a generated value to the keyPath\", e));\n                    }\n                });\n            }\n            else {\n                success(primaryKey);\n            }\n        }\n        else {\n            if (typeof key === \"undefined\" && me.autoIncrement) {\n                // Looks like this has autoInc, so lets get the next in sequence and return that.\n                getNextAutoIncKey(success);\n            }\n            else {\n                success(key);\n            }\n        }\n    };\n\n    IDBObjectStore.prototype.__insertData = function(tx, encoded, value, primaryKey, success, error) {\n        try {\n            var paramMap = {};\n            if (typeof primaryKey !== \"undefined\") {\n                idbModules.Key.validate(primaryKey);\n                paramMap.key = idbModules.Key.encode(primaryKey);\n            }\n            for (var i = 0; i < this.indexNames.length; i++) {\n                var index = this.__indexes[this.indexNames[i]];\n                paramMap[index.name] = idbModules.Key.encode(idbModules.Key.getValue(value, index.keyPath), index.multiEntry);\n            }\n            var sqlStart = [\"INSERT INTO \", idbModules.util.quote(this.name), \"(\"];\n            var sqlEnd = [\" VALUES (\"];\n            var sqlValues = [];\n            for (var key in paramMap) {\n                sqlStart.push(idbModules.util.quote(key) + \",\");\n                sqlEnd.push(\"?,\");\n                sqlValues.push(paramMap[key]);\n            }\n            // removing the trailing comma\n            sqlStart.push(\"value )\");\n            sqlEnd.push(\"?)\");\n            sqlValues.push(encoded);\n\n            var sql = sqlStart.join(\" \") + sqlEnd.join(\" \");\n\n            idbModules.DEBUG && console.log(\"SQL for adding\", sql, sqlValues);\n            tx.executeSql(sql, sqlValues, function(tx, data) {\n                idbModules.Sca.encode(primaryKey, function(primaryKey) {\n                    primaryKey = idbModules.Sca.decode(primaryKey);\n                    success(primaryKey);\n                });\n            }, function(tx, err) {\n                error(idbModules.util.createDOMError(\"ConstraintError\", err.message, err));\n            });\n        }\n        catch (e) {\n            error(e);\n        }\n    };\n\n    IDBObjectStore.prototype.add = function(value, key) {\n        var me = this;\n        if (arguments.length === 0) {\n            throw new TypeError(\"No value was specified\");\n        }\n        this.__validateKey(value, key);\n        me.transaction.__assertWritable();\n\n        var request = me.transaction.__createRequest();\n        me.transaction.__pushToQueue(request, function objectStoreAdd(tx, args, success, error) {\n            me.__deriveKey(tx, value, key, function(primaryKey) {\n                idbModules.Sca.encode(value, function(encoded) {\n                    me.__insertData(tx, encoded, value, primaryKey, success, error);\n                });\n            }, error);\n        });\n        return request;\n    };\n\n    IDBObjectStore.prototype.put = function(value, key) {\n        var me = this;\n        if (arguments.length === 0) {\n            throw new TypeError(\"No value was specified\");\n        }\n        this.__validateKey(value, key);\n        me.transaction.__assertWritable();\n\n        var request = me.transaction.__createRequest();\n        me.transaction.__pushToQueue(request, function objectStorePut(tx, args, success, error) {\n            me.__deriveKey(tx, value, key, function(primaryKey) {\n                idbModules.Sca.encode(value, function(encoded) {\n                    // First try to delete if the record exists\n                    idbModules.Key.validate(primaryKey);\n                    var sql = \"DELETE FROM \" + idbModules.util.quote(me.name) + \" where key = ?\";\n                    tx.executeSql(sql, [idbModules.Key.encode(primaryKey)], function(tx, data) {\n                        idbModules.DEBUG && console.log(\"Did the row with the\", primaryKey, \"exist? \", data.rowsAffected);\n                        me.__insertData(tx, encoded, value, primaryKey, success, error);\n                    }, function(tx, err) {\n                        error(err);\n                    });\n                });\n            }, error);\n        });\n        return request;\n    };\n\n    IDBObjectStore.prototype.get = function(key) {\n        // TODO Key should also be a key range\n        var me = this;\n\n        if (arguments.length === 0) {\n            throw new TypeError(\"No key was specified\");\n        }\n\n        idbModules.Key.validate(key);\n        var primaryKey = idbModules.Key.encode(key);\n        return me.transaction.__addToTransactionQueue(function objectStoreGet(tx, args, success, error) {\n            idbModules.DEBUG && console.log(\"Fetching\", me.name, primaryKey);\n            tx.executeSql(\"SELECT * FROM \" + idbModules.util.quote(me.name) + \" where key = ?\", [primaryKey], function(tx, data) {\n                idbModules.DEBUG && console.log(\"Fetched data\", data);\n                var value;\n                try {\n                    // Opera can't deal with the try-catch here.\n                    if (0 === data.rows.length) {\n                        return success();\n                    }\n\n                    value = idbModules.Sca.decode(data.rows.item(0).value);\n                }\n                catch (e) {\n                    // If no result is returned, or error occurs when parsing JSON\n                    idbModules.DEBUG && console.log(e);\n                }\n                success(value);\n            }, function(tx, err) {\n                error(err);\n            });\n        });\n    };\n\n    IDBObjectStore.prototype[\"delete\"] = function(key) {\n        var me = this;\n\n        if (arguments.length === 0) {\n            throw new TypeError(\"No key was specified\");\n        }\n\n        me.transaction.__assertWritable();\n        idbModules.Key.validate(key);\n        var primaryKey = idbModules.Key.encode(key);\n        // TODO key should also support key ranges\n        return me.transaction.__addToTransactionQueue(function objectStoreDelete(tx, args, success, error) {\n            idbModules.DEBUG && console.log(\"Fetching\", me.name, primaryKey);\n            tx.executeSql(\"DELETE FROM \" + idbModules.util.quote(me.name) + \" where key = ?\", [primaryKey], function(tx, data) {\n                idbModules.DEBUG && console.log(\"Deleted from database\", data.rowsAffected);\n                success();\n            }, function(tx, err) {\n                error(err);\n            });\n        });\n    };\n\n    IDBObjectStore.prototype.clear = function() {\n        var me = this;\n        me.transaction.__assertWritable();\n        return me.transaction.__addToTransactionQueue(function objectStoreClear(tx, args, success, error) {\n            tx.executeSql(\"DELETE FROM \" + idbModules.util.quote(me.name), [], function(tx, data) {\n                idbModules.DEBUG && console.log(\"Cleared all records from database\", data.rowsAffected);\n                success();\n            }, function(tx, err) {\n                error(err);\n            });\n        });\n    };\n\n    IDBObjectStore.prototype.count = function(key) {\n        if (key instanceof idbModules.IDBKeyRange) {\n            return new idbModules.IDBCursor(key, \"next\", this, this, \"key\", \"value\", true).__req;\n        }\n        else {\n            var me = this;\n            var hasKey = false;\n\n            // key is optional\n            if (key !== undefined) {\n                hasKey = true;\n                idbModules.Key.validate(key);\n            }\n\n            return me.transaction.__addToTransactionQueue(function objectStoreCount(tx, args, success, error) {\n                var sql = \"SELECT * FROM \" + idbModules.util.quote(me.name) + (hasKey ? \" WHERE key = ?\" : \"\");\n                var sqlValues = [];\n                hasKey && sqlValues.push(idbModules.Key.encode(key));\n                tx.executeSql(sql, sqlValues, function(tx, data) {\n                    success(data.rows.length);\n                }, function(tx, err) {\n                    error(err);\n                });\n            });\n        }\n    };\n\n    IDBObjectStore.prototype.openCursor = function(range, direction) {\n        return new idbModules.IDBCursor(range, direction, this, this, \"key\", \"value\").__req;\n    };\n\n    IDBObjectStore.prototype.index = function(indexName) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"No index name was specified\");\n        }\n        var index = this.__indexes[indexName];\n        if (!index) {\n            throw idbModules.util.createDOMException(\"NotFoundError\", \"Index \\\"\" + indexName + \"\\\" does not exist on \" + this.name);\n        }\n\n        return idbModules.IDBIndex.__clone(index, this);\n    };\n\n    /**\n     * Creates a new index on the object store.\n     * @param {string} indexName\n     * @param {string} keyPath\n     * @param {object} optionalParameters\n     * @returns {IDBIndex}\n     */\n    IDBObjectStore.prototype.createIndex = function(indexName, keyPath, optionalParameters) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"No index name was specified\");\n        }\n        if (arguments.length === 1) {\n            throw new TypeError(\"No key path was specified\");\n        }\n        if (keyPath instanceof Array && optionalParameters && optionalParameters.multiEntry) {\n            throw idbModules.util.createDOMException(\"InvalidAccessError\", \"The keyPath argument was an array and the multiEntry option is true.\");\n        }\n        if (this.__indexes[indexName] && !this.__indexes[indexName].__deleted) {\n            throw idbModules.util.createDOMException(\"ConstraintError\", \"Index \\\"\" + indexName + \"\\\" already exists on \" + this.name);\n        }\n\n        this.transaction.__assertVersionChange();\n\n        optionalParameters = optionalParameters || {};\n        /** @name IDBIndexProperties **/\n        var indexProperties = {\n            columnName: indexName,\n            keyPath: keyPath,\n            optionalParams: {\n                unique: !!optionalParameters.unique,\n                multiEntry: !!optionalParameters.multiEntry\n            }\n        };\n        var index = new idbModules.IDBIndex(this, indexProperties);\n        idbModules.IDBIndex.__createIndex(this, index);\n        return index;\n    };\n\n    IDBObjectStore.prototype.deleteIndex = function(indexName) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"No index name was specified\");\n        }\n        var index = this.__indexes[indexName];\n        if (!index) {\n            throw idbModules.util.createDOMException(\"NotFoundError\", \"Index \\\"\" + indexName + \"\\\" does not exist on \" + this.name);\n        }\n        this.transaction.__assertVersionChange();\n\n        idbModules.IDBIndex.__deleteIndex(this, index);\n    };\n\n    idbModules.IDBObjectStore = IDBObjectStore;\n}(idbModules));\n\n(function(idbModules) {\n    'use strict';\n\n    var uniqueID = 0;\n\n    /**\n     * The IndexedDB Transaction\n     * http://dvcs.w3.org/hg/IndexedDB/raw-file/tip/Overview.html#idl-def-IDBTransaction\n     * @param {IDBDatabase} db\n     * @param {string[]} storeNames\n     * @param {string} mode\n     * @constructor\n     */\n    function IDBTransaction(db, storeNames, mode) {\n        this.__id = ++uniqueID; // for debugging simultaneous transactions\n        this.__active = true;\n        this.__running = false;\n        this.__errored = false;\n        this.__requests = [];\n        this.__storeNames = storeNames;\n        this.mode = mode;\n        this.db = db;\n        this.error = null;\n        this.onabort = this.onerror = this.oncomplete = null;\n\n        // Kick off the transaction as soon as all synchronous code is done.\n        var me = this;\n        setTimeout(function() { me.__executeRequests(); }, 0);\n    }\n\n    IDBTransaction.prototype.__executeRequests = function() {\n        if (this.__running) {\n            idbModules.DEBUG && console.log(\"Looks like the request set is already running\", this.mode);\n            return;\n        }\n\n        this.__running = true;\n        var me = this;\n\n        me.db.__db.transaction(function executeRequests(tx) {\n                me.__tx = tx;\n                var q = null, i = 0;\n\n                function success(result, req) {\n                    if (req) {\n                        q.req = req;// Need to do this in case of cursors\n                    }\n                    q.req.readyState = \"done\";\n                    q.req.result = result;\n                    delete q.req.error;\n                    var e = idbModules.util.createEvent(\"success\");\n                    idbModules.util.callback(\"onsuccess\", q.req, e);\n                    i++;\n                    executeNextRequest();\n                }\n\n                function error(tx, err) {\n                    err = idbModules.util.findError(arguments);\n                    try {\n                        // Fire an error event for the current IDBRequest\n                        q.req.readyState = \"done\";\n                        q.req.error = err || \"DOMError\";\n                        q.req.result = undefined;\n                        var e = idbModules.util.createEvent(\"error\", err);\n                        idbModules.util.callback(\"onerror\", q.req, e);\n                    }\n                    finally {\n                        // Fire an error event for the transaction\n                        transactionError(err);\n                    }\n                }\n\n                function executeNextRequest() {\n                    if (i >= me.__requests.length) {\n                        // All requests in the transaction are done\n                        me.__requests = [];\n                        if (me.__active) {\n                            me.__active = false;\n                            transactionFinished();\n                        }\n                    }\n                    else {\n                        try {\n                            q = me.__requests[i];\n                            q.op(tx, q.args, success, error);\n                        }\n                        catch (e) {\n                            error(e);\n                        }\n                    }\n                }\n\n                executeNextRequest();\n            },\n\n            function webSqlError(err) {\n                transactionError(err);\n            }\n        );\n\n        function transactionError(err) {\n            idbModules.util.logError(\"Error\", \"An error occurred in a transaction\", err);\n\n            if (me.__errored) {\n                // We've already called \"onerror\", \"onabort\", or thrown, so don't do it again.\n                return;\n            }\n\n            me.__errored = true;\n\n            if (!me.__active) {\n                // The transaction has already completed, so we can't call \"onerror\" or \"onabort\".\n                // So throw the error instead.\n                throw err;\n            }\n\n            try {\n                me.error = err;\n                var evt = idbModules.util.createEvent(\"error\");\n                idbModules.util.callback(\"onerror\", me, evt);\n                idbModules.util.callback(\"onerror\", me.db, evt);\n            }\n            finally {\n                me.abort();\n            }\n        }\n\n        function transactionFinished() {\n            idbModules.DEBUG && console.log(\"Transaction completed\");\n            var evt = idbModules.util.createEvent(\"complete\");\n            try {\n                idbModules.util.callback(\"oncomplete\", me, evt);\n                idbModules.util.callback(\"__oncomplete\", me, evt);\n            }\n            catch (e) {\n                // An error occurred in the \"oncomplete\" handler.\n                // It's too late to call \"onerror\" or \"onabort\". Throw a global error instead.\n                // (this may seem odd/bad, but it's how all native IndexedDB implementations work)\n                me.__errored = true;\n                throw e;\n            }\n        }\n    };\n\n    /**\n     * Creates a new IDBRequest for the transaction.\n     * NOTE: The transaction is not queued util you call {@link IDBTransaction#__pushToQueue}\n     * @returns {IDBRequest}\n     * @protected\n     */\n    IDBTransaction.prototype.__createRequest = function() {\n        var request = new idbModules.IDBRequest();\n        request.source = this.db;\n        request.transaction = this;\n        return request;\n    };\n\n    /**\n     * Adds a callback function to the transaction queue\n     * @param {function} callback\n     * @param {*} args\n     * @returns {IDBRequest}\n     * @protected\n     */\n    IDBTransaction.prototype.__addToTransactionQueue = function(callback, args) {\n        var request = this.__createRequest();\n        this.__pushToQueue(request, callback, args);\n        return request;\n    };\n\n    /**\n     * Adds an IDBRequest to the transaction queue\n     * @param {IDBRequest} request\n     * @param {function} callback\n     * @param {*} args\n     * @protected\n     */\n    IDBTransaction.prototype.__pushToQueue = function(request, callback, args) {\n        this.__assertActive();\n        this.__requests.push({\n            \"op\": callback,\n            \"args\": args,\n            \"req\": request\n        });\n    };\n\n    IDBTransaction.prototype.__assertActive = function() {\n        if (!this.__active) {\n            throw idbModules.util.createDOMException(\"TransactionInactiveError\", \"A request was placed against a transaction which is currently not active, or which is finished\");\n        }\n    };\n\n    IDBTransaction.prototype.__assertWritable = function() {\n        if (this.mode === IDBTransaction.READ_ONLY) {\n            throw idbModules.util.createDOMException(\"ReadOnlyError\", \"The transaction is read only\");\n        }\n    };\n\n    IDBTransaction.prototype.__assertVersionChange = function() {\n        IDBTransaction.__assertVersionChange(this);\n    };\n\n    IDBTransaction.__assertVersionChange = function(tx) {\n        if (!tx || tx.mode !== IDBTransaction.VERSION_CHANGE) {\n            throw idbModules.util.createDOMException(\"InvalidStateError\", \"Not a version transaction\");\n        }\n    };\n\n    /**\n     * Returns the specified object store.\n     * @param {string} objectStoreName\n     * @returns {IDBObjectStore}\n     */\n    IDBTransaction.prototype.objectStore = function(objectStoreName) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"No object store name was specified\");\n        }\n        if (!this.__active) {\n            throw idbModules.util.createDOMException(\"InvalidStateError\", \"A request was placed against a transaction which is currently not active, or which is finished\");\n        }\n        if (this.__storeNames.indexOf(objectStoreName) === -1 && this.mode !== IDBTransaction.VERSION_CHANGE) {\n            throw idbModules.util.createDOMException(\"NotFoundError\", objectStoreName + \" is not participating in this transaction\");\n        }\n        var store = this.db.__objectStores[objectStoreName];\n        if (!store) {\n            throw idbModules.util.createDOMException(\"NotFoundError\", objectStoreName + \" does not exist in \" + this.db.name);\n        }\n\n        return idbModules.IDBObjectStore.__clone(store, this);\n    };\n\n    IDBTransaction.prototype.abort = function() {\n        var me = this;\n        idbModules.DEBUG && console.log(\"The transaction was aborted\", me);\n        me.__active = false;\n        var evt = idbModules.util.createEvent(\"abort\");\n\n        // Fire the \"onabort\" event asynchronously, so errors don't bubble\n        setTimeout(function() {\n            idbModules.util.callback(\"onabort\", me, evt);\n        }, 0);\n    };\n\n    IDBTransaction.READ_ONLY = \"readonly\";\n    IDBTransaction.READ_WRITE = \"readwrite\";\n    IDBTransaction.VERSION_CHANGE = \"versionchange\";\n\n    idbModules.IDBTransaction = IDBTransaction;\n}(idbModules));\n\n(function(idbModules){\n    'use strict';\n\n    /**\n     * IDB Database Object\n     * http://dvcs.w3.org/hg/IndexedDB/raw-file/tip/Overview.html#database-interface\n     * @constructor\n     */\n    function IDBDatabase(db, name, version, storeProperties){\n        this.__db = db;\n        this.__closed = false;\n        this.version = version;\n        this.name = name;\n        this.onabort = this.onerror = this.onversionchange = null;\n\n        this.__objectStores = {};\n        this.objectStoreNames = new idbModules.util.StringList();\n        for (var i = 0; i < storeProperties.rows.length; i++) {\n            var store = new idbModules.IDBObjectStore(storeProperties.rows.item(i));\n            this.__objectStores[store.name] = store;\n            this.objectStoreNames.push(store.name);\n        }\n    }\n\n    /**\n     * Creates a new object store.\n     * @param {string} storeName\n     * @param {object} [createOptions]\n     * @returns {IDBObjectStore}\n     */\n    IDBDatabase.prototype.createObjectStore = function(storeName, createOptions){\n        if (arguments.length === 0) {\n            throw new TypeError(\"No object store name was specified\");\n        }\n        if (this.__objectStores[storeName]) {\n            throw idbModules.util.createDOMException(\"ConstraintError\", \"Object store \\\"\" + storeName + \"\\\" already exists in \" + this.name);\n        }\n        this.__versionTransaction.__assertVersionChange();\n\n        createOptions = createOptions || {};\n        /** @name IDBObjectStoreProperties **/\n        var storeProperties = {\n            name: storeName,\n            keyPath: JSON.stringify(createOptions.keyPath || null),\n            autoInc: JSON.stringify(createOptions.autoIncrement),\n            indexList: \"{}\"\n        };\n        var store = new idbModules.IDBObjectStore(storeProperties, this.__versionTransaction);\n        idbModules.IDBObjectStore.__createObjectStore(this, store);\n        return store;\n    };\n\n    /**\n     * Deletes an object store.\n     * @param {string} storeName\n     */\n    IDBDatabase.prototype.deleteObjectStore = function(storeName){\n        if (arguments.length === 0) {\n            throw new TypeError(\"No object store name was specified\");\n        }\n        var store = this.__objectStores[storeName];\n        if (!store) {\n            throw idbModules.util.createDOMException(\"NotFoundError\", \"Object store \\\"\" + storeName + \"\\\" does not exist in \" + this.name);\n        }\n        this.__versionTransaction.__assertVersionChange();\n\n        idbModules.IDBObjectStore.__deleteObjectStore(this, store);\n    };\n\n    IDBDatabase.prototype.close = function(){\n        this.__closed = true;\n    };\n\n    /**\n     * Starts a new transaction.\n     * @param {string|string[]} storeNames\n     * @param {string} mode\n     * @returns {IDBTransaction}\n     */\n    IDBDatabase.prototype.transaction = function(storeNames, mode){\n        if (this.__closed) {\n            throw idbModules.util.createDOMException(\"InvalidStateError\", \"An attempt was made to start a new transaction on a database connection that is not open\");\n        }\n\n        if (typeof mode === \"number\") {\n            mode = mode === 1 ? IDBTransaction.READ_WRITE : IDBTransaction.READ_ONLY;\n            idbModules.DEBUG && console.log(\"Mode should be a string, but was specified as \", mode);\n        }\n        else {\n            mode = mode || IDBTransaction.READ_ONLY;\n        }\n\n        if (mode !== IDBTransaction.READ_ONLY && mode !== IDBTransaction.READ_WRITE) {\n            throw new TypeError(\"Invalid transaction mode: \" + mode);\n        }\n\n        storeNames = typeof storeNames === \"string\" ? [storeNames] : storeNames;\n        if (storeNames.length === 0) {\n            throw idbModules.util.createDOMException(\"InvalidAccessError\", \"No object store names were specified\");\n        }\n        for (var i = 0; i < storeNames.length; i++) {\n            if (!this.objectStoreNames.contains(storeNames[i])) {\n                throw idbModules.util.createDOMException(\"NotFoundError\", \"The \\\"\" + storeNames[i] + \"\\\" object store does not exist\");\n            }\n        }\n\n        var transaction = new idbModules.IDBTransaction(this, storeNames, mode);\n        return transaction;\n    };\n    \n    idbModules.IDBDatabase = IDBDatabase;\n}(idbModules));\n\n(function(idbModules) {\n    'use strict';\n\n    var DEFAULT_DB_SIZE = 4 * 1024 * 1024;\n    var sysdb;\n\n    /**\n     * Craetes the sysDB to keep track of version numbers for databases\n     **/\n    function createSysDB(success, failure) {\n        function sysDbCreateError(tx, err) {\n            err = idbModules.util.findError(arguments);\n            idbModules.DEBUG && console.log(\"Error in sysdb transaction - when creating dbVersions\", err);\n            failure(err);\n        }\n\n        if (sysdb) {\n            success();\n        }\n        else {\n            sysdb = window.openDatabase(\"__sysdb__\", 1, \"System Database\", DEFAULT_DB_SIZE);\n            sysdb.transaction(function(tx) {\n                tx.executeSql(\"CREATE TABLE IF NOT EXISTS dbVersions (name VARCHAR(255), version INT);\", [], success, sysDbCreateError);\n            }, sysDbCreateError);\n        }\n    }\n\n    /**\n     * IDBFactory Class\n     * https://w3c.github.io/IndexedDB/#idl-def-IDBFactory\n     * @constructor\n     */\n    function IDBFactory() {\n        this.modules = idbModules;\n    }\n\n    /**\n     * The IndexedDB Method to create a new database and return the DB\n     * @param {string} name\n     * @param {number} version\n     */\n    IDBFactory.prototype.open = function(name, version) {\n        var req = new idbModules.IDBOpenDBRequest();\n        var calledDbCreateError = false;\n\n        if (arguments.length === 0) {\n            throw new TypeError('Database name is required');\n        }\n        else if (arguments.length === 2) {\n            version = parseFloat(version);\n            if (isNaN(version) || !isFinite(version) || version <= 0) {\n                throw new TypeError('Invalid database version: ' + version);\n            }\n        }\n        name = name + ''; // cast to a string\n\n        function dbCreateError(tx, err) {\n            if (calledDbCreateError) {\n                return;\n            }\n            err = idbModules.util.findError(arguments);\n            calledDbCreateError = true;\n            var evt = idbModules.util.createEvent(\"error\", arguments);\n            req.readyState = \"done\";\n            req.error = err || \"DOMError\";\n            idbModules.util.callback(\"onerror\", req, evt);\n        }\n\n        function openDB(oldVersion) {\n            var db = window.openDatabase(name, 1, name, DEFAULT_DB_SIZE);\n            req.readyState = \"done\";\n            if (typeof version === \"undefined\") {\n                version = oldVersion || 1;\n            }\n            if (version <= 0 || oldVersion > version) {\n                var err = idbModules.util.createDOMError(\"VersionError\", \"An attempt was made to open a database using a lower version than the existing version.\", version);\n                dbCreateError(err);\n                return;\n            }\n\n            db.transaction(function(tx) {\n                tx.executeSql(\"CREATE TABLE IF NOT EXISTS __sys__ (name VARCHAR(255), keyPath VARCHAR(255), autoInc BOOLEAN, indexList BLOB)\", [], function() {\n                    tx.executeSql(\"SELECT * FROM __sys__\", [], function(tx, data) {\n                        var e = idbModules.util.createEvent(\"success\");\n                        req.source = req.result = new idbModules.IDBDatabase(db, name, version, data);\n                        if (oldVersion < version) {\n                            // DB Upgrade in progress\n                            sysdb.transaction(function(systx) {\n                                systx.executeSql(\"UPDATE dbVersions set version = ? where name = ?\", [version, name], function() {\n                                    var e = idbModules.util.createEvent(\"upgradeneeded\");\n                                    e.oldVersion = oldVersion;\n                                    e.newVersion = version;\n                                    req.transaction = req.result.__versionTransaction = new idbModules.IDBTransaction(req.source, [], idbModules.IDBTransaction.VERSION_CHANGE);\n                                    req.transaction.__addToTransactionQueue(function onupgradeneeded(tx, args, success) {\n                                        idbModules.util.callback(\"onupgradeneeded\", req, e);\n                                        success();\n                                    });\n                                    req.transaction.__oncomplete = function() {\n                                        req.transaction = null;\n                                        var e = idbModules.util.createEvent(\"success\");\n                                        idbModules.util.callback(\"onsuccess\", req, e);\n                                    };\n                                }, dbCreateError);\n                            }, dbCreateError);\n                        } else {\n                            idbModules.util.callback(\"onsuccess\", req, e);\n                        }\n                    }, dbCreateError);\n                }, dbCreateError);\n            }, dbCreateError);\n        }\n\n        createSysDB(function() {\n            sysdb.transaction(function(tx) {\n                tx.executeSql(\"SELECT * FROM dbVersions where name = ?\", [name], function(tx, data) {\n                    if (data.rows.length === 0) {\n                        // Database with this name does not exist\n                        tx.executeSql(\"INSERT INTO dbVersions VALUES (?,?)\", [name, version || 1], function() {\n                            openDB(0);\n                        }, dbCreateError);\n                    } else {\n                        openDB(data.rows.item(0).version);\n                    }\n                }, dbCreateError);\n            }, dbCreateError);\n        }, dbCreateError);\n\n        return req;\n    };\n\n    /**\n     * Deletes a database\n     * @param {string} name\n     * @returns {IDBOpenDBRequest}\n     */\n    IDBFactory.prototype.deleteDatabase = function(name) {\n        var req = new idbModules.IDBOpenDBRequest();\n        var calledDBError = false;\n        var version = null;\n\n        if (arguments.length === 0) {\n            throw new TypeError('Database name is required');\n        }\n        name = name + ''; // cast to a string\n\n        function dbError(tx, err) {\n            if (calledDBError) {\n                return;\n            }\n            err = idbModules.util.findError(arguments);\n            req.readyState = \"done\";\n            req.error = err || \"DOMError\";\n            var e = idbModules.util.createEvent(\"error\");\n            e.debug = arguments;\n            idbModules.util.callback(\"onerror\", req, e);\n            calledDBError = true;\n        }\n\n        function deleteFromDbVersions() {\n            sysdb.transaction(function(systx) {\n                systx.executeSql(\"DELETE FROM dbVersions where name = ? \", [name], function() {\n                    req.result = undefined;\n                    var e = idbModules.util.createEvent(\"success\");\n                    e.newVersion = null;\n                    e.oldVersion = version;\n                    idbModules.util.callback(\"onsuccess\", req, e);\n                }, dbError);\n            }, dbError);\n        }\n\n        createSysDB(function() {\n            sysdb.transaction(function(systx) {\n                systx.executeSql(\"SELECT * FROM dbVersions where name = ?\", [name], function(tx, data) {\n                    if (data.rows.length === 0) {\n                        req.result = undefined;\n                        var e = idbModules.util.createEvent(\"success\");\n                        e.newVersion = null;\n                        e.oldVersion = version;\n                        idbModules.util.callback(\"onsuccess\", req, e);\n                        return;\n                    }\n                    version = data.rows.item(0).version;\n                    var db = window.openDatabase(name, 1, name, DEFAULT_DB_SIZE);\n                    db.transaction(function(tx) {\n                        tx.executeSql(\"SELECT * FROM __sys__\", [], function(tx, data) {\n                            var tables = data.rows;\n                            (function deleteTables(i) {\n                                if (i >= tables.length) {\n                                    // If all tables are deleted, delete the housekeeping tables\n                                    tx.executeSql(\"DROP TABLE IF EXISTS __sys__\", [], function() {\n                                        // Finally, delete the record for this DB from sysdb\n                                        deleteFromDbVersions();\n                                    }, dbError);\n                                } else {\n                                    // Delete all tables in this database, maintained in the sys table\n                                    tx.executeSql(\"DROP TABLE \" + idbModules.util.quote(tables.item(i).name), [], function() {\n                                        deleteTables(i + 1);\n                                    }, function() {\n                                        deleteTables(i + 1);\n                                    });\n                                }\n                            }(0));\n                        }, function(e) {\n                            // __sysdb table does not exist, but that does not mean delete did not happen\n                            deleteFromDbVersions();\n                        });\n                    });\n                }, dbError);\n            }, dbError);\n        }, dbError);\n\n        return req;\n    };\n\n    /**\n     * Compares two keys\n     * @param key1\n     * @param key2\n     * @returns {number}\n     */\n    IDBFactory.prototype.cmp = function(key1, key2) {\n        if (arguments.length < 2) {\n            throw new TypeError(\"You must provide two keys to be compared\");\n        }\n\n        idbModules.Key.validate(key1);\n        idbModules.Key.validate(key2);\n        var encodedKey1 = idbModules.Key.encode(key1);\n        var encodedKey2 = idbModules.Key.encode(key2);\n        var result = encodedKey1 > encodedKey2 ? 1 : encodedKey1 === encodedKey2 ? 0 : -1;\n        \n        if (idbModules.DEBUG) {\n            // verify that the keys encoded correctly\n            var decodedKey1 = idbModules.Key.decode(encodedKey1);\n            var decodedKey2 = idbModules.Key.decode(encodedKey2);\n            if (typeof key1 === \"object\") {\n                key1 = JSON.stringify(key1);\n                decodedKey1 = JSON.stringify(decodedKey1);\n            }\n            if (typeof key2 === \"object\") {\n                key2 = JSON.stringify(key2);\n                decodedKey2 = JSON.stringify(decodedKey2);\n            }\n\n            // encoding/decoding mismatches are usually due to a loss of floating-point precision\n            if (decodedKey1 !== key1) {\n                console.warn(key1 + ' was incorrectly encoded as ' + decodedKey1);\n            }\n            if (decodedKey2 !== key2) {\n                console.warn(key2 + ' was incorrectly encoded as ' + decodedKey2);\n            }\n        }\n        \n        return result;\n    };\n\n\n    idbModules.shimIndexedDB = new IDBFactory();\n    idbModules.IDBFactory = IDBFactory;\n}(idbModules));\n\n(function(window, idbModules){\n    'use strict';\n\n    function shim(name, value) {\n        try {\n            // Try setting the property. This will fail if the property is read-only.\n            window[name] = value;\n        }\n        catch (e) {}\n\n        if (window[name] !== value && Object.defineProperty) {\n            // Setting a read-only property failed, so try re-defining the property\n            try {\n                Object.defineProperty(window, name, {\n                    value: value\n                });\n            }\n            catch (e) {}\n\n            if (window[name] !== value) {\n                window.console && console.warn && console.warn('Unable to shim ' + name);\n            }\n        }\n    }\n\n    shim('shimIndexedDB', idbModules.shimIndexedDB);\n    if (window.shimIndexedDB) {\n        window.shimIndexedDB.__useShim = function(){\n            if (typeof window.openDatabase !== \"undefined\") {\n                // Polyfill ALL of IndexedDB, using WebSQL\n                shim('indexedDB', idbModules.shimIndexedDB);\n                shim('IDBFactory', idbModules.IDBFactory);\n                shim('IDBDatabase', idbModules.IDBDatabase);\n                shim('IDBObjectStore', idbModules.IDBObjectStore);\n                shim('IDBIndex', idbModules.IDBIndex);\n                shim('IDBTransaction', idbModules.IDBTransaction);\n                shim('IDBCursor', idbModules.IDBCursor);\n                shim('IDBKeyRange', idbModules.IDBKeyRange);\n                shim('IDBRequest', idbModules.IDBRequest);\n                shim('IDBOpenDBRequest', idbModules.IDBOpenDBRequest);\n                shim('IDBVersionChangeEvent', idbModules.IDBVersionChangeEvent);\n            }\n            else if (typeof window.indexedDB === \"object\") {\n                // Polyfill the missing IndexedDB features\n                idbModules.polyfill();\n            }\n        };\n\n        window.shimIndexedDB.__debug = function(val){\n            idbModules.DEBUG = val;\n        };\n    }\n    \n    // Workaround to prevent an error in Firefox\n    if(!('indexedDB' in window)) {\n        window.indexedDB = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.oIndexedDB || window.msIndexedDB;\n    }\n    \n    // Detect browsers with known IndexedDb issues (e.g. Android pre-4.4)\n    var poorIndexedDbSupport = false;\n    if (navigator.userAgent.match(/Android 2/) || navigator.userAgent.match(/Android 3/) || navigator.userAgent.match(/Android 4\\.[0-3]/)) {\n        /* Chrome is an exception. It supports IndexedDb */\n        if (!navigator.userAgent.match(/Chrome/)) {\n            poorIndexedDbSupport = true;\n        }\n    }\n\n    if ((typeof window.indexedDB === \"undefined\" || !window.indexedDB || poorIndexedDbSupport) && typeof window.openDatabase !== \"undefined\") {\n        window.shimIndexedDB.__useShim();\n    }\n    else {\n        window.IDBDatabase = window.IDBDatabase || window.webkitIDBDatabase;\n        window.IDBTransaction = window.IDBTransaction || window.webkitIDBTransaction;\n        window.IDBCursor = window.IDBCursor || window.webkitIDBCursor;\n        window.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange;\n        if(!window.IDBTransaction){\n            window.IDBTransaction = {};\n        }\n        /* Some browsers (e.g. Chrome 18 on Android) support IndexedDb but do not allow writing of these properties */\n        try {\n            window.IDBTransaction.READ_ONLY = window.IDBTransaction.READ_ONLY || \"readonly\";\n            window.IDBTransaction.READ_WRITE = window.IDBTransaction.READ_WRITE || \"readwrite\";\n        } catch (e) {}\n    }\n    \n}(window, idbModules));\n\n\n},{}],15:[function(require,module,exports){\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n},{}],16:[function(require,module,exports){\n'use strict';\n\nvar toStr = Object.prototype.toString;\n\nvar isStandardArguments = function isArguments(value) {\n\treturn toStr.call(value) === '[object Arguments]';\n};\n\nvar isLegacyArguments = function isArguments(value) {\n\tif (isStandardArguments(value)) {\n\t\treturn true;\n\t}\n\treturn value !== null &&\n\t\ttypeof value === 'object' &&\n\t\ttypeof value.length === 'number' &&\n\t\tvalue.length >= 0 &&\n\t\ttoStr.call(value) !== '[object Array]' &&\n\t\ttoStr.call(value.callee) === '[object Function]';\n};\n\nvar supportsStandardArguments = (function () {\n\treturn isStandardArguments(arguments);\n}());\n\nisStandardArguments.isLegacyArguments = isLegacyArguments; // for tests\n\nmodule.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;\n\n},{}],17:[function(require,module,exports){\nmodule.exports = isFunction\n\nvar toString = Object.prototype.toString\n\nfunction isFunction (fn) {\n  var string = toString.call(fn)\n  return string === '[object Function]' ||\n    (typeof fn === 'function' && string !== '[object RegExp]') ||\n    (typeof window !== 'undefined' &&\n     // IE8 and below\n     (fn === window.setTimeout ||\n      fn === window.alert ||\n      fn === window.confirm ||\n      fn === window.prompt))\n};\n\n},{}],18:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Log = undefined;\n\nvar _loglevel = require('loglevel');\n\nvar _loglevel2 = _interopRequireDefault(_loglevel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar originalFactory = _loglevel2.default.methodFactory;\n\n_loglevel2.default.methodFactory = function methodFactory(methodName, logLevel, loggerName) {\n  var rawMethod = originalFactory(methodName, logLevel, loggerName);\n\n  return function log(message) {\n    rawMethod('Kinvey: ' + message);\n  };\n};\n\n_loglevel2.default.setLevel(_loglevel2.default.levels.ERROR);\nexports.Log = _loglevel2.default;\n\n},{\"loglevel\":246}],19:[function(require,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Acl = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _errors = require('./errors');\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar aclAttribute = process.env.KINVEY_ACL_ATTRIBUTE || '_acl';\n\n/**\n * Wrapper for reading and setting permissions on an entity level.\n *\n * @example\n * var entity = { _acl: {} };\n * var acl = new Kinvey.Acl(entity);\n */\n\nvar Acl = exports.Acl = function () {\n  function Acl() {\n    var entity = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    _classCallCheck(this, Acl);\n\n    if (!(0, _isPlainObject2.default)(entity)) {\n      throw new _errors.KinveyError('entity argument must be an object');\n    }\n\n    /**\n     * The kmd properties.\n     *\n     * @private\n     * @type {Object}\n     */\n    this.acl = entity[aclAttribute];\n  }\n\n  _createClass(Acl, [{\n    key: 'addReader',\n    value: function addReader(user) {\n      var r = this.acl.r || [];\n\n      if (r.indexOf(user) === -1) {\n        r.push(user);\n      }\n\n      this.acl.r = r;\n      return this;\n    }\n  }, {\n    key: 'addReaderGroup',\n    value: function addReaderGroup(group) {\n      var groups = this.acl.groups || {};\n      var r = groups.r || [];\n\n      if (r.indexOf(group) === -1) {\n        r.push(group);\n      }\n\n      groups.r = r;\n      this.acl.groups = groups;\n      return this;\n    }\n  }, {\n    key: 'addWriter',\n    value: function addWriter(user) {\n      var w = this.acl.w || [];\n\n      if (w.indexOf(user) === -1) {\n        w.push(user);\n      }\n\n      this.acl.w = w;\n      return this;\n    }\n  }, {\n    key: 'addWriterGroup',\n    value: function addWriterGroup(group) {\n      var groups = this.acl.groups || {};\n      var w = groups.w || [];\n\n      if (w.indexOf(group) === -1) {\n        w.push(group);\n      }\n\n      groups.w = w;\n      this.acl.groups = groups;\n      return this;\n    }\n  }, {\n    key: 'isGloballyReadable',\n    value: function isGloballyReadable() {\n      return this.acl.gr || false;\n    }\n  }, {\n    key: 'isGloballyWritable',\n    value: function isGloballyWritable() {\n      return this.acl.gw || false;\n    }\n  }, {\n    key: 'removeReader',\n    value: function removeReader(user) {\n      var r = this.acl.r || [];\n      var pos = r.indexOf(user);\n\n      if (pos !== -1) {\n        r.splice(pos, 1);\n      }\n\n      this.acl.r = r;\n      return this;\n    }\n  }, {\n    key: 'removeReaderGroup',\n    value: function removeReaderGroup(group) {\n      var groups = this.acl.groups || {};\n      var r = groups.r || [];\n      var pos = r.indexOf(group);\n\n      if (pos !== -1) {\n        r.splice(pos, 1);\n      }\n\n      groups.r = r;\n      this.acl.groups = groups;\n      return this;\n    }\n  }, {\n    key: 'removeWriter',\n    value: function removeWriter(user) {\n      var w = this.acl.w || [];\n      var pos = w.indexOf(user);\n\n      if (pos !== -1) {\n        w.splice(pos, 1);\n      }\n\n      this.acl.w = w;\n      return this;\n    }\n  }, {\n    key: 'removeWriterGroup',\n    value: function removeWriterGroup(group) {\n      var groups = this.acl.groups || {};\n      var w = groups.w || [];\n      var pos = w.indexOf(group);\n\n      if (pos !== -1) {\n        w.splice(pos, 1);\n      }\n\n      groups.w = w;\n      this.acl.groups = groups;\n      return this;\n    }\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      return this.acl;\n    }\n  }, {\n    key: 'creator',\n    get: function get() {\n      return this.acl.creator;\n    }\n  }, {\n    key: 'readers',\n    get: function get() {\n      return this.acl.r || [];\n    }\n  }, {\n    key: 'writers',\n    get: function get() {\n      return this.acl.w || [];\n    }\n  }, {\n    key: 'readerGroups',\n    get: function get() {\n      return this.acl.groups ? this.acl.groups.r : [];\n    }\n  }, {\n    key: 'writerGroups',\n    get: function get() {\n      return this.acl.groups ? this.acl.groups.w : [];\n    }\n  }, {\n    key: 'globallyReadable',\n    set: function set(gr) {\n      this.acl.gr = gr || false;\n    }\n  }, {\n    key: 'globallyWritable',\n    set: function set(gw) {\n      this.acl.gw = gw || false;\n    }\n  }]);\n\n  return Acl;\n}();\n\n}).call(this,require('_process'))\n\n},{\"./errors\":24,\"_process\":249,\"lodash/isPlainObject\":222}],20:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Aggregation = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _errors = require('./errors');\n\nvar _query2 = require('./query');\n\nvar _result = require('lodash/result');\n\nvar _result2 = _interopRequireDefault(_result);\n\nvar _assign = require('lodash/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _forEach = require('lodash/forEach');\n\nvar _forEach2 = _interopRequireDefault(_forEach);\n\nvar _isObject = require('lodash/isObject');\n\nvar _isObject2 = _interopRequireDefault(_isObject);\n\nvar _isString = require('lodash/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _isFunction = require('lodash/isFunction');\n\nvar _isFunction2 = _interopRequireDefault(_isFunction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Aggregation = function () {\n  function Aggregation(options) {\n    _classCallCheck(this, Aggregation);\n\n    options = (0, _assign2.default)({\n      query: null,\n      initial: {},\n      key: {},\n      reduce: function () {}.toString()\n    }, options);\n\n    this.query(options.query);\n    this._initial = options.initial;\n    this._key = options.key;\n    this._reduce = options.reduce;\n  }\n\n  _createClass(Aggregation, [{\n    key: 'by',\n    value: function by(field) {\n      this._key[field] = true;\n      return this;\n    }\n  }, {\n    key: 'initial',\n    value: function initial(objectOrKey, value) {\n      if (typeof value === 'undefined' && !(0, _isObject2.default)(objectOrKey)) {\n        throw new _errors.KinveyError('objectOrKey argument must be an Object.');\n      }\n\n      if ((0, _isObject2.default)(objectOrKey)) {\n        this._initial = objectOrKey;\n      } else {\n        this._initial[objectOrKey] = value;\n      }\n\n      return this;\n    }\n  }, {\n    key: 'query',\n    value: function query(_query) {\n      if (_query && !(_query instanceof _query2.Query)) {\n        _query = new _query2.Query((0, _result2.default)(_query, 'toJSON', _query));\n      }\n\n      this._query = _query;\n      return this;\n    }\n  }, {\n    key: 'process',\n    value: function process() {\n      var entities = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n      var groups = {};\n      var response = [];\n      var aggregation = this.toJSON();\n      var reduce = aggregation.reduce.replace(/function[\\s\\S]*?\\([\\s\\S]*?\\)/, '');\n      aggregation.reduce = new Function(['doc', 'out'], reduce); // eslint-disable-line no-new-func\n\n      if (this._query) {\n        entities = this._query.process(entities);\n      }\n\n      (0, _forEach2.default)(entities, function (entity) {\n        var group = {};\n\n        for (var name in entity) {\n          if (entity.hasOwnProperty(name)) {\n            group[name] = entity[name];\n          }\n        }\n\n        var key = JSON.stringify(group);\n        if (!groups[key]) {\n          groups[key] = group;\n\n          for (var attr in aggregation.initial) {\n            if (aggregation.initial.hasOwnProperty(attr)) {\n              groups[key][attr] = aggregation.initial[attr];\n            }\n          }\n        }\n\n        aggregation.reduce(entity, groups[key]);\n      });\n\n      for (var segment in groups) {\n        if (groups.hasOwnProperty(segment)) {\n          response.push(groups[segment]);\n        }\n      }\n\n      return response;\n    }\n  }, {\n    key: 'reduce',\n    value: function reduce(fn) {\n      if ((0, _isFunction2.default)(fn)) {\n        fn = fn.toString();\n      }\n\n      if (!(0, _isString2.default)(fn)) {\n        throw new _errors.KinveyError('fn argument must be of type function or string.');\n      }\n\n      this._reduce = fn;\n      return this;\n    }\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      var json = {\n        key: this._key,\n        initial: this._initial,\n        reduce: this._reduce,\n        condition: this._query ? this._query.toJSON().filter : {},\n        query: this._query ? this._query.toJSON() : null\n      };\n\n      return json;\n    }\n  }], [{\n    key: 'count',\n    value: function count() {\n      var field = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\n\n      var aggregation = new Aggregation();\n\n      if (field) {\n        aggregation.by(field);\n      }\n\n      aggregation.initial({ result: 0 });\n      aggregation.reduce(function (doc, out) {\n        out.result += 1;\n      });\n      return aggregation;\n    }\n  }, {\n    key: 'sum',\n    value: function sum() {\n      var field = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\n\n      field = field.replace('\\'', '\\\\\\'');\n\n      var aggregation = new Aggregation();\n      aggregation.initial({ result: 0 });\n      aggregation.reduce('function(doc, out) { ' + (' out.result += doc[\"' + field + '\"]; ') + '}');\n      return aggregation;\n    }\n  }, {\n    key: 'min',\n    value: function min() {\n      var field = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\n\n      field = field.replace('\\'', '\\\\\\'');\n\n      var aggregation = new Aggregation();\n      aggregation.initial({ result: Infinity });\n      aggregation.reduce('function(doc, out) { ' + (' out.result = Math.min(out.result, doc[\"' + field + '\"]); ') + '}');\n      return aggregation;\n    }\n  }, {\n    key: 'max',\n    value: function max() {\n      var field = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\n\n      field = field.replace('\\'', '\\\\\\'');\n\n      var aggregation = new Aggregation();\n      aggregation.initial({ result: -Infinity });\n      aggregation.reduce('function(doc, out) { ' + (' out.result = Math.max(out.result, doc[\"' + field + '\"]); ') + '}');\n      return aggregation;\n    }\n  }, {\n    key: 'average',\n    value: function average() {\n      var field = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\n\n      field = field.replace('\\'', '\\\\\\'');\n\n      var aggregation = new Aggregation();\n      aggregation.initial({ count: 0, result: 0 });\n      aggregation.reduce('function(doc, out) { ' + (' out.result = (out.result * out.count + doc[\"' + field + '\"]) / (out.count + 1);') + ' out.count += 1;' + '}');\n      return aggregation;\n    }\n  }]);\n\n  return Aggregation;\n}();\n\nexports.Aggregation = Aggregation;\n\n},{\"./errors\":24,\"./query\":29,\"lodash/assign\":200,\"lodash/forEach\":206,\"lodash/isFunction\":216,\"lodash/isObject\":220,\"lodash/isString\":224,\"lodash/result\":238}],21:[function(require,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Client = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _errors = require('./errors');\n\nvar _localStorage = require('local-storage');\n\nvar _localStorage2 = _interopRequireDefault(_localStorage);\n\nvar _url = require('url');\n\nvar _url2 = _interopRequireDefault(_url);\n\nvar _assign = require('lodash/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _isString = require('lodash/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar activeUserCollectionName = process.env.KINVEY_ACTIVE_USER_COLLECTION_NAME || 'kinvey_activeUser';\nvar activeSocialIdentityTokenCollectionName = process.env.KINVEY_ACTIVE_SOCIAL_IDENTITY_TOKEN_COLLECTION_NAME || 'kinvey_activeSocialIdentityToken';\nvar _sharedInstance = void 0;\n\n/**\n * The Client class stores information regarding your application. You can create mutiple clients\n * to send requests to different environments on the Kinvey platform.\n *\n * @example\n * var client = new Kinvey.Client({\n *   appKey: '<appKey>',\n *   appSecret: '<appSecret>'\n * });\n */\n\nvar Client = exports.Client = function () {\n  /**\n   * Creates a new instance of the Client class. An `options.appKey` must be provided along with\n   * either and `options.appSecret` or `options.masterSecret`.\n   *\n   * @param {Object}    options                             Options\n   * @param {string}    [options.protocol='https']          Protocl used for requests\n   * @param {string}    [options.host='baas.kinvey.com']    Host used for requests\n   * @param {string}    options.appKey                      App Key\n   * @param {string}    [options.appSecret]                 App Secret\n   * @param {string}    [options.masterSecret]              App Master Secret\n   * @param {string}    [options.encryptionKey]             App Encryption Key\n   *\n   * @throws {KinveyError}  If an `options.appKey` is not provided.\n   * @throws {KinveyError}  If neither an `options.appSecret` or `options.masterSecret` is provided.\n   */\n\n  function Client() {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    _classCallCheck(this, Client);\n\n    options = (0, _assign2.default)({\n      protocol: process.env.KINVEY_API_PROTOCOL || 'https:',\n      host: process.env.KINVEY_API_HOST || 'baas.kinvey.com'\n    }, options);\n\n    if (!options.appKey && !options.appId) {\n      throw new _errors.KinveyError('No App Key was provided. ' + 'Unable to create a new Client without an App Key.');\n    }\n\n    if (!options.appSecret && !options.masterSecret) {\n      throw new _errors.KinveyError('No App Secret or Master Secret was provided. ' + 'Unable to create a new Client without an App Key.');\n    }\n\n    if (options.hostname && (0, _isString2.default)(options.hostname)) {\n      var hostnameParsed = _url2.default.parse(options.hostname);\n      options.protocol = hostnameParsed.protocol;\n      options.host = hostnameParsed.host;\n    }\n\n    /**\n     * @type {string}\n     */\n    this.protocol = options.protocol;\n\n    /**\n     * @type {string}\n     */\n    this.host = options.host;\n\n    /**\n     * @type {string}\n     */\n    this.appKey = options.appKey || options.appId;\n\n    /**\n     * @type {string|undefined}\n     */\n    this.appSecret = options.appSecret;\n\n    /**\n     * @type {string|undefined}\n     */\n    this.masterSecret = options.masterSecret;\n\n    /**\n     * @type {string|undefined}\n     */\n    this.encryptionKey = options.encryptionKey;\n  }\n\n  _createClass(Client, [{\n    key: 'getActiveUserData',\n    value: function getActiveUserData() {\n      return _localStorage2.default.get('' + this.appKey + activeUserCollectionName);\n    }\n  }, {\n    key: 'setActiveUserData',\n    value: function setActiveUserData(data) {\n      if (data) {\n        try {\n          return _localStorage2.default.set('' + this.appKey + activeUserCollectionName, data);\n        } catch (error) {\n          return false;\n        }\n      }\n\n      return _localStorage2.default.remove('' + this.appKey + activeUserCollectionName);\n    }\n  }, {\n    key: 'getActiveSocialIdentity',\n    value: function getActiveSocialIdentity() {\n      return _localStorage2.default.get('' + this.appKey + activeSocialIdentityTokenCollectionName);\n    }\n  }, {\n    key: 'setActiveSocialIdentity',\n    value: function setActiveSocialIdentity(socialIdentity) {\n      if (socialIdentity) {\n        try {\n          return _localStorage2.default.set('' + this.appKey + activeSocialIdentityTokenCollectionName, socialIdentity);\n        } catch (error) {\n          return false;\n        }\n      }\n\n      return _localStorage2.default.remove('' + this.appKey + activeSocialIdentityTokenCollectionName);\n    }\n\n    /**\n     * Returns an object containing all the information for this Client.\n     *\n     * @return {Object} JSON\n     */\n\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      var json = {\n        protocol: this.protocol,\n        host: this.host,\n        appKey: this.appKey,\n        appSecret: this.appSecret,\n        masterSecret: this.masterSecret,\n        encryptionKey: this.encryptionKey\n      };\n\n      return json;\n    }\n\n    /**\n     * Initializes the library by creating a new instance of the\n     * Client class and storing it as a shared instance.\n     *\n     * @param {Object}    options                             Options\n     * @param {string}    [options.protocol='https']          Protocl used for requests\n     * @param {string}    [options.host='baas.kinvey.com']    Host used for requests\n     * @param {string}    options.appKey                      App Key\n     * @param {string}    [options.appSecret]                 App Secret\n     * @param {string}    [options.masterSecret]              App Master Secret\n     * @param {string}    [options.encryptionKey]             App Encryption Key\n     *\n     * @throws {KinveyError}  If an `options.appKey` is not provided.\n     * @throws {KinveyError}  If neither an `options.appSecret` or `options.masterSecret` is provided.\n     *\n     * @return {Client}  An instance of Client.\n     *\n     * @example\n     * var client = Kinvey.Client.init({\n     *   appKey: '<appKey>',\n     *   appSecret: '<appSecret>'\n     * });\n     */\n\n  }, {\n    key: 'baseUrl',\n    get: function get() {\n      return _url2.default.format({\n        protocol: this.protocol,\n        host: this.host\n      });\n    }\n  }], [{\n    key: 'init',\n    value: function init(options) {\n      var client = new Client(options);\n      _sharedInstance = client;\n      return client;\n    }\n\n    /**\n     * Returns the shared client instance used by the library.\n     *\n     * @throws {KinveyError} If `Kinvey.init()` has not been called.\n     *\n     * @return {Client} The shared instance.\n     */\n\n  }, {\n    key: 'sharedInstance',\n    value: function sharedInstance() {\n      var client = _sharedInstance;\n\n      if (!client) {\n        throw new _errors.KinveyError('You have not initialized the library. ' + 'Please call Kinvey.init() to initialize the library.');\n      }\n\n      return client;\n    }\n  }]);\n\n  return Client;\n}();\n\n}).call(this,require('_process'))\n\n},{\"./errors\":24,\"_process\":249,\"local-storage\":59,\"lodash/assign\":200,\"lodash/isString\":224,\"url\":265}],22:[function(require,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Command = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _client = require('./client');\n\nvar _enums = require('./enums');\n\nvar _errors = require('./errors');\n\nvar _isString = require('lodash/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar rpcNamespace = process.env.KINVEY_RPC_NAMESPACE || 'rpc';\n\n/**\n * Executes a custom command.\n */\n\nvar Command = exports.Command = function () {\n  function Command() {\n    _classCallCheck(this, Command);\n  }\n\n  _createClass(Command, null, [{\n    key: 'execute',\n\n    /**\n     * Execute a custom command. A promise will be returned that will be resolved\n     * with the result of the command or rejected with an error.\n     *\n     * @param   {String}          command                           Command to execute.\n     * @param   {Object}          [args]                            Command arguments\n     * @param   {Object}          [options]                         Options\n     * @param   {Properties}      [options.properties]              Custom properties to send with\n     *                                                              the request.\n     * @param   {Number}          [options.timeout]                 Timeout for the request.\n     * @return  {Promise}                                           Promise\n     *\n     * @example\n     * var promise = Kinvey.Command.execute('myCustomCommand').then(function(data) {\n     *   ...\n     * }).catch(function(error) {\n     *   ...\n     * });\n     */\n    value: function execute(command, args) {\n      var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n      var client = _client.Client.sharedInstance();\n\n      if (!command) {\n        throw new _errors.KinveyError('A command is required.');\n      }\n\n      if (!(0, _isString2.default)(command)) {\n        throw new _errors.KinveyError('Command must be a string.');\n      }\n\n      return client.executeNetworkRequest({\n        method: _enums.HttpMethod.POST,\n        pathname: '/' + rpcNamespace + '/' + options.client.appKey + '/custom/' + command,\n        properties: options.properties,\n        auth: client.defaultAuth(),\n        data: args,\n        timeout: options.timeout\n      }).then(function (response) {\n        return response.data;\n      });\n    }\n  }]);\n\n  return Command;\n}();\n\n}).call(this,require('_process'))\n\n},{\"./client\":21,\"./enums\":23,\"./errors\":24,\"_process\":249,\"lodash/isString\":224}],23:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Enum for Mobile Identity Connect authorization grants.\n */\nvar AuthorizationGrant = {\n  AuthorizationCodeLoginPage: 'AuthorizationCodeLoginPage',\n  AuthorizationCodeAPI: 'AuthorizationCodeAPI'\n};\nObject.freeze(AuthorizationGrant);\nexports.AuthorizationGrant = AuthorizationGrant;\n\n\nvar AuthType = {\n  All: 'All',\n  App: 'App',\n  Basic: 'Basic',\n  Default: 'Default',\n  Master: 'Master',\n  None: 'None',\n  Session: 'Session'\n};\nObject.freeze(AuthType);\nexports.AuthType = AuthType;\n\n/**\n * Enum for DataStore types.\n */\n\nvar DataStoreType = {\n  Sync: 'Sync',\n  Cache: 'Cache',\n  Network: 'Network',\n  User: 'User',\n  File: 'File'\n};\nObject.freeze(DataStoreType);\nexports.DataStoreType = DataStoreType;\n\n/**\n * @private\n * Enum for Http Methods.\n */\n\nvar HttpMethod = {\n  GET: 'GET',\n  POST: 'POST',\n  PATCH: 'PATCH',\n  PUT: 'PUT',\n  DELETE: 'DELETE'\n};\nObject.freeze(HttpMethod);\nexports.HttpMethod = HttpMethod;\n\n/**\n * Enum for Social Identities.\n */\n\nvar SocialIdentity = {\n  Facebook: 'facebook',\n  Google: 'google',\n  LinkedIn: 'linkedin'\n};\nObject.freeze(SocialIdentity);\nexports.SocialIdentity = SocialIdentity;\n\n/**\n * @provate\n * Enum for Status Codes.\n */\n\nvar StatusCode = {\n  Ok: 200,\n  Created: 201,\n  RedirectTemporarily: 301,\n  RedirectPermanetly: 302,\n  NotFound: 404,\n  ServerError: 500\n};\nObject.freeze(StatusCode);\nexports.StatusCode = StatusCode;\n\n},{}],24:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NoResponseError = exports.NotFoundError = exports.NetworkConnectionError = exports.KinveyError = exports.InvalidCredentialsError = exports.InsufficientCredentialsError = exports.ActiveUserError = undefined;\n\nvar _util = require('util');\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _isFunction = require('lodash/isFunction');\n\nvar _isFunction2 = _interopRequireDefault(_isFunction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n */\nError.extend = function extend(name) {\n  var SubType = function SubType(message, debug) {\n    if (!(this instanceof SubType)) {\n      return new SubType(message, debug);\n    }\n\n    this.name = name;\n    this.message = message;\n    this.description = message;\n    this.debug = debug;\n\n    if ((0, _isFunction2.default)(Error.captureStackTrace)) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n  };\n\n  _util2.default.inherits(SubType, this);\n\n  SubType.prototype.toString = function toString() {\n    return this.name + ': ' + _util2.default.inspect(this.message);\n  };\n\n  SubType.extend = this.extend;\n  return SubType;\n};\n\nvar ActiveUserError = exports.ActiveUserError = Error.extend('ActiveUserError');\nvar InsufficientCredentialsError = exports.InsufficientCredentialsError = Error.extend('InsufficientCredentialsError');\nvar InvalidCredentialsError = exports.InvalidCredentialsError = Error.extend('InvalidCredentialsError');\nvar KinveyError = exports.KinveyError = Error.extend('KinveyError');\nvar NetworkConnectionError = exports.NetworkConnectionError = Error.extend('NetworkConnectionError');\nvar NotFoundError = exports.NotFoundError = Error.extend('NotFoundError');\nvar NoResponseError = exports.NoResponseError = Error.extend('NoResponseError');\n\n},{\"lodash/isFunction\":216,\"util\":268}],25:[function(require,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Kinvey = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _aggregation = require('./aggregation');\n\nvar _client = require('./client');\n\nvar _command = require('./command');\n\nvar _log = require('./log');\n\nvar _metadata = require('./metadata');\n\nvar _query = require('./query');\n\nvar _datastore = require('./stores/datastore');\n\nvar _sync = require('./sync');\n\nvar _user = require('./user');\n\nvar _enums = require('./enums');\n\nvar _network = require('./requests/network');\n\nvar _url = require('url');\n\nvar _url2 = _interopRequireDefault(_url);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar appdataNamespace = process.env.KINVEY_DATASTORE_NAMESPACE || 'appdata';\n\nvar Kinvey = function () {\n  function Kinvey() {\n    _classCallCheck(this, Kinvey);\n  }\n\n  _createClass(Kinvey, null, [{\n    key: 'init',\n\n    /**\n     * Initializes the library with your app's information.\n     *\n     * @param   {Object}        options                         Options\n     * @param   {string}        options.appKey                  My app key\n     * @param   {string}        [options.appSecret]             My app secret\n     * @param   {string}        [options.masterSecret]          My app's master secret\n     * @param   {string}        [options.encryptionKey]         My app's encryption key\n     * @param   {string}        [options.protocol]              The protocol of the client.\n     * @param   {string}        [options.host]                  The host of the client.\n     * @return  {Client}                                        An instance of Client.\n     *\n     * @throws  {KinveyError}  If an `options.appKey` is not provided.\n     * @throws  {KinveyError}  If neither an `options.appSecret` or `options.masterSecret` is provided.\n     *\n     * @example\n     * var client = Kinvey.init({\n     *   appKey: 'appKey',\n     *   appSecret: 'appSecret'\n     * });\n     */\n    value: function init(options) {\n      var client = _client.Client.init(options);\n      return client;\n    }\n\n    /**\n     * Pings the Kinvey service.\n     *\n     * @returns {Promise} The response.\n     */\n\n  }, {\n    key: 'ping',\n    value: function ping() {\n      var client = arguments.length <= 0 || arguments[0] === undefined ? _client.Client.sharedInstance() : arguments[0];\n\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.GET,\n        authType: _enums.AuthType.All,\n        url: _url2.default.format({\n          protocol: client.protocol,\n          host: client.host,\n          pathname: appdataNamespace + '/' + client.appKey\n        })\n      });\n\n      var promise = request.execute().then(function (response) {\n        return response.data;\n      });\n\n      return promise;\n    }\n  }]);\n\n  return Kinvey;\n}();\n\nKinvey.Aggregation = _aggregation.Aggregation;\nKinvey.AuthorizationGrant = _enums.AuthorizationGrant;\nKinvey.Command = _command.Command;\nKinvey.DataStore = _datastore.DataStore;\nKinvey.DataStoreType = _enums.DataStoreType;\nKinvey.Log = _log.Log;\nKinvey.Metadata = _metadata.Metadata;\nKinvey.Promise = Promise;\nKinvey.Query = _query.Query;\nKinvey.SocialIdentity = _enums.SocialIdentity;\nKinvey.Sync = _sync.Sync;\nKinvey.User = _user.User;\nexports.Kinvey = Kinvey;\n\n}).call(this,require('_process'))\n\n},{\"./aggregation\":20,\"./client\":21,\"./command\":22,\"./enums\":23,\"./log\":26,\"./metadata\":27,\"./query\":29,\"./requests/network\":43,\"./stores/datastore\":48,\"./sync\":53,\"./user\":54,\"_process\":249,\"url\":265}],26:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Log = undefined;\n\nvar _loglevel = require('loglevel');\n\nvar _loglevel2 = _interopRequireDefault(_loglevel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar originalFactory = _loglevel2.default.methodFactory;\n\n_loglevel2.default.methodFactory = function methodFactory(methodName, logLevel, loggerName) {\n  var rawMethod = originalFactory(methodName, logLevel, loggerName);\n\n  return function log(message) {\n    rawMethod('Kinvey: ' + message);\n  };\n};\n\n_loglevel2.default.setLevel(_loglevel2.default.levels.ERROR);\nexports.Log = _loglevel2.default;\n\n},{\"loglevel\":246}],27:[function(require,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Metadata = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _errors = require('./errors');\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar kmdAttribute = process.env.KINVEY_KMD_ATTRIBUTE || '_kmd';\n\n/**\n * Wrapper for accessing the `_kmd` properties of an entity.\n */\n\nvar Metadata = exports.Metadata = function () {\n  function Metadata() {\n    var entity = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    _classCallCheck(this, Metadata);\n\n    if (!(0, _isPlainObject2.default)(entity)) {\n      throw new _errors.KinveyError('entity argument must be an object');\n    }\n\n    /**\n     * The kmd properties.\n     *\n     * @private\n     * @type {Object}\n     */\n    this.kmd = entity[kmdAttribute] || {};\n\n    /**\n     * The entity.\n     *\n     * @private\n     * @type {Object}\n     */\n    this.entity = entity;\n  }\n\n  _createClass(Metadata, [{\n    key: 'toJSON',\n    value: function toJSON() {\n      return this.kmd;\n    }\n  }, {\n    key: 'createdAt',\n    get: function get() {\n      if (this.kmd.ect) {\n        return Date.parse(this.kmd.ect);\n      }\n\n      return undefined;\n    }\n  }, {\n    key: 'emailVerification',\n    get: function get() {\n      return this.kmd.emailVerification.status;\n    }\n  }, {\n    key: 'lastModified',\n    get: function get() {\n      if (this.kmd.lmt) {\n        return Date.parse(this.kmd.lmt);\n      }\n\n      return undefined;\n    }\n  }, {\n    key: 'lmt',\n    get: function get() {\n      return this.lastModified;\n    }\n  }, {\n    key: 'authtoken',\n    get: function get() {\n      return this.kmd.authtoken;\n    },\n    set: function set(authtoken) {\n      this.kmd.authtoken = authtoken;\n    }\n  }]);\n\n  return Metadata;\n}();\n\n}).call(this,require('_process'))\n\n},{\"./errors\":24,\"_process\":249,\"lodash/isPlainObject\":222}],28:[function(require,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MobileIdentityConnect = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _enums = require('./enums');\n\nvar _errors = require('./errors');\n\nvar _network = require('./requests/network');\n\nvar _client = require('./client');\n\nvar _popup = require('./utils/popup');\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _url = require('url');\n\nvar _url2 = _interopRequireDefault(_url);\n\nvar _isString = require('lodash/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar authPathname = process.env.KINVEY_MIC_AUTH_PATHNAME || '/oauth/auth';\nvar tokenPathname = process.env.KINVEY_MIC_TOKEN_PATHNAME || '/oauth/token';\n\n/**\n * @private\n */\n\nvar MobileIdentityConnect = exports.MobileIdentityConnect = function () {\n  function MobileIdentityConnect() {\n    var client = arguments.length <= 0 || arguments[0] === undefined ? _client.Client.sharedInstance() : arguments[0];\n\n    _classCallCheck(this, MobileIdentityConnect);\n\n    this.client = new _client.Client({\n      protocol: process.env.KINVEY_MIC_PROTOCOL || 'https:',\n      host: process.env.KINVEY_MIC_HOST || 'auth.kinvey.com',\n      appKey: client.appKey,\n      appSecret: client.appSecret,\n      masterSecret: client.masterSecret,\n      encryptionKey: client.encryptionKey\n    });\n  }\n\n  _createClass(MobileIdentityConnect, [{\n    key: 'login',\n    value: function login(redirectUri) {\n      var _this = this;\n\n      var authorizationGrant = arguments.length <= 1 || arguments[1] === undefined ? _enums.AuthorizationGrant.AuthorizationCodeLoginPage : arguments[1];\n      var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n      var clientId = this.client.appKey;\n\n      var promise = Promise.resolve().then(function () {\n        if (authorizationGrant === _enums.AuthorizationGrant.AuthorizationCodeLoginPage) {\n          // Step 1: Request a code\n          return _this.requestCodeWithPopup(clientId, redirectUri, options);\n        } else if (authorizationGrant === _enums.AuthorizationGrant.AuthorizationCodeAPI) {\n          // Step 1a: Request a temp login url\n          return _this.requestTempLoginUrl(clientId, redirectUri, options).then(function (url) {\n            // Step 1b: Request a code\n            return _this.requestCodeWithUrl(url, clientId, redirectUri, options);\n          });\n        }\n\n        throw new _errors.KinveyError('The authorization grant ' + authorizationGrant + ' is unsupported. ' + 'Please use a supported authorization grant.');\n      }).then(function (code) {\n        // Step 3: Request a token\n        return _this.requestToken(code, clientId, redirectUri, options);\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'requestTempLoginUrl',\n    value: function requestTempLoginUrl(clientId, redirectUri) {\n      var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n      var pathname = '/';\n\n      if (options.version) {\n        var version = options.version;\n\n        if (!(0, _isString2.default)(version)) {\n          version = String(version);\n        }\n\n        pathname = _path2.default.join(pathname, version.indexOf('v') === 0 ? version : 'v' + version);\n      }\n\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.POST,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: _path2.default.join(pathname, authPathname)\n        }),\n        properties: options.properties,\n        data: {\n          client_id: clientId,\n          redirect_uri: redirectUri,\n          response_type: 'code'\n        }\n      });\n      return request.execute().then(function (response) {\n        return response.data.temp_login_uri;\n      });\n    }\n  }, {\n    key: 'requestCodeWithPopup',\n    value: function requestCodeWithPopup(clientId, redirectUri) {\n      var _this2 = this;\n\n      var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n      var promise = Promise.resolve().then(function () {\n        var pathname = '/';\n\n        if (options.version) {\n          var version = options.version;\n\n          if (!(0, _isString2.default)(version)) {\n            version = String(version);\n          }\n\n          pathname = _path2.default.join(pathname, version.indexOf('v') === 0 ? version : 'v' + version);\n        }\n\n        var popup = new _popup.Popup(_url2.default.format({\n          protocol: _this2.client.protocol,\n          host: _this2.client.host,\n          pathname: _path2.default.join(pathname, authPathname),\n          query: {\n            client_id: clientId,\n            redirect_uri: redirectUri,\n            response_type: 'code'\n          }\n        }));\n        return popup.open();\n      }).then(function (popup) {\n        return new Promise(function (resolve, reject) {\n          var redirected = false;\n\n          function loadHandler(loadedUrl) {\n            if (loadedUrl.indexOf(redirectUri) === 0) {\n              redirected = true;\n              popup.removeAllListeners();\n              popup.close();\n              resolve(_url2.default.parse(loadedUrl, true).query.code);\n            }\n          }\n\n          function closeHandler() {\n            popup.removeAllListeners();\n\n            if (!redirected) {\n              reject(new Error('Login has been cancelled.'));\n            }\n          }\n\n          popup.on('loaded', loadHandler);\n          popup.on('closed', closeHandler);\n        });\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'requestCodeWithUrl',\n    value: function requestCodeWithUrl(loginUrl, clientId, redirectUri) {\n      var options = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n      var promise = Promise.resolve().then(function () {\n        var request = new _network.NetworkRequest({\n          method: _enums.HttpMethod.POST,\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n          },\n          url: loginUrl,\n          properties: options.properties,\n          data: {\n            client_id: clientId,\n            redirect_uri: redirectUri,\n            response_type: 'code',\n            username: options.username,\n            password: options.password\n          },\n          followRedirect: false\n        });\n        return request.execute();\n      }).then(function (response) {\n        var location = response.getHeader('location');\n\n        if (location) {\n          return _url2.default.parse(location, true).query.code;\n        }\n\n        throw new _errors.KinveyError('Unable to authorize user with username ' + options.username + '.');\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'requestToken',\n    value: function requestToken(code, clientId, redirectUri) {\n      var options = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.POST,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        authType: _enums.AuthType.App,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: tokenPathname\n        }),\n        properties: options.properties,\n        data: {\n          grant_type: 'authorization_code',\n          client_id: clientId,\n          redirect_uri: redirectUri,\n          code: code\n        }\n      });\n      request.automaticallyRefreshAuthToken = false;\n\n      var promise = request.execute().then(function (response) {\n        return response.data;\n      });\n      return promise;\n    }\n\n    // refresh(token, options) {\n    //   const clientId = this.client.appKey;\n    //   return this.refreshToken(clientId, token, options);\n    // }\n\n    // refreshToken(clientId, token, options = {}) {\n    //   const request = new NetworkRequest({\n    //     method: HttpMethod.POST,\n    //     headers: {\n    //       'Content-Type': 'application/x-www-form-urlencoded'\n    //     },\n    //     authType: AuthType.App,\n    //     url: url.format({\n    //       protocol: this.client.protocol,\n    //       host: this.client.host,\n    //       pathname: tokenPathname\n    //     }),\n    //     properties: options.properties,\n    //     data: {\n    //       grant_type: 'refresh_token',\n    //       client_id: clientId,\n    //       redirect_uri: token.redirect_uri,\n    //       refresh_token: token.refresh_token\n    //     }\n    //   });\n    //   request.automaticallyRefreshAuthToken = false;\n\n    //   const promise = request.execute().then(response => {\n    //     return response.data;\n    //   });\n\n    //   return promise;\n    // }\n\n  }], [{\n    key: 'identity',\n    get: function get() {\n      return process.env.KINVEY_MIC_IDENTITY || 'kinveyAuth';\n    }\n  }]);\n\n  return MobileIdentityConnect;\n}();\n\n}).call(this,require('_process'))\n\n},{\"./client\":21,\"./enums\":23,\"./errors\":24,\"./requests/network\":43,\"./utils/popup\":57,\"_process\":249,\"lodash/isString\":224,\"path\":248,\"url\":265}],29:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Query = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _object = require('./utils/object');\n\nvar _sift = require('sift');\n\nvar _sift2 = _interopRequireDefault(_sift);\n\nvar _assign = require('lodash/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nvar _isNumber = require('lodash/isNumber');\n\nvar _isNumber2 = _interopRequireDefault(_isNumber);\n\nvar _isString = require('lodash/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _isObject = require('lodash/isObject');\n\nvar _isObject2 = _interopRequireDefault(_isObject);\n\nvar _isRegExp = require('lodash/isRegExp');\n\nvar _isRegExp2 = _interopRequireDefault(_isRegExp);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Query = function () {\n  function Query(options) {\n    _classCallCheck(this, Query);\n\n    options = (0, _assign2.default)({\n      fields: [],\n      filter: {},\n      sort: {},\n      limit: null,\n      skip: 0\n    }, options);\n\n    /**\n     * Fields to select.\n     *\n     * @type {Array}\n     */\n    this._fields = options.fields;\n\n    /**\n     * The MongoDB query.\n     *\n     * @type {Object}\n     */\n    this._filter = options.filter;\n\n    /**\n     * The sorting order.\n     *\n     * @type {Object}\n     */\n    this._sort = options.sort;\n\n    /**\n     * Number of documents to select.\n     *\n     * @type {?Number}\n     */\n    this._limit = options.limit;\n\n    /**\n     * Number of documents to skip from the start.\n     *\n     * @type {Number}\n     */\n    this._skip = options.skip;\n\n    /**\n     * Maintain reference to the parent query in case the query is part of a\n     * join.\n     *\n     * @type {?PrivateQuery}\n     */\n    this.parent = null;\n  }\n\n  /**\n   * Adds an equal to filter to the query. Requires `field` to equal `value`.\n   * Any existing filters on `field` will be discarded.\n   * http://docs.mongodb.org/manual/reference/operators/#comparison\n   *\n   * @param   {String}        field     Field.\n   * @param   {*}             value     Value.\n   * @returns {Query}                   The query.\n   */\n\n\n  _createClass(Query, [{\n    key: 'equalTo',\n    value: function equalTo(field, value) {\n      this._filter[field] = value;\n      return this;\n    }\n\n    /**\n     * Adds a contains filter to the query. Requires `field` to contain at least\n     * one of the members of `list`.\n     * http://docs.mongodb.org/manual/reference/operator/in/\n     *\n     * @param   {String}        field     Field.\n     * @param   {Array}         values    List of values.\n     * @throws  {Error}                   `values` must be of type: `Array`.\n     * @returns {Query}                   The query.\n     */\n\n  }, {\n    key: 'contains',\n    value: function contains(field, values) {\n      if (!(0, _isArray2.default)(values)) {\n        values = [values];\n      }\n\n      return this.addFilter(field, '$in', values);\n    }\n\n    /**\n     * Adds a contains all filter to the query. Requires `field` to contain all\n     * members of `list`.\n     * http://docs.mongodb.org/manual/reference/operator/all/\n     *\n     * @param   {String}  field     Field.\n     * @param   {Array}   values    List of values.\n     * @throws  {Error}             `values` must be of type: `Array`.\n     * @returns {Query}             The query.\n     */\n\n  }, {\n    key: 'containsAll',\n    value: function containsAll(field, values) {\n      if (!(0, _isArray2.default)(values)) {\n        values = [values];\n      }\n\n      return this.addFilter(field, '$all', values);\n    }\n\n    /**\n     * Adds a greater than filter to the query. Requires `field` to be greater\n     * than `value`.\n     * http://docs.mongodb.org/manual/reference/operator/gt/\n     *\n     * @param   {String}          field     Field.\n     * @param   {Number|String}   value     Value.\n     * @throws  {Error}                     `value` must be of type: `number` or `string`.\n     * @returns {Query}                     The query.\n     */\n\n  }, {\n    key: 'greaterThan',\n    value: function greaterThan(field, value) {\n      if (!(0, _isNumber2.default)(value) && !(0, _isString2.default)(value)) {\n        throw new Error('You must supply a number or string.');\n      }\n\n      return this.addFilter(field, '$gt', value);\n    }\n  }, {\n    key: 'greaterThanOrEqualTo',\n    value: function greaterThanOrEqualTo(field, value) {\n      if (!(0, _isNumber2.default)(value) && !(0, _isString2.default)(value)) {\n        throw new Error('You must supply a number or string.');\n      }\n\n      return this.addFilter(field, '$gte', value);\n    }\n  }, {\n    key: 'lessThan',\n    value: function lessThan(field, value) {\n      if (!(0, _isNumber2.default)(value) && !(0, _isString2.default)(value)) {\n        throw new Error('You must supply a number or string.');\n      }\n\n      return this.addFilter(field, '$lt', value);\n    }\n  }, {\n    key: 'lessThanOrEqualTo',\n    value: function lessThanOrEqualTo(field, value) {\n      if (!(0, _isNumber2.default)(value) && !(0, _isString2.default)(value)) {\n        throw new Error('You must supply a number or string.');\n      }\n\n      return this.addFilter(field, '$lte', value);\n    }\n  }, {\n    key: 'notEqualTo',\n    value: function notEqualTo(field, value) {\n      return this.addFilter(field, '$ne', value);\n    }\n  }, {\n    key: 'notContainedIn',\n    value: function notContainedIn(field, values) {\n      if (!(0, _isArray2.default)(values)) {\n        values = [values];\n      }\n\n      return this.addFilter(field, '$nin', values);\n    }\n  }, {\n    key: 'and',\n    value: function and() {\n      return this.join('$and', Array.prototype.slice.call(arguments));\n    }\n  }, {\n    key: 'nor',\n    value: function nor() {\n      if (this.parent && this.parent.filter.$and) {\n        return this.parent.nor.apply(this.parent, arguments);\n      }\n\n      return this.join('$nor', Array.prototype.slice.call(arguments));\n    }\n  }, {\n    key: 'or',\n    value: function or() {\n      if (this.parent) {\n        return this.parent.or.apply(this.parent, arguments);\n      }\n\n      return this.join('$or', Array.prototype.slice.call(arguments));\n    }\n  }, {\n    key: 'exists',\n    value: function exists(field, flag) {\n      flag = typeof flag === 'undefined' ? true : flag || false;\n      return this.addFilter(field, '$exists', flag);\n    }\n  }, {\n    key: 'mod',\n    value: function mod(field, divisor, remainder) {\n      remainder = remainder || 0;\n\n      if ((0, _isString2.default)(divisor)) {\n        divisor = parseFloat(divisor);\n      }\n\n      if ((0, _isString2.default)(remainder)) {\n        remainder = parseFloat(remainder);\n      }\n\n      if (!(0, _isNumber2.default)(divisor)) {\n        throw new Error('Divisor must be a number.');\n      }\n\n      if (!(0, _isNumber2.default)(remainder)) {\n        throw new Error('Remainder must be a number.');\n      }\n\n      return this.addFilter(field, '$mod', [divisor, remainder]);\n    }\n  }, {\n    key: 'matches',\n    value: function matches(field, regExp, options) {\n      options = options || {};\n\n      if (!(0, _isRegExp2.default)(regExp)) {\n        regExp = new RegExp(regExp);\n      }\n\n      if ((regExp.ignoreCase || options.ignoreCase) && options.ignoreCase !== false) {\n        throw new Error('ignoreCase glag is not supported.');\n      }\n\n      if (regExp.source.indexOf('^') !== 0) {\n        throw new Error('regExp must have `^` at the beginning of the expression ' + 'to make it an anchored expression.');\n      }\n\n      var flags = [];\n\n      if ((regExp.multiline || options.multiline) && options.multiline !== false) {\n        flags.push('m');\n      }\n\n      if (options.extended) {\n        flags.push('x');\n      }\n\n      if (options.dotMatchesAll) {\n        flags.push('s');\n      }\n\n      var result = this.addFilter(field, '$regex', regExp.source);\n\n      if (flags.length) {\n        this.addFilter(field, '$options', flags.join(''));\n      }\n\n      return result;\n    }\n  }, {\n    key: 'near',\n    value: function near(field, coord, maxDistance) {\n      if (!(0, _isArray2.default)(coord) || !coord[0] || !coord[1]) {\n        throw new Error('coord argument must be of type: [number, number]');\n      }\n\n      coord[0] = parseFloat(coord[0]);\n      coord[1] = parseFloat(coord[1]);\n\n      var result = this.addFilter(field, '$nearSphere', [coord[0], coord[1]]);\n\n      if (maxDistance) {\n        this.addFilter(field, '$maxDistance', maxDistance);\n      }\n\n      return result;\n    }\n  }, {\n    key: 'withinBox',\n    value: function withinBox(field, bottomLeftCoord, upperRightCoord) {\n      if (!(0, _isArray2.default)(bottomLeftCoord) || !bottomLeftCoord[0] || !bottomLeftCoord[1]) {\n        throw new Error('bottomLeftCoord argument must be of type: [number, number]');\n      }\n\n      if (!(0, _isArray2.default)(upperRightCoord) || !upperRightCoord[0] || !upperRightCoord[1]) {\n        throw new Error('upperRightCoord argument must be of type: [number, number]');\n      }\n\n      bottomLeftCoord[0] = parseFloat(bottomLeftCoord[0]);\n      bottomLeftCoord[1] = parseFloat(bottomLeftCoord[1]);\n      upperRightCoord[0] = parseFloat(upperRightCoord[0]);\n      upperRightCoord[1] = parseFloat(upperRightCoord[1]);\n\n      var coords = [[bottomLeftCoord[0], bottomLeftCoord[1]], [upperRightCoord[0], upperRightCoord[1]]];\n      return this.addFilter(field, '$within', { $box: coords });\n    }\n  }, {\n    key: 'withinPolygon',\n    value: function withinPolygon(field, coords) {\n      if (!(0, _isArray2.default)(coords) || coords.length > 3) {\n        throw new Error('coords argument must be of type: [[number, number]]');\n      }\n\n      coords = coords.map(function (coord) {\n        if (!coord[0] || !coord[1]) {\n          throw new Error('coords argument must be of type: [number, number]');\n        }\n\n        return [parseFloat(coord[0]), parseFloat(coord[1])];\n      });\n\n      return this.addFilter(field, '$within', { $polygon: coords });\n    }\n  }, {\n    key: 'size',\n    value: function size(field, _size) {\n      if ((0, _isString2.default)(_size)) {\n        _size = parseFloat(_size);\n      }\n\n      if (!(0, _isNumber2.default)(_size)) {\n        throw new Error('size argument must be a number');\n      }\n\n      return this.addFilter(field, '$size', _size);\n    }\n  }, {\n    key: 'fields',\n    value: function fields(_fields) {\n      _fields = _fields || [];\n\n      if (!(0, _isArray2.default)(_fields)) {\n        throw new Error('fields argument must an Array.');\n      }\n\n      if (this.parent) {\n        this.parent.fields(_fields);\n      } else {\n        this._fields = _fields;\n      }\n\n      return this;\n    }\n  }, {\n    key: 'limit',\n    value: function limit(_limit) {\n      if ((0, _isString2.default)(_limit)) {\n        _limit = parseFloat(_limit);\n      }\n\n      if (_limit && !(0, _isNumber2.default)(_limit)) {\n        throw new Error('limit argument must be of type: number.');\n      }\n\n      if (this._parent) {\n        this.parent.limit(_limit);\n      } else {\n        this._limit = _limit;\n      }\n\n      return this;\n    }\n  }, {\n    key: 'skip',\n    value: function skip(_skip) {\n      if ((0, _isString2.default)(_skip)) {\n        _skip = parseFloat(_skip);\n      }\n\n      if (!(0, _isNumber2.default)(_skip)) {\n        throw new Error('skip argument must be of type: number.');\n      }\n\n      if (this.parent) {\n        this.parent.skip(_skip);\n      } else {\n        this._skip = _skip;\n      }\n\n      return this;\n    }\n  }, {\n    key: 'ascending',\n    value: function ascending(field) {\n      if (this.parent) {\n        this.parent.ascending(field);\n      } else {\n        this._sort[field] = 1;\n      }\n\n      return this;\n    }\n  }, {\n    key: 'descending',\n    value: function descending(field) {\n      if (this.parent) {\n        this.parent.descending(field);\n      } else {\n        this._sort[field] = -1;\n      }\n\n      return this;\n    }\n  }, {\n    key: 'sort',\n    value: function sort(_sort) {\n      if (_sort && !(0, _isObject2.default)(_sort)) {\n        throw new Error('sort argument must be of type: Object.');\n      }\n\n      if (this.parent) {\n        this.parent.sort(_sort);\n      } else {\n        this._sort = _sort || {};\n      }\n\n      return this;\n    }\n\n    /**\n     * Adds a filter to the query.\n     *\n     * @param   {String}          field       Field.\n     * @param   {String}          condition   Condition.\n     * @param   {*}               value       Value.\n     * @returns {PrivateQuery}                The query.\n     */\n\n  }, {\n    key: 'addFilter',\n    value: function addFilter(field, condition, values) {\n      if (!(0, _isObject2.default)(this._filter[field])) {\n        this._filter[field] = {};\n      }\n\n      this._filter[field][condition] = values;\n      return this;\n    }\n\n    /**\n     * Joins the current query with another query using an operator.\n     *\n     * @param   {String}                    operator    Operator.\n     * @param   {PrivateQuery[]|Object[]}   queries     Queries.\n     * @throws  {Error}                                `query` must be of type: `Kinvey.Query[]` or `Object[]`.\n     * @returns {PrivateQuery}                          The query.\n     */\n\n  }, {\n    key: 'join',\n    value: function join(operator, queries) {\n      var _this = this;\n      var currentQuery = {};\n\n      // Cast, validate, and parse arguments. If `queries` are supplied, obtain\n      // the `filter` for joining. The eventual return function will be the\n      // current query.\n      queries = queries.map(function (query) {\n        if (!(query instanceof PrivateQuery)) {\n          if ((0, _isObject2.default)(query)) {\n            query = new PrivateQuery(query);\n          } else {\n            throw new Error('query argument must be of type: Kinvey.Query[] or Object[].');\n          }\n        }\n\n        return query.toJSON().filter;\n      });\n\n      // If there are no `queries` supplied, create a new (empty) `Query`.\n      // This query is the right-hand side of the join expression, and will be\n      // returned to allow for a fluent interface.\n      if (queries.length === 0) {\n        _this = new PrivateQuery();\n        queries = [_this.toJSON().filter];\n        _this.parent = this; // Required for operator precedence and `toJSON`.\n      }\n\n      // Join operators operate on the top-level of `filter`. Since the `toJSON`\n      // magic requires `filter` to be passed by reference, we cannot simply re-\n      // assign `filter`. Instead, empty it without losing the reference.\n      for (var member in this._filter) {\n        if (this._filter.hasOwnProperty(member)) {\n          currentQuery[member] = this._filter[member];\n          delete this._filter[member];\n        }\n      }\n\n      // `currentQuery` is the left-hand side query. Join with `queries`.\n      this._filter[operator] = [currentQuery].concat(queries);\n\n      // Return the current query if there are `queries`, and the new (empty)\n      // `PrivateQuery` otherwise.\n      return _this;\n    }\n\n    /**\n     * Processes the data by applying fields, sort, limit, and skip.\n     *\n     * @param   {Array}   data    The raw data.\n     * @throws  {Error}               `data` must be of type: `Array`.\n     * @returns {Array}               The processed data.\n     */\n\n  }, {\n    key: '_process',\n    value: function _process(data) {\n      var _this2 = this;\n\n      if (data) {\n        var _ret = function () {\n          // Validate arguments.\n          if (!(0, _isArray2.default)(data)) {\n            throw new Error('data argument must be of type: Array.');\n          }\n\n          // Apply the query\n          var json = _this2.toJSON();\n          data = (0, _sift2.default)(json.filter, data);\n\n          // Remove fields\n          if (json.fields && json.fields.length > 0) {\n            data = data.map(function (item) {\n              for (var key in item) {\n                if (item.hasOwnProperty(key) && json.fields.indexOf(key) === -1) {\n                  delete item[key];\n                }\n              }\n\n              return item;\n            });\n          }\n\n          // Sorting.\n          data = data.sort(function (a, b) {\n            for (var field in json.sort) {\n              if (json.sort.hasOwnProperty(field)) {\n                // Find field in objects.\n                var aField = (0, _object.nested)(a, field);\n                var bField = (0, _object.nested)(b, field);\n\n                // Elements which do not contain the field should always be sorted\n                // lower.\n                if (aField && !bField) {\n                  return -1;\n                }\n\n                if (bField && !aField) {\n                  return 1;\n                }\n\n                // Sort on the current field. The modifier adjusts the sorting order\n                // (ascending (-1), or descending(1)). If the fields are equal,\n                // continue sorting based on the next field (if any).\n                if (aField !== bField) {\n                  var modifier = json.sort[field]; // 1 or -1.\n                  return (aField < bField ? -1 : 1) * modifier;\n                }\n              }\n            }\n\n            return 0;\n          });\n\n          // Limit and skip.\n          if (json.limit) {\n            return {\n              v: data.slice(json.skip, json.skip + json.limit)\n            };\n          }\n\n          return {\n            v: data.slice(json.skip)\n          };\n        }();\n\n        if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n      }\n\n      return data;\n    }\n\n    /**\n     * Returns JSON representation of the query.\n     *\n     * @returns {Object} JSON object-literal.\n     */\n\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      if (this.parent) {\n        return this.parent.toJSON();\n      }\n\n      // Return set of parameters.\n      var json = {\n        fields: this._fields,\n        filter: this._filter,\n        sort: this._sort,\n        skip: this._skip,\n        limit: this._limit\n      };\n\n      return json;\n    }\n  }]);\n\n  return Query;\n}();\n\nexports.Query = Query;\n\n},{\"./utils/object\":56,\"lodash/assign\":200,\"lodash/isArray\":211,\"lodash/isNumber\":219,\"lodash/isObject\":220,\"lodash/isRegExp\":223,\"lodash/isString\":224,\"sift\":261}],30:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar levels = [];\nvar c0 = String.fromCharCode(9500);\nvar c1 = String.fromCharCode(9472);\nvar c2 = String.fromCharCode(9492);\nvar c3 = String.fromCharCode(9474);\n\nfunction compose(node, end) {\n  if (node.level === 0) {\n    return node.value;\n  }\n\n  var ret = '\\r\\n';\n  var c = end ? c2 : c0;\n\n  for (var i = 1; i < node.level; i++) {\n    ret = '' + ret + (levels[i] ? ' ' : c3);\n    ret = ret + '  ';\n  }\n\n  return '' + ret + c + c1 + ' ' + node.value;\n}\n\n/**\n * @private\n */\nvar AsciiTree = exports.AsciiTree = {\n  generate: function generate() {\n    var _this = this;\n\n    var tree = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var end = arguments[1];\n\n    var result = compose(tree, end);\n\n    if (tree.nodes.length > 0) {\n      (function () {\n        var last = tree.nodes.length - 1;\n        tree.nodes.forEach(function (subTree, index) {\n          levels[subTree.level] = index === last;\n          result = result + _this.generate(subTree, index === last);\n        });\n      })();\n    }\n\n    return result;\n  }\n};\n\n},{}],31:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.KinveyMiddleware = exports.Middleware = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _babybird = require('babybird');\n\nvar _babybird2 = _interopRequireDefault(_babybird);\n\nvar _asciiTree = require('./asciiTree');\n\nvar _errors = require('../errors');\n\nvar _urlPattern = require('url-pattern');\n\nvar _urlPattern2 = _interopRequireDefault(_urlPattern);\n\nvar _url = require('url');\n\nvar _url2 = _interopRequireDefault(_url);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * @private\n */\n\nvar Middleware = exports.Middleware = function () {\n  function Middleware() {\n    var name = arguments.length <= 0 || arguments[0] === undefined ? 'Middleware' : arguments[0];\n\n    _classCallCheck(this, Middleware);\n\n    this.name = name;\n  }\n\n  _createClass(Middleware, [{\n    key: 'handle',\n    value: function handle() {\n      var request = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      return _babybird2.default.resolve(request);\n    }\n  }, {\n    key: 'generateTree',\n    value: function generateTree() {\n      var level = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\n      var root = {\n        value: this.name,\n        level: level,\n        nodes: []\n      };\n      return root;\n    }\n  }, {\n    key: 'toString',\n    value: function toString() {\n      var root = this.generateTree();\n      return _asciiTree.AsciiTree.generate(root);\n    }\n  }]);\n\n  return Middleware;\n}();\n\n/**\n * @private\n */\n\n\nvar KinveyMiddleware = exports.KinveyMiddleware = function (_Middleware) {\n  _inherits(KinveyMiddleware, _Middleware);\n\n  function KinveyMiddleware() {\n    var name = arguments.length <= 0 || arguments[0] === undefined ? 'Kinvey Middleware' : arguments[0];\n\n    _classCallCheck(this, KinveyMiddleware);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(KinveyMiddleware).call(this, name));\n  }\n\n  _createClass(KinveyMiddleware, [{\n    key: 'handle',\n    value: function handle(request) {\n      return new _babybird2.default(function (resolve, reject) {\n        if (request) {\n          var pathname = _url2.default.parse(request.url).pathname;\n          var pattern = new _urlPattern2.default('(/:namespace)(/)(:appKey)(/)(:collection)(/)(:id)(/)');\n          var matches = pattern.match(pathname) || {};\n          return resolve({\n            namespace: matches.namespace,\n            appKey: matches.appKey,\n            collection: matches.collection,\n            id: matches.id\n          });\n        }\n\n        reject(new _errors.KinveyError('Request is null. Please provide a valid request.', request));\n      });\n    }\n  }]);\n\n  return KinveyMiddleware;\n}(Middleware);\n\n},{\"../errors\":24,\"./asciiTree\":30,\"babybird\":4,\"url\":265,\"url-pattern\":264}],32:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CacheMiddleware = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _middleware = require('../middleware');\n\nvar _db = require('../persistence/db');\n\nvar _enums = require('../../enums');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * @private\n */\n\nvar CacheMiddleware = exports.CacheMiddleware = function (_KinveyMiddleware) {\n  _inherits(CacheMiddleware, _KinveyMiddleware);\n\n  function CacheMiddleware() {\n    var adapters = arguments.length <= 0 || arguments[0] === undefined ? [_db.DBAdapter.Memory] : arguments[0];\n\n    _classCallCheck(this, CacheMiddleware);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(CacheMiddleware).call(this, 'Kinvey Cache Middleware'));\n\n    _this.adapters = adapters;\n    return _this;\n  }\n\n  _createClass(CacheMiddleware, [{\n    key: 'handle',\n    value: function handle(request) {\n      var _this2 = this;\n\n      return _get(Object.getPrototypeOf(CacheMiddleware.prototype), 'handle', this).call(this, request).then(function (_ref) {\n        var appKey = _ref.appKey;\n        var collection = _ref.collection;\n        var id = _ref.id;\n\n        var method = request.method;\n        var query = request.query;\n        var data = request.data;\n        var db = new _db.DB(appKey, _this2.adapters);\n        var promise = void 0;\n\n        if (method === _enums.HttpMethod.GET) {\n          if (id) {\n            if (id === '_count') {\n              promise = db.count(collection, query);\n            } else if (id === '_group') {\n              promise = db.group(collection, data);\n            } else {\n              promise = db.findById(collection, id);\n            }\n          } else {\n            promise = db.find(collection, query);\n          }\n        } else if (method === _enums.HttpMethod.POST || method === _enums.HttpMethod.PUT) {\n          promise = db.save(collection, data);\n        } else if (method === _enums.HttpMethod.DELETE) {\n          if (id) {\n            promise = db.removeById(collection, id);\n          } else {\n            promise = db.remove(collection, query);\n          }\n        }\n\n        return promise.then(function (result) {\n          var statusCode = _enums.StatusCode.Ok;\n\n          if (method === _enums.HttpMethod.POST) {\n            statusCode = _enums.StatusCode.Created;\n          }\n\n          request.response = {\n            statusCode: statusCode,\n            headers: {},\n            data: result\n          };\n\n          return request;\n        });\n      });\n    }\n  }]);\n\n  return CacheMiddleware;\n}(_middleware.KinveyMiddleware);\n\n},{\"../../enums\":23,\"../middleware\":31,\"../persistence/db\":39}],33:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ParseMiddleware = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _middleware = require('../middleware');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * @private\n */\n\nvar ParseMiddleware = exports.ParseMiddleware = function (_KinveyMiddleware) {\n  _inherits(ParseMiddleware, _KinveyMiddleware);\n\n  function ParseMiddleware() {\n    var name = arguments.length <= 0 || arguments[0] === undefined ? 'Kinvey Parse Middleware' : arguments[0];\n\n    _classCallCheck(this, ParseMiddleware);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(ParseMiddleware).call(this, name));\n  }\n\n  _createClass(ParseMiddleware, [{\n    key: 'handle',\n    value: function handle(request) {\n      return _get(Object.getPrototypeOf(ParseMiddleware.prototype), 'handle', this).call(this, request).then(function () {\n        var response = request.response;\n\n        if (response && response.data) {\n          var contentType = response.headers['content-type'] || response.headers['Content-Type'];\n\n          if (contentType.indexOf('application/json') === 0) {\n            try {\n              response.data = JSON.parse(response.data);\n            } catch (err) {\n              response.data = response.data;\n            }\n\n            request.response = response;\n          }\n        }\n\n        return request;\n      });\n    }\n  }]);\n\n  return ParseMiddleware;\n}(_middleware.KinveyMiddleware);\n\n},{\"../middleware\":31}],34:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SerializeMiddleware = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _middleware = require('../middleware');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * @private\n */\n\nvar SerializeMiddleware = exports.SerializeMiddleware = function (_KinveyMiddleware) {\n  _inherits(SerializeMiddleware, _KinveyMiddleware);\n\n  function SerializeMiddleware() {\n    var name = arguments.length <= 0 || arguments[0] === undefined ? 'Kinvey Serialize Middleware' : arguments[0];\n\n    _classCallCheck(this, SerializeMiddleware);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(SerializeMiddleware).call(this, name));\n  }\n\n  _createClass(SerializeMiddleware, [{\n    key: 'handle',\n    value: function handle(request) {\n      return _get(Object.getPrototypeOf(SerializeMiddleware.prototype), 'handle', this).call(this, request).then(function () {\n        if (request && request.data) {\n          var contentType = request.headers['content-type'] || request.headers['Content-Type'];\n\n          if (contentType.indexOf('application/json') === 0) {\n            request.data = JSON.stringify(request.data);\n          } else if (contentType.indexOf('application/x-www-form-urlencoded') === 0) {\n            var data = request.data;\n            var str = [];\n\n            for (var p in data) {\n              if (data.hasOwnProperty(p)) {\n                str.push(global.encodeURIComponent(p) + '=' + global.encodeURIComponent(data[p]));\n              }\n            }\n\n            request.data = str.join('&');\n          }\n        }\n\n        return request;\n      });\n    }\n  }]);\n\n  return SerializeMiddleware;\n}(_middleware.KinveyMiddleware);\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../middleware\":31}],35:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IndexedDB = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _errors = require('../../../errors');\n\nvar _forEach = require('lodash/forEach');\n\nvar _forEach2 = _interopRequireDefault(_forEach);\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nvar _isString = require('lodash/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _isFunction = require('lodash/isFunction');\n\nvar _isFunction2 = _interopRequireDefault(_isFunction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar dbCache = {};\n\nvar TransactionMode = {\n  ReadWrite: 'readwrite',\n  ReadOnly: 'readonly'\n};\nObject.freeze(TransactionMode);\n\nif (typeof window !== 'undefined') {\n  require('indexeddbshim');\n  global.shimIndexedDB.__useShim();\n}\n\nvar indexedDB = global.shimIndexedDB || global.indexedDB || global.mozIndexedDB || global.webkitIndexedDB || global.msIndexedDB;\n\n/**\n * @private\n */\n\nvar IndexedDB = exports.IndexedDB = function () {\n  function IndexedDB(name) {\n    _classCallCheck(this, IndexedDB);\n\n    if (!name) {\n      throw new _errors.KinveyError('A name for the collection is required to use the memory persistence adapter.', name);\n    }\n\n    if (!(0, _isString2.default)(name)) {\n      throw new _errors.KinveyError('The name of the collection must be a string to use the memory persistence adapter', name);\n    }\n\n    this.name = name;\n    this.inTransaction = false;\n    this.queue = [];\n  }\n\n  _createClass(IndexedDB, [{\n    key: 'openTransaction',\n    value: function openTransaction(collection) {\n      var write = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n      var success = arguments[2];\n\n      var _this = this;\n\n      var error = arguments[3];\n      var force = arguments.length <= 4 || arguments[4] === undefined ? false : arguments[4];\n\n      var db = dbCache[this.name];\n\n      if (db) {\n        var containsCollection = (0, _isFunction2.default)(db.objectStoreNames.contains) ? db.objectStoreNames.contains(collection) : db.objectStoreNames.indexOf(collection) !== -1;\n        if (containsCollection) {\n          try {\n            var mode = write ? TransactionMode.ReadWrite : TransactionMode.ReadOnly;\n            var txn = db.transaction([collection], mode);\n\n            if (txn) {\n              var store = txn.objectStore(collection);\n              return success(store);\n            }\n\n            throw new _errors.KinveyError('Unable to open a transaction for the ' + collection + ' ' + ('collection on the ' + this.name + ' indexedDB database.'));\n          } catch (err) {\n            return error(err);\n          }\n        } else if (!write) {\n          return error(new _errors.NotFoundError('The ' + collection + ' collection was not found on ' + ('the ' + this.name + ' indexedDB database.')));\n        }\n      }\n\n      if (!force && this.inTransaction) {\n        return this.queue.push(function () {\n          _this.openTransaction(collection, write, success, error);\n        });\n      }\n\n      // Switch flag\n      this.inTransaction = true;\n      var request = void 0;\n\n      if (db) {\n        var version = db.version + 1;\n        request = indexedDB.open(this.name, version);\n      } else {\n        request = indexedDB.open(this.name);\n      }\n\n      // If the database is opened with an higher version than its current, the\n      // `upgradeneeded` event is fired. Save the handle to the database, and\n      // create the collection.\n      request.onupgradeneeded = function (e) {\n        db = e.target.result;\n\n        if (write) {\n          db.createObjectStore(collection, { keyPath: '_id' });\n        }\n      };\n\n      // The `success` event is fired after `upgradeneeded` terminates.\n      // Save the handle to the database.\n      request.onsuccess = function (e) {\n        db = e.target.result;\n        dbCache[_this.name] = db;\n\n        // If a second instance of the same IndexedDB database performs an\n        // upgrade operation, the `versionchange` event is fired. Then, close the\n        // database to allow the external upgrade to proceed.\n        db.onversionchange = function () {\n          if (db) {\n            db.close();\n            db = null;\n            dbCache[_this.name] = null;\n          }\n        };\n\n        // Try to obtain the collection handle by recursing. Append the handlers\n        // to empty the queue upon success and failure. Set the `force` flag so\n        // all but the current transaction remain queued.\n        var wrap = function wrap(done) {\n          return function (arg) {\n            done(arg);\n\n            // Switch flag\n            _this.inTransaction = false;\n\n            // The database handle has been established, we can now safely empty\n            // the queue. The queue must be emptied before invoking the concurrent\n            // operations to avoid infinite recursion.\n            if (_this.queue.length > 0) {\n              var pending = _this.queue;\n              _this.queue = [];\n              (0, _forEach2.default)(pending, function (fn) {\n                fn.call(_this);\n              });\n            }\n          };\n        };\n\n        _this.openTransaction(collection, write, wrap(success), wrap(error), true);\n      };\n\n      request.onblocked = function () {\n        error(new _errors.KinveyError('The ' + _this.name + ' indexedDB database version can\\'t be upgraded ' + 'because the database is already open.'));\n      };\n\n      request.onerror = function (e) {\n        error(new _errors.KinveyError('Unable to open the ' + _this.name + ' indexedDB database. ' + ('Received the error code ' + e.target.errorCode + '.')));\n      };\n    }\n  }, {\n    key: 'find',\n    value: function find(collection) {\n      var _this2 = this;\n\n      var promise = new Promise(function (resolve, reject) {\n        if (!collection) {\n          return reject(new _errors.KinveyError('A collection was not provided.'));\n        }\n\n        _this2.openTransaction(collection, false, function (store) {\n          var request = store.openCursor();\n          var response = [];\n\n          request.onsuccess = function onSuccess(e) {\n            var cursor = e.target.result;\n\n            if (cursor) {\n              response.push(cursor.value);\n              return cursor.continue();\n            }\n\n            resolve(response);\n          };\n\n          request.onerror = function (e) {\n            reject(new _errors.KinveyError('An error occurred while fetching data from the ' + collection + ' ' + ('collection on the ' + _this2.name + ' indexedDB database. Received the error code ' + e.target.errorCode + '.')));\n          };\n        }, function (error) {\n          if (error instanceof _errors.NotFoundError) {\n            return resolve([]);\n          }\n\n          reject(error);\n        });\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'findById',\n    value: function findById(collection, id) {\n      var _this3 = this;\n\n      var promise = new Promise(function (resolve, reject) {\n        _this3.openTransaction(collection, false, function (store) {\n          var request = store.get(id);\n\n          request.onsuccess = function (e) {\n            var entity = e.target.result;\n\n            if (entity) {\n              return resolve(entity);\n            }\n\n            reject(new _errors.NotFoundError('An entity with _id = ' + id + ' was not found in the ' + collection + ' ' + ('collection on the ' + _this3.name + ' indexedDB database.')));\n          };\n\n          request.onerror = function (e) {\n            reject(new _errors.KinveyError('An error occurred while retrieving an entity with _id = ' + id + ' ' + ('from the ' + collection + ' collection on the ' + _this3.name + ' indexedDB database. ') + ('Received the error code ' + e.target.errorCode + '.')));\n          };\n        }, function (error) {\n          if (error instanceof _errors.NotFoundError) {\n            return reject(new _errors.NotFoundError('An entity with _id = ' + id + ' was not found in the ' + collection + ' ' + ('collection on the ' + _this3.name + ' indexedDB database.')));\n          }\n\n          reject(error);\n        });\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'save',\n    value: function save(collection, entities) {\n      var _this4 = this;\n\n      var singular = false;\n\n      if (!(0, _isArray2.default)(entities)) {\n        entities = [entities];\n        singular = true;\n      }\n\n      if (entities.length === 0) {\n        return Promise.resolve(entities);\n      }\n\n      var promise = new Promise(function (resolve, reject) {\n        _this4.openTransaction(collection, true, function (store) {\n          var request = store.transaction;\n\n          (0, _forEach2.default)(entities, function (entity) {\n            store.put(entity);\n          });\n\n          request.oncomplete = function onComplete() {\n            resolve(singular ? entities[0] : entities);\n          };\n\n          request.onerror = function (e) {\n            reject(new _errors.KinveyError('An error occurred while saving the entities to the ' + collection + ' ' + ('collection on the ' + _this4.name + ' indexedDB database. Received the error code ' + e.target.errorCode + '.')));\n          };\n        }, reject);\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'removeById',\n    value: function removeById(collection, id) {\n      var _this5 = this;\n\n      var promise = new Promise(function (resolve, reject) {\n        _this5.openTransaction(collection, true, function (store) {\n          var request = store.transaction;\n          var doc = store.get(id);\n          store.delete(id);\n\n          request.oncomplete = function () {\n            if (!doc.result) {\n              return reject(new _errors.NotFoundError('An entity with id = ' + id + ' was not found in the ' + collection + ' ' + ('collection on the ' + _this5.name + ' indexedDB database.')));\n            }\n\n            resolve({\n              count: 1,\n              entities: [doc.result]\n            });\n          };\n\n          request.onerror = function (e) {\n            reject(new _errors.KinveyError('An error occurred while deleting an entity with id = ' + id + ' ' + ('in the ' + collection + ' collection on the ' + _this5.name + ' indexedDB database. ') + ('Received the error code ' + e.target.errorCode + '.')));\n          };\n        }, reject);\n      });\n\n      return promise;\n    }\n  }], [{\n    key: 'isSupported',\n    value: function isSupported() {\n      return indexedDB ? true : false;\n    }\n  }]);\n\n  return IndexedDB;\n}();\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../../../errors\":24,\"indexeddbshim\":14,\"lodash/forEach\":206,\"lodash/isArray\":211,\"lodash/isFunction\":216,\"lodash/isString\":224}],36:[function(require,module,exports){\n(function (process,global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LocalStorage = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _errors = require('../../../errors');\n\nvar _keyBy = require('lodash/keyBy');\n\nvar _keyBy2 = _interopRequireDefault(_keyBy);\n\nvar _merge = require('lodash/merge');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _values = require('lodash/values');\n\nvar _values2 = _interopRequireDefault(_values);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nvar localStorage = global.localStorage;\n\n/**\n * @private\n */\n\nvar LocalStorage = exports.LocalStorage = function () {\n  function LocalStorage() {\n    var name = arguments.length <= 0 || arguments[0] === undefined ? 'kinvey' : arguments[0];\n\n    _classCallCheck(this, LocalStorage);\n\n    this.name = name;\n  }\n\n  _createClass(LocalStorage, [{\n    key: 'find',\n    value: function find(collection) {\n      var _this = this;\n\n      return Promise.resolve().then(function () {\n        var data = localStorage.getItem('' + _this.name + collection);\n\n        try {\n          return JSON.parse(data);\n        } catch (err) {\n          return data;\n        }\n      }).then(function (entities) {\n        if (!entities) {\n          return [];\n        }\n\n        return entities;\n      });\n    }\n  }, {\n    key: 'findById',\n    value: function findById(collection, id) {\n      var _this2 = this;\n\n      return this.find(collection).then(function (entities) {\n        var entity = find(entities, function (entity) {\n          return entity[idAttribute] === id;\n        });\n\n        if (!entity) {\n          throw new _errors.NotFoundError('An entity with _id = ' + id + ' was not found in the ' + collection + ' ' + ('collection on the ' + _this2.name + ' memory database.'));\n        }\n\n        return entity;\n      });\n    }\n  }, {\n    key: 'save',\n    value: function save(collection, entities) {\n      var _this3 = this;\n\n      return this.find(collection).then(function (existingEntities) {\n        var existingEntitiesById = (0, _keyBy2.default)(existingEntities, idAttribute);\n        var entitiesById = (0, _keyBy2.default)(entities, idAttribute);\n\n        for (var id in existingEntitiesById) {\n          if (existingEntitiesById.hasOwnProperty(id)) {\n            var existingEntity = existingEntitiesById[id];\n            var entity = entitiesById[id];\n\n            if (entity) {\n              entitiesById[id] = (0, _merge2.default)(existingEntity, entity);\n            }\n          }\n        }\n\n        localStorage.setItem('' + _this3.name + collection, JSON.stringify((0, _values2.default)(entitiesById)));\n        return entities;\n      });\n    }\n  }, {\n    key: 'removeById',\n    value: function removeById(collection, id) {\n      var _this4 = this;\n\n      return this.find(collection).then(function (entities) {\n        var entitiesById = (0, _keyBy2.default)(entities, idAttribute);\n        var entity = entitiesById[id];\n\n        if (!entity) {\n          throw new _errors.NotFoundError('An entity with _id = ' + id + ' was not found in the ' + collection + ' ' + ('collection on the ' + _this4.name + ' memory database.'));\n        }\n\n        delete entitiesById[id];\n        localStorage.setItem('' + _this4.name + collection, JSON.stringify((0, _values2.default)(entitiesById)));\n\n        return {\n          count: 1,\n          entities: [entity]\n        };\n      });\n    }\n  }], [{\n    key: 'isSupported',\n    value: function isSupported() {\n      if (localStorage) {\n        var item = 'testLocalStorageSupport';\n        try {\n          localStorage.setItem(item, item);\n          localStorage.removeItem(item);\n          return true;\n        } catch (e) {\n          return false;\n        }\n      }\n\n      return false;\n    }\n  }]);\n\n  return LocalStorage;\n}();\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../../../errors\":24,\"_process\":249,\"lodash/keyBy\":227,\"lodash/merge\":232,\"lodash/values\":244}],37:[function(require,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Memory = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _promiseQueue = require('promise-queue');\n\nvar _promiseQueue2 = _interopRequireDefault(_promiseQueue);\n\nvar _errors = require('../../../errors');\n\nvar _fastMemoryCache = require('fast-memory-cache');\n\nvar _fastMemoryCache2 = _interopRequireDefault(_fastMemoryCache);\n\nvar _keyBy = require('lodash/keyBy');\n\nvar _keyBy2 = _interopRequireDefault(_keyBy);\n\nvar _values = require('lodash/values');\n\nvar _values2 = _interopRequireDefault(_values);\n\nvar _find = require('lodash/find');\n\nvar _find2 = _interopRequireDefault(_find);\n\nvar _isString = require('lodash/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nvar caches = [];\n\n_promiseQueue2.default.configure(Promise);\nvar queue = new _promiseQueue2.default(1, Infinity);\n\n/**\n * @private\n */\n\nvar Memory = exports.Memory = function () {\n  function Memory(name) {\n    _classCallCheck(this, Memory);\n\n    if (!name) {\n      throw new _errors.KinveyError('A name for the collection is required to use the memory persistence adapter.', name);\n    }\n\n    if (!(0, _isString2.default)(name)) {\n      throw new _errors.KinveyError('The name of the collection must be a string to use the memory persistence adapter', name);\n    }\n\n    this.name = name;\n    this.cache = caches[name];\n\n    if (!this.cache) {\n      this.cache = new _fastMemoryCache2.default();\n      caches[name] = this.cache;\n    }\n  }\n\n  _createClass(Memory, [{\n    key: 'find',\n    value: function find(collection) {\n      var _this = this;\n\n      return queue.add(function () {\n        return Promise.resolve().then(function () {\n          var entities = _this.cache.get('' + _this.name + collection);\n\n          if (entities) {\n            try {\n              return JSON.parse(entities);\n            } catch (err) {\n              return entities;\n            }\n          }\n\n          return entities;\n        }).then(function (entities) {\n          if (!entities) {\n            return [];\n          }\n\n          return entities;\n        });\n      });\n    }\n  }, {\n    key: 'findById',\n    value: function findById(collection, id) {\n      var _this2 = this;\n\n      return this.find(collection).then(function (entities) {\n        var entity = (0, _find2.default)(entities, function (entity) {\n          return entity[idAttribute] === id;\n        });\n\n        if (!entity) {\n          throw new _errors.NotFoundError('An entity with _id = ' + id + ' was not found in the ' + collection + ' ' + ('collection on the ' + _this2.name + ' memory database.'));\n        }\n\n        return entity;\n      });\n    }\n  }, {\n    key: 'save',\n    value: function save(collection, entities) {\n      var _this3 = this;\n\n      var singular = false;\n\n      if (!(0, _isArray2.default)(entities)) {\n        entities = [entities];\n        singular = true;\n      }\n\n      if (entities.length === 0) {\n        return Promise.resolve(entities);\n      }\n\n      return this.find(collection).then(function (existingEntities) {\n        existingEntities = (0, _keyBy2.default)(existingEntities, idAttribute);\n        entities = (0, _keyBy2.default)(entities, idAttribute);\n\n        for (var id in entities) {\n          if (entities.hasOwnProperty(id)) {\n            existingEntities[id] = entities[id];\n          }\n        }\n\n        _this3.cache.set('' + _this3.name + collection, JSON.stringify((0, _values2.default)(existingEntities)));\n        entities = (0, _values2.default)(entities);\n        return singular ? entities[0] : entities;\n      });\n    }\n  }, {\n    key: 'removeById',\n    value: function removeById(collection, id) {\n      var _this4 = this;\n\n      return this.find(collection).then(function (entities) {\n        entities = (0, _keyBy2.default)(entities, idAttribute);\n        var entity = entities[id];\n\n        if (!entity) {\n          throw new _errors.NotFoundError('An entity with _id = ' + id + ' was not found in the ' + collection + ' ' + ('collection on the ' + _this4.name + ' memory database.'));\n        }\n\n        delete entities[id];\n        _this4.cache.set('' + _this4.name + collection, JSON.stringify((0, _values2.default)(entities)));\n\n        return {\n          count: 1,\n          entities: [entity]\n        };\n      });\n    }\n  }], [{\n    key: 'isSupported',\n    value: function isSupported() {\n      return true;\n    }\n  }]);\n\n  return Memory;\n}();\n\n}).call(this,require('_process'))\n\n},{\"../../../errors\":24,\"_process\":249,\"fast-memory-cache\":10,\"lodash/find\":204,\"lodash/isArray\":211,\"lodash/isString\":224,\"lodash/keyBy\":227,\"lodash/values\":244,\"promise-queue\":250}],38:[function(require,module,exports){\n(function (process,global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WebSQL = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _errors = require('../../../errors');\n\nvar _map = require('lodash/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _forEach = require('lodash/forEach');\n\nvar _forEach2 = _interopRequireDefault(_forEach);\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nvar _isFunction = require('lodash/isFunction');\n\nvar _isFunction2 = _interopRequireDefault(_isFunction);\n\nvar _isString = require('lodash/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nvar masterCollectionName = 'sqlite_master';\nvar size = 5 * 1000 * 1000; // Database size in bytes\nvar webSQL = null;\nvar dbCache = {};\n\nif (typeof window !== 'undefined') {\n  webSQL = {\n    openDatabase: typeof openDatabase !== 'undefined' ? openDatabase : global.openDatabase\n  };\n}\n\n/**\n * @private\n */\n\nvar WebSQL = exports.WebSQL = function () {\n  function WebSQL() {\n    var name = arguments.length <= 0 || arguments[0] === undefined ? 'kinvey' : arguments[0];\n\n    _classCallCheck(this, WebSQL);\n\n    this.name = name;\n  }\n\n  _createClass(WebSQL, [{\n    key: 'openTransaction',\n    value: function openTransaction(collection, query, parameters) {\n      var _this = this;\n\n      var write = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\n      var db = dbCache[this.name];\n      var escapedCollection = '\"' + collection + '\"';\n      var isMaster = collection === masterCollectionName;\n      var isMulti = (0, _isArray2.default)(query);\n\n      query = isMulti ? query : [[query, parameters]];\n\n      if (!db) {\n        db = webSQL.openDatabase(this.name, 1, '', size);\n        dbCache[this.name] = db;\n      }\n\n      var promise = new Promise(function (resolve, reject) {\n        var writeTxn = write || !(0, _isFunction2.default)(db.readTransaction);\n        db[writeTxn ? 'transaction' : 'readTransaction'](function (tx) {\n          if (write && !isMaster) {\n            tx.executeSql('CREATE TABLE IF NOT EXISTS ' + escapedCollection + ' ' + '(key BLOB PRIMARY KEY NOT NULL, value BLOB NOT NULL)');\n          }\n\n          var pending = query.length;\n          var responses = [];\n\n          (0, _forEach2.default)(query, function (parts) {\n            var sql = parts[0].replace('#{collection}', escapedCollection);\n\n            tx.executeSql(sql, parts[1], function (_, resultSet) {\n              var response = {\n                rowCount: resultSet.rowsAffected,\n                result: []\n              };\n\n              if (resultSet.rows.length) {\n                for (var i = 0, len = resultSet.rows.length; i < len; i++) {\n                  try {\n                    var value = resultSet.rows.item(i).value;\n                    var entity = isMaster ? value : JSON.parse(value);\n                    response.result.push(entity);\n                  } catch (err) {\n                    // Catch the error\n                  }\n                }\n              }\n\n              responses.push(response);\n              pending = pending - 1;\n\n              if (pending === 0) {\n                resolve(isMulti ? responses : responses.shift());\n              }\n            });\n          });\n        }, function (err) {\n          err = (0, _isString2.default)(err) ? err : err.message;\n\n          if (err && err.indexOf('no such table') === -1) {\n            return reject(new _errors.NotFoundError('The ' + collection + ' collection was not found on ' + ('the ' + _this.name + ' webSQL database.')));\n          }\n\n          var query = 'SELECT name AS value from #{collection} WHERE type = ? AND name = ?';\n          var parameters = ['table', collection];\n\n          _this.openTransaction(masterCollectionName, query, parameters).then(function (response) {\n            if (response.result.length === 0) {\n              return reject(new _errors.NotFoundError('The ' + collection + ' collection was not found on ' + ('the ' + _this.name + ' webSQL database.')));\n            }\n\n            reject(new _errors.KinveyError('Unable to open a transaction for the ' + collection + ' ' + ('collection on the ' + _this.name + ' webSQL database.')));\n          }).catch(function (err) {\n            reject(new _errors.KinveyError('Unable to open a transaction for the ' + collection + ' ' + ('collection on the ' + _this.name + ' webSQL database.'), err));\n          });\n        });\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'find',\n    value: function find(collection) {\n      var sql = 'SELECT value FROM #{collection}';\n      var promise = this.openTransaction(collection, sql, []).then(function (response) {\n        return response.result;\n      }).catch(function (error) {\n        if (error instanceof _errors.NotFoundError) {\n          return [];\n        }\n\n        throw error;\n      });\n      return promise;\n    }\n  }, {\n    key: 'findById',\n    value: function findById(collection, id) {\n      var _this2 = this;\n\n      var sql = 'SELECT value FROM #{collection} WHERE key = ?';\n      var promise = this.openTransaction(collection, sql, [id]).then(function (response) {\n        var entities = response.result;\n\n        if (entities.length === 0) {\n          throw new _errors.NotFoundError('An entity with _id = ' + id + ' was not found in the ' + collection + ' ' + ('collection on the ' + _this2.name + ' webSQL database.'));\n        }\n\n        return entities[0];\n      });\n      return promise;\n    }\n  }, {\n    key: 'save',\n    value: function save(collection, entities) {\n      var queries = [];\n      entities = (0, _map2.default)(entities, function (entity) {\n        queries.push(['REPLACE INTO #{collection} (key, value) VALUES (?, ?)', [entity[idAttribute], JSON.stringify(entity)]]);\n\n        return entity;\n      });\n\n      var promise = this.openTransaction(collection, queries, null, true).then(function () {\n        return entities;\n      });\n      return promise;\n    }\n  }, {\n    key: 'removeById',\n    value: function removeById(collection, id) {\n      var _this3 = this;\n\n      var promise = this.openTransaction(collection, [['SELECT value FROM #{collection} WHERE key = ?', [id]], ['DELETE FROM #{collection} WHERE key = ?', [id]]], null, true).then(function (response) {\n        var entities = response[0].result;\n        var count = response[1].rowCount;\n        count = count ? count : entities.length;\n\n        if (count === 0) {\n          throw new _errors.NotFoundError('An entity with _id = ' + id + ' was not found in the ' + collection + ' ' + ('collection on the ' + _this3.name + ' webSQL database.'));\n        }\n\n        return {\n          count: 1,\n          entities: entities\n        };\n      });\n\n      return promise;\n    }\n  }], [{\n    key: 'isSupported',\n    value: function isSupported() {\n      return webSQL ? true : false;\n    }\n  }]);\n\n  return WebSQL;\n}();\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../../../errors\":24,\"_process\":249,\"lodash/forEach\":206,\"lodash/isArray\":211,\"lodash/isFunction\":216,\"lodash/isString\":224,\"lodash/map\":231}],39:[function(require,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DB = exports.DBAdapter = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _query = require('../../query');\n\nvar _aggregation = require('../../aggregation');\n\nvar _indexeddb = require('./adapters/indexeddb');\n\nvar _localstorage = require('./adapters/localstorage');\n\nvar _memory = require('./adapters/memory');\n\nvar _websql = require('./adapters/websql');\n\nvar _errors = require('../../errors');\n\nvar _log = require('../../log');\n\nvar _map = require('lodash/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _result = require('lodash/result');\n\nvar _result2 = _interopRequireDefault(_result);\n\nvar _reduce = require('lodash/reduce');\n\nvar _reduce2 = _interopRequireDefault(_reduce);\n\nvar _forEach = require('lodash/forEach');\n\nvar _forEach2 = _interopRequireDefault(_forEach);\n\nvar _isString = require('lodash/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nvar kmdAttribute = process.env.KINVEY_KMD_ATTRIBUTE || '_kmd';\n\n/**\n * @private\n * Enum for DB Adapters.\n */\nvar DBAdapter = {\n  IndexedDB: 'IndexedDB',\n  LocalStorage: 'LocalStorage',\n  Memory: 'Memory',\n  WebSQL: 'WebSQL'\n};\nObject.freeze(DBAdapter);\nexports.DBAdapter = DBAdapter;\n\n/**\n * @private\n */\n\nvar DB = exports.DB = function () {\n  function DB(name) {\n    var _this = this;\n\n    var adapters = arguments.length <= 1 || arguments[1] === undefined ? [DBAdapter.IndexedDB, DBAdapter.WebSQL, DBAdapter.LocalStorage, DBAdapter.Memory] : arguments[1];\n\n    _classCallCheck(this, DB);\n\n    if (!(0, _isArray2.default)(adapters)) {\n      adapters = [adapters];\n    }\n\n    (0, _forEach2.default)(adapters, function (adapter) {\n      switch (adapter) {\n        case DBAdapter.IndexedDB:\n          if (_indexeddb.IndexedDB.isSupported()) {\n            _this.adapter = new _indexeddb.IndexedDB(name);\n            return false;\n          }\n\n          break;\n        case DBAdapter.LocalStorage:\n          if (_localstorage.LocalStorage.isSupported()) {\n            _this.adapter = new _localstorage.LocalStorage(name);\n            return false;\n          }\n\n          break;\n        case DBAdapter.Memory:\n          if (_memory.Memory.isSupported()) {\n            _this.adapter = new _memory.Memory(name);\n            return false;\n          }\n\n          break;\n        case DBAdapter.WebSQL:\n          if (_websql.WebSQL.isSupported()) {\n            _this.adapter = new _websql.WebSQL(name);\n            return false;\n          }\n\n          break;\n        default:\n          _log.Log.warn('The ' + adapter + ' adapter is is not recognized.');\n      }\n    });\n\n    if (!this.adapter) {\n      if (_memory.Memory.isSupported()) {\n        _log.Log.error('Provided adapters are unsupported on this platform. ' + 'Defaulting to StoreAdapter.Memory adapter.', adapters);\n        this.adapter = new _memory.Memory(name);\n      } else {\n        _log.Log.error('Provided adapters are unsupported on this platform.', adapters);\n      }\n    }\n  }\n\n  _createClass(DB, [{\n    key: 'generateObjectId',\n    value: function generateObjectId() {\n      var length = arguments.length <= 0 || arguments[0] === undefined ? 24 : arguments[0];\n\n      var chars = 'abcdef0123456789';\n      var objectId = '';\n\n      for (var i = 0, j = chars.length; i < length; i++) {\n        var pos = Math.floor(Math.random() * j);\n        objectId += chars.substring(pos, pos + 1);\n      }\n\n      objectId = '' + this.objectIdPrefix + objectId;\n      return objectId;\n    }\n  }, {\n    key: 'find',\n    value: function find(collection, query) {\n      var promise = this.adapter.find(collection).then(function (entities) {\n        if (!entities) {\n          return [];\n        }\n\n        return entities;\n      }).then(function (entities) {\n        if (query && !(query instanceof _query.Query)) {\n          query = new _query.Query((0, _result2.default)(query, 'toJSON', query));\n        }\n\n        if (entities.length > 0 && query) {\n          entities = query._process(entities);\n        }\n\n        return entities;\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'count',\n    value: function count(collection, query) {\n      var promise = this.find(collection, query).then(function (entities) {\n        return entities.length;\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'group',\n    value: function group(collection, aggregation) {\n      var promise = this.find(collection).then(function (entities) {\n        if (!(aggregation instanceof _aggregation.Aggregation)) {\n          aggregation = new _aggregation.Aggregation((0, _result2.default)(aggregation, 'toJSON', aggregation));\n        }\n\n        if (entities.length > 0 && aggregation) {\n          return aggregation.process(entities);\n        }\n\n        return null;\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'findById',\n    value: function findById(collection, id) {\n      if (!(0, _isString2.default)(id)) {\n        return Promise.reject(new _errors.KinveyError('id must be a string', id));\n      }\n\n      var promise = this.adapter.findById(collection, id);\n      return promise;\n    }\n  }, {\n    key: 'save',\n    value: function save(collection) {\n      var _this2 = this;\n\n      var entities = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];\n\n      var singular = false;\n\n      if (!entities) {\n        return Promise.resolve(null);\n      }\n\n      if (!(0, _isArray2.default)(entities)) {\n        singular = true;\n        entities = [entities];\n      }\n\n      entities = (0, _map2.default)(entities, function (entity) {\n        var id = entity[idAttribute];\n        var kmd = entity[kmdAttribute] || {};\n\n        if (!id) {\n          id = _this2.generateObjectId();\n          kmd.local = true;\n        }\n\n        delete kmd.lmt;\n        entity[idAttribute] = id;\n        entity[kmdAttribute] = kmd;\n        return entity;\n      });\n\n      return this.adapter.save(collection, entities).then(function (entities) {\n        if (singular && entities.length > 0) {\n          return entities[0];\n        }\n\n        return entities;\n      });\n    }\n  }, {\n    key: 'remove',\n    value: function remove(collection, query) {\n      var _this3 = this;\n\n      if (query && !(query instanceof _query.Query)) {\n        query = new _query.Query((0, _result2.default)(query, 'toJSON', query));\n      }\n\n      // Removing should not take the query sort, limit, and skip into account.\n      if (query) {\n        query.sort(null).limit(null).skip(0);\n      }\n\n      var promise = this.find(collection, query).then(function (entities) {\n        var promises = entities.map(function (entity) {\n          return _this3.removeById(collection, entity[idAttribute]);\n        });\n\n        return Promise.all(promises);\n      }).then(function (responses) {\n        return (0, _reduce2.default)(responses, function (result, response) {\n          result.count += response.count;\n          result.entities = result.entities.concat(response.entities);\n          return result;\n        }, {\n          count: 0,\n          entities: []\n        });\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'removeById',\n    value: function removeById(collection, id) {\n      if (!id) {\n        return Promise.resolve({\n          count: 0,\n          entities: []\n        });\n      }\n\n      if (!(0, _isString2.default)(id)) {\n        return Promise.reject(new _errors.KinveyError('id must be a string', id));\n      }\n\n      var promise = this.adapter.removeById(collection, id);\n      return promise;\n    }\n  }, {\n    key: 'objectIdPrefix',\n    get: function get() {\n      return '';\n    }\n  }]);\n\n  return DB;\n}();\n\n}).call(this,require('_process'))\n\n},{\"../../aggregation\":20,\"../../errors\":24,\"../../log\":26,\"../../query\":29,\"./adapters/indexeddb\":35,\"./adapters/localstorage\":36,\"./adapters/memory\":37,\"./adapters/websql\":38,\"_process\":249,\"lodash/forEach\":206,\"lodash/isArray\":211,\"lodash/isString\":224,\"lodash/map\":231,\"lodash/reduce\":236,\"lodash/result\":238}],40:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NetworkRack = exports.CacheRack = exports.KinveyRack = exports.Rack = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _middleware = require('./middleware');\n\nvar _cache = require('./middleware/cache');\n\nvar _parse = require('./middleware/parse');\n\nvar _serialize = require('./middleware/serialize');\n\nvar _findIndex = require('lodash/findIndex');\n\nvar _findIndex2 = _interopRequireDefault(_findIndex);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar sharedCacheRackInstance = void 0;\nvar sharedNetworkRackInstance = void 0;\n\n/**\n * @private\n */\n\nvar Rack = exports.Rack = function (_KinveyMiddleware) {\n  _inherits(Rack, _KinveyMiddleware);\n\n  function Rack() {\n    var name = arguments.length <= 0 || arguments[0] === undefined ? 'Rack' : arguments[0];\n\n    _classCallCheck(this, Rack);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Rack).call(this, name));\n\n    _this.middlewares = [];\n    _this.canceled = false;\n    return _this;\n  }\n\n  _createClass(Rack, [{\n    key: 'getMiddleware',\n    value: function getMiddleware() {\n      var index = arguments.length <= 0 || arguments[0] === undefined ? -1 : arguments[0];\n\n      var middlewares = this.middlewares;\n\n      if (index < -1 || index >= middlewares.length) {\n        throw new Error('Index ' + index + ' is out of bounds.');\n      }\n\n      return middlewares[index];\n    }\n  }, {\n    key: 'use',\n    value: function use(middleware) {\n      if (middleware) {\n        if (middleware instanceof _middleware.KinveyMiddleware) {\n          this.middlewares.push(middleware);\n          return;\n        }\n\n        throw new Error('Unable to use the middleware. It must be an instance of Middleware.');\n      }\n    }\n  }, {\n    key: 'useBefore',\n    value: function useBefore(middlewareClass, middleware) {\n      if (middleware) {\n        if (middleware instanceof _middleware.Middleware) {\n          var middlewares = this.middlewares;\n          var index = (0, _findIndex2.default)(middlewares, function (existingMiddleware) {\n            return existingMiddleware instanceof middlewareClass;\n          });\n\n          if (index > -1) {\n            middlewares.splice(index, 0, middleware);\n            this.middlewares = middlewares;\n          }\n\n          return;\n        }\n\n        throw new Error('Unable to use the middleware. It must be an instance of Middleware.');\n      }\n    }\n  }, {\n    key: 'useAfter',\n    value: function useAfter(middlewareClass, middleware) {\n      if (middleware) {\n        if (middleware instanceof _middleware.Middleware) {\n          var middlewares = this.middlewares;\n          var index = (0, _findIndex2.default)(middlewares, function (existingMiddleware) {\n            return existingMiddleware instanceof middlewareClass;\n          });\n\n          if (index > -1) {\n            middlewares.splice(index + 1, 0, middleware);\n            this.middlewares = middlewares;\n          }\n\n          return;\n        }\n\n        throw new Error('Unable to use the middleware. It must be an instance of Middleware.');\n      }\n    }\n  }, {\n    key: 'swap',\n    value: function swap(middlewareClass, middleware) {\n      if (middleware) {\n        if (middleware instanceof _middleware.Middleware) {\n          var middlewares = this.middlewares;\n          var index = (0, _findIndex2.default)(middlewares, function (existingMiddleware) {\n            return existingMiddleware instanceof middlewareClass;\n          });\n\n          if (index > -1) {\n            middlewares.splice(index, 1, middleware);\n            this.middlewares = middlewares;\n          }\n\n          return;\n        }\n\n        throw new Error('Unable to use the middleware. It must be an instance of Middleware.');\n      }\n    }\n  }, {\n    key: 'remove',\n    value: function remove(middlewareClass) {\n      var middlewares = this.middlewares;\n      var index = (0, _findIndex2.default)(middlewares, function (existingMiddleware) {\n        return existingMiddleware instanceof middlewareClass;\n      });\n\n      if (index > -1) {\n        middlewares.splice(index, 1);\n        this.middlewares = middlewares;\n        this.remove(middlewareClass);\n      }\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.middlewares = [];\n    }\n  }, {\n    key: 'execute',\n    value: function execute(request) {\n      if (!request) {\n        return Promise.reject(new Error('Request is null. Please provide a valid request.'));\n      }\n\n      return this._execute(0, this.middlewares, request);\n    }\n  }, {\n    key: '_execute',\n    value: function _execute(index, middlewares, request) {\n      var _this2 = this;\n\n      if (index < -1 || index >= middlewares.length) {\n        throw new Error('Index ' + index + ' is out of bounds.');\n      }\n\n      var middleware = middlewares[index];\n      return middleware.handle(request).then(function (response) {\n        index = index + 1;\n\n        if (index < middlewares.length) {\n          return _this2._execute(index, middlewares, response);\n        }\n\n        return response;\n      });\n    }\n  }, {\n    key: 'cancel',\n    value: function cancel() {\n      this.canceled = true;\n    }\n  }, {\n    key: 'handle',\n    value: function handle(request) {\n      return this.execute(request);\n    }\n  }, {\n    key: 'generateTree',\n    value: function generateTree() {\n      var level = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\n      var root = _get(Object.getPrototypeOf(Rack.prototype), 'generateTree', this).call(this, level);\n      var middlewares = this.middlewares;\n\n      middlewares.forEach(function (middleware) {\n        root.nodes.push(middleware.generateTree(level + 1));\n      });\n\n      return root;\n    }\n  }]);\n\n  return Rack;\n}(_middleware.KinveyMiddleware);\n\n/**\n * @private\n */\n\n\nvar KinveyRack = exports.KinveyRack = function (_Rack) {\n  _inherits(KinveyRack, _Rack);\n\n  function KinveyRack() {\n    _classCallCheck(this, KinveyRack);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(KinveyRack).apply(this, arguments));\n  }\n\n  _createClass(KinveyRack, [{\n    key: 'execute',\n    value: function execute(request) {\n      var promise = _get(Object.getPrototypeOf(KinveyRack.prototype), 'execute', this).call(this, request).then(function (request) {\n        return request.response;\n      });\n      return promise;\n    }\n  }]);\n\n  return KinveyRack;\n}(Rack);\n\n/**\n * @private\n */\n\n\nvar CacheRack = exports.CacheRack = function (_KinveyRack) {\n  _inherits(CacheRack, _KinveyRack);\n\n  function CacheRack() {\n    var name = arguments.length <= 0 || arguments[0] === undefined ? 'Kinvey Cache Rack' : arguments[0];\n\n    _classCallCheck(this, CacheRack);\n\n    var _this4 = _possibleConstructorReturn(this, Object.getPrototypeOf(CacheRack).call(this, name));\n\n    _this4.use(new _cache.CacheMiddleware());\n    return _this4;\n  }\n\n  _createClass(CacheRack, null, [{\n    key: 'sharedInstance',\n    value: function sharedInstance() {\n      var instance = sharedCacheRackInstance;\n\n      if (!instance) {\n        instance = new CacheRack();\n        sharedCacheRackInstance = instance;\n      }\n\n      return instance;\n    }\n  }]);\n\n  return CacheRack;\n}(KinveyRack);\n\n/**\n * @private\n */\n\n\nvar NetworkRack = exports.NetworkRack = function (_KinveyRack2) {\n  _inherits(NetworkRack, _KinveyRack2);\n\n  function NetworkRack() {\n    var name = arguments.length <= 0 || arguments[0] === undefined ? 'Kinvey Network Rack' : arguments[0];\n\n    _classCallCheck(this, NetworkRack);\n\n    var _this5 = _possibleConstructorReturn(this, Object.getPrototypeOf(NetworkRack).call(this, name));\n\n    _this5.use(new _serialize.SerializeMiddleware());\n    _this5.use(new _parse.ParseMiddleware());\n    return _this5;\n  }\n\n  _createClass(NetworkRack, null, [{\n    key: 'sharedInstance',\n    value: function sharedInstance() {\n      var instance = sharedNetworkRackInstance;\n\n      if (!instance) {\n        instance = new NetworkRack();\n        sharedNetworkRackInstance = instance;\n      }\n\n      return instance;\n    }\n  }]);\n\n  return NetworkRack;\n}(KinveyRack);\n\n},{\"./middleware\":31,\"./middleware/cache\":32,\"./middleware/parse\":33,\"./middleware/serialize\":34,\"lodash/findIndex\":205}],41:[function(require,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DeltaFetchRequest = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _request = require('./request');\n\nvar _local = require('./local');\n\nvar _network = require('./network');\n\nvar _response = require('./response');\n\nvar _enums = require('../enums');\n\nvar _errors = require('../errors');\n\nvar _query3 = require('../query');\n\nvar _keyBy = require('lodash/keyBy');\n\nvar _keyBy2 = _interopRequireDefault(_keyBy);\n\nvar _reduce = require('lodash/reduce');\n\nvar _reduce2 = _interopRequireDefault(_reduce);\n\nvar _result = require('lodash/result');\n\nvar _result2 = _interopRequireDefault(_result);\n\nvar _values = require('lodash/values');\n\nvar _values2 = _interopRequireDefault(_values);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nvar kmdAttribute = process.env.KINVEY_KMD_ATTRIBUTE || '_kmd';\nvar lmtAttribute = process.env.KINVEY_LMT_ATTRIBUTE || 'lmt';\nvar maxIdsPerRequest = process.env.KINVEY_MAX_IDS || 200;\n\n/**\n * @private\n */\n\nvar DeltaFetchRequest = exports.DeltaFetchRequest = function (_KinveyRequest) {\n  _inherits(DeltaFetchRequest, _KinveyRequest);\n\n  function DeltaFetchRequest() {\n    _classCallCheck(this, DeltaFetchRequest);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(DeltaFetchRequest).apply(this, arguments));\n  }\n\n  _createClass(DeltaFetchRequest, [{\n    key: 'execute',\n    value: function execute() {\n      var _this2 = this;\n\n      var promise = _get(Object.getPrototypeOf(DeltaFetchRequest.prototype), 'execute', this).call(this).then(function () {\n        if (_this2.method !== _enums.HttpMethod.GET) {\n          throw new Error('Invalid http method. Http GET requests are only supported by DeltaFetchRequests.');\n        }\n\n        var localRequest = new _local.LocalRequest({\n          method: _enums.HttpMethod.GET,\n          url: _this2.url,\n          headers: _this2.headers,\n          query: _this2.query,\n          timeout: _this2.timeout,\n          client: _this2.client\n        });\n        return localRequest.execute();\n      }).then(function (response) {\n        if (!response.isSuccess()) {\n          throw response.error;\n        }\n      }).catch(function (error) {\n        if (error instanceof _errors.NotFoundError) {\n          return new _response.Response({\n            statusCode: _enums.StatusCode.Ok,\n            data: []\n          });\n        }\n\n        throw error;\n      }).then(function (cacheResponse) {\n        var cacheDocuments = (0, _keyBy2.default)(cacheResponse.data, idAttribute);\n        var query = new _query3.Query((0, _result2.default)(_this2.query, 'toJSON', _this2.query));\n        query.fields([idAttribute, kmdAttribute]);\n        var networkRequest = new _network.NetworkRequest({\n          method: _enums.HttpMethod.GET,\n          url: _this2.url,\n          headers: _this2.headers,\n          auth: _this2.auth,\n          query: query,\n          timeout: _this2.timeout,\n          client: _this2.client\n        });\n\n        return networkRequest.execute().then(function (networkResponse) {\n          var networkDocuments = (0, _keyBy2.default)(networkResponse.data, idAttribute);\n          var deltaSet = networkDocuments;\n\n          for (var id in cacheDocuments) {\n            if (cacheDocuments.hasOwnProperty(id)) {\n              var cacheDocument = cacheDocuments[id];\n              var networkDocument = networkDocuments[id];\n\n              if (networkDocument) {\n                if (networkDocument[kmdAttribute] && cacheDocument[kmdAttribute] && networkDocument[kmdAttribute][lmtAttribute] === cacheDocument[kmdAttribute][lmtAttribute]) {\n                  delete deltaSet[id];\n                } else {\n                  delete cacheDocuments[id];\n                }\n              } else {\n                delete cacheDocuments[id];\n              }\n            }\n          }\n\n          var deltaSetIds = Object.keys(deltaSet);\n          var promises = [];\n          var i = 0;\n\n          while (i < deltaSetIds.length) {\n            var _query = new _query3.Query();\n            var ids = deltaSetIds.slice(i, deltaSetIds.length > maxIdsPerRequest + i ? maxIdsPerRequest : deltaSetIds.length);\n            _query.contains(idAttribute, ids);\n            var _networkRequest = new _network.NetworkRequest({\n              method: _enums.HttpMethod.GET,\n              url: _this2.url,\n              headers: _this2.headers,\n              auth: _this2.auth,\n              query: _query,\n              timeout: _this2.timeout,\n              client: _this2.client\n            });\n\n            var _promise = _networkRequest.execute();\n            promises.push(_promise);\n            i += maxIdsPerRequest;\n          }\n\n          return Promise.all(promises).then(function (responses) {\n            var initialResponse = new _response.Response({\n              statusCode: _enums.StatusCode.Ok,\n              data: []\n            });\n            return (0, _reduce2.default)(responses, function (result, response) {\n              if (response.isSuccess()) {\n                result.addHeaders(response.headers);\n                result.data = result.data.concat(response.data);\n              }\n\n              return result;\n            }, initialResponse);\n          }).then(function (response) {\n            response.data = response.data.concat((0, _values2.default)(cacheDocuments));\n\n            if (_this2.query) {\n              var _query2 = new _query3.Query((0, _result2.default)(_this2.query, 'toJSON', _this2.query));\n              _query2.skip(0).limit(0);\n              response.data = _query2._process(response.data);\n            }\n\n            return response;\n          });\n        });\n      });\n\n      return promise;\n    }\n  }]);\n\n  return DeltaFetchRequest;\n}(_request.KinveyRequest);\n\n}).call(this,require('_process'))\n\n},{\"../enums\":23,\"../errors\":24,\"../query\":29,\"./local\":42,\"./network\":43,\"./request\":45,\"./response\":46,\"_process\":249,\"lodash/keyBy\":227,\"lodash/reduce\":236,\"lodash/result\":238,\"lodash/values\":244}],42:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LocalRequest = undefined;\n\nvar _request = require('./request');\n\nvar _rack = require('../rack/rack');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * @private\n */\n\nvar LocalRequest = exports.LocalRequest = function (_KinveyRequest) {\n  _inherits(LocalRequest, _KinveyRequest);\n\n  function LocalRequest(options) {\n    _classCallCheck(this, LocalRequest);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(LocalRequest).call(this, options));\n\n    _this.rack = _rack.CacheRack.sharedInstance();\n    return _this;\n  }\n\n  return LocalRequest;\n}(_request.KinveyRequest);\n\n},{\"../rack/rack\":40,\"./request\":45}],43:[function(require,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NetworkRequest = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _request = require('./request');\n\nvar _rack = require('../rack/rack');\n\nvar _errors = require('../errors');\n\nvar _enums = require('../enums');\n\nvar _url = require('url');\n\nvar _url2 = _interopRequireDefault(_url);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar socialIdentityAttribute = process.env.KINVEY_SOCIAL_IDENTITY_ATTRIBUTE || '_socialIdentity';\nvar micIdentity = process.env.KINVEY_MIC_IDENTITY || 'kinveyAuth';\nvar tokenPathname = process.env.KINVEY_MIC_TOKEN_PATHNAME || '/oauth/token';\nvar usersNamespace = process.env.KINVEY_USERS_NAMESPACE || 'user';\n\n/**\n * @private\n */\n\nvar NetworkRequest = exports.NetworkRequest = function (_KinveyRequest) {\n  _inherits(NetworkRequest, _KinveyRequest);\n\n  function NetworkRequest(options) {\n    _classCallCheck(this, NetworkRequest);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(NetworkRequest).call(this, options));\n\n    _this.rack = _rack.NetworkRack.sharedInstance();\n    _this.automaticallyRefreshAuthToken = true;\n    return _this;\n  }\n\n  _createClass(NetworkRequest, [{\n    key: 'execute',\n    value: function execute() {\n      var _this2 = this;\n\n      var promise = _get(Object.getPrototypeOf(NetworkRequest.prototype), 'execute', this).call(this).catch(function (error) {\n        if (error instanceof _errors.InvalidCredentialsError && _this2.automaticallyRefreshAuthToken) {\n          var _ret = function () {\n            _this2.automaticallyRefreshAuthToken = false;\n            var activeSocialIdentity = _this2.client.getActiveSocialIdentity();\n\n            // Refresh MIC Auth Token\n            if (activeSocialIdentity && activeSocialIdentity.identity === micIdentity) {\n              // Refresh the token\n              var token = activeSocialIdentity.token;\n              var request = new NetworkRequest({\n                method: _enums.HttpMethod.POST,\n                headers: {\n                  'Content-Type': 'application/x-www-form-urlencoded'\n                },\n                authType: _enums.AuthType.App,\n                url: _url2.default.format({\n                  protocol: activeSocialIdentity.client.protocol,\n                  host: activeSocialIdentity.client.host,\n                  pathname: tokenPathname\n                }),\n                properties: _this2.properties,\n                data: {\n                  grant_type: 'refresh_token',\n                  client_id: token.audience,\n                  redirect_uri: activeSocialIdentity.redirectUri,\n                  refresh_token: token.refresh_token\n                }\n              });\n              request.automaticallyRefreshAuthToken = false;\n\n              return {\n                v: request.execute().then(function (response) {\n                  return response.data;\n                }).then(function (token) {\n                  // Login the user with the new token\n                  var activeUserData = _this2.client.getActiveUserData();\n                  var socialIdentity = activeUserData[socialIdentityAttribute];\n                  socialIdentity[activeSocialIdentity.identity] = token;\n                  activeUserData[socialIdentityAttribute] = socialIdentity;\n\n                  var request = new NetworkRequest({\n                    method: _enums.HttpMethod.POST,\n                    authType: _enums.AuthType.App,\n                    url: _url2.default.format({\n                      protocol: _this2.client.protocol,\n                      host: _this2.client.host,\n                      pathname: '/' + usersNamespace + '/' + _this2.client.appKey + '/login'\n                    }),\n                    properties: _this2.properties,\n                    data: activeUserData,\n                    timeout: _this2.timeout,\n                    client: _this2.client\n                  });\n                  request.automaticallyRefreshAuthToken = false;\n                  return request.execute();\n                }).then(function (response) {\n                  // Store the new data\n                  _this2.client.setActiveUserData(response.data);\n                  _this2.client.setActiveSocialIdentity({\n                    identity: activeSocialIdentity.identity,\n                    redirectUri: activeSocialIdentity.redirectUri,\n                    token: response.data[socialIdentityAttribute][activeSocialIdentity.identity]\n                  });\n\n                  // Execute the original request\n                  return _this2.execute();\n                }).catch(function () {\n                  throw error;\n                })\n              };\n            }\n          }();\n\n          if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n        }\n\n        throw error;\n      }).then(function (response) {\n        _this2.automaticallyRefreshAuthToken = true;\n        return response;\n      }).catch(function (error) {\n        _this2.automaticallyRefreshAuthToken = true;\n        throw error;\n      });\n\n      return promise;\n    }\n  }]);\n\n  return NetworkRequest;\n}(_request.KinveyRequest);\n\n}).call(this,require('_process'))\n\n},{\"../enums\":23,\"../errors\":24,\"../rack/rack\":40,\"./request\":45,\"_process\":249,\"url\":265}],44:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RequestProperties = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _errors = require('../errors');\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar appVersionKey = 'appVersion';\n\n/**\n * Request Properties class\n */\n\nvar RequestProperties = exports.RequestProperties = function () {\n  function RequestProperties() {\n    var properties = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    _classCallCheck(this, RequestProperties);\n\n    this.properties = properties;\n  }\n\n  _createClass(RequestProperties, [{\n    key: 'getProperty',\n\n\n    /**\n     * Returns the request property for the key or `undefined` if\n     * it has not been set.\n     *\n     * @param  {String} key Request property key\n     * @return {*} Request property value\n     */\n    value: function getProperty(key) {\n      var properties = this.toJSON();\n\n      if (key && properties.hasOwnProperty(key)) {\n        return properties[key];\n      }\n\n      return undefined;\n    }\n\n    /**\n     * Sets the request property key to the value.\n     *\n     * @param {String} key Request property key\n     * @param {*} value Request property value\n     * @return {RequestProperties} The request properties instance.\n     */\n\n  }, {\n    key: 'setProperty',\n    value: function setProperty(key, value) {\n      var properties = {};\n      properties[key] = value;\n      this.addProperties(properties);\n      return this;\n    }\n  }, {\n    key: 'addProperties',\n    value: function addProperties(properties) {\n      var _this = this;\n\n      if (!(0, _isPlainObject2.default)(properties)) {\n        throw new _errors.KinveyError('properties argument must be an object');\n      }\n\n      Object.keys(properties).forEach(function (key) {\n        var value = properties[key];\n\n        if (value) {\n          _this.properties[key] = value;\n        } else {\n          delete _this.properties[key];\n        }\n      });\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this.properties = {};\n    }\n  }, {\n    key: 'clearProperty',\n    value: function clearProperty(key) {\n      var properties = this.properties;\n\n      if (key && properties.hasOwnProperty(key)) {\n        delete properties[key];\n      }\n    }\n\n    /**\n     * Clears the app version property.\n     *\n     * @return {RequestProperties} The request properties instance.\n     */\n\n  }, {\n    key: 'clearAppVersion',\n    value: function clearAppVersion() {\n      return this.clearProperty(appVersionKey);\n    }\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      return this.properties;\n    }\n  }, {\n    key: 'properties',\n    get: function get() {\n      return this._properties;\n    },\n    set: function set(properties) {\n      this._properties = properties;\n    }\n\n    /**\n     * Return the app version request property.\n     *\n     * @return {String} App version\n     */\n\n  }, {\n    key: 'appVersion',\n    get: function get() {\n      return this.getProperty(appVersionKey);\n    }\n\n    /**\n     * Set the app version request property. The app version can be provided\n     * in major.minor.patch format or something specific to your application.\n     *\n     * @param  {Any} version App version.\n     * @return {RequestProperties} The request properties instance.\n     */\n    ,\n    set: function set(version) {\n      version = Array.prototype.slice.call(arguments, 1);\n      var major = version[0];\n      var minor = version[1];\n      var patch = version[2];\n      var appVersion = '';\n\n      if (major) {\n        appVersion = (major + '').trim();\n      }\n\n      if (minor) {\n        appVersion = ('.' + minor).trim();\n      }\n\n      if (patch) {\n        appVersion = ('.' + patch).trim();\n      }\n\n      this.setProperty(appVersionKey, appVersion);\n      return this;\n    }\n  }]);\n\n  return RequestProperties;\n}();\n\n},{\"../errors\":24,\"lodash/isPlainObject\":222}],45:[function(require,module,exports){\n(function (process,Buffer){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.KinveyRequest = exports.Request = undefined;\n\nvar _set = function set(object, property, value, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent !== null) { set(parent, property, value, receiver); } } else if (\"value\" in desc && desc.writable) { desc.value = value; } else { var setter = desc.set; if (setter !== undefined) { setter.call(receiver, value); } } return value; };\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _enums = require('../enums');\n\nvar _device = require('../utils/device');\n\nvar _properties = require('./properties');\n\nvar _errors = require('../errors');\n\nvar _rack = require('../rack/rack');\n\nvar _response = require('./response');\n\nvar _client = require('../client');\n\nvar _string = require('../utils/string');\n\nvar _qs = require('qs');\n\nvar _qs2 = _interopRequireDefault(_qs);\n\nvar _appendQuery = require('append-query');\n\nvar _appendQuery2 = _interopRequireDefault(_appendQuery);\n\nvar _assign = require('lodash/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _result = require('lodash/result');\n\nvar _result2 = _interopRequireDefault(_result);\n\nvar _forEach = require('lodash/forEach');\n\nvar _forEach2 = _interopRequireDefault(_forEach);\n\nvar _isString = require('lodash/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nvar _isEmpty = require('lodash/isEmpty');\n\nvar _isEmpty2 = _interopRequireDefault(_isEmpty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar kmdAttribute = process.env.KINVEY_KMD_ATTRIBUTE || '_kmd';\n\nvar Auth = {\n  /**\n   * Authenticate through (1) user credentials, (2) Master Secret, or (3) App\n   * Secret.\n   *\n   * @returns {Object}\n   */\n\n  all: function all(client) {\n    try {\n      return Auth.session(client);\n    } catch (error) {\n      return Auth.basic(client);\n    }\n  },\n\n\n  /**\n   * Authenticate through App Secret.\n   *\n   * @returns {Object}\n   */\n  app: function app(client) {\n    if (!client.appKey || !client.appSecret) {\n      throw new Error('Missing client credentials');\n    }\n\n    return {\n      scheme: 'Basic',\n      username: client.appKey,\n      password: client.appSecret\n    };\n  },\n\n\n  /**\n   * Authenticate through (1) Master Secret, or (2) App Secret.\n   *\n   * @returns {Object}\n   */\n  basic: function basic(client) {\n    try {\n      return Auth.master(client);\n    } catch (error) {\n      return Auth.app(client);\n    }\n  },\n\n\n  /**\n   * Authenticate through Master Secret.\n   *\n   * @returns {Object}\n   */\n  master: function master(client) {\n    if (!client.appKey || !client.masterSecret) {\n      throw new Error('Missing client credentials');\n    }\n\n    return {\n      scheme: 'Basic',\n      username: client.appKey,\n      password: client.masterSecret\n    };\n  },\n\n\n  /**\n   * Do not authenticate.\n   *\n   * @returns {Null}\n   */\n  none: function none() {\n    return null;\n  },\n\n\n  /**\n   * Authenticate through user credentials.\n   *\n   * @returns {Object}\n   */\n  session: function session(client) {\n    var activeUserData = client.getActiveUserData();\n\n    if (!activeUserData) {\n      throw new Error('There is not an active user.');\n    }\n\n    return {\n      scheme: 'Kinvey',\n      credentials: activeUserData[kmdAttribute].authtoken\n    };\n  }\n};\n\n/**\n * @private\n */\n\nvar Request = exports.Request = function () {\n  function Request() {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    _classCallCheck(this, Request);\n\n    options = (0, _assign2.default)({\n      method: _enums.HttpMethod.GET,\n      headers: {},\n      url: '',\n      data: null,\n      timeout: process.env.KINVEY_DEFAULT_TIMEOUT || 10000,\n      followRedirect: true\n    }, options);\n\n    this.method = options.method;\n    this.url = options.url;\n    this.data = options.data || options.body;\n    this.timeout = options.timeout;\n    this.followRedirect = options.followRedirect;\n    this.executing = false;\n\n    var headers = options.headers && (0, _isPlainObject2.default)(options.headers) ? options.headers : {};\n\n    if (!headers.Accept || !headers.accept) {\n      headers.Accept = 'application/json; charset=utf-8';\n    }\n\n    this.addHeaders(headers);\n  }\n\n  _createClass(Request, [{\n    key: 'getHeader',\n    value: function getHeader(name) {\n      if (name) {\n        if (!(0, _isString2.default)(name)) {\n          name = String(name);\n        }\n\n        var headers = this.headers || {};\n        var keys = Object.keys(headers);\n\n        for (var i = 0, len = keys.length; i < len; i++) {\n          var key = keys[i];\n\n          if (key.toLowerCase() === name.toLowerCase()) {\n            return headers[key];\n          }\n        }\n      }\n\n      return undefined;\n    }\n  }, {\n    key: 'setHeader',\n    value: function setHeader(name, value) {\n      if (!name || !value) {\n        throw new Error('A name and value must be provided to set a header.');\n      }\n\n      if (!(0, _isString2.default)(name)) {\n        name = String(name);\n      }\n\n      var headers = this.headers || {};\n\n      if (!(0, _isString2.default)(value)) {\n        headers[name] = JSON.stringify(value);\n      } else {\n        headers[name] = value;\n      }\n\n      this.headers = headers;\n    }\n  }, {\n    key: 'addHeader',\n    value: function addHeader() {\n      var header = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      return this.setHeader(header.name, header.value);\n    }\n  }, {\n    key: 'addHeaders',\n    value: function addHeaders(headers) {\n      var _this = this;\n\n      if (!(0, _isPlainObject2.default)(headers)) {\n        throw new Error('Headers argument must be an object.');\n      }\n\n      var names = Object.keys(headers);\n\n      (0, _forEach2.default)(names, function (name) {\n        var value = headers[name];\n        _this.setHeader(name, value);\n      });\n    }\n  }, {\n    key: 'removeHeader',\n    value: function removeHeader(name) {\n      if (name) {\n        if (!(0, _isString2.default)(name)) {\n          name = String(name);\n        }\n\n        var headers = this.headers || {};\n        delete headers[name];\n        this.headers = headers;\n      }\n    }\n  }, {\n    key: 'clearHeaders',\n    value: function clearHeaders() {\n      this.headers = {};\n    }\n  }, {\n    key: 'isExecuting',\n    value: function isExecuting() {\n      return this.executing ? true : false;\n    }\n  }, {\n    key: 'execute',\n    value: function execute() {\n      var _this2 = this;\n\n      if (this.executing) {\n        return Promise.reject(new Error('Unable to execute the request. The request is already executing.'));\n      }\n\n      this.executing = Promise.resolve().then(function (response) {\n        _this2.executing = false;\n        return response;\n      }).catch(function (err) {\n        _this2.executing = false;\n        throw err;\n      });\n\n      return this.executing;\n    }\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      var json = {\n        method: this.method,\n        headers: this.headers,\n        url: this.url,\n        data: this.data,\n        followRedirect: this.followRedirect\n      };\n\n      return json;\n    }\n  }, {\n    key: 'method',\n    get: function get() {\n      return this._method;\n    },\n    set: function set(method) {\n      if (!(0, _isString2.default)(method)) {\n        method = String(method);\n      }\n\n      method = method.toUpperCase();\n\n      switch (method) {\n        case _enums.HttpMethod.GET:\n        case _enums.HttpMethod.POST:\n        case _enums.HttpMethod.PATCH:\n        case _enums.HttpMethod.PUT:\n        case _enums.HttpMethod.DELETE:\n          this._method = method;\n          break;\n        default:\n          throw new Error('Invalid Http Method. Only GET, POST, PATCH, PUT, and DELETE are allowed.');\n      }\n    }\n  }, {\n    key: 'url',\n    get: function get() {\n      return (0, _appendQuery2.default)(this._url, _qs2.default.stringify({\n        _: Math.random().toString(36).substr(2)\n      }));\n    },\n    set: function set(url) {\n      this._url = url;\n    }\n  }, {\n    key: 'body',\n    get: function get() {\n      return this.data;\n    },\n    set: function set(body) {\n      this.data = body;\n    }\n  }, {\n    key: 'data',\n    get: function get() {\n      return this._data;\n    },\n    set: function set(data) {\n      if (data) {\n        var contentTypeHeader = this.getHeader('Content-Type');\n        if (!contentTypeHeader) {\n          this.setHeader('Content-Type', 'application/json; charset=utf-8');\n        }\n      } else {\n        this.removeHeader('Content-Type');\n      }\n\n      this._data = data;\n    }\n  }]);\n\n  return Request;\n}();\n\n/**\n * @private\n */\n\n\nvar KinveyRequest = exports.KinveyRequest = function (_Request) {\n  _inherits(KinveyRequest, _Request);\n\n  function KinveyRequest() {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    _classCallCheck(this, KinveyRequest);\n\n    var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(KinveyRequest).call(this, options));\n\n    options = (0, _assign2.default)({\n      authType: _enums.AuthType.None,\n      properties: null,\n      query: null,\n      client: _client.Client.sharedInstance()\n    }, options);\n\n    _this3.rack = new _rack.KinveyRack();\n    _this3.authType = options.authType;\n    _this3.properties = options.properties;\n    _this3.query = (0, _result2.default)(options.query, 'toJSON', options.query);\n    _this3.client = options.client;\n\n    var headers = {};\n    headers['X-Kinvey-Api-Version'] = process.env.KINVEY_API_VERSION || 3;\n\n    var device = new _device.Device();\n    headers['X-Kinvey-Device-Information'] = JSON.stringify(device.toJSON());\n\n    if (options.contentType) {\n      headers['X-Kinvey-Content-Type'] = options.contentType;\n    }\n\n    if (options.skipBL === true) {\n      headers['X-Kinvey-Skip-Business-Logic'] = true;\n    }\n\n    if (options.trace === true) {\n      headers['X-Kinvey-Include-Headers-In-Response'] = 'X-Kinvey-Request-Id';\n      headers['X-Kinvey-ResponseWrapper'] = true;\n    }\n\n    _this3.addHeaders(headers);\n    return _this3;\n  }\n\n  _createClass(KinveyRequest, [{\n    key: 'execute',\n    value: function execute() {\n      var _this4 = this;\n\n      var authorizationHeader = this.authorizationHeader;\n\n      if (authorizationHeader) {\n        this.addHeader(authorizationHeader);\n      }\n\n      var promise = _get(Object.getPrototypeOf(KinveyRequest.prototype), 'execute', this).call(this).then(function () {\n        return _this4.rack.execute(_this4);\n      }).then(function (response) {\n        if (!response) {\n          throw new _errors.NoResponseError();\n        }\n\n        if (!(response instanceof _response.Response)) {\n          return new _response.Response({\n            statusCode: response.statusCode,\n            headers: response.headers,\n            data: response.data\n          });\n        }\n\n        return response;\n      }).then(function (response) {\n        if (!response.isSuccess()) {\n          throw response.error;\n        }\n\n        return response;\n      }).catch(function (error) {\n        throw error;\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'cancel',\n    value: function cancel() {\n      this.rack.cancel();\n    }\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      var json = _get(Object.getPrototypeOf(KinveyRequest.prototype), 'toJSON', this).call(this);\n      json.query = this.query;\n      return json;\n    }\n  }, {\n    key: 'properties',\n    set: function set(properties) {\n      if (properties) {\n        if (!(properties instanceof _properties.RequestProperties)) {\n          properties = new _properties.RequestProperties((0, _result2.default)(properties, 'toJSON', properties));\n        }\n\n        var appVersion = properties.appVersion;\n\n        if (appVersion) {\n          this.setHeader('X-Kinvey-Client-App-Version', appVersion);\n        } else {\n          this.removeHeader('X-Kinvey-Client-App-Version');\n        }\n\n        var customProperties = (0, _result2.default)(properties, 'toJSON', {});\n        delete customProperties.appVersion;\n        var customPropertiesHeader = JSON.stringify(customProperties);\n        var customPropertiesByteCount = (0, _string.byteCount)(customPropertiesHeader);\n        var customPropertiesMaxBytesAllowed = process.env.KINVEY_MAX_HEADER_BYTES || 2000;\n\n        if (customPropertiesByteCount >= customPropertiesMaxBytesAllowed) {\n          throw new Error('The custom properties are ' + customPropertiesByteCount + ' bytes.' + ('It must be less then ' + customPropertiesMaxBytesAllowed + ' bytes.'), 'Please remove some custom properties.');\n        }\n\n        this.setHeader('X-Kinvey-Custom-Request-Properties', customPropertiesHeader);\n      }\n    }\n  }, {\n    key: 'url',\n    get: function get() {\n      var url = _get(Object.getPrototypeOf(KinveyRequest.prototype), 'url', this);\n      var queryString = {};\n\n      if (this.query) {\n        queryString.query = this.query.filter;\n\n        if (!(0, _isEmpty2.default)(this.query.fields)) {\n          queryString.fields = this.query.fields.join(',');\n        }\n\n        if (this.query.limit) {\n          queryString.limit = this.query.limit;\n        }\n\n        if (this.query.skip > 0) {\n          queryString.skip = this.query.skip;\n        }\n\n        if (!(0, _isEmpty2.default)(this.query.sort)) {\n          queryString.sort = this.query.sort;\n        }\n      }\n\n      for (var key in queryString) {\n        if (queryString.hasOwnProperty(key)) {\n          queryString[key] = (0, _isString2.default)(queryString[key]) ? queryString[key] : JSON.stringify(queryString[key]);\n        }\n      }\n\n      if ((0, _isEmpty2.default)(queryString)) {\n        return url;\n      }\n\n      return (0, _appendQuery2.default)(url, _qs2.default.stringify(queryString));\n    },\n    set: function set(url) {\n      _set(Object.getPrototypeOf(KinveyRequest.prototype), 'url', url, this);\n    }\n  }, {\n    key: 'authorizationHeader',\n    get: function get() {\n      var authInfo = void 0;\n\n      switch (this.authType) {\n        case _enums.AuthType.All:\n          authInfo = Auth.all(this.client);\n          break;\n        case _enums.AuthType.App:\n          authInfo = Auth.app(this.client);\n          break;\n        case _enums.AuthType.Basic:\n          authInfo = Auth.basic(this.client);\n          break;\n        case _enums.AuthType.Master:\n          authInfo = Auth.master(this.client);\n          break;\n        case _enums.AuthType.None:\n          authInfo = Auth.none(this.client);\n          break;\n        case _enums.AuthType.Session:\n          authInfo = Auth.session(this.client);\n          break;\n        default:\n          try {\n            authInfo = Auth.session(this.client);\n          } catch (error) {\n            try {\n              authInfo = Auth.master(this.client);\n            } catch (error2) {\n              throw error;\n            }\n          }\n      }\n\n      if (authInfo) {\n        var credentials = authInfo.credentials;\n\n        if (authInfo.username) {\n          credentials = new Buffer(authInfo.username + ':' + authInfo.password).toString('base64');\n        }\n\n        return {\n          name: 'Authorization',\n          value: authInfo.scheme + ' ' + credentials\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return KinveyRequest;\n}(Request);\n\n}).call(this,require('_process'),require(\"buffer\").Buffer)\n\n},{\"../client\":21,\"../enums\":23,\"../errors\":24,\"../rack/rack\":40,\"../utils/device\":55,\"../utils/string\":58,\"./properties\":44,\"./response\":46,\"_process\":249,\"append-query\":1,\"buffer\":6,\"lodash/assign\":200,\"lodash/forEach\":206,\"lodash/isEmpty\":215,\"lodash/isPlainObject\":222,\"lodash/isString\":224,\"lodash/result\":238,\"qs\":254}],46:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Response = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _enums = require('../enums');\n\nvar _errors = require('../errors');\n\nvar _assign = require('lodash/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _forEach = require('lodash/forEach');\n\nvar _forEach2 = _interopRequireDefault(_forEach);\n\nvar _isString = require('lodash/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * @private\n */\n\nvar Response = exports.Response = function () {\n  function Response() {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    _classCallCheck(this, Response);\n\n    options = (0, _assign2.default)({\n      statusCode: _enums.StatusCode.Ok,\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8'\n      },\n      data: null\n    }, options);\n\n    this.statusCode = options.statusCode;\n    this.addHeaders(options.headers);\n    this.data = options.data;\n  }\n\n  _createClass(Response, [{\n    key: 'getHeader',\n    value: function getHeader(name) {\n      if (name) {\n        if (!(0, _isString2.default)(name)) {\n          name = String(name);\n        }\n\n        var headers = this.headers || {};\n        var keys = Object.keys(headers);\n\n        for (var i = 0, len = keys.length; i < len; i++) {\n          var key = keys[i];\n\n          if (key.toLowerCase() === name.toLowerCase()) {\n            return headers[key];\n          }\n        }\n      }\n\n      return undefined;\n    }\n  }, {\n    key: 'setHeader',\n    value: function setHeader(name, value) {\n      if (!name || !value) {\n        throw new Error('A name and value must be provided to set a header.');\n      }\n\n      if (!(0, _isString2.default)(name)) {\n        name = String(name);\n      }\n\n      var headers = this.headers || {};\n\n      if (!(0, _isString2.default)(value)) {\n        headers[name] = JSON.stringify(value);\n      } else {\n        headers[name] = value;\n      }\n\n      this.headers = headers;\n    }\n  }, {\n    key: 'addHeader',\n    value: function addHeader() {\n      var header = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      return this.setHeader(header.name, header.value);\n    }\n  }, {\n    key: 'addHeaders',\n    value: function addHeaders(headers) {\n      var _this = this;\n\n      if (!(0, _isPlainObject2.default)(headers)) {\n        throw new Error('Headers argument must be an object.');\n      }\n\n      var names = Object.keys(headers);\n\n      (0, _forEach2.default)(names, function (name) {\n        var value = headers[name];\n        _this.setHeader(name, value);\n      });\n    }\n  }, {\n    key: 'removeHeader',\n    value: function removeHeader(name) {\n      if (name) {\n        if (!(0, _isString2.default)(name)) {\n          name = String(name);\n        }\n\n        var headers = this.headers || {};\n        delete headers[name];\n        this.headers = headers;\n      }\n    }\n  }, {\n    key: 'clearHeaders',\n    value: function clearHeaders() {\n      this.headers = {};\n    }\n  }, {\n    key: 'isSuccess',\n    value: function isSuccess() {\n      return this.statusCode >= 200 && this.statusCode < 300 || this.statusCode === 302;\n    }\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      var json = {\n        statusCode: this.statusCode,\n        headers: this.headers,\n        data: this.data\n      };\n      return json;\n    }\n  }, {\n    key: 'error',\n    get: function get() {\n      if (this.isSuccess()) {\n        return null;\n      }\n\n      var data = this.data || {};\n      var name = data.name || data.error;\n      var message = data.message || data.description;\n      var debug = data.debug;\n\n      if (name === 'EntityNotFound' || name === 'CollectionNotFound' || name === 'AppNotFound' || name === 'UserNotFound' || name === 'BlobNotFound' || name === 'DocumentNotFound') {\n        return new _errors.NotFoundError(message, debug);\n      } else if (name === 'InsufficientCredentials') {\n        return new _errors.InsufficientCredentialsError(message, debug);\n      } else if (name === 'InvalidCredentials') {\n        return new _errors.InvalidCredentialsError(message, debug);\n      }\n\n      return new _errors.KinveyError(message, debug);\n    }\n  }]);\n\n  return Response;\n}();\n\n},{\"../enums\":23,\"../errors\":24,\"lodash/assign\":200,\"lodash/forEach\":206,\"lodash/isPlainObject\":222,\"lodash/isString\":224}],47:[function(require,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CacheStore = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _networkstore = require('./networkstore');\n\nvar _response = require('../requests/response');\n\nvar _enums = require('../enums');\n\nvar _errors = require('../errors');\n\nvar _local = require('../requests/local');\n\nvar _network = require('../requests/network');\n\nvar _deltafetch = require('../requests/deltafetch');\n\nvar _query = require('../query');\n\nvar _aggregation = require('../aggregation');\n\nvar _log = require('../log');\n\nvar _object = require('../utils/object');\n\nvar _url = require('url');\n\nvar _url2 = _interopRequireDefault(_url);\n\nvar _assign = require('lodash/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _forEach = require('lodash/forEach');\n\nvar _forEach2 = _interopRequireDefault(_forEach);\n\nvar _map = require('lodash/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nvar _keyBy = require('lodash/keyBy');\n\nvar _keyBy2 = _interopRequireDefault(_keyBy);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nvar appdataNamespace = process.env.KINVEY_DATASTORE_NAMESPACE || 'appdata';\nvar syncCollectionName = process.env.KINVEY_SYNC_COLLECTION_NAME || 'sync';\nvar kmdAttribute = process.env.KINVEY_KMD_ATTRIBUTE || '_kmd';\n\n/**\n * The CacheStore class is used to find, save, update, remove, count and group enitities\n * in a collection on the network using a cache on the device.\n */\n\nvar CacheStore = function (_NetworkStore) {\n  _inherits(CacheStore, _NetworkStore);\n\n  /**\n   * Creates a new instance of the CacheStore class.\n   *\n   * @param   {string}  name   Name of the collection\n   *\n   * @throws  {KinveyError}   If the name provided is not a string.\n   */\n\n  function CacheStore(name) {\n    _classCallCheck(this, CacheStore);\n\n    /**\n     * @type {Number}\n     */\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(CacheStore).call(this, name));\n\n    _this.ttl = undefined;\n    return _this;\n  }\n\n  /**\n   * The sync pathname for the store.\n   *\n   * @param   {Client}   [client]     Client\n   * @return  {string}                Sync pathname\n   */\n\n\n  _createClass(CacheStore, [{\n    key: 'find',\n\n\n    /**\n     * Finds all entities in a collection. A query can be optionally provided to return\n     * a subset of all entities in a collection or omitted to return all entities in\n     * a collection. The number of entities returned will adhere to the limits specified\n     * at http://devcenter.kinvey.com/rest/guides/datastore#queryrestrictions. A\n     * promise will be returned that will be resolved with the entities or rejected with\n     * an error.\n     *\n     * @param   {Query}                 [query]                                   Query used to filter result.\n     * @param   {Object}                [options]                                 Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @param   {Number}                [options.ttl]                             Time to live for data retrieved\n     *                                                                            from the cache.\n     * @return  {Promise}                                                         Promise\n     */\n    value: function find(query) {\n      var _this2 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      _log.Log.debug('Retrieving the entities in the ' + this.name + ' collection.', query);\n\n      options = (0, _assign2.default)({\n        useDeltaFetch: true\n      }, options);\n\n      if (query && !(query instanceof _query.Query)) {\n        return Promise.reject(new _errors.KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n      }\n\n      var promise = Promise.resolve().then(function () {\n        var request = new _local.LocalRequest({\n          method: _enums.HttpMethod.GET,\n          url: _url2.default.format({\n            protocol: _this2.client.protocol,\n            host: _this2.client.host,\n            pathname: _this2._pathname\n          }),\n          properties: options.properties,\n          query: query,\n          timeout: options.timeout,\n          client: _this2.client\n        });\n        return request.execute();\n      }).then(function (response) {\n        var result = {\n          cache: response.data\n        };\n\n        result.networkPromise = _this2.syncCount().then(function (count) {\n          if (count > 0) {\n            return _this2.push().then(function () {\n              return _this2.syncCount();\n            });\n          }\n\n          return count;\n        }).then(function (count) {\n          if (count > 0) {\n            throw new _errors.KinveyError('Unable to load data from the network. There are ' + count + ' entities that need ' + 'to be synced before data is loaded from the network.');\n          }\n\n          if (options.useDeltaFetch) {\n            var request = new _deltafetch.DeltaFetchRequest({\n              method: _enums.HttpMethod.GET,\n              authType: _enums.AuthType.Default,\n              url: _url2.default.format({\n                protocol: _this2.client.protocol,\n                host: _this2.client.host,\n                pathname: _this2._pathname\n              }),\n              properties: options.properties,\n              query: query,\n              timeout: options.timeout\n            });\n            return request.execute().then(function (response) {\n              return response.data;\n            });\n          }\n\n          return _get(Object.getPrototypeOf(CacheStore.prototype), 'find', _this2).call(_this2, query, options);\n        }).then(function (data) {\n          return _this2._cache(data);\n        });\n\n        return result;\n      });\n\n      promise.then(function (response) {\n        _log.Log.info('Retrieved the entities in the ' + _this2.name + ' collection.', response);\n      }).catch(function (err) {\n        _log.Log.error('Failed to retrieve the entities in the ' + _this2.name + ' collection.', err);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Groups entities in a collection. An aggregation can be optionally provided to group\n     * a subset of entities in a collection or omitted to group all the entities\n     * in a collection. A promise will be returned that will be resolved with the result\n     * or rejected with an error.\n     *\n     * @param   {Aggregation}           aggregation                               Aggregation used to group entities.\n     * @param   {Object}                [options]                                 Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @param   {Number}                [options.ttl]                             Time to live for data retrieved\n     *                                                                            from the cache.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: 'group',\n    value: function group(aggregation) {\n      var _this3 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      _log.Log.debug('Grouping the entities in the ' + this.name + ' collection.', aggregation, options);\n\n      options = (0, _assign2.default)({\n        force: false\n      }, options);\n\n      if (!(aggregation instanceof _aggregation.Aggregation)) {\n        return Promise.reject(new _errors.KinveyError('Invalid aggregation. ' + 'It must be an instance of the Kinvey.Aggregation class.'));\n      }\n\n      var promise = Promise.resolve().then(function () {\n        var request = new _local.LocalRequest({\n          method: _enums.HttpMethod.GET,\n          url: _url2.default.format({\n            protocol: _this3.client.protocol,\n            host: _this3.client.host,\n            pathname: _this3._pathname + '/_group'\n          }),\n          properties: options.properties,\n          data: aggregation.toJSON(),\n          timeout: options.timeout,\n          client: _this3.client\n        });\n        return request.execute();\n      }).then(function (response) {\n        var result = {\n          cache: response.data\n        };\n\n        result.networkPromise = _this3.syncCount().then(function (count) {\n          if (count > 0) {\n            return _this3.push().then(function () {\n              return _this3.syncCount();\n            });\n          }\n\n          return count;\n        }).then(function (count) {\n          if (count > 0) {\n            throw new _errors.KinveyError('Unable to load data from the network. There are ' + count + ' entities that need ' + 'to be synced before data is loaded from the network.');\n          }\n\n          return _get(Object.getPrototypeOf(CacheStore.prototype), 'group', _this3).call(_this3, aggregation, options);\n        });\n\n        return result;\n      });\n\n      promise.then(function (response) {\n        _log.Log.info('Grouped the entities in the ' + _this3.name + ' collection.', response);\n      }).catch(function (err) {\n        _log.Log.error('Failed to group the entities in the ' + _this3.name + ' collection.', err);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Counts entities in a collection. A query can be optionally provided to count\n     * a subset of entities in a collection or omitted to count all the entities\n     * in a collection. A promise will be returned that will be resolved with the count\n     * or rejected with an error.\n     *\n     * @param   {Query}                 [query]                                   Query to count a subset of entities.\n     * @param   {Object}                [options]                                 Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @param   {Number}                [options.ttl]                             Time to live for data retrieved\n     *                                                                            from the cache.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: 'count',\n    value: function count(query) {\n      var _this4 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      _log.Log.debug('Counting the number of entities in the ' + this.name + ' collection.', query);\n\n      options = (0, _assign2.default)({\n        force: false\n      }, options);\n\n      if (query && !(query instanceof _query.Query)) {\n        return Promise.reject(new _errors.KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n      }\n\n      var promise = Promise.resolve().then(function () {\n        var request = new _local.LocalRequest({\n          method: _enums.HttpMethod.GET,\n          url: _url2.default.format({\n            protocol: _this4.client.protocol,\n            host: _this4.client.host,\n            pathname: _this4._pathname + '/_count'\n          }),\n          properties: options.properties,\n          query: query,\n          timeout: options.timeout,\n          client: _this4.client\n        });\n        return request.execute();\n      }).then(function (response) {\n        var result = {\n          cache: response.data\n        };\n\n        result.networkPromise = _this4.syncCount().then(function (count) {\n          if (count > 0) {\n            return _this4.push().then(function () {\n              return _this4.syncCount();\n            });\n          }\n\n          return count;\n        }).then(function (count) {\n          if (count > 0) {\n            throw new _errors.KinveyError('Unable to load data from the network. There are ' + count + ' entities that need ' + 'to be synced before data is loaded from the network.');\n          }\n\n          return _get(Object.getPrototypeOf(CacheStore.prototype), 'count', _this4).call(_this4, query, options);\n        });\n\n        return result;\n      });\n\n      promise.then(function (response) {\n        _log.Log.info('Counted the number of entities in the ' + _this4.name + ' collection.', response);\n      }).catch(function (err) {\n        _log.Log.error('Failed to count the number of entities in the ' + _this4.name + ' collection.', err);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Retrieves a single entity in a collection by id. A promise will be returned that will\n     * be resolved with the entity or rejected with an error.\n     *\n     * @param   {string}                id                                        Document Id\n     * @param   {Object}                [options]                                 Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @param   {Number}                [options.ttl]                             Time to live for data retrieved\n     *                                                                            from the cache.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: 'findById',\n    value: function findById(id) {\n      var _this5 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      if (!id) {\n        _log.Log.warn('No id was provided to retrieve an entity.', id);\n        return Promise.resolve(null);\n      }\n\n      _log.Log.debug('Retrieving the entity in the ' + this.name + ' collection with id = ' + id + '.');\n\n      options = (0, _assign2.default)({\n        force: false,\n        useDeltaFetch: true\n      }, options);\n\n      var promise = Promise.resolve().then(function () {\n        var request = new _local.LocalRequest({\n          method: _enums.HttpMethod.GET,\n          url: _url2.default.format({\n            protocol: _this5.client.protocol,\n            host: _this5.client.host,\n            pathname: _this5._pathname + '/' + id\n          }),\n          properties: options.properties,\n          timeout: options.timeout,\n          client: _this5.client\n        });\n        return request.execute();\n      }).then(function (response) {\n        var result = {\n          cache: response.data\n        };\n\n        result.networkPromise = _this5.syncCount().then(function (count) {\n          if (count > 0) {\n            return _this5.push().then(function () {\n              return _this5.syncCount();\n            });\n          }\n\n          return count;\n        }).then(function (count) {\n          if (count > 0) {\n            throw new _errors.KinveyError('Unable to load data from the network. There are ' + count + ' entities that need ' + 'to be synced before data is loaded from the network.');\n          }\n\n          if (options.useDeltaFetch) {\n            var request = new _deltafetch.DeltaFetchRequest({\n              method: _enums.HttpMethod.GET,\n              authType: _enums.AuthType.Default,\n              url: _url2.default.format({\n                protocol: _this5.client.protocol,\n                host: _this5.client.host,\n                pathname: _this5._pathname + '/' + id\n              }),\n              properties: options.properties,\n              timeout: options.timeout,\n              client: _this5.client\n            });\n            return request.execute().then(function (response) {\n              return response.data;\n            });\n          }\n\n          return _get(Object.getPrototypeOf(CacheStore.prototype), 'findById', _this5).call(_this5, id, options);\n        }).then(function (data) {\n          return _this5._cache(data);\n        }).catch(function (error) {\n          if (error instanceof _errors.NotFoundError) {\n            var request = new _local.LocalRequest({\n              method: _enums.HttpMethod.DELETE,\n              authType: _enums.AuthType.Default,\n              url: _url2.default.format({\n                protocol: _this5.client.protocol,\n                host: _this5.client.host,\n                pathname: _this5._pathname + '/' + id\n              }),\n              properties: options.properties,\n              timeout: options.timeout,\n              client: _this5.client\n            });\n            return request.execute().then(function () {\n              throw error;\n            });\n          }\n\n          throw error;\n        });\n\n        return result;\n      });\n\n      promise.then(function (response) {\n        _log.Log.info('Retrieved the entity in the ' + _this5.name + ' collection with id = ' + id + '.', response);\n      }).catch(function (error) {\n        _log.Log.error('Failed to retrieve the entity in the ' + _this5.name + ' collection with id = ' + id + '.', error);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Save a entity or an array of entities to a collection. A promise will be returned that\n     * will be resolved with the saved entity/entities or rejected with an error.\n     *\n     * @param   {Object|Array}          entities                                  Entity or entities to save.\n     * @param   {Object}                [options]                                 Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @param   {Number}                [options.ttl]                             Time to live for data saved\n     *                                                                            in the cache.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: 'save',\n    value: function save(entity) {\n      var _this6 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      if (!entity) {\n        _log.Log.warn('No entity was provided to be saved.', entity);\n        return Promise.resolve(null);\n      }\n\n      _log.Log.debug('Saving the entity(s) to the ' + this.name + ' collection.', entity);\n\n      var promise = Promise.resolve().then(function () {\n        var request = new _local.LocalRequest({\n          method: _enums.HttpMethod.POST,\n          url: _url2.default.format({\n            protocol: _this6.client.protocol,\n            host: _this6.client.host,\n            pathname: _this6._pathname\n          }),\n          properties: options.properties,\n          data: entity,\n          timeout: options.timeout,\n          client: _this6.client\n        });\n\n        if (entity[idAttribute]) {\n          request.method = _enums.HttpMethod.PUT;\n          request.url = _url2.default.format({\n            protocol: _this6.client.protocol,\n            host: _this6.client.host,\n            pathname: _this6._pathname + '/' + entity[idAttribute]\n          });\n        }\n\n        return request.execute();\n      }).then(function (response) {\n        return _this6._sync(response.data, options).then(function () {\n          var data = (0, _isArray2.default)(response.data) ? response.data : [response.data];\n          var ids = Object.keys((0, _keyBy2.default)(data, idAttribute));\n          var query = new _query.Query().contains(idAttribute, ids);\n          return _this6.push(query, options);\n        }).then(function () {\n          return response.data;\n        });\n      });\n\n      promise.then(function (response) {\n        _log.Log.info('Saved the entity(s) to the ' + _this6.name + ' collection.', response);\n      }).catch(function (err) {\n        _log.Log.error('Failed to save the entity(s) to the ' + _this6.name + ' collection.', err);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Remove entities in a collection. A query can be optionally provided to remove\n     * a subset of entities in a collection or omitted to remove all entities in a\n     * collection. A promise will be returned that will be resolved with a count of the\n     * number of entities removed or rejected with an error.\n     *\n     * @param   {Query}                 [query]                                   Query\n     * @param   {Object}                options                                   Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(query) {\n      var _this7 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      _log.Log.debug('Removing the entities in the ' + this.name + ' collection.', query);\n\n      if (query && !(query instanceof _query.Query)) {\n        return Promise.reject(new _errors.KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n      }\n\n      var promise = Promise.resolve().then(function () {\n        var request = new _local.LocalRequest({\n          method: _enums.HttpMethod.DELETE,\n          url: _url2.default.format({\n            protocol: _this7.client.protocol,\n            host: _this7.client.host,\n            pathname: _this7._pathname\n          }),\n          properties: options.properties,\n          query: query,\n          timeout: options.timeout,\n          client: _this7.client\n        });\n        return request.execute();\n      }).then(function (response) {\n        return _this7._sync(response.data.entities, options).then(function () {\n          var query = new _query.Query().contains(idAttribute, []);\n          return _this7.push(query, options);\n        }).then(function () {\n          return response.data;\n        });\n      });\n\n      promise.then(function (response) {\n        _log.Log.info('Removed the entities in the ' + _this7.name + ' collection.', response);\n      }).catch(function (err) {\n        _log.Log.error('Failed to remove the entities in the ' + _this7.name + ' collection.', err);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Remove an entity in a collection. A promise will be returned that will be\n     * resolved with a count of the number of entities removed or rejected with an error.\n     *\n     * @param   {string}                id                                        Document Id\n     * @param   {Object}                options                                   Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: 'removeById',\n    value: function removeById(id) {\n      var _this8 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      if (!id) {\n        _log.Log.warn('No id was provided to be removed.', id);\n        return Promise.resolve(null);\n      }\n\n      _log.Log.debug('Removing an entity in the ' + this.name + ' collection with id = ' + id + '.');\n\n      var promise = Promise.resolve().then(function () {\n        var request = new _local.LocalRequest({\n          method: _enums.HttpMethod.DELETE,\n          url: _url2.default.format({\n            protocol: _this8.client.protocol,\n            host: _this8.client.host,\n            pathname: _this8._pathname + '/' + id\n          }),\n          properties: options.properties,\n          authType: _enums.AuthType.Default,\n          timeout: options.timeout,\n          client: _this8.client\n        });\n        return request.execute();\n      }).then(function (response) {\n        return _this8._sync(response.data.entities, options).then(function () {\n          var query = new _query.Query().contains(idAttribute, [id]);\n          return _this8.push(query, options);\n        }).then(function () {\n          return response.data;\n        });\n      });\n\n      promise.then(function (response) {\n        _log.Log.info('Removed the entity in the ' + _this8.name + ' collection with id = ' + id + '.', response);\n      }).catch(function (err) {\n        _log.Log.error('Failed to remove the entity in the ' + _this8.name + ' collection with id = ' + id + '.', err);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Push sync items for a collection to the network. A promise will be returned that will be\n     * resolved with the result of the push or rejected with an error.\n     *\n     * @param   {Query}                 [query]                                   Query to push a subset of items.\n     * @param   {Object}                options                                   Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @return  {Promise}                                                         Promise\n     *\n     * @example\n     * var store = Kinvey.DataStore.getInstance('books');\n     * store.push().then(function(result) {\n     *   ...\n     * }).catch(function(err) {\n     *   ...\n     * });\n     */\n\n  }, {\n    key: 'push',\n    value: function push(query) {\n      var _this9 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      if (query && !(query instanceof _query.Query)) {\n        return Promise.reject(new _errors.KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n      }\n\n      var promise = Promise.resolve().then(function () {\n        var request = new _local.LocalRequest({\n          method: _enums.HttpMethod.GET,\n          url: _url2.default.format({\n            protocol: _this9.client.protocol,\n            host: _this9.client.host,\n            pathname: _this9._syncPathname\n          }),\n          properties: options.properties,\n          query: query,\n          timeout: options.timeout,\n          client: _this9.client\n        });\n        return request.execute();\n      }).then(function (response) {\n        var save = [];\n        var remove = [];\n        var entities = response.data.entities;\n        var ids = Object.keys(entities);\n        var size = response.data.size;\n\n        var promises = (0, _map2.default)(ids, function (id) {\n          var metadata = entities[id];\n          var request = new _local.LocalRequest({\n            method: _enums.HttpMethod.GET,\n            url: _url2.default.format({\n              protocol: _this9.client.protocol,\n              host: _this9.client.host,\n              pathname: _this9._pathname + '/' + id\n            }),\n            properties: metadata.properties,\n            timeout: options.timeout,\n            client: _this9.client\n          });\n          return request.execute().then(function (response) {\n            save.push(response.data);\n            return response.data;\n          }).catch(function (err) {\n            if (err instanceof _errors.NotFoundError) {\n              remove.push(id);\n              return null;\n            }\n\n            throw err;\n          });\n        });\n\n        return Promise.all(promises).then(function () {\n          var saved = (0, _map2.default)(save, function (entity) {\n            var metadata = entities[entity[idAttribute]];\n            var isLocalEntity = (0, _object.nested)(entity, kmdAttribute + '.local');\n\n            if (isLocalEntity) {\n              var _ret = function () {\n                var originalId = entity[idAttribute];\n                delete entity[idAttribute];\n                delete entity[kmdAttribute];\n\n                var request = new _network.NetworkRequest({\n                  method: _enums.HttpMethod.POST,\n                  authType: _enums.AuthType.Default,\n                  url: _url2.default.format({\n                    protocol: _this9.client.protocol,\n                    host: _this9.client.host,\n                    pathname: _this9._pathname\n                  }),\n                  properties: metadata.properties,\n                  data: entity,\n                  timeout: options.timeout,\n                  client: _this9.client\n                });\n\n                return {\n                  v: request.execute().then(function (response) {\n                    var request = new _local.LocalRequest({\n                      method: _enums.HttpMethod.PUT,\n                      url: _url2.default.format({\n                        protocol: _this9.client.protocol,\n                        host: _this9.client.host,\n                        pathname: _this9._pathname\n                      }),\n                      properties: metadata.properties,\n                      data: response.data,\n                      timeout: options.timeout,\n                      client: _this9.client\n                    });\n                    return request.execute();\n                  }).then(function () {\n                    var request = new _local.LocalRequest({\n                      method: _enums.HttpMethod.DELETE,\n                      url: _url2.default.format({\n                        protocol: _this9.client.protocol,\n                        host: _this9.client.host,\n                        pathname: _this9._pathname + '/' + originalId\n                      }),\n                      properties: metadata.properties,\n                      timeout: options.timeout,\n                      client: _this9.client\n                    });\n\n                    return request.execute().then(function (response) {\n                      var result = response.data;\n                      if (result.count === 1) {\n                        size = size - 1;\n                        delete entities[originalId];\n                        return {\n                          _id: originalId,\n                          entity: entity\n                        };\n                      }\n\n                      return {\n                        _id: originalId,\n                        error: new _errors.KinveyError('Expected count to be 1 but instead it was ' + result.count + ' ' + ('when trying to remove entity with _id ' + originalId + '.'))\n                      };\n                    });\n                  }).catch(function (err) {\n                    return {\n                      _id: originalId,\n                      error: err\n                    };\n                  })\n                };\n              }();\n\n              if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n            }\n\n            var request = new _network.NetworkRequest({\n              method: _enums.HttpMethod.PUT,\n              authType: _enums.AuthType.Default,\n              url: _url2.default.format({\n                protocol: _this9.client.protocol,\n                host: _this9.client.host,\n                pathname: _this9._pathname + '/' + entity[idAttribute]\n              }),\n              properties: metadata.properties,\n              data: entity,\n              timeout: options.timeout,\n              client: _this9.client\n            });\n\n            return request.execute().then(function (response) {\n              size = size - 1;\n              delete entities[response.data[idAttribute]];\n              return {\n                _id: response.data[idAttribute],\n                entity: response.data\n              };\n            }).catch(function (err) {\n              // If the credentials used to authenticate this request are\n              // not authorized to run the operation then just remove the entity\n              // from the sync table\n              if (err instanceof _errors.InsufficientCredentialsError) {\n                size = size - 1;\n                delete entities[entity[idAttribute]];\n                return {\n                  _id: entity[idAttribute],\n                  error: err\n                };\n              }\n\n              return {\n                _id: entity[idAttribute],\n                error: err\n              };\n            });\n          });\n\n          var removed = (0, _map2.default)(remove, function (id) {\n            var metadata = entities[id];\n            var request = new _network.NetworkRequest({\n              method: _enums.HttpMethod.DELETE,\n              authType: _enums.AuthType.Default,\n              url: _url2.default.format({\n                protocol: _this9.client.protocol,\n                host: _this9.client.host,\n                pathname: _this9._pathname + '/' + id\n              }),\n              properties: metadata.properties,\n              timeout: options.timeout,\n              client: _this9.client\n            });\n\n            return request.execute().then(function (response) {\n              var result = response.data;\n\n              if (result.count === 1) {\n                size = size - 1;\n                delete entities[id];\n                return {\n                  _id: id\n                };\n              }\n\n              return {\n                _id: id,\n                error: new _errors.KinveyError('Expected count to be 1 but instead it was ' + result.count + ' ' + ('when trying to remove entity with _id ' + id + '.'))\n              };\n            }).catch(function (err) {\n              // If the credentials used to authenticate this request are\n              // not authorized to run the operation or the entity was\n              // not found then just remove the entity from the sync table\n              if (err instanceof _errors.NotFoundError || err instanceof _errors.InsufficientCredentialsError) {\n                size = size - 1;\n                delete entities[id];\n                return {\n                  _id: id,\n                  error: err\n                };\n              }\n\n              return {\n                _id: id,\n                error: err\n              };\n            });\n          });\n\n          return Promise.all([Promise.all(saved), Promise.all(removed)]);\n        }).then(function (results) {\n          var savedResults = results[0];\n          var removedResults = results[1];\n          var result = {\n            collection: _this9.name,\n            success: [],\n            error: []\n          };\n\n          (0, _forEach2.default)(savedResults, function (savedResult) {\n            if (savedResult.error) {\n              result.error.push(savedResult);\n            } else {\n              result.success.push(savedResult);\n            }\n          });\n\n          (0, _forEach2.default)(removedResults, function (removedResult) {\n            if (removedResult.error) {\n              result.error.push(removedResult);\n            } else {\n              result.success.push(removedResult);\n            }\n          });\n\n          return result;\n        }).then(function (result) {\n          response.data.size = size;\n          response.data.entities = entities;\n\n          var request = new _local.LocalRequest({\n            method: _enums.HttpMethod.PUT,\n            url: _url2.default.format({\n              protocol: _this9.client.protocol,\n              host: _this9.client.host,\n              pathname: _this9._syncPathname\n            }),\n            properties: options.properties,\n            data: response.data,\n            timeout: options.timeout,\n            client: _this9.client\n          });\n          return request.execute().then(function () {\n            return result;\n          });\n        });\n      }).catch(function (err) {\n        if (err instanceof _errors.NotFoundError) {\n          return {\n            collection: _this9.name,\n            success: [],\n            error: []\n          };\n        }\n\n        throw err;\n      });\n\n      return promise;\n    }\n\n    /**\n     * Pull items for a collection from the network to your local cache. A promise will be\n     * returned that will be resolved with the result of the pull or rejected with an error.\n     *\n     * @param   {Query}                 [query]                                   Query to pull a subset of items.\n     * @param   {Object}                options                                   Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @return  {Promise}                                                         Promise\n     *\n     * @example\n     * var store = Kinvey.Store.getInstance('books');\n     * store.pull().then(function(result) {\n     *   ...\n     * }).catch(function(err) {\n     *   ...\n     * });\n     */\n\n  }, {\n    key: 'pull',\n    value: function pull(query) {\n      var _this10 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var promise = this.syncCount(null, options).then(function (count) {\n        if (count > 0) {\n          throw new _errors.KinveyError('Unable to pull data. You must push the pending sync items first.', 'Call store.push() to push the pending sync items before you pull new data.');\n        }\n\n        return _this10.find(query, options);\n      }).then(function (result) {\n        return result.network;\n      });\n\n      return promise;\n    }\n\n    /**\n     * Sync items for a collection. This will push pending sync items first and then\n     * pull items from the network into your local cache. A promise will be\n     * returned that will be resolved with the result of the pull or rejected with an error.\n     *\n     * @param   {Query}                 [query]                                   Query to pull a subset of items.\n     * @param   {Object}                options                                   Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @return  {Promise}                                                         Promise\n     *\n     * @example\n     * var store = Kinvey.Store.getInstance('books');\n     * store.sync().then(function(result) {\n     *   ...\n     * }).catch(function(err) {\n     *   ...\n     * });\n     */\n\n  }, {\n    key: 'sync',\n    value: function sync(query) {\n      var _this11 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var promise = this.push(null, options).then(function (pushResponse) {\n        return _this11.pull(query, options).then(function (pullResponse) {\n          return {\n            push: pushResponse,\n            pull: pullResponse\n          };\n        });\n      });\n\n      return promise;\n    }\n\n    /**\n     * Count the number of entities waiting to be pushed to the network. A promise will be\n     * returned with the count of entities or rejected with an error.\n     *\n     * @param   {Query}                 [query]                                   Query to count a subset of entities.\n     * @param   {Object}                options                                   Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @param   {Number}                [options.ttl]                             Time to live for data retrieved\n     *                                                                            from the local cache.\n     * @return  {Promise}                                                         Promise\n     *\n     * @example\n     * var store = Kinvey.Store.getInstance('books');\n     * store.syncCount().then(function(count) {\n     *   ...\n     * }).catch(function(err) {\n     *   ...\n     * });\n     */\n\n  }, {\n    key: 'syncCount',\n    value: function syncCount(query) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      if (query && !(query instanceof _query.Query)) {\n        return Promise.reject(new _errors.KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n      }\n\n      var request = new _local.LocalRequest({\n        method: _enums.HttpMethod.GET,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._syncPathname\n        }),\n        properties: options.properties,\n        query: query,\n        timeout: options.timeout,\n        client: this.client\n      });\n\n      var promise = request.execute().then(function (response) {\n        return response.data.size || 0;\n      }).catch(function (err) {\n        if (err instanceof _errors.NotFoundError) {\n          return 0;\n        }\n\n        throw err;\n      });\n\n      return promise;\n    }\n\n    /**\n     * Add or update entities stored in the cache. A promise will be returned with the entities\n     * or rejected with an error.\n     *\n     * @param   {Object|Array}          entities                                  Entity(s) to add or update in the cache.\n     * @param   {Object}                options                                   Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: '_cache',\n    value: function _cache(entities) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var request = new _local.LocalRequest({\n        method: _enums.HttpMethod.PUT,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname\n        }),\n        properties: options.properties,\n        timeout: options.timeout,\n        client: this.client\n      });\n\n      var promise = request.execute().then(function (response) {\n        return response.data;\n      });\n\n      return promise;\n    }\n\n    /**\n     * Add entities to be pushed. A promise will be returned with null or rejected with an error.\n     *\n     * @param   {Object|Array}          entities                                  Entity(s) to add to the sync table.\n     * @param   {Object}                options                                   Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: '_sync',\n    value: function _sync(entities) {\n      var _this12 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      if (!this.name) {\n        return Promise.reject(new _errors.KinveyError('Unable to add entities to the sync table for a store with no name.'));\n      }\n\n      if (!entities) {\n        return Promise.resolve(null);\n      }\n\n      var request = new _local.LocalRequest({\n        method: _enums.HttpMethod.GET,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._syncPathname\n        }),\n        properties: options.properties,\n        timeout: options.timeout,\n        client: this.client\n      });\n\n      var promise = request.execute().catch(function (error) {\n        if (error instanceof _errors.NotFoundError) {\n          return new _response.Response({\n            statusCode: _enums.StatusCode.Ok,\n            data: {\n              _id: _this12.name,\n              entities: {},\n              size: 0\n            }\n          });\n        }\n\n        throw error;\n      }).then(function (response) {\n        var syncData = response.data || {\n          _id: _this12.name,\n          entities: {},\n          size: 0\n        };\n\n        if (!(0, _isArray2.default)(entities)) {\n          entities = [entities];\n        }\n\n        (0, _forEach2.default)(entities, function (entity) {\n          if (entity[idAttribute]) {\n            if (!syncData.entities.hasOwnProperty(entity[idAttribute])) {\n              syncData.size = syncData.size + 1;\n            }\n\n            syncData.entities[entity[idAttribute]] = {\n              lmt: entity[kmdAttribute] ? entity[kmdAttribute].lmt : null\n            };\n          }\n        });\n\n        var request = new _local.LocalRequest({\n          method: _enums.HttpMethod.PUT,\n          url: _url2.default.format({\n            protocol: _this12.client.protocol,\n            host: _this12.client.host,\n            pathname: _this12._syncPathname\n          }),\n          properties: options.properties,\n          data: syncData,\n          timeout: options.timeout,\n          client: _this12.client\n        });\n        return request.execute();\n      }).then(function () {\n        return null;\n      });\n\n      return promise;\n    }\n  }, {\n    key: '_syncPathname',\n    get: function get() {\n      if (!this.name) {\n        throw new Error('Unable to get a sync pathname for a collection with no name.');\n      }\n\n      return '/' + appdataNamespace + '/' + this.client.appKey + '/' + syncCollectionName + '/' + this.name;\n    }\n  }]);\n\n  return CacheStore;\n}(_networkstore.NetworkStore);\n\nexports.CacheStore = CacheStore;\n\n}).call(this,require('_process'))\n\n},{\"../aggregation\":20,\"../enums\":23,\"../errors\":24,\"../log\":26,\"../query\":29,\"../requests/deltafetch\":41,\"../requests/local\":42,\"../requests/network\":43,\"../requests/response\":46,\"../utils/object\":56,\"./networkstore\":50,\"_process\":249,\"lodash/assign\":200,\"lodash/forEach\":206,\"lodash/isArray\":211,\"lodash/keyBy\":227,\"lodash/map\":231,\"url\":265}],48:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DataStore = exports.DataStoreType = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _syncstore = require('./syncstore');\n\nvar _networkstore = require('./networkstore');\n\nvar _userstore = require('./userstore');\n\nvar _filestore = require('./filestore');\n\nvar _cachestore = require('./cachestore');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Enum for DataStore types.\n */\nvar DataStoreType = {\n  Sync: 'Sync',\n  Cache: 'Cache',\n  Network: 'Network',\n  User: 'User',\n  File: 'File'\n};\nObject.freeze(DataStoreType);\nexports.DataStoreType = DataStoreType;\n\nvar DataStore = exports.DataStore = function () {\n  function DataStore() {\n    _classCallCheck(this, DataStore);\n  }\n\n  _createClass(DataStore, null, [{\n    key: 'getInstance',\n\n    /**\n     * Returns an instance of the Store class based on the type provided.\n     *\n     * @param  {string}       [name]                      Name of the collection.\n     * @param  {StoreType}    [type=DataStoreType.Cache]  Type of store to return.\n     * @return {Object}                                   Store\n     */\n    value: function getInstance(name) {\n      var type = arguments.length <= 1 || arguments[1] === undefined ? DataStoreType.Cache : arguments[1];\n\n      var store = void 0;\n\n      switch (type) {\n        case DataStoreType.Sync:\n          store = new _syncstore.SyncStore(name);\n          break;\n        case DataStoreType.Network:\n          store = new _networkstore.NetworkStore(name);\n          break;\n        case DataStoreType.User:\n          store = new _userstore.UserStore();\n          break;\n        case DataStoreType.File:\n          store = new _filestore.FileStore();\n          break;\n        case DataStoreType.Cache:\n        default:\n          store = new _cachestore.CacheStore(name);\n      }\n\n      return store;\n    }\n  }]);\n\n  return DataStore;\n}();\n\n},{\"./cachestore\":47,\"./filestore\":49,\"./networkstore\":50,\"./syncstore\":51,\"./userstore\":52}],49:[function(require,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FileStore = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _networkstore = require('./networkstore');\n\nvar _network = require('../requests/network');\n\nvar _enums = require('../enums');\n\nvar _errors = require('../errors');\n\nvar _url = require('url');\n\nvar _url2 = _interopRequireDefault(_url);\n\nvar _assign = require('lodash/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _map = require('lodash/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar filesNamespace = process.env.KINVEY_FILES_NAMESPACE || 'blob';\nvar idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\n\n/**\n * The FilesStore class is used to find, save, update, remove, count and group files.\n */\n\nvar FileStore = exports.FileStore = function (_NetworkStore) {\n  _inherits(FileStore, _NetworkStore);\n\n  function FileStore() {\n    _classCallCheck(this, FileStore);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(FileStore).apply(this, arguments));\n  }\n\n  _createClass(FileStore, [{\n    key: 'find',\n\n\n    /**\n     * Finds all files. A query can be optionally provided to return\n     * a subset of all the files for your application or omitted to return all the files.\n     * The number of files returned will adhere to the limits specified\n     * at http://devcenter.kinvey.com/rest/guides/datastore#queryrestrictions. A\n     * promise will be returned that will be resolved with the files or rejected with\n     * an error.\n     *\n     * @param   {Query}                 [query]                                   Query used to filter result.\n     * @param   {Object}                [options]                                 Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @param   {Boolean}               [options.tls]                             Use Transport Layer Security\n     * @param   {Boolean}               [options.download]                        Download the files\n     * @return  {Promise}                                                         Promise\n     *\n     * @example\n     * var filesStore = new Kinvey.FilesStore();\n     * var query = new Kinvey.Query();\n     * query.equalTo('location', 'Boston');\n     * files.find(query, {\n     *   tls: true, // Use transport layer security\n     *   ttl: 60 * 60 * 24, // 1 day in seconds\n     *   download: true // download the files\n     * }).then(function(files) {\n     *   ...\n     * }).catch(function(err) {\n     *   ...\n     * });\n     */\n    value: function find(query) {\n      var _this2 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      options = (0, _assign2.default)({\n        download: false,\n        tls: false\n      }, options);\n\n      options.flags = {\n        tls: options.tls === true ? true : false,\n        ttl_in_seconds: options.ttl\n      };\n\n      var promise = _get(Object.getPrototypeOf(FileStore.prototype), 'find', this).call(this, query, options).then(function (files) {\n        if (options.download === true) {\n          var promises = (0, _map2.default)(files, function (file) {\n            return _this2.downloadByUrl(file._downloadURL, options);\n          });\n          return Promise.all(promises);\n        }\n\n        return files;\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'findById',\n    value: function findById(id, options) {\n      return this.download(id, options);\n    }\n\n    /**\n     * Download a file. A promise will be returned that will be resolved with the file or rejected with\n     * an error.\n     *\n     * @param   {string}        name                                          Name\n     * @param   {Object}        [options]                                     Options\n     * @param   {Boolean}       [options.tls]                                 Use Transport Layer Security\n     * @param   {Number}        [options.ttl]                                 Time To Live (in seconds)\n     * @param   {Boolean}       [options.stream]                              Stream the file\n     * @param   {DataPolicy}    [options.dataPolicy=DataPolicy.NetworkFirst]    Data policy\n     * @param   {AuthType}      [options.authType=AuthType.Default]           Auth type\n     * @return  {Promise}                                                     Promise\n     *\n     * @example\n     * var files = new Kinvey.Files();\n     * files.download('BostonTeaParty.png', {\n     *   tls: true, // Use transport layer security\n     *   ttl: 60 * 60 * 24, // 1 day in seconds\n     *   stream: true // stream the file\n     * }).then(function(file) {\n     *   ...\n     * }).catch(function(err) {\n     *   ...\n     * });\n     */\n\n  }, {\n    key: 'download',\n    value: function download(name) {\n      var _this3 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      options = (0, _assign2.default)({\n        stream: false,\n        tls: false\n      }, options);\n\n      options.flags = {\n        tls: options.tls === true ? true : false,\n        ttl_in_seconds: options.ttl\n      };\n\n      var promise = _get(Object.getPrototypeOf(FileStore.prototype), 'findById', this).call(this, name, options).then(function (file) {\n        if (options.stream === true) {\n          return file;\n        }\n\n        return _this3.downloadByUrl(file._downloadURL, options);\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'downloadByUrl',\n    value: function downloadByUrl(url) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var promise = Promise.resolve().then(function () {\n        var request = new _network.NetworkRequest({\n          method: _enums.HttpMethod.GET,\n          url: url,\n          timeout: options.timeout\n        });\n        request.setHeader('Accept', options.mimeType || 'application-octet-stream');\n        request.removeHeader('Content-Type');\n        request.removeHeader('X-Kinvey-Api-Version');\n        return request.execute();\n      }).then(function (response) {\n        return response.data;\n      });\n\n      return promise;\n    }\n\n    /**\n     * Stream a file. A promise will be returned that will be resolved with the file or rejected with\n     * an error.\n     *\n     * @param   {string}        name                                          File name\n     * @param   {Object}        [options]                                     Options\n     * @param   {Boolean}       [options.tls]                                 Use Transport Layer Security\n     * @param   {Number}        [options.ttl]                                 Time To Live (in seconds)\n     * @param   {DataPolicy}    [options.dataPolicy=DataPolicy.NetworkFirst]    Data policy\n     * @param   {AuthType}      [options.authType=AuthType.Default]           Auth type\n     * @return  {Promise}                                                     Promise\n     *\n     * @example\n     * var files = new Kinvey.Files();\n     * files.stream('BostonTeaParty.png', {\n     *   tls: true, // Use transport layer security\n     *   ttl: 60 * 60 * 24, // 1 day in seconds\n     * }).then(function(file) {\n     *   ...\n     * }).catch(function(err) {\n     *   ...\n     * });\n     */\n\n  }, {\n    key: 'stream',\n    value: function stream(name) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      options.stream = true;\n      return this.download(name, options);\n    }\n  }, {\n    key: 'upload',\n    value: function upload(file) {\n      var metadata = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n      var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n      metadata._filename = metadata._filename || file._filename || file.name;\n      metadata.size = metadata.size || file.size || file.length;\n      metadata.mimeType = metadata.mimeType || file.mimeType || file.type || 'application/octet-stream';\n\n      options = (0, _assign2.default)({\n        properties: null,\n        timeout: undefined,\n        public: false,\n        handler: function handler() {}\n      }, options);\n\n      if (options.public) {\n        metadata._public = true;\n      }\n\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.POST,\n        headers: {\n          'X-Kinvey-Content-Type': metadata.mimeType\n        },\n        authType: _enums.AuthType.Default,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname\n        }),\n        properties: options.properties,\n        timeout: options.timeout,\n        data: metadata,\n        client: this.client\n      });\n\n      if (metadata[idAttribute]) {\n        request.method = _enums.HttpMethod.PUT;\n        request.url = _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname + '/' + metadata._id\n        });\n      }\n\n      var promise = request.execute().then(function (response) {\n        var uploadUrl = response.data._uploadURL;\n        var headers = response.data._requiredHeaders || {};\n        headers['Content-Type'] = metadata.mimeType;\n        headers['Content-Length'] = metadata.size;\n\n        // Delete fields from the response\n        delete response.data._expiresAt;\n        delete response.data._requiredHeaders;\n        delete response.data._uploadURL;\n\n        // Upload the file\n        var request = new _network.NetworkRequest({\n          method: _enums.HttpMethod.PUT,\n          url: uploadUrl,\n          data: file\n        });\n        request.clearHeaders();\n        request.addHeaders(headers);\n\n        return request.execute().then(function (uploadResponse) {\n          if (uploadResponse.isSuccess()) {\n            response.data._data = file;\n            return response.data;\n          }\n\n          throw uploadResponse.error;\n        });\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'save',\n    value: function save() {\n      return Promise.reject(new _errors.KinveyError('Please use `upload()` to save files.'));\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      return Promise.reject(new _errors.KinveyError('Please use `upload()` to update files.'));\n    }\n  }, {\n    key: '_pathname',\n\n    /**\n     * The pathname for the store.\n     *\n     * @return  {string}                Pathname\n     */\n    get: function get() {\n      return '/' + filesNamespace + '/' + this.client.appKey;\n    }\n  }]);\n\n  return FileStore;\n}(_networkstore.NetworkStore);\n\n}).call(this,require('_process'))\n\n},{\"../enums\":23,\"../errors\":24,\"../requests/network\":43,\"./networkstore\":50,\"_process\":249,\"lodash/assign\":200,\"lodash/map\":231,\"url\":265}],50:[function(require,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NetworkStore = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _aggregation = require('../aggregation');\n\nvar _enums = require('../enums');\n\nvar _errors = require('../errors');\n\nvar _client = require('../client');\n\nvar _network = require('../requests/network');\n\nvar _query = require('../query');\n\nvar _Log = require('../Log');\n\nvar _qs = require('qs');\n\nvar _qs2 = _interopRequireDefault(_qs);\n\nvar _url = require('url');\n\nvar _url2 = _interopRequireDefault(_url);\n\nvar _assign = require('lodash/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _isString = require('lodash/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar appdataNamespace = process.env.KINVEY_DATASTORE_NAMESPACE || 'appdata';\nvar idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\n\n/**\n * The NetworkStore class is used to find, save, update, remove, count and group enitities\n * in a collection on the network.\n */\n\nvar NetworkStore = exports.NetworkStore = function () {\n  /**\n   * Creates a new instance of the NetworkStore class.\n   *\n   * @param   {string}  name   Name of the collection\n   *\n   * @throws  {KinveyError}   If the name provided is not a string.\n   */\n\n  function NetworkStore(name) {\n    _classCallCheck(this, NetworkStore);\n\n    if (name && !(0, _isString2.default)(name)) {\n      throw new _errors.KinveyError('Name must be a string.');\n    }\n\n    /**\n     * @type {string}\n     */\n    this.name = name;\n\n    /**\n     * @private\n     * @type {Client}\n     */\n    this.client = _client.Client.sharedInstance();\n  }\n\n  /**\n   * The pathname for the store.\n   *\n   * @return  {string}                Pathname\n   */\n\n\n  _createClass(NetworkStore, [{\n    key: 'find',\n\n\n    /**\n     * Finds all entities in a collection. A query can be optionally provided to return\n     * a subset of all entities in a collection or omitted to return all entities in\n     * a collection. The number of entities returned will adhere to the limits specified\n     * at http://devcenter.kinvey.com/rest/guides/datastore#queryrestrictions. A\n     * promise will be returned that will be resolved with the entities or rejected with\n     * an error.\n     *\n     * @param   {Query}                 [query]                                   Query used to filter result.\n     * @param   {Object}                [options]                                 Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @return  {Promise}                                                         Promise\n     */\n    value: function find(query) {\n      var _this = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      _Log.Log.debug('Retrieving the entities in the ' + this.name + ' collection.', query);\n\n      options = (0, _assign2.default)({\n        properties: null,\n        timeout: undefined,\n        handler: function handler() {}\n      }, options);\n      options.flags = _qs2.default.parse(options.flags);\n\n      if (query && !(query instanceof _query.Query)) {\n        return Promise.reject(new _errors.KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n      }\n\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.GET,\n        authType: _enums.AuthType.Default,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname\n        }),\n        properties: options.properties,\n        query: query,\n        timeout: options.timeout,\n        client: this.client\n      });\n\n      var promise = request.execute().then(function (response) {\n        return response.data;\n      });\n\n      promise.then(function (response) {\n        _Log.Log.info('Retrieved the entities in the ' + _this.name + ' collection.', response);\n      }).catch(function (err) {\n        _Log.Log.error('Failed to retrieve the entities in the ' + _this.name + ' collection.', err);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Groups entities in a collection. An aggregation can be optionally provided to group\n     * a subset of entities in a collection or omitted to group all the entities\n     * in a collection. A promise will be returned that will be resolved with the result\n     * or rejected with an error.\n     *\n     * @param   {Aggregation}           aggregation                               Aggregation used to group entities.\n     * @param   {Object}                [options]                                 Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: 'group',\n    value: function group(aggregation) {\n      var _this2 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      _Log.Log.debug('Grouping the entities in the ' + this.name + ' collection.', aggregation, options);\n\n      options = (0, _assign2.default)({\n        properties: null,\n        timeout: undefined,\n        useDeltaFetch: true,\n        handler: function handler() {}\n      }, options);\n\n      if (!(aggregation instanceof _aggregation.Aggregation)) {\n        return Promise.reject(new _errors.KinveyError('Invalid aggregation. ' + 'It must be an instance of the Kinvey.Aggregation class.'));\n      }\n\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.GET,\n        authType: _enums.AuthType.Default,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname + '/_group'\n        }),\n        properties: options.properties,\n        data: aggregation.toJSON(),\n        timeout: options.timeout\n      });\n\n      var promise = request.execute().then(function (response) {\n        return response.data;\n      });\n\n      promise.then(function (response) {\n        _Log.Log.info('Grouped the entities in the ' + _this2.name + ' collection.', response);\n      }).catch(function (err) {\n        _Log.Log.error('Failed to group the entities in the ' + _this2.name + ' collection.', err);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Counts entities in a collection. A query can be optionally provided to count\n     * a subset of entities in a collection or omitted to count all the entities\n     * in a collection. A promise will be returned that will be resolved with the count\n     * or rejected with an error.\n     *\n     * @param   {Query}                 [query]                                   Query to count a subset of entities.\n     * @param   {Object}                [options]                                 Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: 'count',\n    value: function count(query) {\n      var _this3 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      _Log.Log.debug('Counting the number of entities in the ' + this.name + ' collection.', query);\n\n      options = (0, _assign2.default)({\n        properties: null,\n        timeout: undefined,\n        useDeltaFetch: true,\n        handler: function handler() {}\n      }, options);\n\n      if (query && !(query instanceof _query.Query)) {\n        return Promise.reject(new _errors.KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n      }\n\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.GET,\n        authType: _enums.AuthType.Default,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname + '/_count'\n        }),\n        properties: options.properties,\n        query: query,\n        timeout: options.timeout\n      });\n\n      var promise = request.execute().then(function (response) {\n        return response.data;\n      });\n\n      promise.then(function (response) {\n        _Log.Log.info('Counted the number of entities in the ' + _this3.name + ' collection.', response);\n      }).catch(function (err) {\n        _Log.Log.error('Failed to count the number of entities in the ' + _this3.name + ' collection.', err);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Retrieves a single entity in a collection by id. A promise will be returned that will\n     * be resolved with the entity or rejected with an error.\n     *\n     * @param   {string}                id                                        Document Id\n     * @param   {Object}                [options]                                 Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: 'findById',\n    value: function findById(id) {\n      var _this4 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      if (!id) {\n        _Log.Log.warn('No id was provided to retrieve an entity.', id);\n        return Promise.resolve(null);\n      }\n\n      _Log.Log.debug('Retrieving the entity in the ' + this.name + ' collection with id = ' + id + '.');\n\n      options = (0, _assign2.default)({\n        properties: null,\n        timeout: undefined,\n        handler: function handler() {}\n      }, options);\n\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.GET,\n        authType: _enums.AuthType.Default,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname + '/' + id\n        }),\n        properties: options.properties,\n        timeout: options.timeout\n      });\n\n      var promise = request.execute().then(function (response) {\n        return response.data;\n      });\n\n      promise.then(function (response) {\n        _Log.Log.info('Retrieved the entity in the ' + _this4.name + ' collection with id = ' + id + '.', response);\n      }).catch(function (err) {\n        _Log.Log.error('Failed to retrieve the entity in the ' + _this4.name + ' collection with id = ' + id + '.', err);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Save a entity or an array of entities to a collection. A promise will be returned that\n     * will be resolved with the saved entity/entities or rejected with an error.\n     *\n     * @param   {Object|Array}          doc                                       Document or entities to save.\n     * @param   {Object}                options                                   Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: 'save',\n    value: function save(entity) {\n      var _this5 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      if (!entity) {\n        _Log.Log.warn('No entity was provided to be saved.', entity);\n        return Promise.resolve(null);\n      }\n\n      _Log.Log.debug('Saving the entity(s) to the ' + this.name + ' collection.', entity);\n\n      options = (0, _assign2.default)({\n        properties: null,\n        timeout: undefined,\n        handler: function handler() {}\n      }, options);\n\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.POST,\n        authType: _enums.AuthType.Default,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname\n        }),\n        properties: options.properties,\n        data: entity,\n        timeout: options.timeout,\n        client: this.client\n      });\n\n      if (entity[idAttribute]) {\n        request.method = _enums.HttpMethod.PUT;\n        request.url = _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname + '/' + entity[idAttribute]\n        });\n      }\n\n      var promise = request.execute().then(function (response) {\n        return response.data;\n      });\n\n      promise.then(function (response) {\n        _Log.Log.info('Saved the entity(s) to the ' + _this5.name + ' collection.', response);\n      }).catch(function (err) {\n        _Log.Log.error('Failed to save the entity(s) to the ' + _this5.name + ' collection.', err);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Remove entities in a collection. A query can be optionally provided to remove\n     * a subset of entities in a collection or omitted to remove all entities in a\n     * collection. A promise will be returned that will be resolved with a count of the\n     * number of entities removed or rejected with an error.\n     *\n     * @param   {Query}                 [query]                                   Query\n     * @param   {Object}                options                                   Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(query) {\n      var _this6 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      _Log.Log.debug('Removing the entities in the ' + this.name + ' collection.', query);\n\n      options = (0, _assign2.default)({\n        properties: null,\n        timeout: undefined,\n        handler: function handler() {}\n      }, options);\n\n      if (query && !(query instanceof _query.Query)) {\n        return Promise.reject(new _errors.KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n      }\n\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.GET,\n        authType: _enums.AuthType.Default,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname\n        }),\n        properties: options.properties,\n        query: query,\n        timeout: options.timeout\n      });\n\n      var promise = request.execute().then(function (response) {\n        return response.data;\n      });\n\n      promise.then(function (response) {\n        _Log.Log.info('Removed the entities in the ' + _this6.name + ' collection.', response);\n      }).catch(function (err) {\n        _Log.Log.error('Failed to remove the entities in the ' + _this6.name + ' collection.', err);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Remove an entity in a collection. A promise will be returned that will be\n     * resolved with a count of the number of entities removed or rejected with an error.\n     *\n     * @param   {string}                id                                        Document Id\n     * @param   {Object}                options                                   Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: 'removeById',\n    value: function removeById(id) {\n      var _this7 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      if (!id) {\n        _Log.Log.warn('No id was provided to be removed.', id);\n        return Promise.resolve(null);\n      }\n\n      _Log.Log.debug('Removing an entity in the ' + this.name + ' collection with id = ' + id + '.');\n\n      options = (0, _assign2.default)({\n        properties: null,\n        timeout: undefined,\n        handler: function handler() {}\n      }, options);\n\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.GET,\n        authType: _enums.AuthType.Default,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname + '/' + id\n        }),\n        properties: options.properties,\n        timeout: options.timeout\n      });\n\n      var promise = request.execute().then(function (response) {\n        return response.data;\n      });\n\n      promise.then(function (response) {\n        _Log.Log.info('Removed the entity in the ' + _this7.name + ' collection with id = ' + id + '.', response);\n      }).catch(function (err) {\n        _Log.Log.error('Failed to remove the entity in the ' + _this7.name + ' collection with id = ' + id + '.', err);\n      });\n\n      return promise;\n    }\n  }, {\n    key: '_pathname',\n    get: function get() {\n      var pathname = '/' + appdataNamespace + '/' + this.client.appKey;\n\n      if (this.name) {\n        pathname = pathname + '/' + this.name;\n      }\n\n      return pathname;\n    }\n  }]);\n\n  return NetworkStore;\n}();\n\n}).call(this,require('_process'))\n\n},{\"../Log\":18,\"../aggregation\":20,\"../client\":21,\"../enums\":23,\"../errors\":24,\"../query\":29,\"../requests/network\":43,\"_process\":249,\"lodash/assign\":200,\"lodash/isString\":224,\"qs\":254,\"url\":265}],51:[function(require,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SyncStore = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _cachestore = require('./cachestore');\n\nvar _local = require('../requests/local');\n\nvar _aggregation = require('../aggregation');\n\nvar _enums = require('../enums');\n\nvar _errors = require('../errors');\n\nvar _query = require('../query');\n\nvar _log = require('../log');\n\nvar _url = require('url');\n\nvar _url2 = _interopRequireDefault(_url);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\n\nvar SyncStore = exports.SyncStore = function (_CacheStore) {\n  _inherits(SyncStore, _CacheStore);\n\n  function SyncStore() {\n    _classCallCheck(this, SyncStore);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(SyncStore).apply(this, arguments));\n  }\n\n  _createClass(SyncStore, [{\n    key: 'find',\n\n\n    /**\n     * Finds all entities in a collection. A query can be optionally provided to return\n     * a subset of all entities in a collection or omitted to return all entities in\n     * a collection. The number of entities returned will adhere to the limits specified\n     * at http://devcenter.kinvey.com/rest/guides/datastore#queryrestrictions. A\n     * promise will be returned that will be resolved with the entities or rejected with\n     * an error.\n     *\n     * @param   {Query}                 [query]                                   Query used to filter result.\n     * @param   {Object}                [options]                                 Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @param   {Number}                [options.ttl]                             Time to live for data retrieved\n     *                                                                            from the cache.\n     * @return  {Promise}                                                         Promise\n     */\n    value: function find(query) {\n      var _this2 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      _log.Log.debug('Retrieving the entities in the ' + this.name + ' collection.', query);\n\n      if (query && !(query instanceof _query.Query)) {\n        return Promise.reject(new _errors.KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n      }\n\n      var request = new _local.LocalRequest({\n        method: _enums.HttpMethod.GET,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname\n        }),\n        properties: options.properties,\n        query: query,\n        timeout: options.timeout,\n        client: this.client\n      });\n\n      var promise = request.execute().then(function (response) {\n        return response.data;\n      });\n\n      promise.then(function (response) {\n        _log.Log.info('Retrieved the entities in the ' + _this2.name + ' collection.', response);\n      }).catch(function (err) {\n        _log.Log.error('Failed to retrieve the entities in the ' + _this2.name + ' collection.', err);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Groups entities in a collection. An aggregation can be optionally provided to group\n     * a subset of entities in a collection or omitted to group all the entities\n     * in a collection. A promise will be returned that will be resolved with the result\n     * or rejected with an error.\n     *\n     * @param   {Aggregation}           aggregation                               Aggregation used to group entities.\n     * @param   {Object}                [options]                                 Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @param   {Number}                [options.ttl]                             Time to live for data retrieved\n     *                                                                            from the cache.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: 'group',\n    value: function group(aggregation) {\n      var _this3 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      _log.Log.debug('Grouping the entities in the ' + this.name + ' collection.', aggregation, options);\n\n      if (!(aggregation instanceof _aggregation.Aggregation)) {\n        return Promise.reject(new _errors.KinveyError('Invalid aggregation. ' + 'It must be an instance of the Kinvey.Aggregation class.'));\n      }\n\n      var request = new _local.LocalRequest({\n        method: _enums.HttpMethod.GET,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname + '/_group'\n        }),\n        properties: options.properties,\n        data: aggregation.toJSON(),\n        timeout: options.timeout,\n        client: this.client\n      });\n\n      var promise = request.execute().then(function (response) {\n        return response.data;\n      });\n\n      promise.then(function (response) {\n        _log.Log.info('Grouped the entities in the ' + _this3.name + ' collection.', response);\n      }).catch(function (err) {\n        _log.Log.error('Failed to group the entities in the ' + _this3.name + ' collection.', err);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Counts entities in a collection. A query can be optionally provided to count\n     * a subset of entities in a collection or omitted to count all the entities\n     * in a collection. A promise will be returned that will be resolved with the count\n     * or rejected with an error.\n     *\n     * @param   {Query}                 [query]                                   Query to count a subset of entities.\n     * @param   {Object}                [options]                                 Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @param   {Number}                [options.ttl]                             Time to live for data retrieved\n     *                                                                            from the cache.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: 'count',\n    value: function count(query) {\n      var _this4 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      _log.Log.debug('Counting the number of entities in the ' + this.name + ' collection.', query);\n\n      if (query && !(query instanceof _query.Query)) {\n        return Promise.reject(new _errors.KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n      }\n\n      var request = new _local.LocalRequest({\n        method: _enums.HttpMethod.GET,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname + '/_count'\n        }),\n        properties: options.properties,\n        query: query,\n        timeout: options.timeout,\n        client: this.client\n      });\n\n      var promise = request.execute().then(function (response) {\n        return response.data;\n      });\n\n      promise.then(function (response) {\n        _log.Log.info('Counted the number of entities in the ' + _this4.name + ' collection.', response);\n      }).catch(function (err) {\n        _log.Log.error('Failed to count the number of entities in the ' + _this4.name + ' collection.', err);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Retrieves a single entity in a collection by id. A promise will be returned that will\n     * be resolved with the entity or rejected with an error.\n     *\n     * @param   {string}                id                                        Document Id\n     * @param   {Object}                [options]                                 Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @param   {Number}                [options.ttl]                             Time to live for data retrieved\n     *                                                                            from the cache.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: 'findById',\n    value: function findById(id) {\n      var _this5 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      if (!id) {\n        _log.Log.warn('No id was provided to retrieve an entity.', id);\n        return Promise.resolve(null);\n      }\n\n      _log.Log.debug('Retrieving the entity in the ' + this.name + ' collection with id = ' + id + '.');\n\n      var request = new _local.LocalRequest({\n        method: _enums.HttpMethod.GET,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname + '/' + id\n        }),\n        properties: options.properties,\n        timeout: options.timeout,\n        client: this.client\n      });\n\n      var promise = request.execute().then(function (response) {\n        return response.data;\n      });\n\n      promise.then(function (response) {\n        _log.Log.info('Retrieved the entity in the ' + _this5.name + ' collection with id = ' + id + '.', response);\n      }).catch(function (err) {\n        _log.Log.error('Failed to retrieve the entity in the ' + _this5.name + ' collection with id = ' + id + '.', err);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Save a entity or an array of entities to a collection. A promise will be returned that\n     * will be resolved with the saved entity/entities or rejected with an error.\n     *\n     * @param   {Object|Array}          entities                                  Entity or entities to save.\n     * @param   {Object}                [options]                                 Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @param   {Number}                [options.ttl]                             Time to live for data saved\n     *                                                                            in the cache.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: 'save',\n    value: function save(entity) {\n      var _this6 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      if (!entity) {\n        _log.Log.warn('No entity was provided to be saved.', entity);\n        return Promise.resolve(null);\n      }\n\n      _log.Log.debug('Saving the entity(s) to the ' + this.name + ' collection.', entity);\n\n      var request = new _local.LocalRequest({\n        method: _enums.HttpMethod.POST,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname\n        }),\n        properties: options.properties,\n        data: entity,\n        timeout: options.timeout,\n        client: this.client\n      });\n\n      if (entity[idAttribute]) {\n        request.url = _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname + '/' + entity[idAttribute]\n        });\n      }\n\n      var promise = request.execute().then(function (response) {\n        return _this6._updateSync(response.data, options).then(function () {\n          return response.data;\n        });\n      });\n\n      promise.then(function (response) {\n        _log.Log.info('Saved the entity(s) to the ' + _this6.name + ' collection.', response);\n      }).catch(function (err) {\n        _log.Log.error('Failed to save the entity(s) to the ' + _this6.name + ' collection.', err);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Remove entities in a collection. A query can be optionally provided to remove\n     * a subset of entities in a collection or omitted to remove all entities in a\n     * collection. A promise will be returned that will be resolved with a count of the\n     * number of entities removed or rejected with an error.\n     *\n     * @param   {Query}                 [query]                                   Query\n     * @param   {Object}                options                                   Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(query) {\n      var _this7 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      _log.Log.debug('Removing the entities in the ' + this.name + ' collection.', query);\n\n      if (query && !(query instanceof _query.Query)) {\n        return Promise.reject(new _errors.KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n      }\n\n      var request = new _local.LocalRequest({\n        method: _enums.HttpMethod.DELETE,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname\n        }),\n        properties: options.properties,\n        query: query,\n        timeout: options.timeout,\n        client: this.client\n      });\n\n      var promise = request.execute().then(function (response) {\n        return _this7._updateSync(response.data.entities, options).then(function () {\n          return response.data;\n        });\n      });\n\n      promise.then(function (response) {\n        _log.Log.info('Removed the entities in the ' + _this7.name + ' collection.', response);\n      }).catch(function (err) {\n        _log.Log.error('Failed to remove the entities in the ' + _this7.name + ' collection.', err);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Remove an entity in a collection. A promise will be returned that will be\n     * resolved with a count of the number of entities removed or rejected with an error.\n     *\n     * @param   {string}                id                                        Document Id\n     * @param   {Object}                options                                   Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: 'removeById',\n    value: function removeById(id) {\n      var _this8 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      if (!id) {\n        _log.Log.warn('No id was provided to be removed.', id);\n        return Promise.resolve(null);\n      }\n\n      _log.Log.debug('Removing an entity in the ' + this.name + ' collection with id = ' + id + '.');\n\n      var request = new _local.LocalRequest({\n        method: _enums.HttpMethod.DELETE,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname + '/' + id\n        }),\n        properties: options.properties,\n        timeout: options.timeout,\n        client: this.client\n      });\n\n      var promise = request.execute().then(function (response) {\n        return _this8._updateSync(response.data.entities, options).then(function () {\n          return response.data;\n        });\n      });\n\n      promise.then(function (response) {\n        _log.Log.info('Removed the entity in the ' + _this8.name + ' collection with id = ' + id + '.', response);\n      }).catch(function (err) {\n        _log.Log.error('Failed to remove the entity in the ' + _this8.name + ' collection with id = ' + id + '.', err);\n      });\n\n      return promise;\n    }\n\n    /**\n     * Pull items for a collection from the network to your local cache. A promise will be\n     * returned that will be resolved with the result of the pull or rejected with an error.\n     *\n     * @param   {Query}                 [query]                                   Query to pull a subset of items.\n     * @param   {Object}                options                                   Options\n     * @param   {Properties}            [options.properties]                      Custom properties to send with\n     *                                                                            the request.\n     * @param   {Number}                [options.timeout]                         Timeout for the request.\n     * @return  {Promise}                                                         Promise\n     */\n\n  }, {\n    key: 'pull',\n    value: function pull(query) {\n      var _this9 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var promise = this.syncCount(null, options).then(function (count) {\n        if (count > 0) {\n          throw new _errors.KinveyError('Unable to pull data. You must push the pending sync items first.', 'Call store.push() to push the pending sync items before you pull new data.');\n        }\n\n        return _get(Object.getPrototypeOf(SyncStore.prototype), 'find', _this9).call(_this9, query, options);\n      }).then(function (result) {\n        return result.network;\n      });\n\n      return promise;\n    }\n  }]);\n\n  return SyncStore;\n}(_cachestore.CacheStore);\n\n}).call(this,require('_process'))\n\n},{\"../aggregation\":20,\"../enums\":23,\"../errors\":24,\"../log\":26,\"../query\":29,\"../requests/local\":42,\"./cachestore\":47,\"_process\":249,\"url\":265}],52:[function(require,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UserStore = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _errors = require('../errors');\n\nvar _networkstore = require('./networkstore');\n\nvar _enums = require('../enums');\n\nvar _network = require('../requests/network');\n\nvar _url = require('url');\n\nvar _url2 = _interopRequireDefault(_url);\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar usersNamespace = process.env.KINVEY_USERS_NAMESPACE || 'user';\nvar rpcNamespace = process.env.KINVEY_RPC_NAMESPACE || 'rpc';\nvar idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nvar socialIdentityAttribute = process.env.KINVEY_SOCIAL_IDENTITY_ATTRIBUTE || '_socialIdentity';\n\nvar UserStore = exports.UserStore = function (_NetworkStore) {\n  _inherits(UserStore, _NetworkStore);\n\n  function UserStore() {\n    _classCallCheck(this, UserStore);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(UserStore).apply(this, arguments));\n  }\n\n  _createClass(UserStore, [{\n    key: 'save',\n    value: function save(user) {\n      var _this2 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var promise = Promise.resolve().then(function () {\n        if (!user) {\n          throw new _errors.KinveyError('No user was provided to be updated.');\n        }\n\n        if ((0, _isArray2.default)(user)) {\n          throw new _errors.KinveyError('Please only update one user at a time.', user);\n        }\n\n        if (!user[idAttribute]) {\n          throw new _errors.KinveyError('User must have an _id.');\n        }\n\n        if (options._identity) {\n          var socialIdentity = user[socialIdentityAttribute];\n          if (socialIdentity) {\n            for (var identity in socialIdentity) {\n              if (socialIdentity.hasOwnProperty(identity)) {\n                if (socialIdentity[identity] && options._identity !== identity) {\n                  delete socialIdentity[identity];\n                }\n              }\n            }\n          }\n        }\n\n        return _get(Object.getPrototypeOf(UserStore.prototype), 'save', _this2).call(_this2, user, options);\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'exists',\n    value: function exists(username, options) {\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.POST,\n        authType: _enums.AuthType.App,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: '/' + rpcNamespace + '/' + this.client.appKey + '/check-username-exists'\n        }),\n        properties: options.properties,\n        data: { username: username },\n        timeout: options.timeout,\n        client: this.client\n      });\n\n      var promise = request.execute().then(function (response) {\n        return response.data.usernameExists;\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'restore',\n    value: function restore(id) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.POST,\n        authType: _enums.AuthType.Master,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname + '/id'\n        }),\n        properties: options.properties,\n        timeout: options.timeout,\n        client: this.client\n      });\n\n      var promise = request.execute().then(function (response) {\n        return response.data;\n      });\n\n      return promise;\n    }\n  }, {\n    key: '_pathname',\n\n    /**\n     * The pathname for the store.\n     *\n     * @return  {string}   Pathname\n     */\n    get: function get() {\n      return '/' + usersNamespace + '/' + this.client.appKey;\n    }\n  }]);\n\n  return UserStore;\n}(_networkstore.NetworkStore);\n\n}).call(this,require('_process'))\n\n},{\"../enums\":23,\"../errors\":24,\"../requests/network\":43,\"./networkstore\":50,\"_process\":249,\"lodash/isArray\":211,\"url\":265}],53:[function(require,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Sync = undefined;\n\nvar _datastore = require('./stores/datastore');\n\nvar _query = require('./query');\n\nvar _enums = require('./enums');\n\nvar _reduce = require('lodash/reduce');\n\nvar _reduce2 = _interopRequireDefault(_reduce);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar syncCollectionName = process.env.KINVEY_SYNC_COLLECTION_NAME || 'sync';\nvar idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nvar enabled = process.env.KINVEY_SYNC_DEFAULT_STATE || true;\n\nvar Sync = {\n  isEnabled: function isEnabled() {\n    return enabled;\n  },\n  enable: function enable() {\n    enabled = true;\n  },\n  disable: function disable() {\n    enabled = false;\n  },\n  count: function count(query, options) {\n    var syncStore = _datastore.DataStore.getInstance(syncCollectionName, _enums.DataStoreType.Sync);\n    var promise = syncStore.find(query, options).then(function (syncData) {\n      return (0, _reduce2.default)(syncData, function (result, data) {\n        return result + data.size;\n      }, 0);\n    });\n    return promise;\n  },\n  push: function push(options) {\n    var syncStore = _datastore.DataStore.getInstance(syncCollectionName, _enums.DataStoreType.Sync);\n    var query = new _query.Query();\n    query.greaterThan('size', 0);\n    var promise = syncStore.find(query, options).then(function (syncData) {\n      var promises = syncData.map(function (data) {\n        var store = _datastore.DataStore.getInstance(data[idAttribute], _enums.DataStoreType.Sync);\n        return store.push();\n      });\n      return Promise.all(promises);\n    });\n    return promise;\n  },\n  sync: function sync() {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    var syncStore = _datastore.DataStore.getInstance(syncCollectionName, _enums.DataStoreType.Sync);\n    var promise = syncStore.find(null, options).then(function (syncData) {\n      var promises = syncData.map(function (data) {\n        var store = _datastore.DataStore.getInstance(data[idAttribute], _enums.DataStoreType.Sync);\n        return store.sync();\n      });\n      return Promise.all(promises);\n    });\n    return promise;\n  }\n};\n\nexports.Sync = Sync;\n\n}).call(this,require('_process'))\n\n},{\"./enums\":23,\"./query\":29,\"./stores/datastore\":48,\"_process\":249,\"lodash/reduce\":236}],54:[function(require,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.User = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _client = require('./client');\n\nvar _query = require('./query');\n\nvar _acl = require('./acl');\n\nvar _metadata = require('./metadata');\n\nvar _errors = require('./errors');\n\nvar _mic = require('./mic');\n\nvar _enums = require('./enums');\n\nvar _datastore = require('./stores/datastore');\n\nvar _network = require('./requests/network');\n\nvar _url = require('url');\n\nvar _url2 = _interopRequireDefault(_url);\n\nvar _assign = require('lodash/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _result = require('lodash/result');\n\nvar _result2 = _interopRequireDefault(_result);\n\nvar _isObject = require('lodash/isObject');\n\nvar _isObject2 = _interopRequireDefault(_isObject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar appdataNamespace = process.env.KINVEY_DATASTORE_NAMESPACE || 'appdata';\nvar usersNamespace = process.env.KINVEY_USERS_NAMESPACE || 'user';\nvar rpcNamespace = process.env.KINVEY_RPC_NAMESPACE || 'rpc';\nvar idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nvar kmdAttribute = process.env.KINVEY_KMD_ATTRIBUTE || '_kmd';\nvar socialIdentityAttribute = process.env.KINVEY_SOCIAL_IDENTITY_ATTRIBUTE || '_socialIdentity';\nvar usernameAttribute = process.env.KINVEY_USERNAME_ATTRIBUTE || 'username';\nvar emailAttribute = process.env.KINVEY_EMAIL_ATTRIBUTE || 'email';\nvar supportedIdentities = ['facebook', 'google', 'linkedIn'];\nvar hello = void 0;\n\nif (typeof window !== 'undefined') {\n  hello = require('hellojs');\n}\n\n/**\n * The User class is used to represent a single user on the Kinvey platform.\n * Use the user class to manage the active user lifecycle and perform user operations.\n */\n\nvar User = exports.User = function () {\n  /**\n   * Create a new instance of a User.\n   *\n   * @param  {Object}   [data={}]    Data for the user.\n   * @return {User}                  User\n   *\n   * @example\n   * var user = new User();\n   */\n\n  function User() {\n    var data = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    _classCallCheck(this, User);\n\n    /**\n     * The users data.\n     *\n     * @type {Object}\n     */\n    this.data = data;\n\n    /**\n     * @private\n     * The client used by this user.\n     *\n     * @type {Client}\n     */\n    this.client = _client.Client.sharedInstance();\n  }\n\n  /**\n   * The _id for the user.\n   *\n   * @return {?string} _id\n   *\n   * @example\n   * var _id = user._id;\n   */\n\n\n  _createClass(User, [{\n    key: 'setAsActiveUser',\n\n\n    /**\n     * Set this user as the active user.\n     *\n     * @return {Promise<User>}  The active user.\n     *\n     * @example\n     * var promise = user.setAsActiveUser();\n     * promise.then(function(activeUser) {\n     *   ...\n     * }).catch(function(error) {\n     *   ...\n     * });\n     */\n    value: function setAsActiveUser() {\n      return User.setActiveUser(this, this.client);\n    }\n\n    /**\n     * Checks if this user is the active user.\n     *\n     * @return {Promise<Boolean>} True or false if this user is the active user.\n     *\n     * @example\n     * var promise = user.isActiveUser();\n     * promise.then(function(isActiveUser) {\n     *   ...\n     * }).catch(function(error) {\n     *   ...\n     * });\n     */\n\n  }, {\n    key: 'isActive',\n    value: function isActive() {\n      var activeUser = User.getActiveUser(this.client);\n\n      if (activeUser && activeUser._id === this._id) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: 'login',\n\n\n    /**\n     * Login using a username or password.\n     *\n     * @param  {string|Object}      usernameOrData    Username or an object with username\n     *                                                and password properties.\n     * @param  {string}             [password]        Users password.\n     * @param  {Object}             [options={}]      Options\n     * @return {Promise<User>}                        The logged in user.\n     *\n     * @example\n     * var promise = user.login('username', 'password');\n     * promise.then(function(user) {\n     *   ...\n     * }).catch(function(error) {\n     *   ...\n     * });\n     */\n    value: function login(usernameOrData, password) {\n      var _this = this;\n\n      var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n      if (!(0, _isObject2.default)(usernameOrData)) {\n        usernameOrData = {\n          username: usernameOrData,\n          password: password\n        };\n      }\n\n      if (!usernameOrData._socialIdentity) {\n        if (usernameOrData.username) {\n          usernameOrData.username = String(usernameOrData.username).trim();\n        }\n\n        if (usernameOrData.password) {\n          usernameOrData.password = String(usernameOrData.password).trim();\n        }\n      }\n\n      var isActiveUser = this.isActive();\n      if (isActiveUser) {\n        return Promise.reject(new _errors.ActiveUserError('This user is already the active user.'));\n      }\n\n      var activeUser = User.getActiveUser(this.client);\n      if (activeUser) {\n        return Promise.reject(new _errors.ActiveUserError('An active user already exists. ' + 'Please logout the active user before you login.'));\n      }\n\n      if ((!usernameOrData.username || usernameOrData.username === '' || !usernameOrData.password || usernameOrData.password === '') && !usernameOrData[socialIdentityAttribute]) {\n        return Promise.reject(new _errors.KinveyError('Username and/or password missing. ' + 'Please provide both a username and password to login.'));\n      }\n\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.POST,\n        authType: _enums.AuthType.App,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname + '/login'\n        }),\n        data: usernameOrData,\n        properties: options.properties,\n        timeout: options.timeout\n      });\n\n      var promise = request.execute().then(function (response) {\n        _this.data = response.data;\n        return _this.setAsActiveUser();\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'loginWithIdentity',\n    value: function loginWithIdentity(identity, token, options) {\n      var data = { _socialIdentity: {} };\n      data._socialIdentity[identity] = token;\n      return this.login(data, options);\n    }\n  }, {\n    key: 'loginWithMIC',\n\n\n    /* eslint-disable max-len */\n    /**\n     * Login using Mobile Identity Connect.\n     *\n     * @param  {string}                 redirectUri                                                         The redirect uri used\n     *                                                                                                      for MIC logins.\n     * @param  {AuthorizationGrant}     [authorizationGrant=AuthoizationGrant.AuthorizationCodeLoginPage]   MIC authorization grant to use.\n     * @param  {Object}                 [options={}]                                                        Options\n     * @return {Promise<User>}                                                                              The logged in user.\n     *\n     * @example\n     * var promise = user.loginWithMIC('http://example.com');\n     * promise.then(function(user) {\n     *   ...\n     * }).catch(function(error) {\n     *   ...\n     * });\n     */\n    /* eslint-enable max-len */\n    value: function loginWithMIC(redirectUri, authorizationGrant) {\n      var _this2 = this;\n\n      var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n      var mic = new _mic.MobileIdentityConnect(this.client);\n      return mic.login(redirectUri, authorizationGrant, options).then(function (token) {\n        options.redirectUri = redirectUri;\n        options.client = (0, _result2.default)(mic.client, 'toJSON', mic.client);\n        return _this2.connect(_mic.MobileIdentityConnect.identity, token, options);\n      });\n    }\n\n    /**\n     * Logout the user. If the user was the active user then the active user will be set to null.\n     *\n     * @param  {Object}         [options={}]    Options\n     * @return {Promise<User>}                  The logged out user.\n     *\n     * @example\n     * var promise = user.logout();\n     * promise.then(function(user) {\n     *   ...\n     * }).catch(function(error) {\n     *   ...\n     * });\n     */\n\n  }, {\n    key: 'logout',\n    value: function logout() {\n      var _this3 = this;\n\n      var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      var isActive = this.isActive();\n\n      if (!isActive) {\n        return null;\n      }\n\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.POST,\n        authType: _enums.AuthType.Session,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: '/' + usersNamespace + '/' + this.client.appKey + '/_logout'\n        }),\n        properties: options.properties,\n        timeout: options.timeout\n      });\n\n      var promise = request.execute().catch(function () {\n        return null;\n      }).then(function () {\n        var isActive = _this3.isActive();\n\n        if (isActive) {\n          return User.setActiveUser(null, _this3.client);\n        }\n      }).then(function () {\n        return _this3;\n      });\n\n      return promise;\n    }\n\n    /**\n     * @private\n     * Returns true or false if identity connect is supported.\n     *\n     * @return {Boolean}  True or false if identity connect is supported.\n     *\n     * @example\n     * var isIdentitySupported = user.isIdentitySupported('identity');\n     */\n\n  }, {\n    key: 'connectWithIdentity',\n\n\n    /* eslint-disable max-len */\n    /**\n     * Connect using an identity (Facebook, Google, LinkedIn etc.).\n     *\n     * @param  {SocialIdentity|string}         identity                                Identity used to connect the user.\n     * @param  {Object}                        [options={}]                            Options\n     * @param  {string}                        [options.collectionName='Identities']   Collection name to use to lookup credentials\n     *                                                                                 for the identity.\n     * @return {Promise<User>}                                                         The connected user.\n     *\n     * @example\n     * var promise = user.connectWithIdentity(SocialIdentity.Facebook);\n     * promise.then(function(user) {\n     *   ...\n     * }).catch(function(error) {\n     *   ...\n     * });\n     */\n    /* eslint-enable max-len */\n    value: function connectWithIdentity(identity) {\n      var _this4 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      options = (0, _assign2.default)({\n        collectionName: 'Identities'\n      }, options);\n\n      var promise = Promise.resolve().then0(function () {\n        if (!identity) {\n          throw new _errors.KinveyError('An identity is required to connect the user.');\n        }\n\n        if (!User.isIdentitySupported(identity)) {\n          throw new _errors.KinveyError('Identity ' + identity + ' is not supported on this platform.');\n        }\n\n        var query = new _query.Query().equalTo('identity', identity);\n        var request = new _network.NetworkRequest({\n          method: _enums.HttpMethod.GET,\n          authType: _enums.AuthType.Default,\n          url: _url2.default.format({\n            protocol: _this4.client.protocol,\n            host: _this4.client.hose,\n            pathanme: '/' + appdataNamespace + '/' + _this4.client.appKey + '/' + options.collectionName\n          }),\n          query: query,\n          properties: options.properties,\n          timeout: options.timeout\n        });\n        return request.execute();\n      }).then(function (response) {\n        if (response.data.length === 1) {\n          var helloSettings = {};\n          helloSettings[identity] = response.data[0].key || response.data[0].appId || response.data[0].clientId;\n          hello.init(helloSettings);\n          return hello(identity).login();\n        }\n\n        throw new _errors.KinveyError('Unsupported identity.');\n      }).then(function () {\n        var authResponse = hello(identity).getAuthResponse();\n        return _this4.connect(identity, authResponse, options);\n      });\n\n      return promise;\n    }\n\n    /**\n     * @private\n     *\n     * Connects with the provided accessToken and identity.\n     *\n     * @param  {SocialIdentity|string}         identity      Identity used to connect the user.\n     * @param  {string}                        accessToken   Access token for the identity.\n     * @param  {number}                        [expiresIn]   Time in seconds for how long the access token is valid.\n     * @param  {Object}                        [options={}]  Options\n     * @return {Promise<User>}                               The connected user.\n     *\n     * @example\n     * var token = {\n     *   access_token: 'access_token',\n     *   refresh_token: 'refresh_token',\n     *   expires_in: 3600\n     * };\n     * var promise = user.connect(SocialIdentity.Facebook, token);\n     * promise.then(function(user) {\n     *   ...\n     * }).catch(function(error) {\n     *   ...\n     * });\n     */\n\n  }, {\n    key: 'connect',\n    value: function connect(identity, token) {\n      var _this5 = this;\n\n      var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n      var data = this.data;\n      var socialIdentity = data[socialIdentityAttribute] || {};\n      socialIdentity[identity] = token;\n      data[socialIdentityAttribute] = socialIdentity;\n      this.data = data;\n\n      var promise = Promise.resolve().then(function () {\n        var isActive = _this5.isActive();\n\n        if (isActive) {\n          options._identity = identity;\n          return _this5.update(data, options);\n        }\n\n        return _this5.login(data, null, options);\n      }).catch(function (err) {\n        if (err instanceof _errors.NotFoundError) {\n          return _this5.signup(data, options).then0(function () {\n            return _this5.connect(identity, token, options);\n          });\n        }\n\n        throw err;\n      }).then(function () {\n        _this5.client.setActiveSocialIdentity({\n          identity: identity,\n          token: _this5._socialIdentity[identity],\n          redirectUri: options.redirectUri,\n          client: options.client\n        });\n        return _this5;\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'disconnect',\n    value: function disconnect(identity) {\n      var _this6 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var data = this.data;\n      var socialIdentity = data[socialIdentityAttribute] || {};\n      delete socialIdentity[identity];\n      data[socialIdentityAttribute] = socialIdentity;\n      this.data = data;\n\n      var promise = Promise.resolve().then0(function () {\n        if (!_this6._id) {\n          return _this6;\n        }\n\n        return _this6.update(data, options);\n      }).then(function () {\n        var activeSocialIdentity = _this6.client.getActiveSocialIdentity();\n\n        if (activeSocialIdentity.identity === identity) {\n          _this6.client.setActiveSocialIdentity(null);\n        }\n\n        return _this6;\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'signup',\n\n\n    /**\n     * Sign up. If options.state is set to true then the user\n     * will be set as the active user after succesfully signing up the\n     * user.\n     *\n     * @param  {User|Object}    data                    Users data.\n     * @param  {Object}         [options={}]            Options\n     * @param  {Boolean}        [options.state=true]    If set to true, the user will be\n     *                                                  set as the active user after successfully\n     *                                                  being signed up.\n     * @return {Promise<User>}                          The signed up user.\n     *\n     * @example\n     * var promise = user.signup({\n     *   username: 'admin',\n     *   password: 'admin'\n     * });\n     * promise.then(function(user) {\n     *   ...\n     * }).catch(function(error) {\n     *   ...\n     * });\n     */\n    value: function signup(data) {\n      var _this7 = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      options = (0, _assign2.default)({\n        state: true\n      }, options);\n\n      var promise = Promise.resolve().then0(function () {\n        if (options.state === true) {\n          var activeUser = User.getActiveUser(_this7.client);\n          if (activeUser) {\n            throw new _errors.ActiveUserError('An active user already exists. ' + 'Please logout the active user before you login.');\n          }\n        }\n      }).then0(function () {\n        var request = new _network.NetworkRequest({\n          method: _enums.HttpMethod.POST,\n          authType: _enums.AuthType.App,\n          url: _url2.default.format({\n            protocol: _this7.client.protocol,\n            host: _this7.client.host,\n            pathname: '/' + usersNamespace + '/' + _this7.client.appKey\n          }),\n          data: (0, _result2.default)(data, 'toJSON', data),\n          properties: options.properties,\n          timeout: options.timeout\n        });\n        return request.execute();\n      }).then(function (response) {\n        _this7.data = response.data;\n\n        if (options.state === true) {\n          return _this7.setAsActiveUser();\n        }\n\n        return _this7;\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'signupWithIdentity',\n    value: function signupWithIdentity(identity, tokens, options) {\n      var data = { _socialIdentity: {} };\n      data._socialIdentity[identity] = tokens;\n      return this.signup(data, options);\n    }\n  }, {\n    key: 'update',\n    value: function update(data, options) {\n      var _this8 = this;\n\n      var userStore = _datastore.DataStore.getInstance(null, _datastore.DataStoreType.User);\n      return userStore.save(data, options).then(function (data) {\n        _this8.data = data;\n\n        if (_this8.isActive()) {\n          return _this8.setAsActiveUser();\n        }\n\n        return _this8;\n      });\n    }\n  }, {\n    key: 'me',\n    value: function me() {\n      var _this9 = this;\n\n      var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.GET,\n        authType: _enums.AuthType.Session,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: '/' + usersNamespace + '/' + this.client.appKey + '/_me'\n        }),\n        properties: options.properties,\n        timeout: options.timeout\n      });\n\n      var promise = request.execute().then(function (response) {\n        _this9.data = response.data;\n\n        if (!_this9.authtoken) {\n          var activeUser = User.getActiveUser(_this9.client);\n\n          if (activeUser) {\n            _this9.authtoken = activeUser.authtoken;\n          }\n        }\n\n        return _this9.setAsActiveUser();\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'verifyEmail',\n    value: function verifyEmail() {\n      var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.POST,\n        authType: _enums.AuthType.App,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: '/' + rpcNamespace + '/' + this.client.appKey + '/' + this.username + '/user-email-verification-initiate'\n        }),\n        properties: options.properties,\n        timeout: options.timeout,\n        client: this.client\n      });\n\n      var promise = request.execute().then(function (response) {\n        return response.data;\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'forgotUsername',\n    value: function forgotUsername() {\n      var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.POST,\n        authType: _enums.AuthType.App,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: '/' + rpcNamespace + '/' + this.client.appKey + '/user-forgot-username'\n        }),\n        properties: options.properties,\n        data: { email: this.email },\n        timeout: options.timeout,\n        client: this.client\n      });\n\n      var promise = request.execute().then(function (response) {\n        return response.data;\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'resetPassword',\n    value: function resetPassword() {\n      var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.POST,\n        authType: _enums.AuthType.App,\n        url: _url2.default.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: '/' + rpcNamespace + '/' + this.client.appKey + '/' + this.username + '/user-password-reset-initiate'\n        }),\n        properties: options.properties,\n        timeout: options.timeout,\n        client: this.client\n      });\n\n      var promise = request.execute().then(function (response) {\n        return response.data;\n      });\n\n      return promise;\n    }\n\n    // refreshAuthToken(options = {}) {\n    //   const socialIdentity = this.data[socialIdentityAttribute];\n    //   const identity = socialIdentity.activeIdentity;\n    //   const token = socialIdentity[identity];\n    //   let promise;\n\n    //   switch (identity) {\n    //     case MobileIdentityConnect.identity:\n    //       const mic = new MobileIdentityConnect(this.client);\n    //       promise = mic.refresh(token, options);\n    //       break;\n    //     default:\n    //       promise = Promise.reject(new KinveyError(`Unable to refresh the auth token because ` +\n    //         `the ${identity} identity is not supported.`));\n    //   }\n\n    //   return promise.then(token => {\n    //     return this.connect(identity, token, options);\n    //   });\n    // }\n\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      return this.data;\n    }\n  }, {\n    key: '_id',\n    get: function get() {\n      return this.data[idAttribute];\n    }\n\n    /**\n     * The _acl for the user.\n     *\n     * @return {Acl} _acl\n     *\n     * @example\n     * var _acl = user._acl;\n     */\n\n  }, {\n    key: '_acl',\n    get: function get() {\n      return new _acl.Acl(this.data);\n    }\n\n    /**\n     * The metadata for the user.\n     *\n     * @return {Metadata} metadata\n     *\n     * @example\n     * var metadata = user.metadata;\n     */\n\n  }, {\n    key: 'metadata',\n    get: function get() {\n      return new _metadata.Metadata(this.data);\n    },\n    set: function set(metadata) {\n      this.data[kmdAttribute] = (0, _result2.default)(metadata, 'toJSON', metadata);\n    }\n\n    /**\n     * The _kmd for the user.\n     *\n     * @return {Metadata} _kmd\n     *\n     * @example\n     * var _kmd = user._kmd;\n     */\n\n  }, {\n    key: '_kmd',\n    get: function get() {\n      return this.metadata;\n    },\n    set: function set(kmd) {\n      this.metadata = kmd;\n    }\n  }, {\n    key: '_socialIdentity',\n    get: function get() {\n      return this.data[socialIdentityAttribute];\n    }\n\n    /**\n     * The auth token for the user.\n     *\n     * @return {?string} Auth token\n     *\n     * @example\n     * var authtoken = user.authtoken;\n     */\n\n  }, {\n    key: 'authtoken',\n    get: function get() {\n      return this.metadata.authtoken;\n    }\n\n    /**\n     * Set the auth token for the user.\n     *\n     * @param  {?string} authtoken Auth token\n     *\n     * @example\n     * user.authtoken = 'authtoken';\n     */\n    ,\n    set: function set(authtoken) {\n      var metadata = this.metadata;\n      metadata.authtoken = authtoken;\n      this.metadata = metadata;\n    }\n\n    /**\n     * The username for the user.\n     *\n     * @return {?string} Username\n     *\n     * @example\n     * var username = user.username;\n     */\n\n  }, {\n    key: 'username',\n    get: function get() {\n      return this.data[usernameAttribute];\n    }\n\n    /**\n     * The email for the user.\n     *\n     * @return {?string} Email\n     *\n     * @example\n     * var email = user.email;\n     */\n\n  }, {\n    key: 'email',\n    get: function get() {\n      return this.data[emailAttribute];\n    }\n  }, {\n    key: '_pathname',\n    get: function get() {\n      return '/' + usersNamespace + '/' + this.client.appKey;\n    }\n\n    /**\n     * Gets the active user. You can optionally provide a client\n     * to use to lookup the active user.\n     *\n     * @param  {Client}           [client=Client.sharedInstance()]   Client to use to set the active user.\n     * @return {Promise<User>}                                       The active user on the client. The\n     *                                                               active user could be null if one does\n     *                                                               not exist.\n     *\n     * @example\n     * var _id = user._id;\n     */\n\n  }], [{\n    key: 'getActiveUser',\n    value: function getActiveUser() {\n      var client = arguments.length <= 0 || arguments[0] === undefined ? _client.Client.sharedInstance() : arguments[0];\n\n      var data = client.getActiveUserData();\n      var user = null;\n\n      if (data) {\n        user = new User(data);\n        user.client = client;\n      }\n\n      return user;\n    }\n\n    /**\n     * Sets the active user. You can optionally provide a client to\n     * set the active user on. Only one active user per client is\n     * allowed.\n     *\n     * @param  {?(User|Object)}      [user]                               User to set as the active user.\n     * @param  {Client}              [client=Client.sharedInstance()]     The client to use to set the active user on.\n     * @return {Promise<User>}                                            The active user on the client. The active user\n     *                                                                    could be null if one does not exist.\n     *\n     * @example\n     * var user = new User();\n     * var promise = User.setActiveUser(user);\n     * promise.then(function(activeUser) {\n     *   ...\n     * }).catch(function(error) {\n     *   ...\n     * });\n     */\n\n  }, {\n    key: 'setActiveUser',\n    value: function setActiveUser(user) {\n      var client = arguments.length <= 1 || arguments[1] === undefined ? _client.Client.sharedInstance() : arguments[1];\n\n      var data = (0, _result2.default)(user, 'toJSON', user);\n      client.setActiveUserData(data);\n      return User.getActiveUser(client);\n    }\n  }, {\n    key: 'login',\n    value: function login(usernameOrData, password, options) {\n      var user = new User();\n      return user.login(usernameOrData, password, options);\n    }\n  }, {\n    key: 'loginWithIdentity',\n    value: function loginWithIdentity(identity, tokens, options) {\n      var user = new User();\n      return user.loginWithIdentity(identity, tokens, options);\n    }\n  }, {\n    key: 'loginWithMIC',\n    value: function loginWithMIC(redirectUri, authorizationGrant, options) {\n      var user = new User();\n      return user.loginWithMIC(redirectUri, authorizationGrant, options);\n    }\n  }, {\n    key: 'isIdentitySupported',\n    value: function isIdentitySupported(identity) {\n      return hello && supportedIdentities.indexOf(identity) !== -1;\n    }\n\n    /**\n     * Connect using Facebook.\n     *\n     * @param  {Object}         [options={}]  Options\n     * @return {Promise<User>}                The connected user.\n     *\n     * @example\n     * var promise = user.connectWithFacebook();\n     * promise.then(function(user) {\n     *   ...\n     * }).catch(function(error) {\n     *   ...\n     * });\n     */\n\n  }, {\n    key: 'connectWithFacebook',\n    value: function connectWithFacebook() {\n      var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      return User.connectWithIdentity(_enums.SocialIdentity.Facebook, options);\n    }\n\n    /**\n     * Connect using Google.\n     *\n     * @param  {Object}         [options={}]  Options\n     * @return {Promise<User>}                The connected user.\n     *\n     * @example\n     * var promise = user.connectWithGoogle();\n     * promise.then(function(user) {\n     *   ...\n     * }).catch(function(error) {\n     *   ...\n     * });\n     */\n\n  }, {\n    key: 'connectWithGoogle',\n    value: function connectWithGoogle() {\n      var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      return User.connectWithIdentity(_enums.SocialIdentity.Google, options);\n    }\n\n    /**\n     * Connect using LinkedIn.\n     *\n     * @param  {Object}         [options={}]  Options\n     * @return {Promise<User>}                The connected user.\n     *\n     * @example\n     * var promise = user.connectWithLinkedIn();\n     * promise.then(function(user) {\n     *   ...\n     * }).catch(function(error) {\n     *   ...\n     * });\n     */\n\n  }, {\n    key: 'connectWithLinkedIn',\n    value: function connectWithLinkedIn() {\n      var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      return User.connectWithIdentity(_enums.SocialIdentity.LinkedIn, options);\n    }\n  }, {\n    key: 'connectWithIdentity',\n    value: function connectWithIdentity(identity, options) {\n      var user = new User();\n      return user.connectWithIdentity(identity, options);\n    }\n  }, {\n    key: 'signup',\n    value: function signup(data, options) {\n      var user = new User();\n      return user.signup(data, options);\n    }\n  }, {\n    key: 'signupWithIdentity',\n    value: function signupWithIdentity(identity, tokens, options) {\n      var user = new User();\n      return user.signupWithIdentity(identity, tokens, options);\n    }\n  }]);\n\n  return User;\n}();\n\n}).call(this,require('_process'))\n\n},{\"./acl\":19,\"./client\":21,\"./enums\":23,\"./errors\":24,\"./metadata\":27,\"./mic\":28,\"./query\":29,\"./requests/network\":43,\"./stores/datastore\":48,\"_process\":249,\"hellojs\":12,\"lodash/assign\":200,\"lodash/isObject\":220,\"lodash/result\":238,\"url\":265}],55:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Device = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _object = require('./object');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * @private\n */\n\nvar Device = exports.Device = function () {\n  function Device() {\n    _classCallCheck(this, Device);\n  }\n\n  _createClass(Device, [{\n    key: 'toJSON',\n    value: function toJSON() {\n      throw new Error('method unsupported');\n    }\n  }]);\n\n  return Device;\n}();\n\nDevice.use = (0, _object.use)(['toJSON']);\n\n},{\"./object\":56}],56:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.nested = nested;\nexports.isDefined = isDefined;\nexports.use = use;\n\nvar _forEach = require('lodash/forEach');\n\nvar _forEach2 = _interopRequireDefault(_forEach);\n\nvar _isFunction = require('lodash/isFunction');\n\nvar _isFunction2 = _interopRequireDefault(_isFunction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n */\nfunction nested(obj, dotProperty, value) {\n  if (!dotProperty) {\n    obj = value ? value : obj;\n    return obj;\n  }\n\n  var parts = dotProperty.split('.');\n  var current = parts.shift();\n  while (current && obj) {\n    obj = obj[current];\n    current = parts.shift();\n  }\n\n  return value ? value : obj;\n}\n\n/**\n * @private\n */\nfunction isDefined(obj) {\n  return obj !== undefined && obj !== null;\n}\n\n/**\n * @private\n */\nfunction use(nsInterface) {\n  return function () {\n    var _this = this;\n\n    var adapter = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    (0, _forEach2.default)(nsInterface, function (methodName) {\n      if ((0, _isFunction2.default)(adapter[methodName])) {\n        _this.prototype[methodName] = function () {\n          return adapter[methodName].apply(this, arguments);\n        };\n      }\n    });\n  };\n}\n\n},{\"lodash/forEach\":206,\"lodash/isFunction\":216}],57:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Popup = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _events = require('events');\n\nvar _object = require('./object');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * @private\n */\n\nvar Popup = exports.Popup = function (_EventEmitter) {\n  _inherits(Popup, _EventEmitter);\n\n  function Popup() {\n    var url = arguments.length <= 0 || arguments[0] === undefined ? '/' : arguments[0];\n\n    _classCallCheck(this, Popup);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Popup).call(this));\n\n    _this.url = url;\n    return _this;\n  }\n\n  _createClass(Popup, [{\n    key: 'open',\n    value: function open() {\n      throw new Error('method unsupported');\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      throw new Error('method unsupported');\n    }\n  }, {\n    key: 'loadHandler',\n    value: function loadHandler() {\n      throw new Error('method unsupported');\n    }\n  }, {\n    key: 'clickHandler',\n    value: function clickHandler() {\n      throw new Error('method unsupported');\n    }\n  }, {\n    key: 'closeHandler',\n    value: function closeHandler() {\n      throw new Error('method unsupported');\n    }\n  }]);\n\n  return Popup;\n}(_events.EventEmitter);\n\nPopup.use = (0, _object.use)(['open', 'close', 'loadHandler', 'clickHandler', 'closeHandler']);\n\n},{\"./object\":56,\"events\":8}],58:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.byteCount = byteCount;\nexports.randomString = randomString;\n\nvar _uid = require('uid');\n\nvar _uid2 = _interopRequireDefault(_uid);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @private\n */\nfunction byteCount(str) {\n  var count = 0;\n  var stringLength = str.length;\n  str = String(str || '');\n\n  for (var i = 0; i < stringLength; i++) {\n    var partCount = encodeURI(str[i]).split('%').length;\n    count += partCount === 1 ? 1 : partCount - 1;\n  }\n\n  return count;\n}\n\nfunction randomString(size) {\n  var prefix = arguments.length <= 1 || arguments[1] === undefined ? '' : arguments[1];\n\n  return '' + prefix + (0, _uid2.default)(size);\n}\n\n},{\"uid\":263}],59:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar stub = require('./stub');\nvar tracking = require('./tracking');\nvar ls = 'localStorage' in global && global.localStorage ? global.localStorage : stub;\n\nfunction accessor (key, value) {\n  if (arguments.length === 1) {\n    return get(key);\n  }\n  return set(key, value);\n}\n\nfunction get (key) {\n  return JSON.parse(ls.getItem(key));\n}\n\nfunction set (key, value) {\n  try {\n    ls.setItem(key, JSON.stringify(value));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction remove (key) {\n  return ls.removeItem(key);\n}\n\nfunction clear () {\n  return ls.clear();\n}\n\naccessor.set = set;\naccessor.get = get;\naccessor.remove = remove;\naccessor.clear = clear;\naccessor.on = tracking.on;\naccessor.off = tracking.off;\n\nmodule.exports = accessor;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./stub\":60,\"./tracking\":61}],60:[function(require,module,exports){\n'use strict';\n\nvar ms = {};\n\nfunction getItem (key) {\n  return key in ms ? ms[key] : null;\n}\n\nfunction setItem (key, value) {\n  ms[key] = value;\n  return true;\n}\n\nfunction removeItem (key) {\n  var found = key in ms;\n  if (found) {\n    return delete ms[key];\n  }\n  return false;\n}\n\nfunction clear () {\n  ms = {};\n  return true;\n}\n\nmodule.exports = {\n  getItem: getItem,\n  setItem: setItem,\n  removeItem: removeItem,\n  clear: clear\n};\n\n},{}],61:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar listeners = {};\nvar listening = false;\n\nfunction listen () {\n  if (global.addEventListener) {\n    global.addEventListener('storage', change, false);\n  } else if (global.attachEvent) {\n    global.attachEvent('onstorage', change);\n  } else {\n    global.onstorage = change;\n  }\n}\n\nfunction change (e) {\n  if (!e) {\n    e = global.event;\n  }\n  var all = listeners[e.key];\n  if (all) {\n    all.forEach(fire);\n  }\n\n  function fire (listener) {\n    listener(JSON.parse(e.newValue), JSON.parse(e.oldValue), e.url || e.uri);\n  }\n}\n\nfunction on (key, fn) {\n  if (listeners[key]) {\n    listeners[key].push(fn);\n  } else {\n    listeners[key] = [fn];\n  }\n  if (listening === false) {\n    listen();\n  }\n}\n\nfunction off (key, fn) {\n  var ns = listeners[key];\n  if (ns.length > 1) {\n    ns.splice(ns.indexOf(fn), 1);\n  } else {\n    listeners[key] = [];\n  }\n}\n\nmodule.exports = {\n  on: on,\n  off: off\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],62:[function(require,module,exports){\nvar nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Creates an hash object.\n *\n * @private\n * @constructor\n * @returns {Object} Returns the new hash object.\n */\nfunction Hash() {}\n\n// Avoid inheriting from `Object.prototype` when possible.\nHash.prototype = nativeCreate ? nativeCreate(null) : objectProto;\n\nmodule.exports = Hash;\n\n},{\"./_nativeCreate\":185}],63:[function(require,module,exports){\nvar baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/**\n * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n *\n * @private\n * @constructor\n * @param {*} value The value to wrap.\n */\nfunction LazyWrapper(value) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__dir__ = 1;\n  this.__filtered__ = false;\n  this.__iteratees__ = [];\n  this.__takeCount__ = MAX_ARRAY_LENGTH;\n  this.__views__ = [];\n}\n\nLazyWrapper.prototype = baseCreate(baseLodash.prototype);\nLazyWrapper.prototype.constructor = LazyWrapper;\n\nmodule.exports = LazyWrapper;\n\n},{\"./_baseCreate\":93,\"./_baseLodash\":108}],64:[function(require,module,exports){\nvar baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/**\n * The base constructor for creating `lodash` wrapper objects.\n *\n * @private\n * @param {*} value The value to wrap.\n * @param {boolean} [chainAll] Enable chaining for all wrapper methods.\n */\nfunction LodashWrapper(value, chainAll) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__chain__ = !!chainAll;\n  this.__index__ = 0;\n  this.__values__ = undefined;\n}\n\nLodashWrapper.prototype = baseCreate(baseLodash.prototype);\nLodashWrapper.prototype.constructor = LodashWrapper;\n\nmodule.exports = LodashWrapper;\n\n},{\"./_baseCreate\":93,\"./_baseLodash\":108}],65:[function(require,module,exports){\nvar getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n\n},{\"./_getNative\":155,\"./_root\":190}],66:[function(require,module,exports){\nvar mapClear = require('./_mapClear'),\n    mapDelete = require('./_mapDelete'),\n    mapGet = require('./_mapGet'),\n    mapHas = require('./_mapHas'),\n    mapSet = require('./_mapSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction MapCache(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = values[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add functions to the `MapCache`.\nMapCache.prototype.clear = mapClear;\nMapCache.prototype['delete'] = mapDelete;\nMapCache.prototype.get = mapGet;\nMapCache.prototype.has = mapHas;\nMapCache.prototype.set = mapSet;\n\nmodule.exports = MapCache;\n\n},{\"./_mapClear\":177,\"./_mapDelete\":178,\"./_mapGet\":179,\"./_mapHas\":180,\"./_mapSet\":181}],67:[function(require,module,exports){\nvar root = require('./_root');\n\n/** Built-in value references. */\nvar Reflect = root.Reflect;\n\nmodule.exports = Reflect;\n\n},{\"./_root\":190}],68:[function(require,module,exports){\nvar getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n\n},{\"./_getNative\":155,\"./_root\":190}],69:[function(require,module,exports){\nvar stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction Stack(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = values[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add functions to the `Stack` cache.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n\n},{\"./_stackClear\":193,\"./_stackDelete\":194,\"./_stackGet\":195,\"./_stackHas\":196,\"./_stackSet\":197}],70:[function(require,module,exports){\nvar root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n\n},{\"./_root\":190}],71:[function(require,module,exports){\nvar root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n\n},{\"./_root\":190}],72:[function(require,module,exports){\nvar getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n\n},{\"./_getNative\":155,\"./_root\":190}],73:[function(require,module,exports){\n/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `Map#set` because it doesn't return the map instance in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\nmodule.exports = addMapEntry;\n\n},{}],74:[function(require,module,exports){\n/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  set.add(value);\n  return set;\n}\n\nmodule.exports = addSetEntry;\n\n},{}],75:[function(require,module,exports){\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {...*} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  var length = args.length;\n  switch (length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n\n},{}],76:[function(require,module,exports){\n/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n\n},{}],77:[function(require,module,exports){\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n\n},{}],78:[function(require,module,exports){\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n\n},{}],79:[function(require,module,exports){\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayReduce;\n\n},{}],80:[function(require,module,exports){\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check, else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n\n},{}],81:[function(require,module,exports){\nvar eq = require('./eq');\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (typeof key == 'number' && value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\nmodule.exports = assignMergeValue;\n\n},{\"./eq\":203}],82:[function(require,module,exports){\nvar eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\nmodule.exports = assignValue;\n\n},{\"./eq\":203}],83:[function(require,module,exports){\nvar assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the associative array.\n *\n * @private\n * @param {Array} array The array to query.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction assocDelete(array, key) {\n  var index = assocIndexOf(array, key);\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = array.length - 1;\n  if (index == lastIndex) {\n    array.pop();\n  } else {\n    splice.call(array, index, 1);\n  }\n  return true;\n}\n\nmodule.exports = assocDelete;\n\n},{\"./_assocIndexOf\":86}],84:[function(require,module,exports){\nvar assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the associative array value for `key`.\n *\n * @private\n * @param {Array} array The array to query.\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction assocGet(array, key) {\n  var index = assocIndexOf(array, key);\n  return index < 0 ? undefined : array[index][1];\n}\n\nmodule.exports = assocGet;\n\n},{\"./_assocIndexOf\":86}],85:[function(require,module,exports){\nvar assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if an associative array value for `key` exists.\n *\n * @private\n * @param {Array} array The array to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction assocHas(array, key) {\n  return assocIndexOf(array, key) > -1;\n}\n\nmodule.exports = assocHas;\n\n},{\"./_assocIndexOf\":86}],86:[function(require,module,exports){\nvar eq = require('./eq');\n\n/**\n * Gets the index at which the first occurrence of `key` is found in `array`\n * of key-value pairs.\n *\n * @private\n * @param {Array} array The array to search.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n\n},{\"./eq\":203}],87:[function(require,module,exports){\nvar assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the associative array `key` to `value`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n */\nfunction assocSet(array, key, value) {\n  var index = assocIndexOf(array, key);\n  if (index < 0) {\n    array.push([key, value]);\n  } else {\n    array[index][1] = value;\n  }\n}\n\nmodule.exports = assocSet;\n\n},{\"./_assocIndexOf\":86}],88:[function(require,module,exports){\nvar baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n\n},{\"./_baseEach\":94}],89:[function(require,module,exports){\nvar copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n\n},{\"./_copyObject\":133,\"./keys\":228}],90:[function(require,module,exports){\nvar identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the array-like object.\n */\nfunction baseCastFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = baseCastFunction;\n\n},{\"./identity\":209}],91:[function(require,module,exports){\nvar isArray = require('./isArray'),\n    stringToPath = require('./_stringToPath');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction baseCastPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\nmodule.exports = baseCastPath;\n\n},{\"./_stringToPath\":198,\"./isArray\":211}],92:[function(require,module,exports){\nvar Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignValue = require('./_assignValue'),\n    baseAssign = require('./_baseAssign'),\n    baseForOwn = require('./_baseForOwn'),\n    cloneBuffer = require('./_cloneBuffer'),\n    copyArray = require('./_copyArray'),\n    copySymbols = require('./_copySymbols'),\n    getTag = require('./_getTag'),\n    initCloneArray = require('./_initCloneArray'),\n    initCloneByTag = require('./_initCloneByTag'),\n    initCloneObject = require('./_initCloneObject'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isHostObject = require('./_isHostObject'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[boolTag] =\ncloneableTags[dateTag] = cloneableTags[float32Tag] =\ncloneableTags[float64Tag] = cloneableTags[int8Tag] =\ncloneableTags[int16Tag] = cloneableTags[int32Tag] =\ncloneableTags[mapTag] = cloneableTags[numberTag] =\ncloneableTags[objectTag] = cloneableTags[regexpTag] =\ncloneableTags[setTag] = cloneableTags[stringTag] =\ncloneableTags[symbolTag] = cloneableTags[uint8Tag] =\ncloneableTags[uint8ClampedTag] = cloneableTags[uint16Tag] =\ncloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        result = baseAssign(result, value);\n        return isFull ? copySymbols(value, result) : result;\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  // Recursively populate clone (susceptible to call stack limits).\n  (isArr ? arrayEach : baseForOwn)(value, function(subValue, key) {\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return (isFull && !isArr) ? copySymbols(value, result) : result;\n}\n\nmodule.exports = baseClone;\n\n},{\"./_Stack\":69,\"./_arrayEach\":77,\"./_assignValue\":82,\"./_baseAssign\":89,\"./_baseForOwn\":98,\"./_cloneBuffer\":124,\"./_copyArray\":132,\"./_copySymbols\":135,\"./_getTag\":158,\"./_initCloneArray\":165,\"./_initCloneByTag\":166,\"./_initCloneObject\":167,\"./_isHostObject\":168,\"./isArray\":211,\"./isBuffer\":214,\"./isObject\":220}],93:[function(require,module,exports){\nvar isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\nmodule.exports = baseCreate;\n\n},{\"./isObject\":220}],94:[function(require,module,exports){\nvar baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n\n},{\"./_baseForOwn\":98,\"./_createBaseEach\":139}],95:[function(require,module,exports){\n/**\n * The base implementation of methods like `_.find` and `_.findKey`, without\n * support for iteratee shorthands, which iterates over `collection` using\n * `eachFunc`.\n *\n * @private\n * @param {Array|Object} collection The collection to search.\n * @param {Function} predicate The function invoked per iteration.\n * @param {Function} eachFunc The function to iterate over `collection`.\n * @param {boolean} [retKey] Specify returning the key of the found element instead of the element itself.\n * @returns {*} Returns the found element or its key, else `undefined`.\n */\nfunction baseFind(collection, predicate, eachFunc, retKey) {\n  var result;\n  eachFunc(collection, function(value, key, collection) {\n    if (predicate(value, key, collection)) {\n      result = retKey ? key : value;\n      return false;\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFind;\n\n},{}],96:[function(require,module,exports){\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to search.\n * @param {Function} predicate The function invoked per iteration.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromRight) {\n  var length = array.length,\n      index = fromRight ? length : -1;\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n\n},{}],97:[function(require,module,exports){\nvar createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForIn` and `baseForOwn` which iterates\n * over `object` properties returned by `keysFunc` invoking `iteratee` for\n * each property. Iteratee functions may exit iteration early by explicitly\n * returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n\n},{\"./_createBaseFor\":140}],98:[function(require,module,exports){\nvar baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n\n},{\"./_baseFor\":97,\"./keys\":228}],99:[function(require,module,exports){\nvar baseCastPath = require('./_baseCastPath'),\n    isKey = require('./_isKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path + ''] : baseCastPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[path[index++]];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n\n},{\"./_baseCastPath\":91,\"./_isKey\":171}],100:[function(require,module,exports){\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar getPrototypeOf = Object.getPrototypeOf;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  // Avoid a bug in IE 10-11 where objects with a [[Prototype]] of `null`,\n  // that are composed entirely of index properties, return `false` for\n  // `hasOwnProperty` checks of them.\n  return hasOwnProperty.call(object, key) ||\n    (typeof object == 'object' && key in object && getPrototypeOf(object) === null);\n}\n\nmodule.exports = baseHas;\n\n},{}],101:[function(require,module,exports){\n/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n\n},{}],102:[function(require,module,exports){\nvar baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObject = require('./isObject'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {boolean} [bitmask] The bitmask of comparison flags.\n *  The bitmask may be composed of the following flags:\n *     1 - Unordered comparison\n *     2 - Partial comparison\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, customizer, bitmask, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, baseIsEqual, customizer, bitmask, stack);\n}\n\nmodule.exports = baseIsEqual;\n\n},{\"./_baseIsEqualDeep\":103,\"./isObject\":220,\"./isObjectLike\":221}],103:[function(require,module,exports){\nvar Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isHostObject = require('./_isHostObject'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for comparison styles. */\nvar PARTIAL_COMPARE_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {number} [bitmask] The bitmask of comparison flags. See `baseIsEqual` for more details.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, equalFunc, customizer, bitmask, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = arrayTag,\n      othTag = arrayTag;\n\n  if (!objIsArr) {\n    objTag = getTag(object);\n    objTag = objTag == argsTag ? objectTag : objTag;\n  }\n  if (!othIsArr) {\n    othTag = getTag(other);\n    othTag = othTag == argsTag ? objectTag : othTag;\n  }\n  var objIsObj = objTag == objectTag && !isHostObject(object),\n      othIsObj = othTag == objectTag && !isHostObject(other),\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, equalFunc, customizer, bitmask, stack)\n      : equalByTag(object, other, objTag, equalFunc, customizer, bitmask, stack);\n  }\n  if (!(bitmask & PARTIAL_COMPARE_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      stack || (stack = new Stack);\n      return equalFunc(objIsWrapped ? object.value() : object, othIsWrapped ? other.value() : other, customizer, bitmask, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, equalFunc, customizer, bitmask, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n\n},{\"./_Stack\":69,\"./_equalArrays\":148,\"./_equalByTag\":149,\"./_equalObjects\":150,\"./_getTag\":158,\"./_isHostObject\":168,\"./isArray\":211,\"./isTypedArray\":226}],104:[function(require,module,exports){\nvar Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for comparison styles. */\nvar UNORDERED_COMPARE_FLAG = 1,\n    PARTIAL_COMPARE_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack,\n          result = customizer ? customizer(objValue, srcValue, key, object, source, stack) : undefined;\n\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, customizer, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n\n},{\"./_Stack\":69,\"./_baseIsEqual\":102}],105:[function(require,module,exports){\nvar baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  var type = typeof value;\n  if (type == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (type == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n\n},{\"./_baseMatches\":110,\"./_baseMatchesProperty\":111,\"./identity\":209,\"./isArray\":211,\"./property\":235}],106:[function(require,module,exports){\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = Object.keys;\n\n/**\n * The base implementation of `_.keys` which doesn't skip the constructor\n * property of prototypes or treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  return nativeKeys(Object(object));\n}\n\nmodule.exports = baseKeys;\n\n},{}],107:[function(require,module,exports){\nvar Reflect = require('./_Reflect'),\n    iteratorToArray = require('./_iteratorToArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar enumerate = Reflect ? Reflect.enumerate : undefined,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * The base implementation of `_.keysIn` which doesn't skip the constructor\n * property of prototypes or treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  object = object == null ? object : Object(object);\n\n  var result = [];\n  for (var key in object) {\n    result.push(key);\n  }\n  return result;\n}\n\n// Fallback for IE < 9 with es6-shim.\nif (enumerate && !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf')) {\n  baseKeysIn = function(object) {\n    return iteratorToArray(enumerate(object));\n  };\n}\n\nmodule.exports = baseKeysIn;\n\n},{\"./_Reflect\":67,\"./_iteratorToArray\":176}],108:[function(require,module,exports){\n/**\n * The function whose prototype all chaining wrappers inherit from.\n *\n * @private\n */\nfunction baseLodash() {\n  // No operation performed.\n}\n\nmodule.exports = baseLodash;\n\n},{}],109:[function(require,module,exports){\nvar baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n\n},{\"./_baseEach\":94,\"./isArrayLike\":212}],110:[function(require,module,exports){\nvar baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    var key = matchData[0][0],\n        value = matchData[0][1];\n\n    return function(object) {\n      if (object == null) {\n        return false;\n      }\n      return object[key] === value &&\n        (value !== undefined || (key in Object(object)));\n    };\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n\n},{\"./_baseIsMatch\":104,\"./_getMatchData\":154}],111:[function(require,module,exports){\nvar baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn');\n\n/** Used to compose bitmasks for comparison styles. */\nvar UNORDERED_COMPARE_FLAG = 1,\n    PARTIAL_COMPARE_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, undefined, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n\n},{\"./_baseIsEqual\":102,\"./get\":207,\"./hasIn\":208}],112:[function(require,module,exports){\nvar Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignMergeValue = require('./_assignMergeValue'),\n    baseMergeDeep = require('./_baseMergeDeep'),\n    isArray = require('./isArray'),\n    isObject = require('./isObject'),\n    isTypedArray = require('./isTypedArray'),\n    keysIn = require('./keysIn');\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  var props = (isArray(source) || isTypedArray(source))\n    ? undefined\n    : keysIn(source);\n\n  arrayEach(props || source, function(srcValue, key) {\n    if (props) {\n      key = srcValue;\n      srcValue = source[key];\n    }\n    if (isObject(srcValue)) {\n      stack || (stack = new Stack);\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(object[key], srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  });\n}\n\nmodule.exports = baseMerge;\n\n},{\"./_Stack\":69,\"./_arrayEach\":77,\"./_assignMergeValue\":81,\"./_baseMergeDeep\":113,\"./isArray\":211,\"./isObject\":220,\"./isTypedArray\":226,\"./keysIn\":229}],113:[function(require,module,exports){\nvar assignMergeValue = require('./_assignMergeValue'),\n    baseClone = require('./_baseClone'),\n    copyArray = require('./_copyArray'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isPlainObject = require('./isPlainObject'),\n    isTypedArray = require('./isTypedArray'),\n    toPlainObject = require('./toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = object[key],\n      srcValue = source[key],\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    newValue = srcValue;\n    if (isArray(srcValue) || isTypedArray(srcValue)) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else {\n        isCommon = false;\n        newValue = baseClone(srcValue, !customizer);\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || (srcIndex && isFunction(objValue))) {\n        isCommon = false;\n        newValue = baseClone(srcValue, !customizer);\n      }\n      else {\n        newValue = objValue;\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  stack.set(srcValue, newValue);\n\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n  }\n  stack['delete'](srcValue);\n  assignMergeValue(object, key, newValue);\n}\n\nmodule.exports = baseMergeDeep;\n\n},{\"./_assignMergeValue\":81,\"./_baseClone\":92,\"./_copyArray\":132,\"./isArguments\":210,\"./isArray\":211,\"./isArrayLikeObject\":213,\"./isFunction\":216,\"./isObject\":220,\"./isPlainObject\":222,\"./isTypedArray\":226,\"./toPlainObject\":242}],114:[function(require,module,exports){\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n\n},{}],115:[function(require,module,exports){\nvar baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n\n},{\"./_baseGet\":99}],116:[function(require,module,exports){\n/**\n * The base implementation of `_.reduce` and `_.reduceRight`, without support\n * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} accumulator The initial value.\n * @param {boolean} initAccum Specify using the first or last element of `collection` as the initial value.\n * @param {Function} eachFunc The function to iterate over `collection`.\n * @returns {*} Returns the accumulated value.\n */\nfunction baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n  eachFunc(collection, function(value, index, collection) {\n    accumulator = initAccum\n      ? (initAccum = false, value)\n      : iteratee(accumulator, value, index, collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseReduce;\n\n},{}],117:[function(require,module,exports){\nvar identity = require('./identity'),\n    metaMap = require('./_metaMap');\n\n/**\n * The base implementation of `setData` without support for hot loop detection.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar baseSetData = !metaMap ? identity : function(func, data) {\n  metaMap.set(func, data);\n  return func;\n};\n\nmodule.exports = baseSetData;\n\n},{\"./_metaMap\":184,\"./identity\":209}],118:[function(require,module,exports){\n/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n\n},{}],119:[function(require,module,exports){\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n\n},{}],120:[function(require,module,exports){\nvar arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n * of key-value pairs for `object` corresponding to the property names of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the new array of key-value pairs.\n */\nfunction baseToPairs(object, props) {\n  return arrayMap(props, function(key) {\n    return [key, object[key]];\n  });\n}\n\nmodule.exports = baseToPairs;\n\n},{\"./_arrayMap\":78}],121:[function(require,module,exports){\nvar arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n\n},{\"./_arrayMap\":78}],122:[function(require,module,exports){\n/**\n * Checks if `value` is a global object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {null|Object} Returns `value` if it's a global object, else `null`.\n */\nfunction checkGlobal(value) {\n  return (value && value.Object === Object) ? value : null;\n}\n\nmodule.exports = checkGlobal;\n\n},{}],123:[function(require,module,exports){\nvar Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n\n},{\"./_Uint8Array\":71}],124:[function(require,module,exports){\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n\n},{}],125:[function(require,module,exports){\nvar addMapEntry = require('./_addMapEntry'),\n    arrayReduce = require('./_arrayReduce'),\n    mapToArray = require('./_mapToArray');\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map) {\n  return arrayReduce(mapToArray(map), addMapEntry, new map.constructor);\n}\n\nmodule.exports = cloneMap;\n\n},{\"./_addMapEntry\":73,\"./_arrayReduce\":79,\"./_mapToArray\":182}],126:[function(require,module,exports){\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nmodule.exports = cloneRegExp;\n\n},{}],127:[function(require,module,exports){\nvar addSetEntry = require('./_addSetEntry'),\n    arrayReduce = require('./_arrayReduce'),\n    setToArray = require('./_setToArray');\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set) {\n  return arrayReduce(setToArray(set), addSetEntry, new set.constructor);\n}\n\nmodule.exports = cloneSet;\n\n},{\"./_addSetEntry\":74,\"./_arrayReduce\":79,\"./_setToArray\":192}],128:[function(require,module,exports){\nvar Symbol = require('./_Symbol');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nmodule.exports = cloneSymbol;\n\n},{\"./_Symbol\":70}],129:[function(require,module,exports){\nvar cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n\n},{\"./_cloneArrayBuffer\":123}],130:[function(require,module,exports){\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array that is the composition of partially applied arguments,\n * placeholders, and provided arguments into a single array of arguments.\n *\n * @private\n * @param {Array|Object} args The provided arguments.\n * @param {Array} partials The arguments to prepend to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgs(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersLength = holders.length,\n      leftIndex = -1,\n      leftLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(leftLength + rangeLength),\n      isUncurried = !isCurried;\n\n  while (++leftIndex < leftLength) {\n    result[leftIndex] = partials[leftIndex];\n  }\n  while (++argsIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[holders[argsIndex]] = args[argsIndex];\n    }\n  }\n  while (rangeLength--) {\n    result[leftIndex++] = args[argsIndex++];\n  }\n  return result;\n}\n\nmodule.exports = composeArgs;\n\n},{}],131:[function(require,module,exports){\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This function is like `composeArgs` except that the arguments composition\n * is tailored for `_.partialRight`.\n *\n * @private\n * @param {Array|Object} args The provided arguments.\n * @param {Array} partials The arguments to append to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgsRight(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersIndex = -1,\n      holdersLength = holders.length,\n      rightIndex = -1,\n      rightLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(rangeLength + rightLength),\n      isUncurried = !isCurried;\n\n  while (++argsIndex < rangeLength) {\n    result[argsIndex] = args[argsIndex];\n  }\n  var offset = argsIndex;\n  while (++rightIndex < rightLength) {\n    result[offset + rightIndex] = partials[rightIndex];\n  }\n  while (++holdersIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[offset + holders[holdersIndex]] = args[argsIndex++];\n    }\n  }\n  return result;\n}\n\nmodule.exports = composeArgsRight;\n\n},{}],132:[function(require,module,exports){\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n\n},{}],133:[function(require,module,exports){\nvar copyObjectWith = require('./_copyObjectWith');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property names to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object) {\n  return copyObjectWith(source, props, object);\n}\n\nmodule.exports = copyObject;\n\n},{\"./_copyObjectWith\":134}],134:[function(require,module,exports){\nvar assignValue = require('./_assignValue');\n\n/**\n * This function is like `copyObject` except that it accepts a function to\n * customize copied values.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property names to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObjectWith(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : source[key];\n\n    assignValue(object, key, newValue);\n  }\n  return object;\n}\n\nmodule.exports = copyObjectWith;\n\n},{\"./_assignValue\":82}],135:[function(require,module,exports){\nvar copyObject = require('./_copyObject'),\n    getSymbols = require('./_getSymbols');\n\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nmodule.exports = copySymbols;\n\n},{\"./_copyObject\":133,\"./_getSymbols\":157}],136:[function(require,module,exports){\n/**\n * Gets the number of `placeholder` occurrences in `array`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} placeholder The placeholder to search for.\n * @returns {number} Returns the placeholder count.\n */\nfunction countHolders(array, placeholder) {\n  var length = array.length,\n      result = 0;\n\n  while (length--) {\n    if (array[length] === placeholder) {\n      result++;\n    }\n  }\n  return result;\n}\n\nmodule.exports = countHolders;\n\n},{}],137:[function(require,module,exports){\nvar arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n\n},{\"./_arrayAggregator\":76,\"./_baseAggregator\":88,\"./_baseIteratee\":105,\"./isArray\":211}],138:[function(require,module,exports){\nvar isIterateeCall = require('./_isIterateeCall'),\n    rest = require('./rest');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return rest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = typeof customizer == 'function'\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n\n},{\"./_isIterateeCall\":170,\"./rest\":237}],139:[function(require,module,exports){\nvar isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n\n},{\"./isArrayLike\":212}],140:[function(require,module,exports){\n/**\n * Creates a base function for methods like `_.forIn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n\n},{}],141:[function(require,module,exports){\nvar createCtorWrapper = require('./_createCtorWrapper'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the optional `this`\n * binding of `thisArg`.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask of wrapper flags. See `createWrapper` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createBaseWrapper(func, bitmask, thisArg) {\n  var isBind = bitmask & BIND_FLAG,\n      Ctor = createCtorWrapper(func);\n\n  function wrapper() {\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return fn.apply(isBind ? thisArg : this, arguments);\n  }\n  return wrapper;\n}\n\nmodule.exports = createBaseWrapper;\n\n},{\"./_createCtorWrapper\":142,\"./_root\":190}],142:[function(require,module,exports){\nvar baseCreate = require('./_baseCreate'),\n    isObject = require('./isObject');\n\n/**\n * Creates a function that produces an instance of `Ctor` regardless of\n * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n *\n * @private\n * @param {Function} Ctor The constructor to wrap.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCtorWrapper(Ctor) {\n  return function() {\n    // Use a `switch` statement to work with class constructors.\n    // See http://ecma-international.org/ecma-262/6.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n    // for more details.\n    var args = arguments;\n    switch (args.length) {\n      case 0: return new Ctor;\n      case 1: return new Ctor(args[0]);\n      case 2: return new Ctor(args[0], args[1]);\n      case 3: return new Ctor(args[0], args[1], args[2]);\n      case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n      case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n      case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n      case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n    }\n    var thisBinding = baseCreate(Ctor.prototype),\n        result = Ctor.apply(thisBinding, args);\n\n    // Mimic the constructor's `return` behavior.\n    // See https://es5.github.io/#x13.2.2 for more details.\n    return isObject(result) ? result : thisBinding;\n  };\n}\n\nmodule.exports = createCtorWrapper;\n\n},{\"./_baseCreate\":93,\"./isObject\":220}],143:[function(require,module,exports){\nvar apply = require('./_apply'),\n    createCtorWrapper = require('./_createCtorWrapper'),\n    createHybridWrapper = require('./_createHybridWrapper'),\n    createRecurryWrapper = require('./_createRecurryWrapper'),\n    getPlaceholder = require('./_getPlaceholder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/**\n * Creates a function that wraps `func` to enable currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask of wrapper flags. See `createWrapper` for more details.\n * @param {number} arity The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCurryWrapper(func, bitmask, arity) {\n  var Ctor = createCtorWrapper(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length,\n        placeholder = getPlaceholder(wrapper);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n      ? []\n      : replaceHolders(args, placeholder);\n\n    length -= holders.length;\n    if (length < arity) {\n      return createRecurryWrapper(\n        func, bitmask, createHybridWrapper, wrapper.placeholder, undefined,\n        args, holders, undefined, undefined, arity - length);\n    }\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return apply(fn, this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createCurryWrapper;\n\n},{\"./_apply\":75,\"./_createCtorWrapper\":142,\"./_createHybridWrapper\":144,\"./_createRecurryWrapper\":146,\"./_getPlaceholder\":156,\"./_replaceHolders\":189,\"./_root\":190}],144:[function(require,module,exports){\nvar composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    countHolders = require('./_countHolders'),\n    createCtorWrapper = require('./_createCtorWrapper'),\n    createRecurryWrapper = require('./_createRecurryWrapper'),\n    getPlaceholder = require('./_getPlaceholder'),\n    reorder = require('./_reorder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    BIND_KEY_FLAG = 2,\n    CURRY_FLAG = 8,\n    CURRY_RIGHT_FLAG = 16,\n    ARY_FLAG = 128,\n    FLIP_FLAG = 512;\n\n/**\n * Creates a function that wraps `func` to invoke it with optional `this`\n * binding of `thisArg`, partial application, and currying.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask of wrapper flags. See `createWrapper` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [partialsRight] The arguments to append to those provided to the new function.\n * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createHybridWrapper(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n  var isAry = bitmask & ARY_FLAG,\n      isBind = bitmask & BIND_FLAG,\n      isBindKey = bitmask & BIND_KEY_FLAG,\n      isCurried = bitmask & (CURRY_FLAG | CURRY_RIGHT_FLAG),\n      isFlip = bitmask & FLIP_FLAG,\n      Ctor = isBindKey ? undefined : createCtorWrapper(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        index = length,\n        args = Array(length);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    if (isCurried) {\n      var placeholder = getPlaceholder(wrapper),\n          holdersCount = countHolders(args, placeholder);\n    }\n    if (partials) {\n      args = composeArgs(args, partials, holders, isCurried);\n    }\n    if (partialsRight) {\n      args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n    }\n    length -= holdersCount;\n    if (isCurried && length < arity) {\n      var newHolders = replaceHolders(args, placeholder);\n      return createRecurryWrapper(\n        func, bitmask, createHybridWrapper, wrapper.placeholder, thisArg,\n        args, newHolders, argPos, ary, arity - length\n      );\n    }\n    var thisBinding = isBind ? thisArg : this,\n        fn = isBindKey ? thisBinding[func] : func;\n\n    length = args.length;\n    if (argPos) {\n      args = reorder(args, argPos);\n    } else if (isFlip && length > 1) {\n      args.reverse();\n    }\n    if (isAry && ary < length) {\n      args.length = ary;\n    }\n    if (this && this !== root && this instanceof wrapper) {\n      fn = Ctor || createCtorWrapper(fn);\n    }\n    return fn.apply(thisBinding, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createHybridWrapper;\n\n},{\"./_composeArgs\":130,\"./_composeArgsRight\":131,\"./_countHolders\":136,\"./_createCtorWrapper\":142,\"./_createRecurryWrapper\":146,\"./_getPlaceholder\":156,\"./_reorder\":188,\"./_replaceHolders\":189,\"./_root\":190}],145:[function(require,module,exports){\nvar apply = require('./_apply'),\n    createCtorWrapper = require('./_createCtorWrapper'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the optional `this`\n * binding of `thisArg` and the `partials` prepended to those provided to\n * the wrapper.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask of wrapper flags. See `createWrapper` for more details.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} partials The arguments to prepend to those provided to the new function.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createPartialWrapper(func, bitmask, thisArg, partials) {\n  var isBind = bitmask & BIND_FLAG,\n      Ctor = createCtorWrapper(func);\n\n  function wrapper() {\n    var argsIndex = -1,\n        argsLength = arguments.length,\n        leftIndex = -1,\n        leftLength = partials.length,\n        args = Array(leftLength + argsLength),\n        fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n    while (++leftIndex < leftLength) {\n      args[leftIndex] = partials[leftIndex];\n    }\n    while (argsLength--) {\n      args[leftIndex++] = arguments[++argsIndex];\n    }\n    return apply(fn, isBind ? thisArg : this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createPartialWrapper;\n\n},{\"./_apply\":75,\"./_createCtorWrapper\":142,\"./_root\":190}],146:[function(require,module,exports){\nvar copyArray = require('./_copyArray'),\n    isLaziable = require('./_isLaziable'),\n    setData = require('./_setData');\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    BIND_KEY_FLAG = 2,\n    CURRY_BOUND_FLAG = 4,\n    CURRY_FLAG = 8,\n    PARTIAL_FLAG = 32,\n    PARTIAL_RIGHT_FLAG = 64;\n\n/**\n * Creates a function that wraps `func` to continue currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask of wrapper flags. See `createWrapper` for more details.\n * @param {Function} wrapFunc The function to create the `func` wrapper.\n * @param {*} placeholder The placeholder value.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createRecurryWrapper(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n  var isCurry = bitmask & CURRY_FLAG,\n      newArgPos = argPos ? copyArray(argPos) : undefined,\n      newHolders = isCurry ? holders : undefined,\n      newHoldersRight = isCurry ? undefined : holders,\n      newPartials = isCurry ? partials : undefined,\n      newPartialsRight = isCurry ? undefined : partials;\n\n  bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n  bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n  if (!(bitmask & CURRY_BOUND_FLAG)) {\n    bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n  }\n  var newData = [\n    func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n    newHoldersRight, newArgPos, ary, arity\n  ];\n\n  var result = wrapFunc.apply(undefined, newData);\n  if (isLaziable(func)) {\n    setData(result, newData);\n  }\n  result.placeholder = placeholder;\n  return result;\n}\n\nmodule.exports = createRecurryWrapper;\n\n},{\"./_copyArray\":132,\"./_isLaziable\":173,\"./_setData\":191}],147:[function(require,module,exports){\nvar baseSetData = require('./_baseSetData'),\n    createBaseWrapper = require('./_createBaseWrapper'),\n    createCurryWrapper = require('./_createCurryWrapper'),\n    createHybridWrapper = require('./_createHybridWrapper'),\n    createPartialWrapper = require('./_createPartialWrapper'),\n    getData = require('./_getData'),\n    mergeData = require('./_mergeData'),\n    setData = require('./_setData'),\n    toInteger = require('./toInteger');\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    BIND_KEY_FLAG = 2,\n    CURRY_FLAG = 8,\n    CURRY_RIGHT_FLAG = 16,\n    PARTIAL_FLAG = 32,\n    PARTIAL_RIGHT_FLAG = 64;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that either curries or invokes `func` with optional\n * `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask of wrapper flags.\n *  The bitmask may be composed of the following flags:\n *     1 - `_.bind`\n *     2 - `_.bindKey`\n *     4 - `_.curry` or `_.curryRight` of a bound function\n *     8 - `_.curry`\n *    16 - `_.curryRight`\n *    32 - `_.partial`\n *    64 - `_.partialRight`\n *   128 - `_.rearg`\n *   256 - `_.ary`\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to be partially applied.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createWrapper(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n  var isBindKey = bitmask & BIND_KEY_FLAG;\n  if (!isBindKey && typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var length = partials ? partials.length : 0;\n  if (!length) {\n    bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\n    partials = holders = undefined;\n  }\n  ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n  arity = arity === undefined ? arity : toInteger(arity);\n  length -= holders ? holders.length : 0;\n\n  if (bitmask & PARTIAL_RIGHT_FLAG) {\n    var partialsRight = partials,\n        holdersRight = holders;\n\n    partials = holders = undefined;\n  }\n  var data = isBindKey ? undefined : getData(func);\n\n  var newData = [\n    func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n    argPos, ary, arity\n  ];\n\n  if (data) {\n    mergeData(newData, data);\n  }\n  func = newData[0];\n  bitmask = newData[1];\n  thisArg = newData[2];\n  partials = newData[3];\n  holders = newData[4];\n  arity = newData[9] = newData[9] == null\n    ? (isBindKey ? 0 : func.length)\n    : nativeMax(newData[9] - length, 0);\n\n  if (!arity && bitmask & (CURRY_FLAG | CURRY_RIGHT_FLAG)) {\n    bitmask &= ~(CURRY_FLAG | CURRY_RIGHT_FLAG);\n  }\n  if (!bitmask || bitmask == BIND_FLAG) {\n    var result = createBaseWrapper(func, bitmask, thisArg);\n  } else if (bitmask == CURRY_FLAG || bitmask == CURRY_RIGHT_FLAG) {\n    result = createCurryWrapper(func, bitmask, arity);\n  } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !holders.length) {\n    result = createPartialWrapper(func, bitmask, thisArg, partials);\n  } else {\n    result = createHybridWrapper.apply(undefined, newData);\n  }\n  var setter = data ? baseSetData : setData;\n  return setter(result, newData);\n}\n\nmodule.exports = createWrapper;\n\n},{\"./_baseSetData\":117,\"./_createBaseWrapper\":141,\"./_createCurryWrapper\":143,\"./_createHybridWrapper\":144,\"./_createPartialWrapper\":145,\"./_getData\":151,\"./_mergeData\":183,\"./_setData\":191,\"./toInteger\":239}],148:[function(require,module,exports){\nvar arraySome = require('./_arraySome');\n\n/** Used to compose bitmasks for comparison styles. */\nvar UNORDERED_COMPARE_FLAG = 1,\n    PARTIAL_COMPARE_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual` for more details.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, equalFunc, customizer, bitmask, stack) {\n  var index = -1,\n      isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      isUnordered = bitmask & UNORDERED_COMPARE_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(array, other);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (isUnordered) {\n      if (!arraySome(other, function(othValue) {\n            return arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack);\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack))) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  return result;\n}\n\nmodule.exports = equalArrays;\n\n},{\"./_arraySome\":80}],149:[function(require,module,exports){\nvar Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for comparison styles. */\nvar UNORDERED_COMPARE_FLAG = 1,\n    PARTIAL_COMPARE_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual` for more details.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, equalFunc, customizer, bitmask, stack) {\n  switch (tag) {\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n      // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n      // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n      return +object == +other;\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case numberTag:\n      // Treat `NaN` vs. `NaN` as equal.\n      return (object != +object) ? other != +other : object == +other;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings primitives and string\n      // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & PARTIAL_COMPARE_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      // Recursively compare objects (susceptible to call stack limits).\n      return equalArrays(convert(object), convert(other), equalFunc, customizer, bitmask | UNORDERED_COMPARE_FLAG, stack.set(object, other));\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n\n},{\"./_Symbol\":70,\"./_Uint8Array\":71,\"./_equalArrays\":148,\"./_mapToArray\":182,\"./_setToArray\":192}],150:[function(require,module,exports){\nvar baseHas = require('./_baseHas'),\n    keys = require('./keys');\n\n/** Used to compose bitmasks for comparison styles. */\nvar PARTIAL_COMPARE_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual` for more details.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, equalFunc, customizer, bitmask, stack) {\n  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      objProps = keys(object),\n      objLength = objProps.length,\n      othProps = keys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : baseHas(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, customizer, bitmask, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  return result;\n}\n\nmodule.exports = equalObjects;\n\n},{\"./_baseHas\":100,\"./keys\":228}],151:[function(require,module,exports){\nvar metaMap = require('./_metaMap'),\n    noop = require('./noop');\n\n/**\n * Gets metadata for `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {*} Returns the metadata for `func`.\n */\nvar getData = !metaMap ? noop : function(func) {\n  return metaMap.get(func);\n};\n\nmodule.exports = getData;\n\n},{\"./_metaMap\":184,\"./noop\":233}],152:[function(require,module,exports){\nvar realNames = require('./_realNames');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the name of `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {string} Returns the function name.\n */\nfunction getFuncName(func) {\n  var result = (func.name + ''),\n      array = realNames[result],\n      length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n  while (length--) {\n    var data = array[length],\n        otherFunc = data.func;\n    if (otherFunc == null || otherFunc == func) {\n      return data.name;\n    }\n  }\n  return result;\n}\n\nmodule.exports = getFuncName;\n\n},{\"./_realNames\":187}],153:[function(require,module,exports){\nvar baseProperty = require('./_baseProperty');\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\nmodule.exports = getLength;\n\n},{\"./_baseProperty\":114}],154:[function(require,module,exports){\nvar isStrictComparable = require('./_isStrictComparable'),\n    toPairs = require('./toPairs');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = toPairs(object),\n      length = result.length;\n\n  while (length--) {\n    result[length][2] = isStrictComparable(result[length][1]);\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n\n},{\"./_isStrictComparable\":175,\"./toPairs\":241}],155:[function(require,module,exports){\nvar isNative = require('./isNative');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = object[key];\n  return isNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n\n},{\"./isNative\":218}],156:[function(require,module,exports){\n/**\n * Gets the argument placeholder value for `func`.\n *\n * @private\n * @param {Function} func The function to inspect.\n * @returns {*} Returns the placeholder value.\n */\nfunction getPlaceholder(func) {\n  var object = func;\n  return object.placeholder;\n}\n\nmodule.exports = getPlaceholder;\n\n},{}],157:[function(require,module,exports){\n/** Built-in value references. */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = getOwnPropertySymbols || function() {\n  return [];\n};\n\nmodule.exports = getSymbols;\n\n},{}],158:[function(require,module,exports){\nvar Map = require('./_Map'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = Function.prototype.toString;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect maps, sets, and weakmaps. */\nvar mapCtorString = Map ? funcToString.call(Map) : '',\n    setCtorString = Set ? funcToString.call(Set) : '',\n    weakMapCtorString = WeakMap ? funcToString.call(WeakMap) : '';\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction getTag(value) {\n  return objectToString.call(value);\n}\n\n// Fallback for IE 11 providing `toStringTag` values for maps, sets, and weakmaps.\nif ((Map && getTag(new Map) != mapTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : null,\n        ctorString = typeof Ctor == 'function' ? funcToString.call(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case mapCtorString: return mapTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n\n},{\"./_Map\":65,\"./_Set\":68,\"./_WeakMap\":72}],159:[function(require,module,exports){\nvar baseCastPath = require('./_baseCastPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isKey = require('./_isKey'),\n    isLength = require('./isLength'),\n    isString = require('./isString'),\n    last = require('./last'),\n    parent = require('./_parent');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  if (object == null) {\n    return false;\n  }\n  var result = hasFunc(object, path);\n  if (!result && !isKey(path)) {\n    path = baseCastPath(path);\n    object = parent(object, path);\n    if (object != null) {\n      path = last(path);\n      result = hasFunc(object, path);\n    }\n  }\n  var length = object ? object.length : undefined;\n  return result || (\n    !!length && isLength(length) && isIndex(path, length) &&\n    (isArray(object) || isString(object) || isArguments(object))\n  );\n}\n\nmodule.exports = hasPath;\n\n},{\"./_baseCastPath\":91,\"./_isIndex\":169,\"./_isKey\":171,\"./_parent\":186,\"./isArguments\":210,\"./isArray\":211,\"./isLength\":217,\"./isString\":224,\"./last\":230}],160:[function(require,module,exports){\nvar hashHas = require('./_hashHas');\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(hash, key) {\n  return hashHas(hash, key) && delete hash[key];\n}\n\nmodule.exports = hashDelete;\n\n},{\"./_hashHas\":162}],161:[function(require,module,exports){\nvar nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @param {Object} hash The hash to query.\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(hash, key) {\n  if (nativeCreate) {\n    var result = hash[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(hash, key) ? hash[key] : undefined;\n}\n\nmodule.exports = hashGet;\n\n},{\"./_nativeCreate\":185}],162:[function(require,module,exports){\nvar nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @param {Object} hash The hash to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(hash, key) {\n  return nativeCreate ? hash[key] !== undefined : hasOwnProperty.call(hash, key);\n}\n\nmodule.exports = hashHas;\n\n},{\"./_nativeCreate\":185}],163:[function(require,module,exports){\nvar nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n */\nfunction hashSet(hash, key, value) {\n  hash[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n}\n\nmodule.exports = hashSet;\n\n},{\"./_nativeCreate\":185}],164:[function(require,module,exports){\nvar baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isLength = require('./isLength'),\n    isString = require('./isString');\n\n/**\n * Creates an array of index keys for `object` values of arrays,\n * `arguments` objects, and strings, otherwise `null` is returned.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array|null} Returns index keys, else `null`.\n */\nfunction indexKeys(object) {\n  var length = object ? object.length : undefined;\n  if (isLength(length) &&\n      (isArray(object) || isString(object) || isArguments(object))) {\n    return baseTimes(length, String);\n  }\n  return null;\n}\n\nmodule.exports = indexKeys;\n\n},{\"./_baseTimes\":119,\"./isArguments\":210,\"./isArray\":211,\"./isLength\":217,\"./isString\":224}],165:[function(require,module,exports){\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nmodule.exports = initCloneArray;\n\n},{}],166:[function(require,module,exports){\nvar cloneArrayBuffer = require('./_cloneArrayBuffer'),\n    cloneMap = require('./_cloneMap'),\n    cloneRegExp = require('./_cloneRegExp'),\n    cloneSet = require('./_cloneSet'),\n    cloneSymbol = require('./_cloneSymbol'),\n    cloneTypedArray = require('./_cloneTypedArray');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nmodule.exports = initCloneByTag;\n\n},{\"./_cloneArrayBuffer\":123,\"./_cloneMap\":125,\"./_cloneRegExp\":126,\"./_cloneSet\":127,\"./_cloneSymbol\":128,\"./_cloneTypedArray\":129}],167:[function(require,module,exports){\nvar baseCreate = require('./_baseCreate'),\n    isPrototype = require('./_isPrototype');\n\n/** Built-in value references. */\nvar getPrototypeOf = Object.getPrototypeOf;\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototypeOf(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n\n},{\"./_baseCreate\":93,\"./_isPrototype\":174}],168:[function(require,module,exports){\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\nmodule.exports = isHostObject;\n\n},{}],169:[function(require,module,exports){\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\nmodule.exports = isIndex;\n\n},{}],170:[function(require,module,exports){\nvar eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n      ? (isArrayLike(object) && isIndex(index, object.length))\n      : (type == 'string' && index in object)) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n\n},{\"./_isIndex\":169,\"./eq\":203,\"./isArrayLike\":212,\"./isObject\":220}],171:[function(require,module,exports){\nvar isArray = require('./isArray');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (typeof value == 'number') {\n    return true;\n  }\n  return !isArray(value) &&\n    (reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n      (object != null && value in Object(object)));\n}\n\nmodule.exports = isKey;\n\n},{\"./isArray\":211}],172:[function(require,module,exports){\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return type == 'number' || type == 'boolean' ||\n    (type == 'string' && value != '__proto__') || value == null;\n}\n\nmodule.exports = isKeyable;\n\n},{}],173:[function(require,module,exports){\nvar LazyWrapper = require('./_LazyWrapper'),\n    getData = require('./_getData'),\n    getFuncName = require('./_getFuncName'),\n    lodash = require('./wrapperLodash');\n\n/**\n * Checks if `func` has a lazy counterpart.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` has a lazy counterpart, else `false`.\n */\nfunction isLaziable(func) {\n  var funcName = getFuncName(func),\n      other = lodash[funcName];\n\n  if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n    return false;\n  }\n  if (func === other) {\n    return true;\n  }\n  var data = getData(other);\n  return !!data && func === data[0];\n}\n\nmodule.exports = isLaziable;\n\n},{\"./_LazyWrapper\":63,\"./_getData\":151,\"./_getFuncName\":152,\"./wrapperLodash\":245}],174:[function(require,module,exports){\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n\n},{}],175:[function(require,module,exports){\nvar isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n\n},{\"./isObject\":220}],176:[function(require,module,exports){\n/**\n * Converts `iterator` to an array.\n *\n * @private\n * @param {Object} iterator The iterator to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction iteratorToArray(iterator) {\n  var data,\n      result = [];\n\n  while (!(data = iterator.next()).done) {\n    result.push(data.value);\n  }\n  return result;\n}\n\nmodule.exports = iteratorToArray;\n\n},{}],177:[function(require,module,exports){\nvar Hash = require('./_Hash'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': Map ? new Map : [],\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapClear;\n\n},{\"./_Hash\":62,\"./_Map\":65}],178:[function(require,module,exports){\nvar Map = require('./_Map'),\n    assocDelete = require('./_assocDelete'),\n    hashDelete = require('./_hashDelete'),\n    isKeyable = require('./_isKeyable');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapDelete(key) {\n  var data = this.__data__;\n  if (isKeyable(key)) {\n    return hashDelete(typeof key == 'string' ? data.string : data.hash, key);\n  }\n  return Map ? data.map['delete'](key) : assocDelete(data.map, key);\n}\n\nmodule.exports = mapDelete;\n\n},{\"./_Map\":65,\"./_assocDelete\":83,\"./_hashDelete\":160,\"./_isKeyable\":172}],179:[function(require,module,exports){\nvar Map = require('./_Map'),\n    assocGet = require('./_assocGet'),\n    hashGet = require('./_hashGet'),\n    isKeyable = require('./_isKeyable');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapGet(key) {\n  var data = this.__data__;\n  if (isKeyable(key)) {\n    return hashGet(typeof key == 'string' ? data.string : data.hash, key);\n  }\n  return Map ? data.map.get(key) : assocGet(data.map, key);\n}\n\nmodule.exports = mapGet;\n\n},{\"./_Map\":65,\"./_assocGet\":84,\"./_hashGet\":161,\"./_isKeyable\":172}],180:[function(require,module,exports){\nvar Map = require('./_Map'),\n    assocHas = require('./_assocHas'),\n    hashHas = require('./_hashHas'),\n    isKeyable = require('./_isKeyable');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapHas(key) {\n  var data = this.__data__;\n  if (isKeyable(key)) {\n    return hashHas(typeof key == 'string' ? data.string : data.hash, key);\n  }\n  return Map ? data.map.has(key) : assocHas(data.map, key);\n}\n\nmodule.exports = mapHas;\n\n},{\"./_Map\":65,\"./_assocHas\":85,\"./_hashHas\":162,\"./_isKeyable\":172}],181:[function(require,module,exports){\nvar Map = require('./_Map'),\n    assocSet = require('./_assocSet'),\n    hashSet = require('./_hashSet'),\n    isKeyable = require('./_isKeyable');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache object.\n */\nfunction mapSet(key, value) {\n  var data = this.__data__;\n  if (isKeyable(key)) {\n    hashSet(typeof key == 'string' ? data.string : data.hash, key, value);\n  } else if (Map) {\n    data.map.set(key, value);\n  } else {\n    assocSet(data.map, key, value);\n  }\n  return this;\n}\n\nmodule.exports = mapSet;\n\n},{\"./_Map\":65,\"./_assocSet\":87,\"./_hashSet\":163,\"./_isKeyable\":172}],182:[function(require,module,exports){\n/**\n * Converts `map` to an array.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n\n},{}],183:[function(require,module,exports){\nvar composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    copyArray = require('./_copyArray'),\n    replaceHolders = require('./_replaceHolders');\n\n/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    BIND_KEY_FLAG = 2,\n    CURRY_BOUND_FLAG = 4,\n    CURRY_FLAG = 8,\n    ARY_FLAG = 128,\n    REARG_FLAG = 256;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Merges the function metadata of `source` into `data`.\n *\n * Merging metadata reduces the number of wrappers used to invoke a function.\n * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n * may be applied regardless of execution order. Methods like `_.ary` and `_.rearg`\n * modify function arguments, making the order in which they are executed important,\n * preventing the merging of metadata. However, we make an exception for a safe\n * combined case where curried functions have `_.ary` and or `_.rearg` applied.\n *\n * @private\n * @param {Array} data The destination metadata.\n * @param {Array} source The source metadata.\n * @returns {Array} Returns `data`.\n */\nfunction mergeData(data, source) {\n  var bitmask = data[1],\n      srcBitmask = source[1],\n      newBitmask = bitmask | srcBitmask,\n      isCommon = newBitmask < (BIND_FLAG | BIND_KEY_FLAG | ARY_FLAG);\n\n  var isCombo =\n    ((srcBitmask == ARY_FLAG) && (bitmask == CURRY_FLAG)) ||\n    ((srcBitmask == ARY_FLAG) && (bitmask == REARG_FLAG) && (data[7].length <= source[8])) ||\n    ((srcBitmask == (ARY_FLAG | REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == CURRY_FLAG));\n\n  // Exit early if metadata can't be merged.\n  if (!(isCommon || isCombo)) {\n    return data;\n  }\n  // Use source `thisArg` if available.\n  if (srcBitmask & BIND_FLAG) {\n    data[2] = source[2];\n    // Set when currying a bound function.\n    newBitmask |= bitmask & BIND_FLAG ? 0 : CURRY_BOUND_FLAG;\n  }\n  // Compose partial arguments.\n  var value = source[3];\n  if (value) {\n    var partials = data[3];\n    data[3] = partials ? composeArgs(partials, value, source[4]) : copyArray(value);\n    data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : copyArray(source[4]);\n  }\n  // Compose partial right arguments.\n  value = source[5];\n  if (value) {\n    partials = data[5];\n    data[5] = partials ? composeArgsRight(partials, value, source[6]) : copyArray(value);\n    data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : copyArray(source[6]);\n  }\n  // Use source `argPos` if available.\n  value = source[7];\n  if (value) {\n    data[7] = copyArray(value);\n  }\n  // Use source `ary` if it's smaller.\n  if (srcBitmask & ARY_FLAG) {\n    data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n  }\n  // Use source `arity` if one is not provided.\n  if (data[9] == null) {\n    data[9] = source[9];\n  }\n  // Use source `func` and merge bitmasks.\n  data[0] = source[0];\n  data[1] = newBitmask;\n\n  return data;\n}\n\nmodule.exports = mergeData;\n\n},{\"./_composeArgs\":130,\"./_composeArgsRight\":131,\"./_copyArray\":132,\"./_replaceHolders\":189}],184:[function(require,module,exports){\nvar WeakMap = require('./_WeakMap');\n\n/** Used to store function metadata. */\nvar metaMap = WeakMap && new WeakMap;\n\nmodule.exports = metaMap;\n\n},{\"./_WeakMap\":72}],185:[function(require,module,exports){\nvar getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n\n},{\"./_getNative\":155}],186:[function(require,module,exports){\nvar baseSlice = require('./_baseSlice'),\n    get = require('./get');\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length == 1 ? object : get(object, baseSlice(path, 0, -1));\n}\n\nmodule.exports = parent;\n\n},{\"./_baseSlice\":118,\"./get\":207}],187:[function(require,module,exports){\n/** Used to lookup unminified function names. */\nvar realNames = {};\n\nmodule.exports = realNames;\n\n},{}],188:[function(require,module,exports){\nvar copyArray = require('./_copyArray'),\n    isIndex = require('./_isIndex');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Reorder `array` according to the specified indexes where the element at\n * the first index is assigned as the first element, the element at\n * the second index is assigned as the second element, and so on.\n *\n * @private\n * @param {Array} array The array to reorder.\n * @param {Array} indexes The arranged array indexes.\n * @returns {Array} Returns `array`.\n */\nfunction reorder(array, indexes) {\n  var arrLength = array.length,\n      length = nativeMin(indexes.length, arrLength),\n      oldArray = copyArray(array);\n\n  while (length--) {\n    var index = indexes[length];\n    array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n  }\n  return array;\n}\n\nmodule.exports = reorder;\n\n},{\"./_copyArray\":132,\"./_isIndex\":169}],189:[function(require,module,exports){\n/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/**\n * Replaces all `placeholder` elements in `array` with an internal placeholder\n * and returns an array of their indexes.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {*} placeholder The placeholder to replace.\n * @returns {Array} Returns the new array of placeholder indexes.\n */\nfunction replaceHolders(array, placeholder) {\n  var index = -1,\n      length = array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value === placeholder || value === PLACEHOLDER) {\n      array[index] = PLACEHOLDER;\n      result[resIndex++] = index;\n    }\n  }\n  return result;\n}\n\nmodule.exports = replaceHolders;\n\n},{}],190:[function(require,module,exports){\n(function (global){\nvar checkGlobal = require('./_checkGlobal');\n\n/** Used to determine if values are of the language type `Object`. */\nvar objectTypes = {\n  'function': true,\n  'object': true\n};\n\n/** Detect free variable `exports`. */\nvar freeExports = (objectTypes[typeof exports] && exports && !exports.nodeType)\n  ? exports\n  : undefined;\n\n/** Detect free variable `module`. */\nvar freeModule = (objectTypes[typeof module] && module && !module.nodeType)\n  ? module\n  : undefined;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = checkGlobal(freeExports && freeModule && typeof global == 'object' && global);\n\n/** Detect free variable `self`. */\nvar freeSelf = checkGlobal(objectTypes[typeof self] && self);\n\n/** Detect free variable `window`. */\nvar freeWindow = checkGlobal(objectTypes[typeof window] && window);\n\n/** Detect `this` as the global object. */\nvar thisGlobal = checkGlobal(objectTypes[typeof this] && this);\n\n/**\n * Used as a reference to the global object.\n *\n * The `this` value is used if it's the global object to avoid Greasemonkey's\n * restricted `window` object, otherwise the `window` object is used.\n */\nvar root = freeGlobal ||\n  ((freeWindow !== (thisGlobal && thisGlobal.window)) && freeWindow) ||\n    freeSelf || thisGlobal || Function('return this')();\n\nmodule.exports = root;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./_checkGlobal\":122}],191:[function(require,module,exports){\nvar baseSetData = require('./_baseSetData'),\n    now = require('./now');\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 150,\n    HOT_SPAN = 16;\n\n/**\n * Sets metadata for `func`.\n *\n * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n * period of time, it will trip its breaker and transition to an identity function\n * to avoid garbage collection pauses in V8. See [V8 issue 2070](https://code.google.com/p/v8/issues/detail?id=2070)\n * for more details.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar setData = (function() {\n  var count = 0,\n      lastCalled = 0;\n\n  return function(key, value) {\n    var stamp = now(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return key;\n      }\n    } else {\n      count = 0;\n    }\n    return baseSetData(key, value);\n  };\n}());\n\nmodule.exports = setData;\n\n},{\"./_baseSetData\":117,\"./now\":234}],192:[function(require,module,exports){\n/**\n * Converts `set` to an array.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n\n},{}],193:[function(require,module,exports){\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = { 'array': [], 'map': null };\n}\n\nmodule.exports = stackClear;\n\n},{}],194:[function(require,module,exports){\nvar assocDelete = require('./_assocDelete');\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      array = data.array;\n\n  return array ? assocDelete(array, key) : data.map['delete'](key);\n}\n\nmodule.exports = stackDelete;\n\n},{\"./_assocDelete\":83}],195:[function(require,module,exports){\nvar assocGet = require('./_assocGet');\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  var data = this.__data__,\n      array = data.array;\n\n  return array ? assocGet(array, key) : data.map.get(key);\n}\n\nmodule.exports = stackGet;\n\n},{\"./_assocGet\":84}],196:[function(require,module,exports){\nvar assocHas = require('./_assocHas');\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  var data = this.__data__,\n      array = data.array;\n\n  return array ? assocHas(array, key) : data.map.has(key);\n}\n\nmodule.exports = stackHas;\n\n},{\"./_assocHas\":85}],197:[function(require,module,exports){\nvar MapCache = require('./_MapCache'),\n    assocSet = require('./_assocSet');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache object.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__,\n      array = data.array;\n\n  if (array) {\n    if (array.length < (LARGE_ARRAY_SIZE - 1)) {\n      assocSet(array, key, value);\n    } else {\n      data.array = null;\n      data.map = new MapCache(array);\n    }\n  }\n  var map = data.map;\n  if (map) {\n    map.set(key, value);\n  }\n  return this;\n}\n\nmodule.exports = stackSet;\n\n},{\"./_MapCache\":66,\"./_assocSet\":87}],198:[function(require,module,exports){\nvar toString = require('./toString');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nfunction stringToPath(string) {\n  var result = [];\n  toString(string).replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n}\n\nmodule.exports = stringToPath;\n\n},{\"./toString\":243}],199:[function(require,module,exports){\nvar LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    copyArray = require('./_copyArray');\n\n/**\n * Creates a clone of `wrapper`.\n *\n * @private\n * @param {Object} wrapper The wrapper to clone.\n * @returns {Object} Returns the cloned wrapper.\n */\nfunction wrapperClone(wrapper) {\n  if (wrapper instanceof LazyWrapper) {\n    return wrapper.clone();\n  }\n  var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n  result.__actions__ = copyArray(wrapper.__actions__);\n  result.__index__  = wrapper.__index__;\n  result.__values__ = wrapper.__values__;\n  return result;\n}\n\nmodule.exports = wrapperClone;\n\n},{\"./_LazyWrapper\":63,\"./_LodashWrapper\":64,\"./_copyArray\":132}],200:[function(require,module,exports){\nvar assignValue = require('./_assignValue'),\n    copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    isArrayLike = require('./isArrayLike'),\n    isPrototype = require('./_isPrototype'),\n    keys = require('./keys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/**\n * Assigns own enumerable properties of source objects to the destination\n * object. Source objects are applied from left to right. Subsequent sources\n * overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * function Foo() {\n *   this.c = 3;\n * }\n *\n * function Bar() {\n *   this.e = 5;\n * }\n *\n * Foo.prototype.d = 4;\n * Bar.prototype.f = 6;\n *\n * _.assign({ 'a': 1 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3, 'e': 5 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\nmodule.exports = assign;\n\n},{\"./_assignValue\":82,\"./_copyObject\":133,\"./_createAssigner\":138,\"./_isPrototype\":174,\"./isArrayLike\":212,\"./keys\":228}],201:[function(require,module,exports){\nvar createWrapper = require('./_createWrapper'),\n    getPlaceholder = require('./_getPlaceholder'),\n    replaceHolders = require('./_replaceHolders'),\n    rest = require('./rest');\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    PARTIAL_FLAG = 32;\n\n/**\n * Creates a function that invokes `func` with the `this` binding of `thisArg`\n * and prepends any additional `_.bind` arguments to those provided to the\n * bound function.\n *\n * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n * may be used as a placeholder for partially applied arguments.\n *\n * **Note:** Unlike native `Function#bind` this method doesn't set the \"length\"\n * property of bound functions.\n *\n * @static\n * @memberOf _\n * @category Function\n * @param {Function} func The function to bind.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {...*} [partials] The arguments to be partially applied.\n * @returns {Function} Returns the new bound function.\n * @example\n *\n * var greet = function(greeting, punctuation) {\n *   return greeting + ' ' + this.user + punctuation;\n * };\n *\n * var object = { 'user': 'fred' };\n *\n * var bound = _.bind(greet, object, 'hi');\n * bound('!');\n * // => 'hi fred!'\n *\n * // Bound with placeholders.\n * var bound = _.bind(greet, object, _, '!');\n * bound('hi');\n * // => 'hi fred!'\n */\nvar bind = rest(function(func, thisArg, partials) {\n  var bitmask = BIND_FLAG;\n  if (partials.length) {\n    var holders = replaceHolders(partials, getPlaceholder(bind));\n    bitmask |= PARTIAL_FLAG;\n  }\n  return createWrapper(func, bitmask, thisArg, partials, holders);\n});\n\n// Assign default placeholders.\nbind.placeholder = {};\n\nmodule.exports = bind;\n\n},{\"./_createWrapper\":147,\"./_getPlaceholder\":156,\"./_replaceHolders\":189,\"./rest\":237}],202:[function(require,module,exports){\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var object = { 'user': 'fred' };\n * var getter = _.constant(object);\n *\n * getter() === object;\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n\n},{}],203:[function(require,module,exports){\n/**\n * Performs a [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'user': 'fred' };\n * var other = { 'user': 'fred' };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n\n},{}],204:[function(require,module,exports){\nvar baseEach = require('./_baseEach'),\n    baseFind = require('./_baseFind'),\n    baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three arguments:\n * (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @category Collection\n * @param {Array|Object} collection The collection to search.\n * @param {Function|Object|string} [predicate=_.identity] The function invoked per iteration.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nfunction find(collection, predicate) {\n  predicate = baseIteratee(predicate, 3);\n  if (isArray(collection)) {\n    var index = baseFindIndex(collection, predicate);\n    return index > -1 ? collection[index] : undefined;\n  }\n  return baseFind(collection, predicate, baseEach);\n}\n\nmodule.exports = find;\n\n},{\"./_baseEach\":94,\"./_baseFind\":95,\"./_baseFindIndex\":96,\"./_baseIteratee\":105,\"./isArray\":211}],205:[function(require,module,exports){\nvar baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @category Array\n * @param {Array} array The array to search.\n * @param {Function|Object|string} [predicate=_.identity] The function invoked per iteration.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate) {\n  return (array && array.length)\n    ? baseFindIndex(array, baseIteratee(predicate, 3))\n    : -1;\n}\n\nmodule.exports = findIndex;\n\n},{\"./_baseFindIndex\":96,\"./_baseIteratee\":105}],206:[function(require,module,exports){\nvar arrayEach = require('./_arrayEach'),\n    baseCastFunction = require('./_baseCastFunction'),\n    baseEach = require('./_baseEach'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection` invoking `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\" property\n * are iterated like arrays. To avoid this behavior use `_.forIn` or `_.forOwn`\n * for object iteration.\n *\n * @static\n * @memberOf _\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @example\n *\n * _([1, 2]).forEach(function(value) {\n *   console.log(value);\n * });\n * // => logs `1` then `2`\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => logs 'a' then 'b' (iteration order is not guaranteed)\n */\nfunction forEach(collection, iteratee) {\n  return (typeof iteratee == 'function' && isArray(collection))\n    ? arrayEach(collection, iteratee)\n    : baseEach(collection, baseCastFunction(iteratee));\n}\n\nmodule.exports = forEach;\n\n},{\"./_arrayEach\":77,\"./_baseCastFunction\":90,\"./_baseEach\":94,\"./isArray\":211}],207:[function(require,module,exports){\nvar baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined` the `defaultValue` is used in its place.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n\n},{\"./_baseGet\":99}],208:[function(require,module,exports){\nvar baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': _.create({ 'c': 3 }) }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b.c');\n * // => true\n *\n * _.hasIn(object, ['a', 'b', 'c']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n\n},{\"./_baseHasIn\":101,\"./_hasPath\":159}],209:[function(require,module,exports){\n/**\n * This method returns the first argument given to it.\n *\n * @static\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'user': 'fred' };\n *\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n\n},{}],210:[function(require,module,exports){\nvar isArrayLikeObject = require('./isArrayLikeObject');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 incorrectly makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\nmodule.exports = isArguments;\n\n},{\"./isArrayLikeObject\":213}],211:[function(require,module,exports){\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @type {Function}\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n\n},{}],212:[function(require,module,exports){\nvar getLength = require('./_getLength'),\n    isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value)) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n\n},{\"./_getLength\":153,\"./isFunction\":216,\"./isLength\":217}],213:[function(require,module,exports){\nvar isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object, else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n\n},{\"./isArrayLike\":212,\"./isObjectLike\":221}],214:[function(require,module,exports){\nvar constant = require('./constant'),\n    root = require('./_root');\n\n/** Used to determine if values are of the language type `Object`. */\nvar objectTypes = {\n  'function': true,\n  'object': true\n};\n\n/** Detect free variable `exports`. */\nvar freeExports = (objectTypes[typeof exports] && exports && !exports.nodeType)\n  ? exports\n  : undefined;\n\n/** Detect free variable `module`. */\nvar freeModule = (objectTypes[typeof module] && module && !module.nodeType)\n  ? module\n  : undefined;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = (freeModule && freeModule.exports === freeExports)\n  ? freeExports\n  : undefined;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = !Buffer ? constant(false) : function(value) {\n  return value instanceof Buffer;\n};\n\nmodule.exports = isBuffer;\n\n},{\"./_root\":190,\"./constant\":202}],215:[function(require,module,exports){\nvar isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isFunction = require('./isFunction'),\n    isString = require('./isString');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty collection or object. A value is considered\n * empty if it's an `arguments` object, array, string, or jQuery-like collection\n * with a length of `0` or has no own enumerable properties.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (isArrayLike(value) &&\n      (isArray(value) || isString(value) ||\n        isFunction(value.splice) || isArguments(value))) {\n    return !value.length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n\n},{\"./isArguments\":210,\"./isArray\":211,\"./isArrayLike\":212,\"./isFunction\":216,\"./isString\":224}],216:[function(require,module,exports){\nvar isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8 which returns 'object' for typed array and weak map constructors,\n  // and PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\nmodule.exports = isFunction;\n\n},{\"./isObject\":220}],217:[function(require,module,exports){\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is loosely based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n\n},{}],218:[function(require,module,exports){\nvar isFunction = require('./isFunction'),\n    isHostObject = require('./_isHostObject'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used to match `RegExp` [syntax characters](http://ecma-international.org/ecma-262/6.0/#sec-patterns). */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari > 5). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (value == null) {\n    return false;\n  }\n  if (isFunction(value)) {\n    return reIsNative.test(funcToString.call(value));\n  }\n  return isObjectLike(value) &&\n    (isHostObject(value) ? reIsNative : reIsHostCtor).test(value);\n}\n\nmodule.exports = isNative;\n\n},{\"./_isHostObject\":168,\"./isFunction\":216,\"./isObjectLike\":221}],219:[function(require,module,exports){\nvar isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified\n * as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && objectToString.call(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n\n},{\"./isObjectLike\":221}],220:[function(require,module,exports){\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n\n},{}],221:[function(require,module,exports){\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n\n},{}],222:[function(require,module,exports){\nvar isHostObject = require('./_isHostObject'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = Function.prototype.toString;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar getPrototypeOf = Object.getPrototypeOf;\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) ||\n      objectToString.call(value) != objectTag || isHostObject(value)) {\n    return false;\n  }\n  var proto = getPrototypeOf(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nmodule.exports = isPlainObject;\n\n},{\"./_isHostObject\":168,\"./isObjectLike\":221}],223:[function(require,module,exports){\nvar isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar regexpTag = '[object RegExp]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `RegExp` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isRegExp(/abc/);\n * // => true\n *\n * _.isRegExp('/abc/');\n * // => false\n */\nfunction isRegExp(value) {\n  return isObject(value) && objectToString.call(value) == regexpTag;\n}\n\nmodule.exports = isRegExp;\n\n},{\"./isObject\":220}],224:[function(require,module,exports){\nvar isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && objectToString.call(value) == stringTag);\n}\n\nmodule.exports = isString;\n\n},{\"./isArray\":211,\"./isObjectLike\":221}],225:[function(require,module,exports){\nvar isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n\n},{\"./isObjectLike\":221}],226:[function(require,module,exports){\nvar isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dateTag] = typedArrayTags[errorTag] =\ntypedArrayTags[funcTag] = typedArrayTags[mapTag] =\ntypedArrayTags[numberTag] = typedArrayTags[objectTag] =\ntypedArrayTags[regexpTag] = typedArrayTags[setTag] =\ntypedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nfunction isTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[objectToString.call(value)];\n}\n\nmodule.exports = isTypedArray;\n\n},{\"./isLength\":217,\"./isObjectLike\":221}],227:[function(require,module,exports){\nvar createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` through `iteratee`. The corresponding value\n * of each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function|Object|string} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  result[key] = value;\n});\n\nmodule.exports = keyBy;\n\n},{\"./_createAggregator\":137}],228:[function(require,module,exports){\nvar baseHas = require('./_baseHas'),\n    baseKeys = require('./_baseKeys'),\n    indexKeys = require('./_indexKeys'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  var isProto = isPrototype(object);\n  if (!(isProto || isArrayLike(object))) {\n    return baseKeys(object);\n  }\n  var indexes = indexKeys(object),\n      skipIndexes = !!indexes,\n      result = indexes || [],\n      length = result.length;\n\n  for (var key in object) {\n    if (baseHas(object, key) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length))) &&\n        !(isProto && key == 'constructor')) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = keys;\n\n},{\"./_baseHas\":100,\"./_baseKeys\":106,\"./_indexKeys\":164,\"./_isIndex\":169,\"./_isPrototype\":174,\"./isArrayLike\":212}],229:[function(require,module,exports){\nvar baseKeysIn = require('./_baseKeysIn'),\n    indexKeys = require('./_indexKeys'),\n    isIndex = require('./_isIndex'),\n    isPrototype = require('./_isPrototype');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  var index = -1,\n      isProto = isPrototype(object),\n      props = baseKeysIn(object),\n      propsLength = props.length,\n      indexes = indexKeys(object),\n      skipIndexes = !!indexes,\n      result = indexes || [],\n      length = result.length;\n\n  while (++index < propsLength) {\n    var key = props[index];\n    if (!(skipIndexes && (key == 'length' || isIndex(key, length))) &&\n        !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = keysIn;\n\n},{\"./_baseKeysIn\":107,\"./_indexKeys\":164,\"./_isIndex\":169,\"./_isPrototype\":174}],230:[function(require,module,exports){\n/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array ? array.length : 0;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n\n},{}],231:[function(require,module,exports){\nvar arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` through\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `curry`, `curryRight`, `drop`, `dropRight`, `every`, `fill`,\n * `invert`, `parseInt`, `random`, `range`, `rangeRight`, `slice`, `some`,\n * `sortBy`, `take`, `takeRight`, `template`, `trim`, `trimEnd`, `trimStart`,\n * and `words`\n *\n * @static\n * @memberOf _\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function|Object|string} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n\n},{\"./_arrayMap\":78,\"./_baseIteratee\":105,\"./_baseMap\":109,\"./isArray\":211}],232:[function(require,module,exports){\nvar baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable properties of source objects into the destination\n * object. Source properties that resolve to `undefined` are skipped if a\n * destination value exists. Array and plain object properties are merged\n * recursively.Other objects and value types are overridden by assignment.\n * Source objects are applied from left to right. Subsequent sources\n * overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var users = {\n *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n * };\n *\n * var ages = {\n *   'data': [{ 'age': 36 }, { 'age': 40 }]\n * };\n *\n * _.merge(users, ages);\n * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nmodule.exports = merge;\n\n},{\"./_baseMerge\":112,\"./_createAssigner\":138}],233:[function(require,module,exports){\n/**\n * A no-operation function that returns `undefined` regardless of the\n * arguments it receives.\n *\n * @static\n * @memberOf _\n * @category Util\n * @example\n *\n * var object = { 'user': 'fred' };\n *\n * _.noop(object) === undefined;\n * // => true\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n\n},{}],234:[function(require,module,exports){\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @type {Function}\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => logs the number of milliseconds it took for the deferred function to be invoked\n */\nvar now = Date.now;\n\nmodule.exports = now;\n\n},{}],235:[function(require,module,exports){\nvar baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': { 'c': 2 } } },\n *   { 'a': { 'b': { 'c': 1 } } }\n * ];\n *\n * _.map(objects, _.property('a.b.c'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b', 'c'])), 'a.b.c');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(path) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n\n},{\"./_baseProperty\":114,\"./_basePropertyDeep\":115,\"./_isKey\":171}],236:[function(require,module,exports){\nvar arrayReduce = require('./_arrayReduce'),\n    baseEach = require('./_baseEach'),\n    baseIteratee = require('./_baseIteratee'),\n    baseReduce = require('./_baseReduce'),\n    isArray = require('./isArray');\n\n/**\n * Reduces `collection` to a value which is the accumulated result of running\n * each element in `collection` through `iteratee`, where each successive\n * invocation is supplied the return value of the previous. If `accumulator`\n * is not given the first element of `collection` is used as the initial\n * value. The iteratee is invoked with four arguments:\n * (accumulator, value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.reduce`, `_.reduceRight`, and `_.transform`.\n *\n * The guarded methods are:\n * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n * and `sortBy`\n *\n * @static\n * @memberOf _\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @returns {*} Returns the accumulated value.\n * @example\n *\n * _.reduce([1, 2], function(sum, n) {\n *   return sum + n;\n * }, 0);\n * // => 3\n *\n * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n *   return result;\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n */\nfunction reduce(collection, iteratee, accumulator) {\n  var func = isArray(collection) ? arrayReduce : baseReduce,\n      initAccum = arguments.length < 3;\n\n  return func(collection, baseIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n}\n\nmodule.exports = reduce;\n\n},{\"./_arrayReduce\":79,\"./_baseEach\":94,\"./_baseIteratee\":105,\"./_baseReduce\":116,\"./isArray\":211}],237:[function(require,module,exports){\nvar apply = require('./_apply'),\n    toInteger = require('./toInteger');\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that invokes `func` with the `this` binding of the\n * created function and arguments from `start` and beyond provided as an array.\n *\n * **Note:** This method is based on the [rest parameter](https://mdn.io/rest_parameters).\n *\n * @static\n * @memberOf _\n * @category Function\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var say = _.rest(function(what, names) {\n *   return what + ' ' + _.initial(names).join(', ') +\n *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n * });\n *\n * say('hello', 'fred', 'barney', 'pebbles');\n * // => 'hello fred, barney, & pebbles'\n */\nfunction rest(func, start) {\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  start = nativeMax(start === undefined ? (func.length - 1) : toInteger(start), 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    switch (start) {\n      case 0: return func.call(this, array);\n      case 1: return func.call(this, args[0], array);\n      case 2: return func.call(this, args[0], args[1], array);\n    }\n    var otherArgs = Array(start + 1);\n    index = -1;\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = rest;\n\n},{\"./_apply\":75,\"./toInteger\":239}],238:[function(require,module,exports){\nvar baseCastPath = require('./_baseCastPath'),\n    get = require('./get'),\n    isFunction = require('./isFunction'),\n    isKey = require('./_isKey'),\n    parent = require('./_parent');\n\n/**\n * This method is like `_.get` except that if the resolved value is a function\n * it's invoked with the `this` binding of its parent object and its result\n * is returned.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to resolve.\n * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n *\n * _.result(object, 'a[0].b.c1');\n * // => 3\n *\n * _.result(object, 'a[0].b.c2');\n * // => 4\n *\n * _.result(object, 'a[0].b.c3', 'default');\n * // => 'default'\n *\n * _.result(object, 'a[0].b.c3', _.constant('default'));\n * // => 'default'\n */\nfunction result(object, path, defaultValue) {\n  if (!isKey(path, object)) {\n    path = baseCastPath(path);\n    var result = get(object, path);\n    object = parent(object, path);\n  } else {\n    result = object == null ? undefined : object[path];\n  }\n  if (result === undefined) {\n    result = defaultValue;\n  }\n  return isFunction(result) ? result.call(object) : result;\n}\n\nmodule.exports = result;\n\n},{\"./_baseCastPath\":91,\"./_isKey\":171,\"./_parent\":186,\"./get\":207,\"./isFunction\":216}],239:[function(require,module,exports){\nvar toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This function is loosely based on [`ToInteger`](http://www.ecma-international.org/ecma-262/6.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3');\n * // => 3\n */\nfunction toInteger(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  var remainder = value % 1;\n  return value === value ? (remainder ? value - remainder : value) : 0;\n}\n\nmodule.exports = toInteger;\n\n},{\"./toNumber\":240}],240:[function(require,module,exports){\nvar isFunction = require('./isFunction'),\n    isObject = require('./isObject');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3);\n * // => 3\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3');\n * // => 3\n */\nfunction toNumber(value) {\n  if (isObject(value)) {\n    var other = isFunction(value.valueOf) ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n\n},{\"./isFunction\":216,\"./isObject\":220}],241:[function(require,module,exports){\nvar baseToPairs = require('./_baseToPairs'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable key-value pairs for `object` which\n * can be consumed by `_.fromPairs`.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the new array of key-value pairs.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.toPairs(new Foo);\n * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n */\nfunction toPairs(object) {\n  return baseToPairs(object, keys(object));\n}\n\nmodule.exports = toPairs;\n\n},{\"./_baseToPairs\":120,\"./keys\":228}],242:[function(require,module,exports){\nvar copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable\n * properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n\n},{\"./_copyObject\":133,\"./keysIn\":229}],243:[function(require,module,exports){\nvar Symbol = require('./_Symbol'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Converts `value` to a string if it's not one. An empty string is returned\n * for `null` and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (value == null) {\n    return '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toString;\n\n},{\"./_Symbol\":70,\"./isSymbol\":225}],244:[function(require,module,exports){\nvar baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object ? baseValues(object, keys(object)) : [];\n}\n\nmodule.exports = values;\n\n},{\"./_baseValues\":121,\"./keys\":228}],245:[function(require,module,exports){\nvar LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    baseLodash = require('./_baseLodash'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike'),\n    wrapperClone = require('./_wrapperClone');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates a `lodash` object which wraps `value` to enable implicit method\n * chaining. Methods that operate on and return arrays, collections, and\n * functions can be chained together. Methods that retrieve a single value or\n * may return a primitive value will automatically end the chain sequence and\n * return the unwrapped value. Otherwise, the value must be unwrapped with\n * `_#value`.\n *\n * Explicit chaining, which must be unwrapped with `_#value` in all cases,\n * may be enabled using `_.chain`.\n *\n * The execution of chained methods is lazy, that is, it's deferred until\n * `_#value` is implicitly or explicitly called.\n *\n * Lazy evaluation allows several methods to support shortcut fusion. Shortcut\n * fusion is an optimization to merge iteratee calls; this avoids the creation\n * of intermediate arrays and can greatly reduce the number of iteratee executions.\n * Sections of a chain sequence qualify for shortcut fusion if the section is\n * applied to an array of at least two hundred elements and any iteratees\n * accept only one argument. The heuristic for whether a section qualifies\n * for shortcut fusion is subject to change.\n *\n * Chaining is supported in custom builds as long as the `_#value` method is\n * directly or indirectly included in the build.\n *\n * In addition to lodash methods, wrappers have `Array` and `String` methods.\n *\n * The wrapper `Array` methods are:\n * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n *\n * The wrapper `String` methods are:\n * `replace` and `split`\n *\n * The wrapper methods that support shortcut fusion are:\n * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n *\n * The chainable wrapper methods are:\n * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n * `flatten`, `flattenDeep`, `flattenDepth`, `flip`, `flow`, `flowRight`,\n * `fromPairs`, `functions`, `functionsIn`, `groupBy`, `initial`, `intersection`,\n * `intersectionBy`, `intersectionWith`, `invert`, `invertBy`, `invokeMap`,\n * `iteratee`, `keyBy`, `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`,\n * `matches`, `matchesProperty`, `memoize`, `merge`, `mergeWith`, `method`,\n * `methodOf`, `mixin`, `negate`, `nthArg`, `omit`, `omitBy`, `once`, `orderBy`,\n * `over`, `overArgs`, `overEvery`, `overSome`, `partial`, `partialRight`,\n * `partition`, `pick`, `pickBy`, `plant`, `property`, `propertyOf`, `pull`,\n * `pullAll`, `pullAllBy`, `pullAllWith`, `pullAt`, `push`, `range`,\n * `rangeRight`, `rearg`, `reject`, `remove`, `rest`, `reverse`, `sampleSize`,\n * `set`, `setWith`, `shuffle`, `slice`, `sort`, `sortBy`, `splice`, `spread`,\n * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `tap`, `throttle`,\n * `thru`, `toArray`, `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`,\n * `transform`, `unary`, `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`,\n * `uniqWith`, `unset`, `unshift`, `unzip`, `unzipWith`, `update`, `values`,\n * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`, `zipObject`,\n * `zipObjectDeep`, and `zipWith`\n *\n * The wrapper methods that are **not** chainable by default are:\n * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `deburr`, `each`, `eachRight`,\n * `endsWith`, `eq`, `escape`, `escapeRegExp`, `every`, `find`, `findIndex`,\n * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `first`, `floor`,\n * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\n * `get`, `gt`, `gte`, `has`, `hasIn`, `head`, `identity`, `includes`,\n * `indexOf`, `inRange`, `invoke`, `isArguments`, `isArray`, `isArrayBuffer`,\n * `isArrayLike`, `isArrayLikeObject`, `isBoolean`, `isBuffer`, `isDate`,\n * `isElement`, `isEmpty`, `isEqual`, `isEqualWith`, `isError`, `isFinite`,\n * `isFunction`, `isInteger`, `isLength`, `isMap`, `isMatch`, `isMatchWith`,\n * `isNaN`, `isNative`, `isNil`, `isNull`, `isNumber`, `isObject`, `isObjectLike`,\n * `isPlainObject`, `isRegExp`, `isSafeInteger`, `isSet`, `isString`,\n * `isUndefined`, `isTypedArray`, `isWeakMap`, `isWeakSet`, `join`, `kebabCase`,\n * `last`, `lastIndexOf`, `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`,\n * `maxBy`, `mean`, `min`, `minBy`, `noConflict`, `noop`, `now`, `pad`,\n * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n * `sortedLastIndexBy`, `startCase`, `startsWith`, `subtract`, `sum`, `sumBy`,\n * `template`, `times`, `toInteger`, `toJSON`, `toLength`, `toLower`,\n * `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`, `trimEnd`,\n * `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`, `upperFirst`,\n * `value`, and `words`\n *\n * @name _\n * @constructor\n * @category Seq\n * @param {*} value The value to wrap in a `lodash` instance.\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var wrapped = _([1, 2, 3]);\n *\n * // Returns an unwrapped value.\n * wrapped.reduce(_.add);\n * // => 6\n *\n * // Returns a wrapped value.\n * var squares = wrapped.map(square);\n *\n * _.isArray(squares);\n * // => false\n *\n * _.isArray(squares.value());\n * // => true\n */\nfunction lodash(value) {\n  if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n    if (value instanceof LodashWrapper) {\n      return value;\n    }\n    if (hasOwnProperty.call(value, '__wrapped__')) {\n      return wrapperClone(value);\n    }\n  }\n  return new LodashWrapper(value);\n}\n\n// Ensure wrappers are instances of `baseLodash`.\nlodash.prototype = baseLodash.prototype;\nlodash.prototype.constructor = lodash;\n\nmodule.exports = lodash;\n\n},{\"./_LazyWrapper\":63,\"./_LodashWrapper\":64,\"./_baseLodash\":108,\"./_wrapperClone\":199,\"./isArray\":211,\"./isObjectLike\":221}],246:[function(require,module,exports){\n/*\r\n* loglevel - https://github.com/pimterry/loglevel\r\n*\r\n* Copyright (c) 2013 Tim Perry\r\n* Licensed under the MIT license.\r\n*/\r\n(function (root, definition) {\r\n    \"use strict\";\r\n    if (typeof module === 'object' && module.exports && typeof require === 'function') {\r\n        module.exports = definition();\r\n    } else if (typeof define === 'function' && typeof define.amd === 'object') {\r\n        define(definition);\r\n    } else {\r\n        root.log = definition();\r\n    }\r\n}(this, function () {\r\n    \"use strict\";\r\n    var noop = function() {};\r\n    var undefinedType = \"undefined\";\r\n\r\n    function realMethod(methodName) {\r\n        if (typeof console === undefinedType) {\r\n            return false; // We can't build a real method without a console to log to\r\n        } else if (console[methodName] !== undefined) {\r\n            return bindMethod(console, methodName);\r\n        } else if (console.log !== undefined) {\r\n            return bindMethod(console, 'log');\r\n        } else {\r\n            return noop;\r\n        }\r\n    }\r\n\r\n    function bindMethod(obj, methodName) {\r\n        var method = obj[methodName];\r\n        if (typeof method.bind === 'function') {\r\n            return method.bind(obj);\r\n        } else {\r\n            try {\r\n                return Function.prototype.bind.call(method, obj);\r\n            } catch (e) {\r\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\r\n                return function() {\r\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    // these private functions always need `this` to be set properly\r\n\r\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\r\n        return function () {\r\n            if (typeof console !== undefinedType) {\r\n                replaceLoggingMethods.call(this, level, loggerName);\r\n                this[methodName].apply(this, arguments);\r\n            }\r\n        };\r\n    }\r\n\r\n    function replaceLoggingMethods(level, loggerName) {\r\n        /*jshint validthis:true */\r\n        for (var i = 0; i < logMethods.length; i++) {\r\n            var methodName = logMethods[i];\r\n            this[methodName] = (i < level) ?\r\n                noop :\r\n                this.methodFactory(methodName, level, loggerName);\r\n        }\r\n    }\r\n\r\n    function defaultMethodFactory(methodName, level, loggerName) {\r\n        /*jshint validthis:true */\r\n        return realMethod(methodName) ||\r\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\r\n    }\r\n\r\n    var logMethods = [\r\n        \"trace\",\r\n        \"debug\",\r\n        \"info\",\r\n        \"warn\",\r\n        \"error\"\r\n    ];\r\n\r\n    function Logger(name, defaultLevel, factory) {\r\n      var self = this;\r\n      var currentLevel;\r\n      var storageKey = \"loglevel\";\r\n      if (name) {\r\n        storageKey += \":\" + name;\r\n      }\r\n\r\n      function persistLevelIfPossible(levelNum) {\r\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\r\n\r\n          // Use localStorage if available\r\n          try {\r\n              window.localStorage[storageKey] = levelName;\r\n              return;\r\n          } catch (ignore) {}\r\n\r\n          // Use session cookie as fallback\r\n          try {\r\n              window.document.cookie =\r\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\r\n          } catch (ignore) {}\r\n      }\r\n\r\n      function getPersistedLevel() {\r\n          var storedLevel;\r\n\r\n          try {\r\n              storedLevel = window.localStorage[storageKey];\r\n          } catch (ignore) {}\r\n\r\n          if (typeof storedLevel === undefinedType) {\r\n              try {\r\n                  var cookie = window.document.cookie;\r\n                  var location = cookie.indexOf(\r\n                      encodeURIComponent(storageKey) + \"=\");\r\n                  if (location) {\r\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\r\n                  }\r\n              } catch (ignore) {}\r\n          }\r\n\r\n          // If the stored level is not valid, treat it as if nothing was stored.\r\n          if (self.levels[storedLevel] === undefined) {\r\n              storedLevel = undefined;\r\n          }\r\n\r\n          return storedLevel;\r\n      }\r\n\r\n      /*\r\n       *\r\n       * Public API\r\n       *\r\n       */\r\n\r\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\r\n          \"ERROR\": 4, \"SILENT\": 5};\r\n\r\n      self.methodFactory = factory || defaultMethodFactory;\r\n\r\n      self.getLevel = function () {\r\n          return currentLevel;\r\n      };\r\n\r\n      self.setLevel = function (level, persist) {\r\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\r\n              level = self.levels[level.toUpperCase()];\r\n          }\r\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\r\n              currentLevel = level;\r\n              if (persist !== false) {  // defaults to true\r\n                  persistLevelIfPossible(level);\r\n              }\r\n              replaceLoggingMethods.call(self, level, name);\r\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\r\n                  return \"No console available for logging\";\r\n              }\r\n          } else {\r\n              throw \"log.setLevel() called with invalid level: \" + level;\r\n          }\r\n      };\r\n\r\n      self.setDefaultLevel = function (level) {\r\n          if (!getPersistedLevel()) {\r\n              self.setLevel(level, false);\r\n          }\r\n      };\r\n\r\n      self.enableAll = function(persist) {\r\n          self.setLevel(self.levels.TRACE, persist);\r\n      };\r\n\r\n      self.disableAll = function(persist) {\r\n          self.setLevel(self.levels.SILENT, persist);\r\n      };\r\n\r\n      // Initialize with the right level\r\n      var initialLevel = getPersistedLevel();\r\n      if (initialLevel == null) {\r\n          initialLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\r\n      }\r\n      self.setLevel(initialLevel, false);\r\n    }\r\n\r\n    /*\r\n     *\r\n     * Package-level API\r\n     *\r\n     */\r\n\r\n    var defaultLogger = new Logger();\r\n\r\n    var _loggersByName = {};\r\n    defaultLogger.getLogger = function getLogger(name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n          throw new TypeError(\"You must supply a name when creating a logger.\");\r\n        }\r\n\r\n        var logger = _loggersByName[name];\r\n        if (!logger) {\r\n          logger = _loggersByName[name] = new Logger(\r\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\r\n        }\r\n        return logger;\r\n    };\r\n\r\n    // Grab the current global log variable in case of overwrite\r\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\r\n    defaultLogger.noConflict = function() {\r\n        if (typeof window !== undefinedType &&\r\n               window.log === defaultLogger) {\r\n            window.log = _log;\r\n        }\r\n\r\n        return defaultLogger;\r\n    };\r\n\r\n    return defaultLogger;\r\n}));\r\n\n},{}],247:[function(require,module,exports){\nvar trim = require('trim')\n  , forEach = require('for-each')\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  forEach(\n      trim(headers).split('\\n')\n    , function (row) {\n        var index = row.indexOf(':')\n          , key = trim(row.slice(0, index)).toLowerCase()\n          , value = trim(row.slice(index + 1))\n\n        if (typeof(result[key]) === 'undefined') {\n          result[key] = value\n        } else if (isArray(result[key])) {\n          result[key].push(value)\n        } else {\n          result[key] = [ result[key], value ]\n        }\n      }\n  )\n\n  return result\n}\n},{\"for-each\":11,\"trim\":262}],248:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n\n}).call(this,require('_process'))\n\n},{\"_process\":249}],249:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],250:[function(require,module,exports){\n(function (process){\nmodule.exports = process.env.PROMISE_QUEUE_COVERAGE ?\n    require('./lib-cov') :\n    require('./lib');\n\n}).call(this,require('_process'))\n\n},{\"./lib\":252,\"./lib-cov\":251,\"_process\":249}],251:[function(require,module,exports){\n\n},{}],252:[function(require,module,exports){\n/* global define, Promise */\n(function (root, factory) {\n    'use strict';\n    if (typeof module === 'object' && module.exports && typeof require === 'function') {\n        // CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && typeof define.amd === 'object') {\n        // AMD. Register as an anonymous module.\n        define(factory);\n    } else {\n        // Browser globals\n        root.Queue = factory();\n    }\n})\n(this, function () {\n    'use strict';\n\n    /**\n     * @return {Object}\n     */\n    var LocalPromise = typeof Promise !== 'undefined' ? Promise : function () {\n        return {\n            then: function () {\n                throw new Error('Queue.configure() before use Queue');\n            }\n        };\n    };\n\n    var noop = function () {};\n\n    /**\n     * @param {*} value\n     * @returns {LocalPromise}\n     */\n    var resolveWith = function (value) {\n        if (value && typeof value.then === 'function') {\n            return value;\n        }\n\n        return new LocalPromise(function (resolve) {\n            resolve(value);\n        });\n    };\n\n    /**\n     * It limits concurrently executed promises\n     *\n     * @param {Number} [maxPendingPromises=Infinity] max number of concurrently executed promises\n     * @param {Number} [maxQueuedPromises=Infinity]  max number of queued promises\n     * @constructor\n     *\n     * @example\n     *\n     * var queue = new Queue(1);\n     *\n     * queue.add(function () {\n     *     // resolve of this promise will resume next request\n     *     return downloadTarballFromGithub(url, file);\n     * })\n     * .then(function (file) {\n     *     doStuffWith(file);\n     * });\n     *\n     * queue.add(function () {\n     *     return downloadTarballFromGithub(url, file);\n     * })\n     * // This request will be paused\n     * .then(function (file) {\n     *     doStuffWith(file);\n     * });\n     */\n    function Queue(maxPendingPromises, maxQueuedPromises) {\n        this.pendingPromises = 0;\n        this.maxPendingPromises = typeof maxPendingPromises !== 'undefined' ? maxPendingPromises : Infinity;\n        this.maxQueuedPromises = typeof maxQueuedPromises !== 'undefined' ? maxQueuedPromises : Infinity;\n        this.queue = [];\n    }\n\n    /**\n     * Defines promise promiseFactory\n     * @param {Function} GlobalPromise\n     */\n    Queue.configure = function (GlobalPromise) {\n        LocalPromise = GlobalPromise;\n    };\n\n    /**\n     * @param {Function} promiseGenerator\n     * @return {LocalPromise}\n     */\n    Queue.prototype.add = function (promiseGenerator) {\n        var self = this;\n        return new LocalPromise(function (resolve, reject, notify) {\n            // Do not queue to much promises\n            if (self.queue.length >= self.maxQueuedPromises) {\n                reject(new Error('Queue limit reached'));\n                return;\n            }\n\n            // Add to queue\n            self.queue.push({\n                promiseGenerator: promiseGenerator,\n                resolve: resolve,\n                reject: reject,\n                notify: notify || noop\n            });\n\n            self._dequeue();\n        });\n    };\n\n    /**\n     * Number of simultaneously running promises (which are resolving)\n     *\n     * @return {number}\n     */\n    Queue.prototype.getPendingLength = function () {\n        return this.pendingPromises;\n    };\n\n    /**\n     * Number of queued promises (which are waiting)\n     *\n     * @return {number}\n     */\n    Queue.prototype.getQueueLength = function () {\n        return this.queue.length;\n    };\n\n    /**\n     * @returns {boolean} true if first item removed from queue\n     * @private\n     */\n    Queue.prototype._dequeue = function () {\n        var self = this;\n        if (this.pendingPromises >= this.maxPendingPromises) {\n            return false;\n        }\n\n        // Remove from queue\n        var item = this.queue.shift();\n        if (!item) {\n            return false;\n        }\n\n        try {\n            this.pendingPromises++;\n\n            resolveWith(item.promiseGenerator())\n            // Forward all stuff\n                .then(function (value) {\n                    // It is not pending now\n                    self.pendingPromises--;\n                    // It should pass values\n                    item.resolve(value);\n                    self._dequeue();\n                }, function (err) {\n                    // It is not pending now\n                    self.pendingPromises--;\n                    // It should not mask errors\n                    item.reject(err);\n                    self._dequeue();\n                }, function (message) {\n                    // It should pass notifications\n                    item.notify(message);\n                });\n        } catch (err) {\n            self.pendingPromises--;\n            item.reject(err);\n            self._dequeue();\n\n        }\n\n        return true;\n    };\n\n    return Queue;\n});\n\n},{}],253:[function(require,module,exports){\n(function (global){\n/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],254:[function(require,module,exports){\n'use strict';\n\nvar Stringify = require('./stringify');\nvar Parse = require('./parse');\n\nmodule.exports = {\n    stringify: Stringify,\n    parse: Parse\n};\n\n},{\"./parse\":255,\"./stringify\":256}],255:[function(require,module,exports){\n'use strict';\n\nvar Utils = require('./utils');\n\nvar internals = {\n    delimiter: '&',\n    depth: 5,\n    arrayLimit: 20,\n    parameterLimit: 1000,\n    strictNullHandling: false,\n    plainObjects: false,\n    allowPrototypes: false,\n    allowDots: false\n};\n\ninternals.parseValues = function (str, options) {\n    var obj = {};\n    var parts = str.split(options.delimiter, options.parameterLimit === Infinity ? undefined : options.parameterLimit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n        var pos = part.indexOf(']=') === -1 ? part.indexOf('=') : part.indexOf(']=') + 1;\n\n        if (pos === -1) {\n            obj[Utils.decode(part)] = '';\n\n            if (options.strictNullHandling) {\n                obj[Utils.decode(part)] = null;\n            }\n        } else {\n            var key = Utils.decode(part.slice(0, pos));\n            var val = Utils.decode(part.slice(pos + 1));\n\n            if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                obj[key] = [].concat(obj[key]).concat(val);\n            } else {\n                obj[key] = val;\n            }\n        }\n    }\n\n    return obj;\n};\n\ninternals.parseObject = function (chain, val, options) {\n    if (!chain.length) {\n        return val;\n    }\n\n    var root = chain.shift();\n\n    var obj;\n    if (root === '[]') {\n        obj = [];\n        obj = obj.concat(internals.parseObject(chain, val, options));\n    } else {\n        obj = options.plainObjects ? Object.create(null) : {};\n        var cleanRoot = root[0] === '[' && root[root.length - 1] === ']' ? root.slice(1, root.length - 1) : root;\n        var index = parseInt(cleanRoot, 10);\n        if (\n            !isNaN(index) &&\n            root !== cleanRoot &&\n            String(index) === cleanRoot &&\n            index >= 0 &&\n            (options.parseArrays && index <= options.arrayLimit)\n        ) {\n            obj = [];\n            obj[index] = internals.parseObject(chain, val, options);\n        } else {\n            obj[cleanRoot] = internals.parseObject(chain, val, options);\n        }\n    }\n\n    return obj;\n};\n\ninternals.parseKeys = function (givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^\\.\\[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var parent = /^([^\\[\\]]*)/;\n    var child = /(\\[[^\\[\\]]*\\])/g;\n\n    // Get the parent\n\n    var segment = parent.exec(key);\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (segment[1]) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && Object.prototype.hasOwnProperty(segment[1])) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(segment[1]);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && Object.prototype.hasOwnProperty(segment[1].replace(/\\[|\\]/g, ''))) {\n            if (!options.allowPrototypes) {\n                continue;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return internals.parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts || {};\n    options.delimiter = typeof options.delimiter === 'string' || Utils.isRegExp(options.delimiter) ? options.delimiter : internals.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : internals.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : internals.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : internals.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : internals.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : internals.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : internals.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : internals.strictNullHandling;\n\n    if (\n        str === '' ||\n        str === null ||\n        typeof str === 'undefined'\n    ) {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? internals.parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = internals.parseKeys(key, tempObj[key], options);\n        obj = Utils.merge(obj, newObj, options);\n    }\n\n    return Utils.compact(obj);\n};\n\n},{\"./utils\":257}],256:[function(require,module,exports){\n'use strict';\n\nvar Utils = require('./utils');\n\nvar internals = {\n    delimiter: '&',\n    arrayPrefixGenerators: {\n        brackets: function (prefix) {\n            return prefix + '[]';\n        },\n        indices: function (prefix, key) {\n            return prefix + '[' + key + ']';\n        },\n        repeat: function (prefix) {\n            return prefix;\n        }\n    },\n    strictNullHandling: false,\n    skipNulls: false,\n    encode: true\n};\n\ninternals.stringify = function (object, prefix, generateArrayPrefix, strictNullHandling, skipNulls, encode, filter, sort, allowDots) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (Utils.isBuffer(obj)) {\n        obj = String(obj);\n    } else if (obj instanceof Date) {\n        obj = obj.toISOString();\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encode ? Utils.encode(prefix) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean') {\n        if (encode) {\n            return [Utils.encode(prefix) + '=' + Utils.encode(obj)];\n        }\n        return [prefix + '=' + obj];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(internals.stringify(obj[key], generateArrayPrefix(prefix, key), generateArrayPrefix, strictNullHandling, skipNulls, encode, filter, sort, allowDots));\n        } else {\n            values = values.concat(internals.stringify(obj[key], prefix + (allowDots ? '.' + key : '[' + key + ']'), generateArrayPrefix, strictNullHandling, skipNulls, encode, filter, sort, allowDots));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts || {};\n    var delimiter = typeof options.delimiter === 'undefined' ? internals.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : internals.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : internals.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : internals.encode;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var objKeys;\n    var filter;\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        objKeys = filter = options.filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in internals.arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = internals.arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(internals.stringify(obj[key], key, generateArrayPrefix, strictNullHandling, skipNulls, encode, filter, sort, allowDots));\n    }\n\n    return keys.join(delimiter);\n};\n\n},{\"./utils\":257}],257:[function(require,module,exports){\n'use strict';\n\nvar hexTable = (function () {\n    var array = new Array(256);\n    for (var i = 0; i < 256; ++i) {\n        array[i] = '%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase();\n    }\n\n    return array;\n}());\n\nexports.arrayToObject = function (source, options) {\n    var obj = options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nexports.merge = function (target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            target[source] = true;\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = exports.arrayToObject(target, options);\n    }\n\n\treturn Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (Object.prototype.hasOwnProperty.call(acc, key)) {\n            acc[key] = exports.merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n\t\treturn acc;\n    }, mergeTarget);\n};\n\nexports.decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nexports.encode = function (str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D || // -\n            c === 0x2E || // .\n            c === 0x5F || // _\n            c === 0x7E || // ~\n            (c >= 0x30 && c <= 0x39) || // 0-9\n            (c >= 0x41 && c <= 0x5A) || // a-z\n            (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += (hexTable[0xF0 | (c >> 18)] + hexTable[0x80 | ((c >> 12) & 0x3F)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n    }\n\n    return out;\n};\n\nexports.compact = function (obj, references) {\n    if (typeof obj !== 'object' || obj === null) {\n        return obj;\n    }\n\n    var refs = references || [];\n    var lookup = refs.indexOf(obj);\n    if (lookup !== -1) {\n        return refs[lookup];\n    }\n\n    refs.push(obj);\n\n    if (Array.isArray(obj)) {\n        var compacted = [];\n\n        for (var i = 0; i < obj.length; ++i) {\n            if (typeof obj[i] !== 'undefined') {\n                compacted.push(obj[i]);\n            }\n        }\n\n        return compacted;\n    }\n\n    var keys = Object.keys(obj);\n    for (var j = 0; j < keys.length; ++j) {\n        var key = keys[j];\n        obj[key] = exports.compact(obj[key], refs);\n    }\n\n    return obj;\n};\n\nexports.isRegExp = function (obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nexports.isBuffer = function (obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\n},{}],258:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\n},{}],259:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n\n},{}],260:[function(require,module,exports){\n'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n\n},{\"./decode\":258,\"./encode\":259}],261:[function(require,module,exports){\n/*\n * Sift 3.x\n *\n * Copryright 2015, Craig Condon\n * Licensed under MIT\n *\n * Filter JavaScript objects with mongodb queries\n */\n\n(function() {\n\n  'use strict';\n\n  /**\n   */\n\n  function isFunction(value) {\n    return typeof value === 'function';\n  }\n\n  /**\n   */\n\n  function isArray(value) {\n    return Object.prototype.toString.call(value) === '[object Array]';\n  }\n\n  /**\n   */\n\n  function comparable(value) {\n    if (value instanceof Date) {\n      return value.getTime();\n    } else if (value instanceof Array) {\n      return value.map(comparable);\n    } else {\n      return value;\n    }\n  }\n\n  function get(obj, key) {\n    if (obj.get) return obj.get(key);\n    return obj[key];\n  }\n\n  /**\n   */\n\n  function or(validator) {\n    return function(a, b) {\n      if (!isArray(b) || !b.length) return validator(a, b);\n      for (var i = 0, n = b.length; i < n; i++) if (validator(a, get(b,i))) return true;\n      return false;\n    }\n  }\n\n  /**\n   */\n\n  function and(validator) {\n    return function(a, b) {\n      if (!isArray(b) || !b.length) return validator(a, b);\n      for (var i = 0, n = b.length; i < n; i++) if (!validator(a, get(b, i))) return false;\n      return true;\n    };\n  }\n\n  function validate(validator, b) {\n    return validator.v(validator.a, b);\n  }\n\n\n  var operator = {\n\n    /**\n     */\n\n    $eq: or(function(a, b) {\n      return a(b);\n    }),\n\n    /**\n     */\n\n    $ne: and(function(a, b) {\n      return !a(b);\n    }),\n\n    /**\n     */\n\n    $or: function(a, b) {\n      for (var i = 0, n = a.length; i < n; i++) if (validate(get(a, i), b)) return true;\n      return false;\n    },\n\n    /**\n     */\n\n    $gt: or(function(a, b) {\n      return sift.compare(comparable(b), a) > 0;\n    }),\n\n    /**\n     */\n\n    $gte: or(function(a, b) {\n      return sift.compare(comparable(b), a) >= 0;\n    }),\n\n    /**\n     */\n\n    $lt: or(function(a, b) {\n      return sift.compare(comparable(b), a) < 0;\n    }),\n\n    /**\n     */\n\n    $lte: or(function(a, b) {\n      return sift.compare(comparable(b), a) <= 0;\n    }),\n\n    /**\n     */\n\n    $mod: or(function(a, b) {\n      return b % a[0] == a[1];\n    }),\n\n    /**\n     */\n\n    $in: function(a, b) {\n\n      if (b instanceof Array) {\n        for (var i = b.length; i--;) {\n          if (~a.indexOf(comparable(get(b, i)))) return true;\n        }\n      } else {\n        return !!~a.indexOf(comparable(b));\n      }\n\n      return false;\n    },\n\n    /**\n     */\n\n    $nin: function(a, b) {\n      return !operator.$in(a, b);\n    },\n\n    /**\n     */\n\n    $not: function(a, b) {\n      return !validate(a, b);\n    },\n\n    /**\n     */\n\n    $type: function(a, b) {\n      return b != void 0 ? b instanceof a || b.constructor == a : false;\n     },\n\n    /**\n     */\n\n    $all: function(a, b) {\n      if (!b) b = [];\n      for (var i = a.length; i--;) {\n        if (!~comparable(b).indexOf(get(a, i))) return false;\n      }\n      return true;\n    },\n\n    /**\n     */\n\n    $size: function(a, b) {\n      return b ? a === b.length : false;\n    },\n\n    /**\n     */\n\n    $nor: function(a, b) {\n      // todo - this suffice? return !operator.$in(a)\n      for (var i = 0, n = a.length; i < n; i++) if (validate(get(a, i), b)) return false;\n      return true;\n    },\n\n    /**\n     */\n\n    $and: function(a, b) {\n      for (var i = 0, n = a.length; i < n; i++) if (!validate(get(a, i), b)) return false;\n      return true;\n    },\n\n    /**\n     */\n\n    $regex: or(function(a, b) {\n      return typeof b === 'string' && a.test(b);\n    }),\n\n    /**\n     */\n\n    $where: function(a, b) {\n      return a.call(b, b);\n    },\n\n    /**\n     */\n\n    $elemMatch: function(a, b) {\n      if (isArray(b)) return !!~search(b, a);\n      return validate(a, b);\n    },\n\n    /**\n     */\n\n    $exists: function(a, b) {\n      return (b != void 0) === a;\n    }\n  };\n\n  /**\n   */\n\n  var prepare = {\n\n    /**\n     */\n\n    $eq: function(a) {\n\n      if (a instanceof RegExp) {\n        return function(b) {\n          return typeof b === 'string' && a.test(b);\n        };\n      } else if (a instanceof Function) {\n        return a;\n      } else if (isArray(a) && !a.length) {\n        // Special case of a == []\n        return function(b) {\n          return (isArray(b) && !b.length);\n        };\n      } else if (a === null){\n        return function(b){\n          //will match both null and undefined\n          return b == null;\n        }\n      }\n\n      return function(b) {\n        return sift.compare(comparable(b), a) === 0;\n      };\n    },\n\n    /**\n     */\n\n    $ne: function(a) {\n      return prepare.$eq(a);\n    },\n\n    /**\n     */\n\n    $and: function(a) {\n      return a.map(parse);\n    },\n\n    /**\n     */\n\n    $or: function(a) {\n      return a.map(parse);\n    },\n\n    /**\n     */\n\n    $nor: function(a) {\n      return a.map(parse);\n    },\n\n    /**\n     */\n\n    $not: function(a) {\n      return parse(a);\n    },\n\n    /**\n     */\n\n    $regex: function(a, query) {\n      return new RegExp(a, query.$options);\n    },\n\n    /**\n     */\n\n    $where: function(a) {\n      return typeof a === 'string' ? new Function('obj', 'return ' + a) : a;\n    },\n\n    /**\n     */\n\n    $elemMatch: function(a) {\n      return parse(a);\n    },\n\n    /**\n     */\n\n    $exists: function(a) {\n      return !!a;\n    }\n  };\n\n  /**\n   */\n\n  function search(array, validator) {\n\n    for (var i = 0; i < array.length; i++) {\n      if (validate(validator, get(array, i))) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  /**\n   */\n\n  function createValidator(a, validate) {\n    return { a: a, v: validate };\n  }\n\n  /**\n   */\n\n  function nestedValidator(a, b) {\n    var values  = [];\n    findValues(b, a.k, 0, values);\n\n    if (values.length === 1) {\n      return validate(a.nv, values[0]);\n    }\n\n    return !!~search(values, a.nv);\n  }\n\n  /**\n   */\n\n  function findValues(current, keypath, index, values) {\n\n    if (index === keypath.length || current == void 0) {\n      values.push(current);\n      return;\n    }\n\n    var k = get(keypath, index);\n\n    // ensure that if current is an array, that the current key\n    // is NOT an array index. This sort of thing needs to work:\n    // sift({'foo.0':42}, [{foo: [42]}]);\n    if (isArray(current) && isNaN(Number(k))) {\n      for (var i = 0, n = current.length; i < n; i++) {\n        findValues(get(current, i), keypath, index, values);\n      }\n    } else {\n      findValues(get(current, k), keypath, index + 1, values);\n    }\n  }\n\n  /**\n   */\n\n  function createNestedValidator(keypath, a) {\n    return { a: { k: keypath, nv: a }, v: nestedValidator };\n  }\n\n  /**\n   * flatten the query\n   */\n\n  function parse(query) {\n    query = comparable(query);\n\n    if (!query || (query.constructor.toString() !== 'Object' &&\n        query.constructor.toString().replace(/\\n/g,'').replace(/ /g, '') !== 'functionObject(){[nativecode]}')) { // cross browser support\n      query = { $eq: query };\n    }\n\n    var validators = [];\n\n    for (var key in query) {\n      var a = query[key];\n\n      if (key === '$options') continue;\n\n      if (operator[key]) {\n        if (prepare[key]) a = prepare[key](a, query);\n        validators.push(createValidator(comparable(a), operator[key]));\n      } else {\n\n        if (key.charCodeAt(0) === 36) {\n          throw new Error('Unknown operation ' + key);\n        }\n\n        validators.push(createNestedValidator(key.split('.'), parse(a)));\n      }\n    }\n\n    return validators.length === 1 ? validators[0] : createValidator(validators, operator.$and);\n  }\n\n  /**\n   */\n\n  function createRootValidator(query, getter) {\n    var validator = parse(query);\n    if (getter) {\n      validator = {\n        a: validator,\n        v: function(a, b) {\n          return validate(a, getter(b));\n        }\n      };\n    }\n    return validator;\n  }\n\n  /**\n   */\n\n  function sift(query, array, getter) {\n\n    if (isFunction(array)) {\n      getter = array;\n      array  = void 0;\n    }\n\n    var validator = createRootValidator(query, getter);\n\n    function filter(b) {\n      return validate(validator, b);\n    }\n\n    if (array) {\n      return array.filter(filter);\n    }\n\n    return filter;\n  }\n\n  /**\n   */\n\n  sift.use = function(plugin) {\n    if (isFunction(plugin)) return plugin(sift);\n    for (var key in plugin) {\n      if (key.charCodeAt(0) === 36) operator[key] = plugin[key];\n    }\n  };\n\n  /**\n   */\n\n  sift.indexOf = function(query, array, getter) {\n    return search(array, createRootValidator(query, getter));\n  };\n\n  /**\n   */\n\n  sift.compare = function(a, b) {\n    if(a===b) return 0;\n    if(typeof a === typeof b) {\n      if (a > b) return 1;\n      if (a < b) return -1;\n    }\n  };\n\n  /* istanbul ignore next */\n  if (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n    module.exports = sift;\n  }\n\n  if (typeof window !== 'undefined') {\n    window.sift = sift;\n  }\n})();\n\n},{}],262:[function(require,module,exports){\n\nexports = module.exports = trim;\n\nfunction trim(str){\n  return str.replace(/^\\s*|\\s*$/g, '');\n}\n\nexports.left = function(str){\n  return str.replace(/^\\s*/, '');\n};\n\nexports.right = function(str){\n  return str.replace(/\\s*$/, '');\n};\n\n},{}],263:[function(require,module,exports){\n/**\n * Export `uid`\n */\n\nmodule.exports = uid;\n\n/**\n * Create a `uid`\n *\n * @param {String} len\n * @return {String} uid\n */\n\nfunction uid(len) {\n  len = len || 7;\n  return Math.random().toString(35).substr(2, len);\n}\n\n},{}],264:[function(require,module,exports){\n// Generated by CoffeeScript 1.10.0\nvar slice = [].slice;\n\n(function(root, factory) {\n  if (('function' === typeof define) && (define.amd != null)) {\n    return define([], factory);\n  } else if (typeof exports !== \"undefined\" && exports !== null) {\n    return module.exports = factory();\n  } else {\n    return root.UrlPattern = factory();\n  }\n})(this, function() {\n  var P, UrlPattern, astNodeContainsSegmentsForProvidedParams, astNodeToNames, astNodeToRegexString, baseAstNodeToRegexString, concatMap, defaultOptions, escapeForRegex, getParam, keysAndValuesToObject, newParser, regexGroupCount, stringConcatMap, stringify;\n  escapeForRegex = function(string) {\n    return string.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n  };\n  concatMap = function(array, f) {\n    var i, length, results;\n    results = [];\n    i = -1;\n    length = array.length;\n    while (++i < length) {\n      results = results.concat(f(array[i]));\n    }\n    return results;\n  };\n  stringConcatMap = function(array, f) {\n    var i, length, result;\n    result = '';\n    i = -1;\n    length = array.length;\n    while (++i < length) {\n      result += f(array[i]);\n    }\n    return result;\n  };\n  regexGroupCount = function(regex) {\n    return (new RegExp(regex.toString() + '|')).exec('').length - 1;\n  };\n  keysAndValuesToObject = function(keys, values) {\n    var i, key, length, object, value;\n    object = {};\n    i = -1;\n    length = keys.length;\n    while (++i < length) {\n      key = keys[i];\n      value = values[i];\n      if (value == null) {\n        continue;\n      }\n      if (object[key] != null) {\n        if (!Array.isArray(object[key])) {\n          object[key] = [object[key]];\n        }\n        object[key].push(value);\n      } else {\n        object[key] = value;\n      }\n    }\n    return object;\n  };\n  P = {};\n  P.Result = function(value, rest) {\n    this.value = value;\n    this.rest = rest;\n  };\n  P.Tagged = function(tag, value) {\n    this.tag = tag;\n    this.value = value;\n  };\n  P.tag = function(tag, parser) {\n    return function(input) {\n      var result, tagged;\n      result = parser(input);\n      if (result == null) {\n        return;\n      }\n      tagged = new P.Tagged(tag, result.value);\n      return new P.Result(tagged, result.rest);\n    };\n  };\n  P.regex = function(regex) {\n    return function(input) {\n      var matches, result;\n      matches = regex.exec(input);\n      if (matches == null) {\n        return;\n      }\n      result = matches[0];\n      return new P.Result(result, input.slice(result.length));\n    };\n  };\n  P.sequence = function() {\n    var parsers;\n    parsers = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n    return function(input) {\n      var i, length, parser, rest, result, values;\n      i = -1;\n      length = parsers.length;\n      values = [];\n      rest = input;\n      while (++i < length) {\n        parser = parsers[i];\n        result = parser(rest);\n        if (result == null) {\n          return;\n        }\n        values.push(result.value);\n        rest = result.rest;\n      }\n      return new P.Result(values, rest);\n    };\n  };\n  P.pick = function() {\n    var indexes, parsers;\n    indexes = arguments[0], parsers = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n    return function(input) {\n      var array, result;\n      result = P.sequence.apply(P, parsers)(input);\n      if (result == null) {\n        return;\n      }\n      array = result.value;\n      result.value = array[indexes];\n      return result;\n    };\n  };\n  P.string = function(string) {\n    var length;\n    length = string.length;\n    return function(input) {\n      if (input.slice(0, length) === string) {\n        return new P.Result(string, input.slice(length));\n      }\n    };\n  };\n  P.lazy = function(fn) {\n    var cached;\n    cached = null;\n    return function(input) {\n      if (cached == null) {\n        cached = fn();\n      }\n      return cached(input);\n    };\n  };\n  P.baseMany = function(parser, end, stringResult, atLeastOneResultRequired, input) {\n    var endResult, parserResult, rest, results;\n    rest = input;\n    results = stringResult ? '' : [];\n    while (true) {\n      if (end != null) {\n        endResult = end(rest);\n        if (endResult != null) {\n          break;\n        }\n      }\n      parserResult = parser(rest);\n      if (parserResult == null) {\n        break;\n      }\n      if (stringResult) {\n        results += parserResult.value;\n      } else {\n        results.push(parserResult.value);\n      }\n      rest = parserResult.rest;\n    }\n    if (atLeastOneResultRequired && results.length === 0) {\n      return;\n    }\n    return new P.Result(results, rest);\n  };\n  P.many1 = function(parser) {\n    return function(input) {\n      return P.baseMany(parser, null, false, true, input);\n    };\n  };\n  P.concatMany1Till = function(parser, end) {\n    return function(input) {\n      return P.baseMany(parser, end, true, true, input);\n    };\n  };\n  P.firstChoice = function() {\n    var parsers;\n    parsers = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n    return function(input) {\n      var i, length, parser, result;\n      i = -1;\n      length = parsers.length;\n      while (++i < length) {\n        parser = parsers[i];\n        result = parser(input);\n        if (result != null) {\n          return result;\n        }\n      }\n    };\n  };\n  newParser = function(options) {\n    var U;\n    U = {};\n    U.wildcard = P.tag('wildcard', P.string(options.wildcardChar));\n    U.optional = P.tag('optional', P.pick(1, P.string(options.optionalSegmentStartChar), P.lazy(function() {\n      return U.pattern;\n    }), P.string(options.optionalSegmentEndChar)));\n    U.name = P.regex(new RegExp(\"^[\" + options.segmentNameCharset + \"]+\"));\n    U.named = P.tag('named', P.pick(1, P.string(options.segmentNameStartChar), P.lazy(function() {\n      return U.name;\n    })));\n    U.escapedChar = P.pick(1, P.string(options.escapeChar), P.regex(/^./));\n    U[\"static\"] = P.tag('static', P.concatMany1Till(P.firstChoice(P.lazy(function() {\n      return U.escapedChar;\n    }), P.regex(/^./)), P.firstChoice(P.string(options.segmentNameStartChar), P.string(options.optionalSegmentStartChar), P.string(options.optionalSegmentEndChar), U.wildcard)));\n    U.token = P.lazy(function() {\n      return P.firstChoice(U.wildcard, U.optional, U.named, U[\"static\"]);\n    });\n    U.pattern = P.many1(P.lazy(function() {\n      return U.token;\n    }));\n    return U;\n  };\n  defaultOptions = {\n    escapeChar: '\\\\',\n    segmentNameStartChar: ':',\n    segmentValueCharset: 'a-zA-Z0-9-_~ %',\n    segmentNameCharset: 'a-zA-Z0-9',\n    optionalSegmentStartChar: '(',\n    optionalSegmentEndChar: ')',\n    wildcardChar: '*'\n  };\n  baseAstNodeToRegexString = function(astNode, segmentValueCharset) {\n    if (Array.isArray(astNode)) {\n      return stringConcatMap(astNode, function(node) {\n        return baseAstNodeToRegexString(node, segmentValueCharset);\n      });\n    }\n    switch (astNode.tag) {\n      case 'wildcard':\n        return '(.*?)';\n      case 'named':\n        return \"([\" + segmentValueCharset + \"]+)\";\n      case 'static':\n        return escapeForRegex(astNode.value);\n      case 'optional':\n        return '(?:' + baseAstNodeToRegexString(astNode.value, segmentValueCharset) + ')?';\n    }\n  };\n  astNodeToRegexString = function(astNode, segmentValueCharset) {\n    if (segmentValueCharset == null) {\n      segmentValueCharset = defaultOptions.segmentValueCharset;\n    }\n    return '^' + baseAstNodeToRegexString(astNode, segmentValueCharset) + '$';\n  };\n  astNodeToNames = function(astNode) {\n    if (Array.isArray(astNode)) {\n      return concatMap(astNode, astNodeToNames);\n    }\n    switch (astNode.tag) {\n      case 'wildcard':\n        return ['_'];\n      case 'named':\n        return [astNode.value];\n      case 'static':\n        return [];\n      case 'optional':\n        return astNodeToNames(astNode.value);\n    }\n  };\n  getParam = function(params, key, nextIndexes, sideEffects) {\n    var index, maxIndex, result, value;\n    if (sideEffects == null) {\n      sideEffects = false;\n    }\n    value = params[key];\n    if (value == null) {\n      if (sideEffects) {\n        throw new Error(\"no values provided for key `\" + key + \"`\");\n      } else {\n        return;\n      }\n    }\n    index = nextIndexes[key] || 0;\n    maxIndex = Array.isArray(value) ? value.length - 1 : 0;\n    if (index > maxIndex) {\n      if (sideEffects) {\n        throw new Error(\"too few values provided for key `\" + key + \"`\");\n      } else {\n        return;\n      }\n    }\n    result = Array.isArray(value) ? value[index] : value;\n    if (sideEffects) {\n      nextIndexes[key] = index + 1;\n    }\n    return result;\n  };\n  astNodeContainsSegmentsForProvidedParams = function(astNode, params, nextIndexes) {\n    var i, length;\n    if (Array.isArray(astNode)) {\n      i = -1;\n      length = astNode.length;\n      while (++i < length) {\n        if (astNodeContainsSegmentsForProvidedParams(astNode[i], params, nextIndexes)) {\n          return true;\n        }\n      }\n      return false;\n    }\n    switch (astNode.tag) {\n      case 'wildcard':\n        return getParam(params, '_', nextIndexes, false) != null;\n      case 'named':\n        return getParam(params, astNode.value, nextIndexes, false) != null;\n      case 'static':\n        return false;\n      case 'optional':\n        return astNodeContainsSegmentsForProvidedParams(astNode.value, params, nextIndexes);\n    }\n  };\n  stringify = function(astNode, params, nextIndexes) {\n    if (Array.isArray(astNode)) {\n      return stringConcatMap(astNode, function(node) {\n        return stringify(node, params, nextIndexes);\n      });\n    }\n    switch (astNode.tag) {\n      case 'wildcard':\n        return getParam(params, '_', nextIndexes, true);\n      case 'named':\n        return getParam(params, astNode.value, nextIndexes, true);\n      case 'static':\n        return astNode.value;\n      case 'optional':\n        if (astNodeContainsSegmentsForProvidedParams(astNode.value, params, nextIndexes)) {\n          return stringify(astNode.value, params, nextIndexes);\n        } else {\n          return '';\n        }\n    }\n  };\n  UrlPattern = function(arg1, arg2) {\n    var groupCount, options, parsed, parser, withoutWhitespace;\n    if (arg1 instanceof UrlPattern) {\n      this.isRegex = arg1.isRegex;\n      this.regex = arg1.regex;\n      this.ast = arg1.ast;\n      this.names = arg1.names;\n      return;\n    }\n    this.isRegex = arg1 instanceof RegExp;\n    if (!(('string' === typeof arg1) || this.isRegex)) {\n      throw new TypeError('argument must be a regex or a string');\n    }\n    if (this.isRegex) {\n      this.regex = arg1;\n      if (arg2 != null) {\n        if (!Array.isArray(arg2)) {\n          throw new Error('if first argument is a regex the second argument may be an array of group names but you provided something else');\n        }\n        groupCount = regexGroupCount(this.regex);\n        if (arg2.length !== groupCount) {\n          throw new Error(\"regex contains \" + groupCount + \" groups but array of group names contains \" + arg2.length);\n        }\n        this.names = arg2;\n      }\n      return;\n    }\n    if (arg1 === '') {\n      throw new Error('argument must not be the empty string');\n    }\n    withoutWhitespace = arg1.replace(/\\s+/g, '');\n    if (withoutWhitespace !== arg1) {\n      throw new Error('argument must not contain whitespace');\n    }\n    options = {\n      escapeChar: (arg2 != null ? arg2.escapeChar : void 0) || defaultOptions.escapeChar,\n      segmentNameStartChar: (arg2 != null ? arg2.segmentNameStartChar : void 0) || defaultOptions.segmentNameStartChar,\n      segmentNameCharset: (arg2 != null ? arg2.segmentNameCharset : void 0) || defaultOptions.segmentNameCharset,\n      segmentValueCharset: (arg2 != null ? arg2.segmentValueCharset : void 0) || defaultOptions.segmentValueCharset,\n      optionalSegmentStartChar: (arg2 != null ? arg2.optionalSegmentStartChar : void 0) || defaultOptions.optionalSegmentStartChar,\n      optionalSegmentEndChar: (arg2 != null ? arg2.optionalSegmentEndChar : void 0) || defaultOptions.optionalSegmentEndChar,\n      wildcardChar: (arg2 != null ? arg2.wildcardChar : void 0) || defaultOptions.wildcardChar\n    };\n    parser = newParser(options);\n    parsed = parser.pattern(arg1);\n    if (parsed == null) {\n      throw new Error(\"couldn't parse pattern\");\n    }\n    if (parsed.rest !== '') {\n      throw new Error(\"could only partially parse pattern\");\n    }\n    this.ast = parsed.value;\n    this.regex = new RegExp(astNodeToRegexString(this.ast, options.segmentValueCharset));\n    this.names = astNodeToNames(this.ast);\n  };\n  UrlPattern.prototype.match = function(url) {\n    var groups, match;\n    match = this.regex.exec(url);\n    if (match == null) {\n      return null;\n    }\n    groups = match.slice(1);\n    if (this.names) {\n      return keysAndValuesToObject(this.names, groups);\n    } else {\n      return groups;\n    }\n  };\n  UrlPattern.prototype.stringify = function(params) {\n    if (params == null) {\n      params = {};\n    }\n    if (this.isRegex) {\n      throw new Error(\"can't stringify patterns generated from a regex\");\n    }\n    if (params !== Object(params)) {\n      throw new Error(\"argument must be an object or undefined\");\n    }\n    return stringify(this.ast, params, {});\n  };\n  UrlPattern.escapeForRegex = escapeForRegex;\n  UrlPattern.concatMap = concatMap;\n  UrlPattern.stringConcatMap = stringConcatMap;\n  UrlPattern.regexGroupCount = regexGroupCount;\n  UrlPattern.keysAndValuesToObject = keysAndValuesToObject;\n  UrlPattern.P = P;\n  UrlPattern.newParser = newParser;\n  UrlPattern.defaultOptions = defaultOptions;\n  UrlPattern.astNodeToRegexString = astNodeToRegexString;\n  UrlPattern.astNodeToNames = astNodeToNames;\n  UrlPattern.getParam = getParam;\n  UrlPattern.astNodeContainsSegmentsForProvidedParams = astNodeContainsSegmentsForProvidedParams;\n  UrlPattern.stringify = stringify;\n  return UrlPattern;\n});\n\n},{}],265:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n\n},{\"./util\":266,\"punycode\":253,\"querystring\":260}],266:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n\n},{}],267:[function(require,module,exports){\nmodule.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n},{}],268:[function(require,module,exports){\n(function (process,global){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./support/isBuffer\":267,\"_process\":249,\"inherits\":15}],269:[function(require,module,exports){\nmodule.exports={\n  \"name\": \"kinvey-titanium-sdk\",\n  \"version\": \"3.0.0-beta.13\",\n  \"description\": \"Kinvey JavaScript SDK for Titanium applications.\",\n  \"homepage\": \"http://www.kinvey.com\",\n  \"bugs\": {\n    \"url\": \"http://support.kinvey.com\",\n    \"email\": \"support@kinvey.com\"\n  },\n  \"licenses\": [\n    {\n      \"type\": \"Apache-2.0\",\n      \"url\": \"https://raw.github.com/Kinvey/kinvey-titanium-sdk/master/LICENSE\"\n    }\n  ],\n  \"author\": \"Kinvey, Inc.\",\n  \"contributors\": [\n    \"Thomas Conner <thomas@kinvey.com>\"\n  ],\n  \"main\": \"./src/index.js\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git@github.com:Kinvey/kinvey-titanium-sdk\"\n  },\n  \"scripts\": {},\n  \"dependencies\": {\n    \"kinvey-javascript-sdk-core\": \"3.0.0-beta.12\",\n    \"lodash\": \"^4.3.0\",\n    \"parse-headers\": \"^2.0.1\"\n  },\n  \"devDependencies\": {\n    \"babel-eslint\": \"6.0.0-beta.6\",\n    \"babel-preset-es2015\": \"^6.0.0\",\n    \"babel-preset-stage-2\": \"^6.0.15\",\n    \"babelify\": \"^7.2.0\",\n    \"browserify\": \"^13.0.0\",\n    \"del\": \"^2.0.2\",\n    \"dotenv\": \"^2.0.0\",\n    \"envify\": \"^3.4.0\",\n    \"eslint-config-airbnb\": \"^6.0.0\",\n    \"exorcist\": \"^0.4.0\",\n    \"gulp\": \"^3.9.0\",\n    \"gulp-bump\": \"^1.0.0\",\n    \"gulp-eslint\": \"^2.0.0\",\n    \"gulp-git\": \"^1.7.0\",\n    \"gulp-if\": \"^2.0.0\",\n    \"gulp-plumber\": \"^1.0.1\",\n    \"gulp-prompt\": \"^0.1.2\",\n    \"gulp-rename\": \"^1.2.2\",\n    \"gulp-sourcemaps\": \"^1.6.0\",\n    \"gulp-uglify\": \"^1.5.1\",\n    \"gulp-util\": \"^3.0.6\",\n    \"run-sequence\": \"^1.1.5\",\n    \"semver-regex\": \"^1.0.0\",\n    \"vinyl-buffer\": \"^1.0.0\",\n    \"vinyl-source-stream\": \"^1.1.0\",\n    \"vinyl-transform\": \"^1.0.0\"\n  },\n  \"engines\": {\n    \"node\": \">=4.0\"\n  },\n  \"keywords\": [\n    \"Kinvey\",\n    \"JavaScript\",\n    \"Titanium\"\n  ],\n  \"browserify\": {\n    \"transform\": [[\"babelify\", {\n      \"presets\": [\"es2015\", \"stage-2\"],\n      \"ignore\": \"/\\/node_modules\\/(?!kinvey-javascript-sdk-core\\/)/\"\n    }]]\n  }\n}\n\n},{}],270:[function(require,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CacheMiddleware = undefined;\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nvar _get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;if (getter === undefined) {\n      return undefined;\n    }return getter.call(receiver);\n  }\n};\n\nvar _middleware = require('kinvey-javascript-sdk-core/src/rack/middleware');\n\nvar _enums = require('kinvey-javascript-sdk-core/src/enums');\n\nvar _db = require('./db');\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }return call && ((typeof call === \"undefined\" ? \"undefined\" : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : _typeof(superClass)));\n  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar CacheMiddleware = exports.CacheMiddleware = function (_KinveyMiddleware) {\n  _inherits(CacheMiddleware, _KinveyMiddleware);\n\n  function CacheMiddleware() {\n    var name = arguments.length <= 0 || arguments[0] === undefined ? 'Kinvey Titanium Cache Middleware' : arguments[0];\n    var adapters = arguments.length <= 1 || arguments[1] === undefined ? [_db.DBAdapter.TitaniumDB, _db.DBAdapter.Memory] : arguments[1];\n\n    _classCallCheck(this, CacheMiddleware);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(CacheMiddleware).call(this, name, adapters));\n  }\n\n  _createClass(CacheMiddleware, [{\n    key: 'handle',\n    value: function handle(request) {\n      var _this2 = this;\n\n      return _get(Object.getPrototypeOf(CacheMiddleware.prototype), 'handle', this).call(this, request).then(function (_ref) {\n        var appKey = _ref.appKey;\n        var collection = _ref.collection;\n        var id = _ref.id;\n\n        var method = request.method;\n        var query = request.query;\n        var data = request.data;\n        var db = new _db.DB(appKey, _this2.adapters);\n        var promise = void 0;\n\n        if (method === _enums.HttpMethod.GET) {\n          if (id) {\n            if (id === '_count') {\n              promise = db.count(collection, query);\n            } else if (id === '_group') {\n              promise = db.group(collection, data);\n            } else {\n              promise = db.findById(collection, id);\n            }\n          } else {\n            promise = db.find(collection, query);\n          }\n        } else if (method === _enums.HttpMethod.POST || method === _enums.HttpMethod.PUT) {\n          promise = db.save(collection, data);\n        } else if (method === _enums.HttpMethod.DELETE) {\n          if (id) {\n            promise = db.removeById(collection, id);\n          } else {\n            promise = db.remove(collection, query);\n          }\n        }\n\n        return promise.then(function (result) {\n          var statusCode = _enums.StatusCode.Ok;\n\n          if (method === _enums.HttpMethod.POST) {\n            statusCode = _enums.StatusCode.Created;\n          }\n\n          request.response = {\n            statusCode: statusCode,\n            headers: {},\n            data: result\n          };\n\n          return request;\n        });\n      });\n    }\n  }]);\n\n  return CacheMiddleware;\n}(_middleware.KinveyMiddleware);\n\n},{\"./db\":271,\"kinvey-javascript-sdk-core/src/enums\":23,\"kinvey-javascript-sdk-core/src/rack/middleware\":31}],271:[function(require,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DB = exports.DBAdapter = undefined;\n\nvar _db = require('kinvey-javascript-sdk-core/src/rack/persistence/db');\n\nvar _memory = require('kinvey-javascript-sdk-core/src/rack/persistence/adapters/memory');\n\nvar _titaniumdb = require('./titaniumdb');\n\nvar _log = require('kinvey-javascript-sdk-core/src/log');\n\nvar _forEach = require('lodash/forEach');\n\nvar _forEach2 = _interopRequireDefault(_forEach);\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }return call && ((typeof call === 'undefined' ? 'undefined' : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === 'undefined' ? 'undefined' : _typeof(superClass)));\n  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar DBAdapter = {\n  Memory: 'Memory',\n  TitaniumDB: 'TitaniumDB'\n};\nObject.freeze(DBAdapter);\nexports.DBAdapter = DBAdapter;\n\nvar DB = exports.DB = function (_CoreDB) {\n  _inherits(DB, _CoreDB);\n\n  function DB() {\n    var dbName = arguments.length <= 0 || arguments[0] === undefined ? 'kinvey' : arguments[0];\n    var adapters = arguments.length <= 1 || arguments[1] === undefined ? [DBAdapter.TitaniumDB, DBAdapter.Memory] : arguments[1];\n\n    _classCallCheck(this, DB);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(DB).call(this, dbName, []));\n\n    if (!(0, _isArray2.default)(adapters)) {\n      adapters = [adapters];\n    }\n\n    (0, _forEach2.default)(adapters, function (adapter) {\n      switch (adapter) {\n        case DBAdapter.Memory:\n          if (_memory.Memory.isSupported()) {\n            _this.adapter = new _memory.Memory(dbName);\n            return false;\n          }\n\n          break;\n        case DBAdapter.TitaniumDB:\n          if (_titaniumdb.TitaniumDB.isSupported()) {\n            _this.adapter = new _titaniumdb.TitaniumDB(dbName);\n            return false;\n          }\n\n          break;\n        default:\n          _log.Log.warn('The ' + adapter + ' adapter is is not recognized.');\n      }\n\n      return true;\n    });\n\n    if (!_this.adapter) {\n      if (_memory.Memory.isSupported()) {\n        _log.Log.error('Provided adapters are unsupported on this platform. ' + 'Defaulting to Memory adapter.', adapters);\n        _this.adapter = new _memory.Memory(dbName);\n      } else {\n        _log.Log.error('Provided adapters are unsupported on this platform.', adapters);\n      }\n    }\n    return _this;\n  }\n\n  return DB;\n}(_db.DB);\n\n},{\"./titaniumdb\":277,\"kinvey-javascript-sdk-core/src/log\":26,\"kinvey-javascript-sdk-core/src/rack/persistence/adapters/memory\":37,\"kinvey-javascript-sdk-core/src/rack/persistence/db\":39,\"lodash/forEach\":206,\"lodash/isArray\":211}],272:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DeviceAdapter = undefined;\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nvar _package = require('../package.json');\n\nvar _package2 = _interopRequireDefault(_package);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar DeviceAdapter = exports.DeviceAdapter = function () {\n  function DeviceAdapter() {\n    _classCallCheck(this, DeviceAdapter);\n  }\n\n  _createClass(DeviceAdapter, [{\n    key: 'toJSON',\n    value: function toJSON() {\n      return {\n        device: {\n          manufacturer: Titanium.Platform.manufacturer,\n          model: Titanium.Platfrom.model\n        },\n        environment: 'titanium',\n        library: {\n          name: 'titanium',\n          version: Titanium.getVersion()\n        },\n        os: {\n          name: Titanium.Platfrom.osname,\n          version: Titanium.Platfrom.version\n        },\n        sdk: {\n          name: _package2.default.name,\n          version: _package2.default.version\n        }\n      };\n    }\n  }]);\n\n  return DeviceAdapter;\n}();\n\n},{\"../package.json\":269}],273:[function(require,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HttpMiddleware = undefined;\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nvar _get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;if (getter === undefined) {\n      return undefined;\n    }return getter.call(receiver);\n  }\n};\n\nvar _middleware = require('kinvey-javascript-sdk-core/src/rack/middleware');\n\nvar _utils = require('./utils');\n\nvar _parseHeaders = require('parse-headers');\n\nvar _parseHeaders2 = _interopRequireDefault(_parseHeaders);\n\nvar _isString = require('lodash/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _isFunction = require('lodash/isFunction');\n\nvar _isFunction2 = _interopRequireDefault(_isFunction);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }return call && ((typeof call === \"undefined\" ? \"undefined\" : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : _typeof(superClass)));\n  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar HttpMiddleware = exports.HttpMiddleware = function (_KinveyMiddleware) {\n  _inherits(HttpMiddleware, _KinveyMiddleware);\n\n  function HttpMiddleware() {\n    var name = arguments.length <= 0 || arguments[0] === undefined ? 'Kinvey Titanium Http Middleware' : arguments[0];\n\n    _classCallCheck(this, HttpMiddleware);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(HttpMiddleware).call(this, name));\n  }\n\n  _createClass(HttpMiddleware, [{\n    key: 'handle',\n    value: function handle(request) {\n      return _get(Object.getPrototypeOf(HttpMiddleware.prototype), 'handle', this).call(this, request).then(function () {\n        var promise = new Promise(function (resolve, reject) {\n          var xhr = void 0;\n\n          if ((0, _utils.isMobileWeb)()) {\n            xhr = new XMLHttpRequest();\n\n            xhr.ontimeout = function () {\n              reject(new Error('timeout'));\n            };\n          } else {\n            xhr = Titanium.Network.createHTTPClient();\n            xhr.autoRedirect = request.followRedirect || true;\n\n            if ((0, _isFunction2.default)(xhr.setTlsVersion) && Titanium.Network.TLS_VERSION_1_2) {\n              xhr.setTlsVersion(Titanium.Network.TLS_VERSION_1_2);\n            }\n          }\n\n          xhr.onload = xhr.onerror = function (e) {\n            var status = e.type === 'timeout' || e.type === 'cancelled' ? 0 : xhr.status;\n\n            if ((0, _isString2.default)(e.error) && e.error.toLowerCase().indexOf('timed out') !== -1) {\n              e.type = 'timeout';\n            }\n\n            if (status >= 200 && status < 300 || status === 304) {\n              request.response = {\n                statusCode: status,\n                headers: (0, _parseHeaders2.default)(xhr.allResponseHeaders),\n                data: xhr.responseText\n              };\n\n              return resolve(request);\n            }\n\n            return reject(e.error);\n          };\n\n          xhr.open(request.method, request.url);\n\n          for (var name in request.headers) {\n            if (request.headers.hasOwnProperty(name)) {\n              xhr.setRequestHeader(name, request.headers[name]);\n            }\n          }\n\n          xhr.send(request.data);\n        });\n\n        return promise;\n      });\n    }\n  }]);\n\n  return HttpMiddleware;\n}(_middleware.KinveyMiddleware);\n\n},{\"./utils\":278,\"kinvey-javascript-sdk-core/src/rack/middleware\":31,\"lodash/isFunction\":216,\"lodash/isString\":224,\"parse-headers\":247}],274:[function(require,module,exports){\n'use strict';\n\nvar _kinveyJavascriptSdkCore = require('kinvey-javascript-sdk-core');\n\nvar _rack = require('kinvey-javascript-sdk-core/src/rack/rack');\n\nvar _cache = require('kinvey-javascript-sdk-core/src/rack/middleware/cache');\n\nvar _cache2 = require('./cache');\n\nvar _serialize = require('kinvey-javascript-sdk-core/src/rack/middleware/serialize');\n\nvar _http = require('./http');\n\nvar _device = require('kinvey-javascript-sdk-core/src/utils/device');\n\nvar _device2 = require('./device');\n\nvar _popup = require('kinvey-javascript-sdk-core/src/utils/popup');\n\nvar _popup2 = require('./popup');\n\nvar _push = require('./push');\n\nvar cacheRack = _rack.CacheRack.sharedInstance();\ncacheRack.swap(_cache.CacheMiddleware, new _cache2.CacheMiddleware());\n\nvar networkRack = _rack.NetworkRack.sharedInstance();\nnetworkRack.useAfter(_serialize.SerializeMiddleware, new _http.HttpMiddleware());\n\n_device.Device.use(new _device2.DeviceAdapter());\n\n_popup.Popup.use(new _popup2.PopupAdapter());\n\n_kinveyJavascriptSdkCore.Kinvey.Push = _push.Push;\n\nmodule.exports = _kinveyJavascriptSdkCore.Kinvey;\n\n},{\"./cache\":270,\"./device\":272,\"./http\":273,\"./popup\":275,\"./push\":276,\"kinvey-javascript-sdk-core\":25,\"kinvey-javascript-sdk-core/src/rack/middleware/cache\":32,\"kinvey-javascript-sdk-core/src/rack/middleware/serialize\":34,\"kinvey-javascript-sdk-core/src/rack/rack\":40,\"kinvey-javascript-sdk-core/src/utils/device\":55,\"kinvey-javascript-sdk-core/src/utils/popup\":57}],275:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PopupAdapter = undefined;\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nvar _utils = require('./utils');\n\nvar _bind = require('lodash/bind');\n\nvar _bind2 = _interopRequireDefault(_bind);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar PopupAdapter = exports.PopupAdapter = function () {\n  function PopupAdapter() {\n    _classCallCheck(this, PopupAdapter);\n  }\n\n  _createClass(PopupAdapter, [{\n    key: 'open',\n    value: function open() {\n      var _this = this;\n\n      this.eventListeners = {\n        loadHandler: (0, _bind2.default)(this.loadHandler, this),\n        clickHandler: (0, _bind2.default)(this.clickHandler, this),\n        closeHandler: (0, _bind2.default)(this.closeHandler, this)\n      };\n\n      var promise = new Promise(function (resolve) {\n        _this.tiWebView = Titanium.UI.createWebView({\n          width: '100%',\n          height: '100%',\n          url: _this.url\n        });\n\n        _this.popup = Titanium.UI.createWindow({\n          backgroundColor: 'white',\n          barColor: '#000',\n          title: 'Mobile Identity Connect',\n          modal: true\n        });\n        _this.popup.add(_this.tiWebView);\n\n        if ((0, _utils.isiOS)()) {\n          _this.tiWin = Titanium.UI.createWindow({\n            backgroundColor: 'white',\n            barColor: '#e3e3e3',\n            title: 'Mobile Identity Connect'\n          });\n          _this.tiWin.add(_this.tiWebView);\n\n          _this.tiCloseButton = Titanium.UI.createButton({\n            title: 'Close',\n            style: Titanium.UI.iPhone.SystemButtonStyle.DONE\n          });\n          _this.tiWin.setLeftNavButton(_this.tiCloseButton);\n          _this.tiCloseButton.addEventListener('click', _this.eventListeners.clickHandler);\n\n          _this.popup = Titanium.UI.iOS.createNavigationWindow({\n            backgroundColor: 'white',\n            window: _this.tiWin,\n            modal: true\n          });\n        } else if ((0, _utils.isAndroid)()) {\n          _this.popup.addEventListener('androidback', _this.eventListeners.closeHandler);\n        }\n\n        _this.tiWebView.addEventListener('load', _this.eventListeners.loadHandler);\n        _this.tiWebView.addEventListener('error', _this.eventListeners.loadHandler);\n        _this.popup.addEventListener('close', _this.eventListeners.closeHandler);\n        _this.popup.open();\n        resolve();\n      });\n      return promise;\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      var _this2 = this;\n\n      var promise = new Promise(function (resolve) {\n        _this2.popup.close();\n        resolve();\n      });\n      return promise;\n    }\n  }, {\n    key: 'loadHandler',\n    value: function loadHandler(event) {\n      this.emit('loaded', event.url);\n    }\n  }, {\n    key: 'clickHandler',\n    value: function clickHandler() {\n      this.close();\n    }\n  }, {\n    key: 'closeHandler',\n    value: function closeHandler() {\n      this.tiWebView.removeEventListener('load', this.eventListeners.loadHandler);\n      this.tiWebView.removeEventListener('error', this.eventListeners.loadHandler);\n      this.popup.removeEventListener('close', this.eventListeners.closeHandler);\n\n      if ((0, _utils.isiOS)()) {\n        this.tiCloseButton.removeEventListener('click', this.eventListeners.clickHandler);\n      } else if ((0, _utils.isAndroid)()) {\n        this.popup.close();\n        this.popup.removeEventListener('androidback', this.eventListeners.closeHandler);\n      }\n\n      this.emit('closed');\n    }\n  }]);\n\n  return PopupAdapter;\n}();\n\n},{\"./utils\":278,\"lodash/bind\":201}],276:[function(require,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Push = undefined;\n\nvar _errors = require('kinvey-javascript-sdk-core/src/errors');\n\nvar _events = require('events');\n\nvar _network = require('kinvey-javascript-sdk-core/src/requests/network');\n\nvar _datastore = require('kinvey-javascript-sdk-core/src/stores/datastore');\n\nvar _enums = require('kinvey-javascript-sdk-core/src/enums');\n\nvar _user = require('kinvey-javascript-sdk-core/src/user');\n\nvar _client = require('kinvey-javascript-sdk-core/src/client');\n\nvar _query = require('kinvey-javascript-sdk-core/src/query');\n\nvar _utils = require('./utils');\n\nvar _assign = require('lodash/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _url = require('url');\n\nvar _url2 = _interopRequireDefault(_url);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar pushNamespace = process.env.KINVEY_PUSH_NAMESPACE || 'push';\nvar notificationEvent = process.env.KINVEY_NOTIFICATION_EVENT || 'notification';\nvar deviceCollectionName = process.env.KINVEY_DEVICE_COLLECTION_NAME || 'kinvey_device';\nvar emitter = new _events.EventEmitter();\n\nvar Push = exports.Push = {\n  listeners: function listeners() {\n    return emitter.listeners(notificationEvent);\n  },\n  onNotification: function onNotification(listener) {\n    return emitter.on(notificationEvent, listener);\n  },\n  onceNotification: function onceNotification(listener) {\n    return emitter.once(notificationEvent, listener);\n  },\n  removeListener: function removeListener(listener) {\n    return emitter.removeListener(notificationEvent, listener);\n  },\n  removeAllListeners: function removeAllListeners() {\n    return emitter.removeAllListeners(notificationEvent);\n  },\n  init: function init() {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    if (!(0, _utils.isiOS)() || !(0, _utils.isAndroid)()) {\n      return Promise.reject(new _errors.KinveyError('Kinvey currently only supports ' + 'push notifications on iOS and Android platforms.'));\n    }\n\n    options = (0, _assign2.default)({\n      android: {\n        senderID: undefined\n      },\n      ios: {\n        alert: true,\n        badge: true,\n        sound: true\n      },\n      force: false\n    }, options);\n\n    var promise = new Promise(function (resolve, reject) {\n      if ((0, _utils.isiOS)()) {\n        var version = Titanium.Platfrom.version;\n        if (version.split('.')[0] >= 8) {\n          Titanium.App.iOS.addEventListener('usernotificationsettings', function registerForPush() {\n            Titanium.App.iOS.removeEventListener('usernotificationsettings', registerForPush);\n            Titanium.Network.registerForPushNotifications({\n              success: function success(e) {\n                resolve(e.deviceToken);\n              },\n              error: function error(e) {\n                reject(new _errors.KinveyError('An error occurred registering this device ' + 'for push notifications.', e));\n              },\n              callback: function callback(data) {\n                Push.emit(notificationEvent, data);\n              }\n            });\n          });\n\n          var types = [];\n\n          if (options.ios.alert) {\n            types.push(Titanium.App.iOS.USER_NOTIFICATION_TYPE_ALERT);\n          }\n\n          if (options.ios.badge) {\n            types.push(Titanium.App.iOS.USER_NOTIFICATION_TYPE_BADGE);\n          }\n\n          if (options.ios.sound) {\n            types.push(Titanium.App.iOS.USER_NOTIFICATION_TYPE_SOUND);\n          }\n\n          Titanium.App.iOS.registerUserNotificationSettings({\n            types: types\n          });\n        } else {\n          var _types = [];\n\n          if (options.ios.alert) {\n            _types.push(Titanium.Network.NOTIFICATION_TYPE_ALERT);\n          }\n\n          if (options.ios.badge) {\n            _types.push(Titanium.Network.NOTIFICATION_TYPE_BADGE);\n          }\n\n          if (options.ios.sound) {\n            _types.push(Titanium.Network.NOTIFICATION_TYPE_SOUND);\n          }\n\n          Titanium.Network.registerForPushNotifications({\n            types: [Titanium.Network.NOTIFICATION_TYPE_ALERT, Titanium.Network.NOTIFICATION_TYPE_SOUND, Titanium.Network.NOTIFICATION_TYPE_BADGE],\n            success: function success(e) {\n              resolve(e.deviceToken);\n            },\n            error: function error(e) {\n              reject(new _errors.KinveyError('An error occurred registering this device for ' + 'push notifications.', e));\n            },\n            callback: function callback(data) {\n              Push.emit(notificationEvent, data);\n            }\n          });\n        }\n      } else if ((0, _utils.isAndroid)()) {\n        CloudPush.retrieveDeviceToken({\n          success: function success(e) {\n            resolve(e.deviceToken);\n          },\n          error: function error(e) {\n            reject(new _errors.KinveyError('An error occurred registering this device for ' + 'push notifications.', e));\n          }\n        });\n\n        CloudPush.addEventListener('callback', function (data) {\n          Push.emit(notificationEvent, data);\n        });\n      }\n    }).then(function (deviceId) {\n      if (!deviceId) {\n        throw new _errors.KinveyError('Unable to retrieve the device id to register this device for push notifications.');\n      }\n\n      var store = _datastore.DataStore.getInstance(deviceCollectionName, _datastore.DataStoreType.Sync);\n      return store.findById(deviceId).then(function (entity) {\n        if (options.force !== true && entity.registered) {\n          throw new _errors.KinveyError('Device is already registered. To force registration ' + 'please set options.force to true.');\n        }\n      }).then(function () {\n        var user = _user.User.getActiveUser();\n        var client = _client.Client.sharedInstance();\n        var request = new _network.NetworkRequest({\n          method: _enums.HttpMethod.POST,\n          authType: user ? _enums.AuthType.Session : _enums.AuthType.Master,\n          url: _url2.default.format({\n            protocol: client.protocol,\n            host: client.host,\n            pathname: '/' + pushNamespace + '/' + client.appKey + '/register-device'\n          }),\n          properties: options.properties,\n          data: {\n            platform: Titanium.Platfrom.osname,\n            framework: 'titanium',\n            deviceId: deviceId,\n            userId: user ? null : options.userId\n          },\n          timeout: options.timeout,\n          client: client\n        });\n        return request.execute();\n      }).then(function (response) {\n        return store.save({ _id: deviceId, registered: true }).then(function () {\n          return response.data;\n        });\n      });\n    });\n\n    return promise;\n  },\n  unregister: function unregister() {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    if (!(0, _utils.isiOS)() || !(0, _utils.isAndroid)()) {\n      return Promise.reject(new _errors.KinveyError('Kinvey currently only supports ' + 'push notifications on iOS and Android platforms.'));\n    }\n\n    var store = _datastore.DataStore.getInstance(deviceCollectionName, _datastore.DataStoreType.Sync);\n    var query = new _query.Query();\n    query.equalsTo('registered', true);\n    var promise = store.find(query).then(function (data) {\n      if (data.length === 1) {\n        return data[0]._id;\n      }\n\n      return undefined;\n    }).then(function (deviceId) {\n      if (!deviceId) {\n        throw new _errors.KinveyError('This device has not been registered.');\n      }\n\n      var user = _user.User.getActiveUser();\n      var client = _client.Client.sharedInstance();\n      var request = new _network.NetworkRequest({\n        method: _enums.HttpMethod.POST,\n        authType: user ? _enums.AuthType.Session : _enums.AuthType.Master,\n        url: _url2.default.format({\n          protocol: client.protocol,\n          host: client.host,\n          pathname: '/' + pushNamespace + '/' + client.appKey + '/unregister-device'\n        }),\n        properties: options.properties,\n        data: {\n          platform: Titanium.Platfrom.osname,\n          framework: 'titanium',\n          deviceId: deviceId,\n          userId: user ? null : options.userId\n        },\n        timeout: options.timeout,\n        client: client\n      });\n      return request.execute().then(function (response) {\n        return store.removeById(deviceId).then(function () {\n          return response.data;\n        });\n      });\n    });\n\n    return promise;\n  }\n};\n\n}).call(this,require('_process'))\n\n},{\"./utils\":278,\"_process\":249,\"events\":8,\"kinvey-javascript-sdk-core/src/client\":21,\"kinvey-javascript-sdk-core/src/enums\":23,\"kinvey-javascript-sdk-core/src/errors\":24,\"kinvey-javascript-sdk-core/src/query\":29,\"kinvey-javascript-sdk-core/src/requests/network\":43,\"kinvey-javascript-sdk-core/src/stores/datastore\":48,\"kinvey-javascript-sdk-core/src/user\":54,\"lodash/assign\":200,\"url\":265}],277:[function(require,module,exports){\n(function (process){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TitaniumDB = undefined;\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nvar _errors = require('kinvey-javascript-sdk-core/src/errors');\n\nvar _map = require('lodash/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nvar dbCache = {};\n\nvar TitaniumDB = exports.TitaniumDB = function () {\n  function TitaniumDB() {\n    var name = arguments.length <= 0 || arguments[0] === undefined ? 'kinvey' : arguments[0];\n\n    _classCallCheck(this, TitaniumDB);\n\n    this.name = name;\n  }\n\n  _createClass(TitaniumDB, [{\n    key: 'execute',\n    value: function execute(collection, query, parameters) {\n      var _this = this;\n\n      var db = dbCache[this.name];\n      var escapedCollection = '\"' + collection + '\"';\n      var isMulti = (0, _isArray2.default)(query);\n      query = isMulti ? query : [[query, parameters]];\n\n      var promise = new Promise(function (resolve, reject) {\n        try {\n          if (!db) {\n            db = Titanium.Database.open(_this.name);\n            dbCache[_this.name] = db;\n          }\n\n          db.execute('BEGIN TRANSACTION');\n\n          db.execute('CREATE TABLE IF NOT EXISTS ' + escapedCollection + ' ' + '(key BLOB PRIMARY KEY NOT NULL, value BLOB NOT NULL)');\n\n          var response = (0, _map2.default)(query, function (parts) {\n            var sql = parts[0].replace('#{collection}', escapedCollection);\n            var cursor = db.execute(sql, parts[1]);\n            var response = { rowCount: db.getRowsAffected(), result: null };\n\n            if (cursor) {\n              response.result = [];\n\n              while (cursor.isValidRow()) {\n                var entity = JSON.parse(cursor.fieldByName('value'));\n                response.result.push(entity);\n                cursor.next();\n              }\n\n              cursor.close();\n            }\n\n            return response;\n          });\n\n          db.execute('COMMIT TRANSACTION');\n\n          resolve(isMulti ? response : response.shift());\n        } catch (error) {\n          reject(new _errors.KinveyError(error.message));\n        }\n      });\n\n      return promise;\n    }\n  }, {\n    key: 'find',\n    value: function find(collection) {\n      var sql = 'SELECT value FROM #{collection}';\n      var promise = this.execute(collection, sql, []).then(function (response) {\n        return response.result;\n      }).catch(function (error) {\n        if (error instanceof _errors.NotFoundError) {\n          return [];\n        }\n\n        throw error;\n      });\n      return promise;\n    }\n  }, {\n    key: 'findById',\n    value: function findById(collection, id) {\n      var _this2 = this;\n\n      var sql = 'SELECT value FROM #{collection} WHERE key = ?';\n      var promise = this.execute(collection, sql, [id]).then(function (response) {\n        var entities = response.result;\n\n        if (entities.length === 0) {\n          throw new _errors.NotFoundError('An entity with _id = ' + id + ' was not found in the ' + collection + ' ' + ('collection on the ' + _this2.name + ' webSQL database.'));\n        }\n\n        return entities[0];\n      });\n      return promise;\n    }\n  }, {\n    key: 'save',\n    value: function save(collection, entities) {\n      var queries = [];\n      entities = (0, _map2.default)(entities, function (entity) {\n        queries.push(['INSERT OR REPLACE INTO #{collection} (key, value) VALUES (?, ?)', [entity[idAttribute], JSON.stringify(entity)]]);\n\n        return entity;\n      });\n\n      var promise = this.execute(collection, queries, null).then(function () {\n        return entities;\n      });\n      return promise;\n    }\n  }, {\n    key: 'removeById',\n    value: function removeById(collection, id) {\n      var _this3 = this;\n\n      var promise = this.execute(collection, [['SELECT value FROM #{collection} WHERE key = ?', [id]], ['DELETE FROM #{collection} WHERE key = ?', [id]]], null).then(function (response) {\n        var entities = response[0].result;\n        var count = response[1].rowCount || entities.length;\n\n        if (count === 0) {\n          throw new _errors.NotFoundError('An entity with _id = ' + id + ' was not found in the ' + collection + ' ' + ('collection on the ' + _this3.name + ' webSQL database.'));\n        }\n\n        return {\n          count: 1,\n          entities: entities\n        };\n      });\n\n      return promise;\n    }\n  }], [{\n    key: 'isSupported',\n    value: function isSupported() {\n      return typeof Titanium.Database !== 'undefined';\n    }\n  }]);\n\n  return TitaniumDB;\n}();\n\n}).call(this,require('_process'))\n\n},{\"_process\":249,\"kinvey-javascript-sdk-core/src/errors\":24,\"lodash/isArray\":211,\"lodash/map\":231}],278:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isiOS = isiOS;\nexports.isAndroid = isAndroid;\nexports.isMobileWeb = isMobileWeb;\nfunction isiOS() {\n  return Titanium.Platform.osname === 'iphone' || Titanium.Platform.osname === 'ipad';\n}\n\nfunction isAndroid() {\n  return Titanium.Platform.osname === 'android';\n}\n\nfunction isMobileWeb() {\n  return Titanium.Platform.name === 'mobileweb';\n}\n\n},{}]},{},[274])(274)\n});\n\n","\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\nvar BrowserMutationObserver = global.MutationObserver || global.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.js’s\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n","/* Add Promise.all and Promise.race implementations. */\n'use strict';\nvar isArguments = require('is-arguments');\n\nvar _call = Function.call.bind(Function.call);\nvar _forEach = Function.call.bind(Array.prototype.forEach);\nvar _toString = Function.call.bind(Object.prototype.toString);\nvar _floor = Math.floor;\nvar _abs = Math.abs;\n\nvar Symbol = global.Symbol || {};\nvar symbolIterator = Symbol.iterator || '@@iterator';\n\nvar defineProperties = function(object, map) {\n  _forEach(Object.keys(map), function(name) {\n    var method = map[name];\n    Object.defineProperty(object, name, {\n      configurable: true,\n      enumerable: false,\n      writable: true,\n      value: method,\n    });\n  });\n};\n\nvar errorObj = {e: {}};\n// Try/catch is not supported in optimizing compiler, so it is isolated.\n// The -r variant allows specifying the receiver.\nfunction tryCatch0r(fn, receiver) {\n  try {\n    return fn.call(receiver);\n  } catch (e) {\n    errorObj.e = e;\n    return errorObj;\n  }\n}\nfunction tryCatch1(fn, arg1) {\n  try {\n    return fn(arg1);\n  } catch (e) {\n    errorObj.e = e;\n    return errorObj;\n  }\n}\nfunction tryCatch2(fn, arg1, arg2) {\n  try {\n    return fn(arg1, arg2);\n  } catch (e) {\n    errorObj.e = e;\n    return errorObj;\n  }\n}\nfunction tryCatch3(fn, arg1, arg2, arg3) {\n  try {\n    return fn(arg1, arg2, arg3);\n  } catch (e) {\n    errorObj.e = e;\n    return errorObj;\n  }\n}\n\n\nvar TypeIsObject = function(x) {\n  /* jshint eqnull:true */\n  // This is expensive when it returns false; use this function\n  // when you expect it to return true in the common case.\n  return x != null && Object(x) === x;\n};\n\nvar ToObject = function(o, optMessage) {\n  /* jshint eqnull:true */\n  if (o == null) {\n    throw new TypeError(optMessage || 'Cannot call method on ' + o);\n  }\n  return Object(o);\n};\n\nvar IsCallable = (typeof /abc/ === 'function') ? function(x) {\n  // Some versions of IE say that typeof /abc/ === 'function'\n  return typeof x === 'function' && _toString(x) === '[object Function]';\n} : function(x) { return typeof x === 'function'; /* Much faster */};\n\nvar ToNumber = function(value) {\n  /*\n  // Implementations which implement Symbol also throw the proper TypeError\n  // if it is converted to a number.\n  if (_toString(value) === '[object Symbol]') {\n    throw new TypeError('Cannot convert a Symbol value to a number');\n  }\n  */\n  return +value;\n};\n\nvar numberIsNaN = Number.isNaN || function isNaN(value) {\n  return value !== value;\n};\n\nvar numberIsFinite = Number.isFinite || function isFinite(value) {\n  return typeof value === 'number' && global.isFinite(value);\n};\n\nvar ToInteger = function(value) {\n  var number = ToNumber(value);\n  if (numberIsNaN(number)) { return 0; }\n  if (number === 0 || !numberIsFinite(number)) { return number; }\n  return (number > 0 ? 1 : -1) * _floor(_abs(number));\n};\n\nvar ToLength = function(value) {\n  var len = ToInteger(value);\n  if (len <= 0) { return 0; } // Includes converting -0 to +0\n  if (typeof Number.MAX_SAFE_INTEGER !== 'undefined') {\n    if (len > Number.MAX_SAFE_INTEGER) { return Number.MAX_SAFE_INTEGER; }\n  }\n  return len;\n};\n\n// Stripped down value-only ArrayIterator.\nvar ArrayIterator = function(array) {\n  this.i = 0;\n  this.array = array;\n};\ndefineProperties(ArrayIterator.prototype, {\n  next: function() {\n    var i = this.i;\n    var array = this.array;\n    if (!(this instanceof ArrayIterator)) {\n      throw new TypeError('Not an ArrayIterator');\n    }\n    if (typeof array !== 'undefined') {\n      var len = Array.isArray(array) ? array.length : ToLength(array.length);\n      for (; i < len; i++) {\n        var retval = array[i];\n        this.i = i + 1;\n        return { value: retval, done: false };\n      }\n    }\n    this.array = void 0;\n    return { value: void 0, done: true };\n  },\n});\nObject.defineProperty(ArrayIterator.prototype, symbolIterator, {\n  configurable: true,\n  enumerable: false,\n  writable: true,\n  value: function() { return this; },\n});\n\nvar DEFAULT_ARRAY_ITERATOR = {};\n\nvar GetIterator = function(o, detectDefault) {\n  var itFn = GetMethod(o, symbolIterator);\n  if (!IsCallable(itFn)) {\n    // Node 0.10 compatibility.\n    if (Array.isArray(o) || isArguments(o)) {\n      return detectDefault ? DEFAULT_ARRAY_ITERATOR : new ArrayIterator(o);\n    }\n    // Better diagnostics if itFn is null or undefined\n    throw new TypeError('value is not an iterable');\n  }\n  if (detectDefault && itFn === Array.prototype[symbolIterator]) {\n    return DEFAULT_ARRAY_ITERATOR;\n  }\n  var it = _call(itFn, o);\n  if (!TypeIsObject(it)) {\n    throw new TypeError('bad iterator');\n  }\n  return it;\n};\n\nvar GetMethod = function(o, p) {\n  var func = ToObject(o)[p];\n  if (func === void 0 || func === null) {\n    return void 0;\n  }\n  if (!IsCallable(func)) {\n    throw new TypeError('Method not callable: ' + p);\n  }\n  return func;\n};\n\nvar IteratorComplete = function(iterResult) {\n  return !!(iterResult.done);\n};\n\nvar IteratorClose = function(iterator, completionIsThrow) {\n  var returnMethod = GetMethod(iterator, 'return');\n  if (returnMethod === void 0) {\n    return;\n  }\n  var innerResult, innerException;\n  innerResult = tryCatch0r(returnMethod, iterator);\n  if (innerResult === errorObj) {\n    innerException = errorObj.e;\n  }\n  if (completionIsThrow) {\n    return;\n  }\n  if (innerException) {\n    throw innerException;\n  }\n  if (!TypeIsObject(innerResult)) {\n    throw new TypeError(\"Iterator's return method returned a non-object.\");\n  }\n};\n\nvar IteratorNext0 = function(it) {\n  var result = it.next();\n  if (!TypeIsObject(result)) {\n    throw new TypeError('bad iterator');\n  }\n  return result;\n};\n\nvar IteratorStep = function(it) {\n  var result = IteratorNext0(it);\n  var done = IteratorComplete(result);\n  return done ? false : result;\n};\n\nmodule.exports = function(\n  Promise, PromiseCapability, makeCapability, makeCapabilityFast,\n  promiseReactionResolve, promiseReactionReject,\n  optimizePromiseThen, symbolSpecies\n) {\n\n  // This is a common step in many Promise methods\n  var getPromiseSpecies = function(C) {\n    if (!TypeIsObject(C)) {\n      throw new TypeError('Promise is not object');\n    }\n    if (symbolSpecies !== null) {\n      var S = C[symbolSpecies];\n      if (S !== void 0 && S !== null) {\n        return S;\n      }\n    }\n    return C;\n  };\n\n  var _promiseAllResolver = function(index, values, capability, remaining) {\n    var alreadyCalled = false;\n    return function(x) {\n      if (alreadyCalled) { return; }\n      alreadyCalled = true;\n      values[index] = x;\n      if ((--remaining.count) === 0) {\n        promiseReactionResolve(capability, values);\n      }\n    };\n  };\n\n  var performPromiseAll = function(iteratorRecord, C, resultCapability) {\n    var it = iteratorRecord.iterator;\n    var values = [];\n    var remaining = { count: 1 };\n    var next, nextValue, rejectElement;\n    if (resultCapability.constructor === PromiseCapability) {\n      // This capability won't be returned to pool.\n      rejectElement = resultCapability.reject;\n    } else {\n      rejectElement = function(e) {\n        // Not safe to return capability to pool, since resolves are still\n        // pending.\n        promiseReactionReject(resultCapability, e, 'no free');\n      };\n    }\n    for (var index = 0; ; index++) {\n      next = tryCatch1(IteratorStep, it);\n      if (next === errorObj) {\n        iteratorRecord.done = true;\n        throw errorObj.e;\n      } else if (next === false) {\n        iteratorRecord.done = true;\n        break;\n      }\n      nextValue = next.value;\n      values[index] = void 0;\n      var nextPromise = C.resolve(nextValue);\n      var resolveElement = _promiseAllResolver(\n        index, values, resultCapability, remaining\n      );\n      remaining.count++;\n      optimizePromiseThen(\n        nextPromise, resolveElement, rejectElement\n      );\n    }\n    if ((--remaining.count) === 0) {\n      promiseReactionResolve(resultCapability, values);\n    }\n    if (resultCapability.constructor === PromiseCapability) {\n      return resultCapability.promise;\n    }\n    return resultCapability;\n  };\n\n  var performPromiseAllArray = function(array, C, resultCapability) {\n    var values = new Array(array.length);\n    var remaining = { count: 1 };\n    var nextValue, rejectElement;\n    if (resultCapability.constructor === PromiseCapability) {\n      // This capability won't be returned to pool.\n      rejectElement = resultCapability.reject;\n    } else {\n      rejectElement = function(e) {\n        // Not safe to return capability to pool, since resolves are still\n        // pending.\n        promiseReactionReject(resultCapability, e, 'no free');\n      };\n    }\n    for (var index = 0; index < array.length; index++) {\n      nextValue = array[index];\n      values[index] = void 0;\n      var nextPromise = C.resolve(nextValue);\n      var resolveElement = _promiseAllResolver(\n        index, values, resultCapability, remaining\n      );\n      remaining.count++;\n      optimizePromiseThen(\n        nextPromise, resolveElement, rejectElement\n      );\n    }\n    if ((--remaining.count) === 0) {\n      promiseReactionResolve(resultCapability, values);\n    }\n    if (resultCapability.constructor === PromiseCapability) {\n      return resultCapability.promise;\n    }\n    return resultCapability;\n  };\n\n  var performPromiseRace = function(iteratorRecord, C, resultCapability) {\n    var it = iteratorRecord.iterator;\n    var next, nextValue, nextPromise;\n    while (true) {\n      next = tryCatch1(IteratorStep, it);\n      if (next === errorObj) {\n        iteratorRecord.done = true;\n        throw errorObj.e;\n      } else if (next === false) {\n        // NOTE: If iterable has no items, resulting promise will never\n        // resolve; see:\n        // https://github.com/domenic/promises-unwrapping/issues/75\n        // https://bugs.ecmascript.org/show_bug.cgi?id=2515\n        iteratorRecord.done = true;\n        break;\n      }\n      nextValue = next.value;\n      nextPromise = C.resolve(nextValue);\n      optimizePromiseThen(\n        nextPromise, resultCapability.resolve, resultCapability.reject\n      );\n    }\n    return resultCapability.promise;\n  };\n\n  defineProperties(Promise, {\n    all: function all(iterable) {\n      var C = getPromiseSpecies(this);\n      var capability = makeCapabilityFast(C);\n      var iterator, iteratorRecord, result, ex;\n      iterator = tryCatch2(GetIterator, iterable, true);\n      if (iterator === DEFAULT_ARRAY_ITERATOR) {\n        // Fast path\n        result = tryCatch3(performPromiseAllArray, iterable, C, capability);\n        if (result !== errorObj) {\n          return result;\n        }\n        // Not safe to return capability to pool, since there may be\n        // calls to `resolve` still pending.\n        return promiseReactionReject(capability, errorObj.e, 'no free');\n      }\n      if (iterator === errorObj) {\n        return promiseReactionReject(capability, errorObj.e);\n      }\n      iteratorRecord = { iterator: iterator, done: false };\n      result = tryCatch3(performPromiseAll, iteratorRecord, C, capability);\n      if (result !== errorObj) {\n        return result;\n      }\n      ex = errorObj.e;\n      if (!iteratorRecord.done) {\n        result = tryCatch2(IteratorClose, iterator, true);\n        if (result === errorObj) {\n          ex = errorObj.e;\n        }\n      }\n      // Not safe to return capability to pool, since there may be\n      // calls to `resolve` still pending.\n      return promiseReactionReject(capability, ex, 'no free');\n    },\n\n    race: function race(iterable) {\n      var C = getPromiseSpecies(this);\n      var capability = makeCapability(C);\n      var iterator, iteratorRecord, reject, result, ex;\n      iterator = tryCatch1(GetIterator, iterable);\n      if (iterator === errorObj) {\n        reject = capability.reject;\n        reject(errorObj.e);\n        return capability.promise;\n      }\n      iteratorRecord = { iterator: iterator, done: false };\n      result = tryCatch3(performPromiseRace, iteratorRecord, C, capability);\n      if (result !== errorObj) {\n        return result;\n      }\n      ex = errorObj.e;\n      if (!iteratorRecord.done) {\n        result = tryCatch2(IteratorClose, iterator, true);\n        if (result === errorObj) {\n          ex = errorObj.e;\n        }\n      }\n      reject = capability.reject;\n      reject(ex);\n      return capability.promise;\n    },\n  });\n};\n","'use strict';\n\nvar asap = require('asap/raw');\n\n// When this is `false` we disable species support, for a little bit of\n// extra performance.\nvar supportSpecies = false;\n// When this is false we assume promise subclass constructors have no\n// side effects.\nvar strictConstructors = false;\n// When this is true, a new resolver is created for every Promise.\nvar dontReuseResolvers = false;\n// When this is true (and the engine supports it), the Promise will be a\n// true ES2015 class.  However, this currently slows the implementation down\n// by 30% since construction of ES2015 classes is unoptimized.\nvar useES2015Class = false;\n\nvar _forEach = Function.call.bind(Array.prototype.forEach);\nvar _toString = Function.call.bind(Object.prototype.toString);\n\nvar Symbol = global.Symbol || {};\nvar symbolSpecies = Symbol.species || (supportSpecies ? '@@species' : null);\n\nfunction defineProperties(object, map) {\n  _forEach(Object.keys(map), function definePropertiesForEach(name) {\n    var method = map[name];\n    Object.defineProperty(object, name, {\n      configurable: true,\n      enumerable: false,\n      writable: true,\n      value: method,\n    });\n  });\n}\n\nvar errorObj = {e: {}};\n// Try/catch is not supported in optimizing compiler, so it is isolated.\nfunction tryCatch1(fn, arg) {\n  try {\n    return fn(arg);\n  } catch (e) {\n    errorObj.e = e;\n    return errorObj;\n  }\n}\nfunction tryCatch2(fn, arg1, arg2) {\n  try {\n    return fn(arg1, arg2);\n  } catch (e) {\n    errorObj.e = e;\n    return errorObj;\n  }\n}\n// The -r variant allows specifying the receiver.\nfunction tryCatch2r(fn, receiver, arg1, arg2) {\n  try {\n    return fn.call(receiver, arg1, arg2);\n  } catch (e) {\n    errorObj.e = e;\n    return errorObj;\n  }\n}\n// The -n variant creates a new object.\nfunction tryCatch1n(Fn, arg1) {\n  try {\n    return new Fn(arg1);\n  } catch (e) {\n    errorObj.e = e;\n    return errorObj;\n  }\n}\n\n// Promises\n\n// Follow implementation in the ES6 spec as closely as possible, but\n// steal tricks from Bluebird for moar speed.\n// In particular, we go to great lengths to avoid allocating objects\n// and closures wherever possible in hot code.\n\nfunction TypeIsObject(x) {\n  // This is expensive when it returns false; use this function\n  // when you expect it to return true in the common case.\n  if (false) {\n    return x !== void 0 && x !== null && Object(x) === x;\n  }\n  // It turns out that !TypeIsNotObject is faster...\n  return !TypeIsNotObject(x);\n}\nfunction TypeIsNotObject(val) {\n  // This is more appropriate when TypeIsObject may return false.\n  return val === void 0 || val === null || val === true || val === false ||\n    typeof val === 'string' || typeof val === 'number' ||\n    typeof val === 'symbol'; // jshint ignore:line\n}\n\nvar IsCallable = (typeof /abc/ === 'function') ? function IsCallableSlow(x) {\n  // Some versions of IE say that typeof /abc/ === 'function'\n  return typeof x === 'function' && _toString(x) === '[object Function]';\n} : function IsCallableFast(x) { return typeof x === 'function'; };\n\n// We can't tell callables from constructors in ES5\nvar IsConstructor = IsCallable;\n\nfunction SpeciesConstructor(O, defaultConstructor) {\n  var C = O.constructor;\n  if (C === void 0) {\n    return defaultConstructor;\n  }\n  var S;\n  if (symbolSpecies === null) {\n    S = C;\n  } else {\n    if (!TypeIsObject(C)) {\n      throw new TypeError('Bad constructor');\n    }\n    S = C[symbolSpecies];\n    if (S === void 0 || S === null) {\n      return defaultConstructor;\n    }\n  }\n  if (!IsConstructor(S)) {\n    throw new TypeError('Bad @@species');\n  }\n  return S;\n}\n\nfunction IsPromise(promise) {\n  if (!TypeIsObject(promise)) {\n    return false;\n  }\n  if (promise._promise_state === undefined) {\n    return false; // Uninitialized, or missing our hidden field.\n  }\n  return true;\n}\n\n// \"PromiseCapability\" in the spec is what most promise implementations\n// call a \"deferred\".\n// We're going to wrap it so that it never throws an exception.\nfunction PromiseCapability() {\n  // Declare fields of this object.\n  // (Helps with object shape optimization.)\n  var self = this;\n  this.promise = void 0;\n  this.resolve = void 0;\n  this.reject = void 0;\n  this.resolver = function(resolve, reject) {\n    if (self.resolve !== void 0 || self.reject !== void 0) {\n      throw new TypeError('Bad Promise implementation!');\n    }\n    self.resolve = resolve;\n    self.reject = reject;\n  };\n}\nPromiseCapability.prototype.free = function() {\n  if (dontReuseResolvers) { return; }\n  if (this.dontReuse) { return; }\n  this.promise = void 0;\n  this.resolve = void 0;\n  this.reject = void 0;\n  freeCapabilityList.push(this);\n};\nPromiseCapability.prototype.getPromiseAndFree = function() {\n  var promise = this.promise;\n  this.free();\n  return promise;\n};\nvar freeCapabilityList = [];\n\nfunction makeCapabilityFast(C) {\n  thenFastPath = FAST_PATH_MAKE_CAP;\n  // `thenFastPath` is always reset to FAST_PATH_NONE by `makeCapability`\n  return makeCapability(C);\n}\n\nfunction makeCapability(C) {\n  if (!IsConstructor(C)) {\n    thenFastPath = FAST_PATH_NONE;\n    throw new TypeError('Bad promise constructor');\n  }\n\n  var capability;\n  if (freeCapabilityList.length) {\n    capability = freeCapabilityList.pop();\n  } else {\n    capability = new PromiseCapability();\n  }\n  if (strictConstructors &&\n      C !== Promise && !C.hasOwnProperty('noSideEffects')) {\n    capability.dontReuse = true;\n  }\n  if (thenFastPath === FAST_PATH_MAKE_CAP) {\n    thenFastPathResolver = capability.resolver;\n    capability.promise = tryCatch1n(C, thenFastPathResolver);\n    var wasFastPath = (thenFastPath === FAST_PATH_CTOR_BAILED);\n    thenFastPathResolver = null;\n    thenFastPath = FAST_PATH_NONE;\n    if (capability.promise === errorObj) {\n      capability.free();\n      throw errorObj.e;\n    }\n    if (wasFastPath) { return capability.getPromiseAndFree(); }\n  } else {\n    capability.promise = new C(capability.resolver);\n  }\n  if (!(IsCallable(capability.resolve) && IsCallable(capability.reject))) {\n    throw new TypeError('Bad promise constructor');\n  }\n  return capability;\n}\n\n// Forward declaration\nvar promisePrototypeThen;\nvar fakeRetvalFromThen = false;\n\n// Constants for Promise implementation\nvar PROMISE_IDENTITY = (function PROMISE_IDENTITY(v) { return v; });\nvar PROMISE_THROWER = (function PROMISE_THROWER(t) { throw t; });\nvar PROMISE_FAKE_CAPABILITY = new PromiseCapability();\nvar PROMISE_PENDING = 0;\nvar PROMISE_RESOLVING = 1; // PROMISE_PENDING combined with alreadyResolved\nvar PROMISE_FULFILLED = 2;\nvar PROMISE_REJECTED = 3;\n\n// States for then-fast-path\nvar FAST_PATH_NONE = 0;\nvar FAST_PATH_MAKE_CAP = 1;\nvar FAST_PATH_CTOR_BAILED = 2;\n\nvar thenFastPath = FAST_PATH_NONE;\nvar thenFastPathResolver = null;\n\nfunction promiseCheckAndResolve(promise, value) {\n  /* jshint bitwise: false */\n  if ((promise._promise_state & 3) !== PROMISE_PENDING) { return; }\n  promise._promise_state++; // Sets state to PROMISE_RESOLVING\n  resolvePromise(promise, value);\n  return promise;\n}\nfunction promiseCheckAndReject(promise, value) {\n  /* jshint bitwise: false */\n  if ((promise._promise_state & 3) !== PROMISE_PENDING) { return; }\n  promise._promise_state++; // Sets state to PROMISE_RESOLVING\n  rejectPromise(promise, value);\n  return promise;\n}\nfunction promiseReactionResolve(promiseCapability, handlerResult) {\n  if (promiseCapability.constructor === PromiseCapability) {\n    var resolve = promiseCapability.resolve;\n    resolve(handlerResult);\n    return promiseCapability.getPromiseAndFree();\n  }\n  // Optimized case; this is a \"standard\" promise.\n  return promiseCheckAndResolve(promiseCapability, handlerResult);\n}\nfunction promiseReactionReject(promiseCapability, handlerResult, noFree) {\n  if (promiseCapability.constructor === PromiseCapability) {\n    var reject = promiseCapability.reject;\n    reject(handlerResult);\n    if (noFree) { return promiseCapability.promise; }\n    return promiseCapability.getPromiseAndFree();\n  }\n  // Optimized case; this is a \"standard\" promise.\n  return promiseCheckAndReject(promiseCapability, handlerResult);\n}\nfunction promiseReactionJob(handler, promiseCapability, argument) {\n  var handlerResult;\n  // Encapsulate try/catch here to avoid deoptimization.\n  handlerResult = tryCatch1(handler, argument);\n  if (promiseCapability === PROMISE_FAKE_CAPABILITY) { return; }\n  if (handlerResult === errorObj) {\n    handlerResult = errorObj.e;\n    return promiseReactionReject(promiseCapability, handlerResult);\n  }\n  return promiseReactionResolve(promiseCapability, handlerResult);\n}\n\nfunction PromiseReactionJobTask() {\n  this.handler = null;\n  this.capability = null;\n  this.argument = null;\n}\nPromiseReactionJobTask.prototype.call = function() {\n  promiseReactionJob(this.handler, this.capability, this.argument);\n  this.handler = null;\n  this.capability = null;\n  this.argument = null;\n  freePromiseReactionJobTasks.push(this);\n};\nvar freePromiseReactionJobTasks = [];\n\nfunction triggerPromiseReaction(handler, capability, argument) {\n  var task;\n  if (freePromiseReactionJobTasks.length) {\n    task = freePromiseReactionJobTasks.pop();\n  } else {\n    task = new PromiseReactionJobTask();\n  }\n  task.handler = handler;\n  task.capability = capability;\n  task.argument = argument;\n  asap(task);\n}\n\nfunction fulfillPromise(promise, value) {\n  /* jshint bitwise: false */\n  var length = promise._promise_state >>> 2;\n  if (length > 0) {\n    triggerPromiseReaction(\n      promise._promise_fulfillReactions0,\n      promise._promise_reactionCapability0,\n      value);\n    promise._promise_fulfillReactions0 = void 0;\n    promise._promise_rejectReactions0 = void 0;\n    promise._promise_reactionCapability0 = void 0;\n    if (length > 1) {\n      for (var i = 1, idx = 0; i < length; i++) {\n        triggerPromiseReaction(promise[idx], promise[idx + 2], value);\n        promise[idx++] = void 0;\n        promise[idx++] = void 0;\n        promise[idx++] = void 0;\n      }\n    }\n  }\n  promise._promise_result = value;\n  promise._promise_state = PROMISE_FULFILLED;\n}\n\nfunction rejectPromise(promise, reason) {\n  /* jshint bitwise: false */\n  var length = promise._promise_state >>> 2;\n  if (length > 0) {\n    triggerPromiseReaction(\n      promise._promise_rejectReactions0,\n      promise._promise_reactionCapability0,\n      reason);\n    promise._promise_fulfillReactions0 = void 0;\n    promise._promise_rejectReactions0 = void 0;\n    promise._promise_reactionCapability0 = void 0;\n    if (length > 1) {\n      for (var i = 1, idx = 0; i < length; i++) {\n        triggerPromiseReaction(promise[idx + 1], promise[idx + 2], reason);\n        promise[idx++] = void 0;\n        promise[idx++] = void 0;\n        promise[idx++] = void 0;\n      }\n    }\n  }\n  promise._promise_result = reason;\n  promise._promise_state = PROMISE_REJECTED;\n}\n\nfunction getThen(r) { return r.then; }\n\nfunction PromiseResolveThenableJobTask() {\n  this.promise = null;\n  this.resolution = null;\n  this.then = null;\n}\nPromiseResolveThenableJobTask.prototype.call = function() {\n  promiseResolveThenableJob(this.promise, this.resolution, this.then);\n  this.promise = null;\n  this.resolution = null;\n  this.then = null;\n  freePromiseResolveThenableJobTasks.push(this);\n};\nvar freePromiseResolveThenableJobTasks = [];\n\nfunction triggerPromiseResolveThenableJob(promise, resolution, then) {\n  var task;\n  if (freePromiseResolveThenableJobTasks.length) {\n    task = freePromiseResolveThenableJobTasks.pop();\n  } else {\n    task = new PromiseResolveThenableJobTask();\n  }\n  task.promise = promise;\n  task.resolution = resolution;\n  task.then = then;\n  asap(task);\n}\n\nfunction resolvePromise(promise, resolution) {\n  if (resolution === promise) {\n    return rejectPromise(promise, new TypeError('Self resolution'));\n  }\n  if (TypeIsNotObject(resolution)) {\n    return fulfillPromise(promise, resolution);\n  }\n  var then = tryCatch1(getThen, resolution);\n  if (then === errorObj) {\n    return rejectPromise(promise, errorObj.e);\n  }\n  if (!IsCallable(then)) {\n    return fulfillPromise(promise, resolution);\n  }\n  triggerPromiseResolveThenableJob(promise, resolution, then);\n}\n\nfunction promiseResolveThenableJob(promise, thenable, then) {\n  // Inlined copy of createResolvingFunctions(promise)\n  var alreadyResolved = false;\n  var resolve = function promiseResolveThenableJobResolve(resolution) {\n    if (alreadyResolved) { return; }\n    alreadyResolved = true;\n    resolvePromise(promise, resolution);\n  };\n  var reject = function promiseResolveThenableJobReject(reason) {\n    if (alreadyResolved) { return; }\n    alreadyResolved = true;\n    return rejectPromise(promise, reason);\n  };\n  if (then === promisePrototypeThen) {\n    fakeRetvalFromThen = true; // Reset to false at the top of Promise#then\n  }\n  var value = tryCatch2r(then, thenable, resolve, reject);\n  if (value === errorObj) {\n    reject(errorObj.e);\n  }\n}\n\nvar PromiseConstruct = function Promise(resolver) {\n  if (!(this instanceof Promise)) {\n    throw new TypeError('Constructor Promise requires \"new\"');\n  }\n  if (this._promise_state !== void 0) {\n    throw new TypeError('Bad construction');\n  }\n  // The spec requires no enumerable fields, but for speed we're going\n  // to expose our implementation here.\n  // Since most promises have exactly one handler, the first one is\n  // stored directly on the object.  The rest (if needed) are stored\n  // on the object's element array to avoid unnecessary indirection.\n  this._promise_result = void 0;\n  this._promise_state = PROMISE_PENDING;\n  this._promise_fulfillReactions0 = void 0;\n  this._promise_rejectReactions0 = void 0;\n  this._promise_reactionCapability0 = void 0;\n  if (thenFastPath === FAST_PATH_MAKE_CAP &&\n      resolver === thenFastPathResolver) {\n    // We will create the resolving functions lazily.\n    thenFastPath = FAST_PATH_CTOR_BAILED;\n    return;\n  }\n  // see https://bugs.ecmascript.org/show_bug.cgi?id=2482\n  // (This check has been reordered after the fast path.)\n  if (!IsCallable(resolver)) {\n    throw new TypeError('not a valid resolver');\n  }\n  // Inlined copy of createResolvingFunctions(this), using _promise_state\n  // to track the `alreadyResolved` boolean.\n  var promise = this;\n  var resolve = function PromiseResolve(resolution) {\n    promiseCheckAndResolve(promise, resolution);\n  };\n  var reject = function PromiseReject(reason) {\n    promiseCheckAndReject(promise, reason);\n  };\n  var value = tryCatch2(resolver, resolve, reject);\n  if (value === errorObj) {\n    reject(errorObj.e);\n  }\n};\nvar Promise = (function makeClass() {\n  if (useES2015Class) {\n    try {\n      /* jshint evil:true */\n      return eval('(function(PromiseConstruct) {' +\n                  '\"use strict\";' +\n                  'return class Promise {' +\n                  '  constructor(executor) {' +\n                  '    PromiseConstruct.call(this, executor);' +\n                  '  }' +\n                  '};})')(PromiseConstruct);\n    } catch (e) { /* I guess ES2015 syntax isn't supported. */ }\n  }\n  return PromiseConstruct;\n})();\nvar Promise$prototype = Promise.prototype;\n\ndefineProperties(Promise, {\n  reject: function reject(reason) {\n    var C = this;\n    if (!TypeIsObject(C)) {\n      throw new TypeError('Bad promise constructor');\n    }\n    var capability = makeCapabilityFast(C);\n    return promiseReactionReject(capability, reason);\n  },\n\n  resolve: function resolve(v) {\n    // See https://esdiscuss.org/topic/fixing-promise-resolve for spec\n    var C = this;\n    if (!TypeIsObject(C)) {\n      throw new TypeError('Bad promise constructor');\n    }\n    if (IsPromise(v)) {\n      var constructor = v.constructor;\n      if (constructor === C) { return v; }\n    }\n    var capability = makeCapabilityFast(C);\n    return promiseReactionResolve(capability, v);\n  },\n});\n\ndefineProperties(Promise$prototype, {\n  catch: function catch_(onRejected) {\n    return this.then(void 0, onRejected);\n  },\n\n  then: function then(onFulfilled, onRejected) {\n    /* jshint bitwise: false */\n    var fakeRetval = fakeRetvalFromThen;\n    fakeRetvalFromThen = false;\n\n    var promise = this;\n    if (!IsPromise(promise)) { throw new TypeError('not a promise'); }\n    var resultCapability, C;\n    if ((!strictConstructors) && fakeRetval) {\n      resultCapability = PROMISE_FAKE_CAPABILITY;\n    } else {\n      C = SpeciesConstructor(promise, Promise);\n      if (fakeRetval &&\n          (C === Promise || C.hasOwnProperty('noSideEffects'))) {\n        resultCapability = PROMISE_FAKE_CAPABILITY;\n      } else {\n        // We might create a fake capability here.\n        resultCapability = makeCapabilityFast(C);\n      }\n    }\n    // PerformPromiseThen(promise, onFulfilled, onRejected, resultCapability)\n    if (!IsCallable(onFulfilled)) {\n      onFulfilled = PROMISE_IDENTITY;\n    }\n    if (!IsCallable(onRejected)) {\n      onRejected = PROMISE_THROWER;\n    }\n\n    var length;\n    switch (promise._promise_state & 3) {\n    case PROMISE_PENDING:\n    case PROMISE_RESOLVING:\n      length = promise._promise_state >>> 2;\n      if (length === 0) {\n        promise._promise_fulfillReactions0 = onFulfilled;\n        promise._promise_rejectReactions0 = onRejected;\n        promise._promise_reactionCapability0 = resultCapability;\n      } else {\n        var i = 3 * (length - 1);\n        promise[i] = onFulfilled;\n        promise[i + 1] = onRejected;\n        promise[i + 2] = resultCapability;\n      }\n      promise._promise_state += (1 << 2);\n      break;\n    case PROMISE_FULFILLED:\n      triggerPromiseReaction(onFulfilled, resultCapability,\n                             promise._promise_result);\n      break;\n    case PROMISE_REJECTED:\n      triggerPromiseReaction(onRejected, resultCapability,\n                             promise._promise_result);\n      break;\n    default:\n      throw new TypeError('unexpected');\n    }\n    if (resultCapability.constructor === PromiseCapability) {\n      return resultCapability.promise;\n    }\n    return resultCapability;\n  },\n});\n// Store the identify of the Promise#then function for optimization.\npromisePrototypeThen = Promise$prototype.then;\n// This encapsulates the `then` optimization, for use by promise-extra.js\nfunction optimizePromiseThen(promise, onFulfilled, onReject) {\n  var then = promise.then;\n  if (then === promisePrototypeThen) {\n    fakeRetvalFromThen = true; // Reset to false at the top of Promise#then\n    promisePrototypeThen.call(promise, onFulfilled, onReject);\n  } else {\n    then.call(promise, onFulfilled, onReject);\n  }\n}\n\n// Special \"extra\" method which is like `Promise#then` but it does\n// *not* return a `Promise`.  This can be much faster when you don't\n// need the result.\nPromise$prototype.then0 = function then0(f, r) {\n  optimizePromiseThen(this, f, r);\n};\n\nif (symbolSpecies !== null) {\n  // Default species getter.\n  Object.defineProperty(Promise, symbolSpecies, {\n    configurable: true,\n    enumerable: false,\n    get: function speciesGetter() { return this; },\n  });\n}\n\n// Add Promise.all / Promise.race methods\n// (These are split into a separate file since their implementation is\n// reasonably independent of the core and their performance is not critical.)\nrequire('./promise-extra.js')(\n  Promise, PromiseCapability, makeCapability, makeCapabilityFast,\n  promiseReactionResolve, promiseReactionReject,\n  optimizePromiseThen, symbolSpecies\n);\n\nmodule.exports = Promise;\n","'use strict'\n\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nfunction init () {\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i]\n    revLookup[code.charCodeAt(i)] = i\n  }\n\n  revLookup['-'.charCodeAt(0)] = 62\n  revLookup['_'.charCodeAt(0)] = 63\n}\n\ninit()\n\nfunction toByteArray (b64) {\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n\n  // base64 is 4/3 + up to two characters of the original data\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\nBuffer.poolSize = 8192 // not used by this implementation\n\nvar rootParent = {}\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.foo = function () { return 42 }\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\nfunction Buffer (arg) {\n  if (!(this instanceof Buffer)) {\n    // Avoid going through an ArgumentsAdaptorTrampoline in the common case.\n    if (arguments.length > 1) return new Buffer(arg, arguments[1])\n    return new Buffer(arg)\n  }\n\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    this.length = 0\n    this.parent = undefined\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    return fromNumber(this, arg)\n  }\n\n  // Slightly less common case.\n  if (typeof arg === 'string') {\n    return fromString(this, arg, arguments.length > 1 ? arguments[1] : 'utf8')\n  }\n\n  // Unusual.\n  return fromObject(this, arg)\n}\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction fromNumber (that, length) {\n  that = allocate(that, length < 0 ? 0 : checked(length) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < length; i++) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') encoding = 'utf8'\n\n  // Assumption: byteLength() return value is always < kMaxLength.\n  var length = byteLength(string, encoding) | 0\n  that = allocate(that, length)\n\n  that.write(string, encoding)\n  return that\n}\n\nfunction fromObject (that, object) {\n  if (Buffer.isBuffer(object)) return fromBuffer(that, object)\n\n  if (isArray(object)) return fromArray(that, object)\n\n  if (object == null) {\n    throw new TypeError('must start with number, buffer, array or string')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined') {\n    if (object.buffer instanceof ArrayBuffer) {\n      return fromTypedArray(that, object)\n    }\n    if (object instanceof ArrayBuffer) {\n      return fromArrayBuffer(that, object)\n    }\n  }\n\n  if (object.length) return fromArrayLike(that, object)\n\n  return fromJsonObject(that, object)\n}\n\nfunction fromBuffer (that, buffer) {\n  var length = checked(buffer.length) | 0\n  that = allocate(that, length)\n  buffer.copy(that, 0, 0, length)\n  return that\n}\n\nfunction fromArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Duplicate of fromArray() to keep fromArray() monomorphic.\nfunction fromTypedArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  // Truncating the elements is probably not what people expect from typed\n  // arrays with BYTES_PER_ELEMENT > 1 but it's compatible with the behavior\n  // of the old Buffer constructor.\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(array)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromTypedArray(that, new Uint8Array(array))\n  }\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Deserialize { type: 'Buffer', data: [1,2,3,...] } into a Buffer object.\n// Returns a zero-length buffer for inputs that don't conform to the spec.\nfunction fromJsonObject (that, object) {\n  var array\n  var length = 0\n\n  if (object.type === 'Buffer' && isArray(object.data)) {\n    array = object.data\n    length = checked(array.length) | 0\n  }\n  that = allocate(that, length)\n\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n} else {\n  // pre-set for values that may exist in the future\n  Buffer.prototype.length = undefined\n  Buffer.prototype.parent = undefined\n}\n\nfunction allocate (that, length) {\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that.length = length\n  }\n\n  var fromPool = length !== 0 && length <= Buffer.poolSize >>> 1\n  if (fromPool) that.parent = rootParent\n\n  return that\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (subject, encoding) {\n  if (!(this instanceof SlowBuffer)) return new SlowBuffer(subject, encoding)\n\n  var buf = new Buffer(subject, encoding)\n  delete buf.parent\n  return buf\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'raw':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) throw new TypeError('list argument must be an Array of Buffers.')\n\n  if (list.length === 0) {\n    return new Buffer(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; i++) {\n      length += list[i].length\n    }\n  }\n\n  var buf = new Buffer(length)\n  var pos = 0\n  for (i = 0; i < list.length; i++) {\n    var item = list[i]\n    item.copy(buf, pos)\n    pos += item.length\n  }\n  return buf\n}\n\nfunction byteLength (string, encoding) {\n  if (typeof string !== 'string') string = '' + string\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'binary':\n      // Deprecated\n      case 'raw':\n      case 'raws':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  start = start | 0\n  end = end === undefined || end === Infinity ? this.length : end | 0\n\n  if (!encoding) encoding = 'utf8'\n  if (start < 0) start = 0\n  if (end > this.length) end = this.length\n  if (end <= start) return ''\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'binary':\n        return binarySlice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  return Buffer.compare(this, b)\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset) {\n  if (byteOffset > 0x7fffffff) byteOffset = 0x7fffffff\n  else if (byteOffset < -0x80000000) byteOffset = -0x80000000\n  byteOffset >>= 0\n\n  if (this.length === 0) return -1\n  if (byteOffset >= this.length) return -1\n\n  // Negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = Math.max(this.length + byteOffset, 0)\n\n  if (typeof val === 'string') {\n    if (val.length === 0) return -1 // special case: looking for empty string always fails\n    return String.prototype.indexOf.call(this, val, byteOffset)\n  }\n  if (Buffer.isBuffer(val)) {\n    return arrayIndexOf(this, val, byteOffset)\n  }\n  if (typeof val === 'number') {\n    if (Buffer.TYPED_ARRAY_SUPPORT && Uint8Array.prototype.indexOf === 'function') {\n      return Uint8Array.prototype.indexOf.call(this, val, byteOffset)\n    }\n    return arrayIndexOf(this, [ val ], byteOffset)\n  }\n\n  function arrayIndexOf (arr, val, byteOffset) {\n    var foundIndex = -1\n    for (var i = 0; byteOffset + i < arr.length; i++) {\n      if (arr[byteOffset + i] === val[foundIndex === -1 ? 0 : i - foundIndex]) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === val.length) return byteOffset + foundIndex\n      } else {\n        foundIndex = -1\n      }\n    }\n    return -1\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new Error('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; i++) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) throw new Error('Invalid hex string')\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction binaryWrite (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    var swap = encoding\n    encoding = offset\n    offset = length | 0\n    length = swap\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'binary':\n        return binaryWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction binarySlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; i++) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; i++) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  if (newBuf.length) newBuf.parent = this.parent || this\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n  if (offset < 0) throw new RangeError('index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; i--) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; i++) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// fill(value, start=0, end=buffer.length)\nBuffer.prototype.fill = function fill (value, start, end) {\n  if (!value) value = 0\n  if (!start) start = 0\n  if (!end) end = this.length\n\n  if (end < start) throw new RangeError('end < start')\n\n  // Fill 0 bytes; we're done\n  if (end === start) return\n  if (this.length === 0) return\n\n  if (start < 0 || start >= this.length) throw new RangeError('start out of bounds')\n  if (end < 0 || end > this.length) throw new RangeError('end out of bounds')\n\n  var i\n  if (typeof value === 'number') {\n    for (i = start; i < end; i++) {\n      this[i] = value\n    }\n  } else {\n    var bytes = utf8ToBytes(value.toString())\n    var len = bytes.length\n    for (i = start; i < end; i++) {\n      this[i] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; i++) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; i++) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","var hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\nvar undefined;\n\nvar isPlainObject = function isPlainObject(obj) {\n\t\"use strict\";\n\tif (!obj || toString.call(obj) !== '[object Object]' || obj.nodeType || obj.setInterval) {\n\t\treturn false;\n\t}\n\n\tvar has_own_constructor = hasOwn.call(obj, 'constructor');\n\tvar has_is_property_of_method = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !has_own_constructor && !has_is_property_of_method) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) {}\n\n\treturn key === undefined || hasOwn.call(obj, key);\n};\n\nmodule.exports = function extend() {\n\t\"use strict\";\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0],\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === \"boolean\") {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t} else if (typeof target !== \"object\" && typeof target !== \"function\" || target == undefined) {\n\t\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\t// Only deal with non-null/undefined values\n\t\tif ((options = arguments[i]) != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target === copy) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = Array.isArray(copy)))) {\n\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && Array.isArray(src) ? src : [];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if (copy !== undefined) {\n\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n","'use strict';\n\n/**\n * Provides in-memory cache.\n *\n * @name MemoryCache\n * @constructor\n */\nfunction MemoryCache() {\n    this._cache = createMap();\n    this._timeouts = createMap();\n}\n\n/**\n * Returns cache value for the specified key.\n *\n * @param {String} key\n * @returns {*} Value or `undefined` if value does not exist.\n */\nMemoryCache.prototype.get = function (key) {\n    return this._cache[key];\n};\n\n/**\n * Assigns value for the specified key.\n *\n * @param {String} key\n * @param {*} value\n * @param {Number} [expireTime=0] The length of time in seconds. After this time has expired, the\n *      value will be automatically deleted. 0 means that time never expire.\n */\nMemoryCache.prototype.set = function (key, value, expireTime) {\n    this.delete(key);\n    this._cache[key] = value;\n    if (expireTime) {\n        this._timeouts[key] = setTimeout(this.delete.bind(this, key), expireTime * 1000);\n    }\n};\n\n/**\n * Deletes value for the specified key.\n *\n * @param {String} key\n */\nMemoryCache.prototype.delete = function (key) {\n    delete this._cache[key];\n    if (key in this._timeouts) {\n        clearTimeout(this._timeouts[key]);\n        delete this._timeouts[key];\n    }\n};\n\n/**\n * Clears the whole cache storage.\n */\nMemoryCache.prototype.clear = function () {\n    this._cache = createMap();\n    for (var key in this._timeouts) {\n        clearTimeout(this._timeouts[key]);\n    }\n    this._timeouts = createMap();\n};\n\n/**\n * Creates a new object without a prototype. This object is useful for lookup without having to\n * guard against prototypically inherited properties via hasOwnProperty.\n *\n * @returns {Object}\n */\nfunction createMap() {\n    return Object.create(null);\n}\n\nmodule.exports = MemoryCache;\n","var isFunction = require('is-function')\n\nmodule.exports = forEach\n\nvar toString = Object.prototype.toString\nvar hasOwnProperty = Object.prototype.hasOwnProperty\n\nfunction forEach(list, iterator, context) {\n    if (!isFunction(iterator)) {\n        throw new TypeError('iterator must be a function')\n    }\n\n    if (arguments.length < 3) {\n        context = this\n    }\n    \n    if (toString.call(list) === '[object Array]')\n        forEachArray(list, iterator, context)\n    else if (typeof list === 'string')\n        forEachString(list, iterator, context)\n    else\n        forEachObject(list, iterator, context)\n}\n\nfunction forEachArray(array, iterator, context) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            iterator.call(context, array[i], i, array)\n        }\n    }\n}\n\nfunction forEachString(string, iterator, context) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        iterator.call(context, string.charAt(i), i, string)\n    }\n}\n\nfunction forEachObject(object, iterator, context) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            iterator.call(context, object[k], k, object)\n        }\n    }\n}\n","/*! hellojs v1.12.0 | (c) 2012-2016 Andrew Dodson | MIT https://adodson.com/hello.js/LICENSE */\r\n// ES5 Object.create\nif (!Object.create) {\n\n\t// Shim, Object create\n\t// A shim for Object.create(), it adds a prototype to a new object\n\tObject.create = (function() {\n\n\t\tfunction F() {}\n\n\t\treturn function(o) {\n\n\t\t\tif (arguments.length != 1) {\n\t\t\t\tthrow new Error('Object.create implementation only accepts one parameter.');\n\t\t\t}\n\n\t\t\tF.prototype = o;\n\t\t\treturn new F();\n\t\t};\n\n\t})();\n\n}\n\n// ES5 Object.keys\nif (!Object.keys) {\n\tObject.keys = function(o, k, r) {\n\t\tr = [];\n\t\tfor (k in o) {\n\t\t\tif (r.hasOwnProperty.call(o, k))\n\t\t\t\tr.push(k);\n\t\t}\n\n\t\treturn r;\n\t};\n}\n\n// ES5 [].indexOf\nif (!Array.prototype.indexOf) {\n\tArray.prototype.indexOf = function(s) {\n\n\t\tfor (var j = 0; j < this.length; j++) {\n\t\t\tif (this[j] === s) {\n\t\t\t\treturn j;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t};\n}\n\n// ES5 [].forEach\nif (!Array.prototype.forEach) {\n\tArray.prototype.forEach = function(fun/*, thisArg*/) {\n\n\t\tif (this === void 0 || this === null) {\n\t\t\tthrow new TypeError();\n\t\t}\n\n\t\tvar t = Object(this);\n\t\tvar len = t.length >>> 0;\n\t\tif (typeof fun !== 'function') {\n\t\t\tthrow new TypeError();\n\t\t}\n\n\t\tvar thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tif (i in t) {\n\t\t\t\tfun.call(thisArg, t[i], i, t);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t};\n}\n\n// ES5 [].filter\nif (!Array.prototype.filter) {\n\tArray.prototype.filter = function(fun, thisArg) {\n\n\t\tvar a = [];\n\t\tthis.forEach(function(val, i, t) {\n\t\t\tif (fun.call(thisArg || void 0, val, i, t)) {\n\t\t\t\ta.push(val);\n\t\t\t}\n\t\t});\n\n\t\treturn a;\n\t};\n}\n\n// Production steps of ECMA-262, Edition 5, 15.4.4.19\n// Reference: http://es5.github.io/#x15.4.4.19\nif (!Array.prototype.map) {\n\n\tArray.prototype.map = function(fun, thisArg) {\n\n\t\tvar a = [];\n\t\tthis.forEach(function(val, i, t) {\n\t\t\ta.push(fun.call(thisArg || void 0, val, i, t));\n\t\t});\n\n\t\treturn a;\n\t};\n}\n\n// ES5 isArray\nif (!Array.isArray) {\n\n\t// Function Array.isArray\n\tArray.isArray = function(o) {\n\t\treturn Object.prototype.toString.call(o) === '[object Array]';\n\t};\n\n}\n\n// Test for location.assign\nif (typeof window === 'object' && typeof window.location === 'object' && !window.location.assign) {\n\n\twindow.location.assign = function(url) {\n\t\twindow.location = url;\n\t};\n\n}\n\n// Test for Function.bind\nif (!Function.prototype.bind) {\n\n\t// MDN\n\t// Polyfill IE8, does not support native Function.bind\n\tFunction.prototype.bind = function(b) {\n\n\t\tif (typeof this !== 'function') {\n\t\t\tthrow new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n\t\t}\n\n\t\tfunction C() {}\n\n\t\tvar a = [].slice;\n\t\tvar f = a.call(arguments, 1);\n\t\tvar _this = this;\n\t\tvar D = function() {\n\t\t\treturn _this.apply(this instanceof C ? this : b || window, f.concat(a.call(arguments)));\n\t\t};\n\n\t\tC.prototype = this.prototype;\n\t\tD.prototype = new C();\n\n\t\treturn D;\n\t};\n\n}\n\n/**\n * @hello.js\n *\n * HelloJS is a client side Javascript SDK for making OAuth2 logins and subsequent REST calls.\n *\n * @author Andrew Dodson\n * @website https://adodson.com/hello.js/\n *\n * @copyright Andrew Dodson, 2012 - 2015\n * @license MIT: You are free to use and modify this code for any use, on the condition that this copyright notice remains.\n */\n\nvar hello = function(name) {\n\treturn hello.use(name);\n};\n\nhello.utils = {\n\n\t// Extend the first object with the properties and methods of the second\n\textend: function(r /*, a[, b[, ...]] */) {\n\n\t\t// Get the arguments as an array but ommit the initial item\n\t\tArray.prototype.slice.call(arguments, 1).forEach(function(a) {\n\t\t\tif (Array.isArray(r) && Array.isArray(a)) {\n\t\t\t\tArray.prototype.push.apply(r, a);\n\t\t\t}\n\t\t\telse if (r instanceof Object && a instanceof Object && r !== a) {\n\t\t\t\tfor (var x in a) {\n\t\t\t\t\tr[x] = hello.utils.extend(r[x], a[x]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\n\t\t\t\tif (Array.isArray(a)) {\n\t\t\t\t\t// Clone it\n\t\t\t\t\ta = a.slice(0);\n\t\t\t\t}\n\n\t\t\t\tr = a;\n\t\t\t}\n\t\t});\n\n\t\treturn r;\n\t}\n};\n\n// Core library\nhello.utils.extend(hello, {\n\n\tsettings: {\n\n\t\t// OAuth2 authentication defaults\n\t\tredirect_uri: window.location.href.split('#')[0],\n\t\tresponse_type: 'token',\n\t\tdisplay: 'popup',\n\t\tstate: '',\n\n\t\t// OAuth1 shim\n\t\t// The path to the OAuth1 server for signing user requests\n\t\t// Want to recreate your own? Checkout https://github.com/MrSwitch/node-oauth-shim\n\t\toauth_proxy: 'https://auth-server.herokuapp.com/proxy',\n\n\t\t// API timeout in milliseconds\n\t\ttimeout: 20000,\n\n\t\t// Popup Options\n\t\tpopup: {\n\t\t\tresizable: 1,\n\t\t\tscrollbars: 1,\n\t\t\twidth: 500,\n\t\t\theight: 550\n\t\t},\n\n\t\t// Default scope\n\t\t// Many services require atleast a profile scope,\n\t\t// HelloJS automatially includes the value of provider.scope_map.basic\n\t\t// If that's not required it can be removed via hello.settings.scope.length = 0;\n\t\tscope: ['basic'],\n\n\t\t// Scope Maps\n\t\t// This is the default module scope, these are the defaults which each service is mapped too.\n\t\t// By including them here it prevents the scope from being applied accidentally\n\t\tscope_map: {\n\t\t\tbasic: ''\n\t\t},\n\n\t\t// Default service / network\n\t\tdefault_service: null,\n\n\t\t// Force authentication\n\t\t// When hello.login is fired.\n\t\t// (null): ignore current session expiry and continue with login\n\t\t// (true): ignore current session expiry and continue with login, ask for user to reauthenticate\n\t\t// (false): if the current session looks good for the request scopes return the current session.\n\t\tforce: null,\n\n\t\t// Page URL\n\t\t// When 'display=page' this property defines where the users page should end up after redirect_uri\n\t\t// Ths could be problematic if the redirect_uri is indeed the final place,\n\t\t// Typically this circumvents the problem of the redirect_url being a dumb relay page.\n\t\tpage_uri: window.location.href\n\t},\n\n\t// Service configuration objects\n\tservices: {},\n\n\t// Use\n\t// Define a new instance of the HelloJS library with a default service\n\tuse: function(service) {\n\n\t\t// Create self, which inherits from its parent\n\t\tvar self = Object.create(this);\n\n\t\t// Inherit the prototype from its parent\n\t\tself.settings = Object.create(this.settings);\n\n\t\t// Define the default service\n\t\tif (service) {\n\t\t\tself.settings.default_service = service;\n\t\t}\n\n\t\t// Create an instance of Events\n\t\tself.utils.Event.call(self);\n\n\t\treturn self;\n\t},\n\n\t// Initialize\n\t// Define the client_ids for the endpoint services\n\t// @param object o, contains a key value pair, service => clientId\n\t// @param object opts, contains a key value pair of options used for defining the authentication defaults\n\t// @param number timeout, timeout in seconds\n\tinit: function(services, options) {\n\n\t\tvar utils = this.utils;\n\n\t\tif (!services) {\n\t\t\treturn this.services;\n\t\t}\n\n\t\t// Define provider credentials\n\t\t// Reformat the ID field\n\t\tfor (var x in services) {if (services.hasOwnProperty(x)) {\n\t\t\tif (typeof (services[x]) !== 'object') {\n\t\t\t\tservices[x] = {id: services[x]};\n\t\t\t}\n\t\t}}\n\n\t\t// Merge services if there already exists some\n\t\tutils.extend(this.services, services);\n\n\t\t// Update the default settings with this one.\n\t\tif (options) {\n\t\t\tutils.extend(this.settings, options);\n\n\t\t\t// Do this immediatly incase the browser changes the current path.\n\t\t\tif ('redirect_uri' in options) {\n\t\t\t\tthis.settings.redirect_uri = utils.url(options.redirect_uri).href;\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t// Login\n\t// Using the endpoint\n\t// @param network stringify       name to connect to\n\t// @param options object    (optional)  {display mode, is either none|popup(default)|page, scope: email,birthday,publish, .. }\n\t// @param callback  function  (optional)  fired on signin\n\tlogin: function() {\n\n\t\t// Create an object which inherits its parent as the prototype and constructs a new event chain.\n\t\tvar _this = this;\n\t\tvar utils = _this.utils;\n\t\tvar error = utils.error;\n\t\tvar promise = utils.Promise();\n\n\t\t// Get parameters\n\t\tvar p = utils.args({network: 's', options: 'o', callback: 'f'}, arguments);\n\n\t\t// Local vars\n\t\tvar url;\n\n\t\t// Get all the custom options and store to be appended to the querystring\n\t\tvar qs = utils.diffKey(p.options, _this.settings);\n\n\t\t// Merge/override options with app defaults\n\t\tvar opts = p.options = utils.merge(_this.settings, p.options || {});\n\n\t\t// Merge/override options with app defaults\n\t\topts.popup = utils.merge(_this.settings.popup, p.options.popup || {});\n\n\t\t// Network\n\t\tp.network = p.network || _this.settings.default_service;\n\n\t\t// Bind callback to both reject and fulfill states\n\t\tpromise.proxy.then(p.callback, p.callback);\n\n\t\t// Trigger an event on the global listener\n\t\tfunction emit(s, value) {\n\t\t\thello.emit(s, value);\n\t\t}\n\n\t\tpromise.proxy.then(emit.bind(this, 'auth.login auth'), emit.bind(this, 'auth.failed auth'));\n\n\t\t// Is our service valid?\n\t\tif (typeof (p.network) !== 'string' || !(p.network in _this.services)) {\n\t\t\t// Trigger the default login.\n\t\t\t// Ahh we dont have one.\n\t\t\treturn promise.reject(error('invalid_network', 'The provided network was not recognized'));\n\t\t}\n\n\t\tvar provider = _this.services[p.network];\n\n\t\t// Create a global listener to capture events triggered out of scope\n\t\tvar callbackId = utils.globalEvent(function(str) {\n\n\t\t\t// The responseHandler returns a string, lets save this locally\n\t\t\tvar obj;\n\n\t\t\tif (str) {\n\t\t\t\tobj = JSON.parse(str);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tobj = error('cancelled', 'The authentication was not completed');\n\t\t\t}\n\n\t\t\t// Handle these response using the local\n\t\t\t// Trigger on the parent\n\t\t\tif (!obj.error) {\n\n\t\t\t\t// Save on the parent window the new credentials\n\t\t\t\t// This fixes an IE10 bug i think... atleast it does for me.\n\t\t\t\tutils.store(obj.network, obj);\n\n\t\t\t\t// Fulfill a successful login\n\t\t\t\tpromise.fulfill({\n\t\t\t\t\tnetwork: obj.network,\n\t\t\t\t\tauthResponse: obj\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Reject a successful login\n\t\t\t\tpromise.reject(obj);\n\t\t\t}\n\t\t});\n\n\t\tvar redirectUri = utils.url(opts.redirect_uri).href;\n\n\t\t// May be a space-delimited list of multiple, complementary types\n\t\tvar responseType = provider.oauth.response_type || opts.response_type;\n\n\t\t// Fallback to token if the module hasn't defined a grant url\n\t\tif (/\\bcode\\b/.test(responseType) && !provider.oauth.grant) {\n\t\t\tresponseType = responseType.replace(/\\bcode\\b/, 'token');\n\t\t}\n\n\t\t// Query string parameters, we may pass our own arguments to form the querystring\n\t\tp.qs = utils.merge(qs, {\n\t\t\tclient_id: encodeURIComponent(provider.id),\n\t\t\tresponse_type: encodeURIComponent(responseType),\n\t\t\tredirect_uri: encodeURIComponent(redirectUri),\n\t\t\tdisplay: opts.display,\n\t\t\tstate: {\n\t\t\t\tclient_id: provider.id,\n\t\t\t\tnetwork: p.network,\n\t\t\t\tdisplay: opts.display,\n\t\t\t\tcallback: callbackId,\n\t\t\t\tstate: opts.state,\n\t\t\t\tredirect_uri: redirectUri\n\t\t\t}\n\t\t});\n\n\t\t// Get current session for merging scopes, and for quick auth response\n\t\tvar session = utils.store(p.network);\n\n\t\t// Scopes (authentication permisions)\n\t\t// Ensure this is a string - IE has a problem moving Arrays between windows\n\t\t// Append the setup scope\n\t\tvar SCOPE_SPLIT = /[,\\s]+/;\n\n\t\t// Include default scope settings (cloned).\n\t\tvar scope = _this.settings.scope ? [_this.settings.scope.toString()] : [];\n\n\t\t// Extend the providers scope list with the default\n\t\tvar scopeMap = utils.merge(_this.settings.scope_map, provider.scope || {});\n\n\t\t// Add user defined scopes...\n\t\tif (opts.scope) {\n\t\t\tscope.push(opts.scope.toString());\n\t\t}\n\n\t\t// Append scopes from a previous session.\n\t\t// This helps keep app credentials constant,\n\t\t// Avoiding having to keep tabs on what scopes are authorized\n\t\tif (session && 'scope' in session && session.scope instanceof String) {\n\t\t\tscope.push(session.scope);\n\t\t}\n\n\t\t// Join and Split again\n\t\tscope = scope.join(',').split(SCOPE_SPLIT);\n\n\t\t// Format remove duplicates and empty values\n\t\tscope = utils.unique(scope).filter(filterEmpty);\n\n\t\t// Save the the scopes to the state with the names that they were requested with.\n\t\tp.qs.state.scope = scope.join(',');\n\n\t\t// Map scopes to the providers naming convention\n\t\tscope = scope.map(function(item) {\n\t\t\t// Does this have a mapping?\n\t\t\treturn (item in scopeMap) ? scopeMap[item] : item;\n\t\t});\n\n\t\t// Stringify and Arrayify so that double mapped scopes are given the chance to be formatted\n\t\tscope = scope.join(',').split(SCOPE_SPLIT);\n\n\t\t// Again...\n\t\t// Format remove duplicates and empty values\n\t\tscope = utils.unique(scope).filter(filterEmpty);\n\n\t\t// Join with the expected scope delimiter into a string\n\t\tp.qs.scope = scope.join(provider.scope_delim || ',');\n\n\t\t// Is the user already signed in with the appropriate scopes, valid access_token?\n\t\tif (opts.force === false) {\n\n\t\t\tif (session && 'access_token' in session && session.access_token && 'expires' in session && session.expires > ((new Date()).getTime() / 1e3)) {\n\t\t\t\t// What is different about the scopes in the session vs the scopes in the new login?\n\t\t\t\tvar diff = utils.diff((session.scope || '').split(SCOPE_SPLIT), (p.qs.state.scope || '').split(SCOPE_SPLIT));\n\t\t\t\tif (diff.length === 0) {\n\n\t\t\t\t\t// OK trigger the callback\n\t\t\t\t\tpromise.fulfill({\n\t\t\t\t\t\tunchanged: true,\n\t\t\t\t\t\tnetwork: p.network,\n\t\t\t\t\t\tauthResponse: session\n\t\t\t\t\t});\n\n\t\t\t\t\t// Nothing has changed\n\t\t\t\t\treturn promise;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Page URL\n\t\tif (opts.display === 'page' && opts.page_uri) {\n\t\t\t// Add a page location, place to endup after session has authenticated\n\t\t\tp.qs.state.page_uri = utils.url(opts.page_uri).href;\n\t\t}\n\n\t\t// Bespoke\n\t\t// Override login querystrings from auth_options\n\t\tif ('login' in provider && typeof (provider.login) === 'function') {\n\t\t\t// Format the paramaters according to the providers formatting function\n\t\t\tprovider.login(p);\n\t\t}\n\n\t\t// Add OAuth to state\n\t\t// Where the service is going to take advantage of the oauth_proxy\n\t\tif (!/\\btoken\\b/.test(responseType) ||\n\t\tparseInt(provider.oauth.version, 10) < 2 ||\n\t\t(opts.display === 'none' && provider.oauth.grant && session && session.refresh_token)) {\n\n\t\t\t// Add the oauth endpoints\n\t\t\tp.qs.state.oauth = provider.oauth;\n\n\t\t\t// Add the proxy url\n\t\t\tp.qs.state.oauth_proxy = opts.oauth_proxy;\n\n\t\t}\n\n\t\t// Convert state to a string\n\t\tp.qs.state = encodeURIComponent(JSON.stringify(p.qs.state));\n\n\t\t// URL\n\t\tif (parseInt(provider.oauth.version, 10) === 1) {\n\n\t\t\t// Turn the request to the OAuth Proxy for 3-legged auth\n\t\t\turl = utils.qs(opts.oauth_proxy, p.qs, encodeFunction);\n\t\t}\n\n\t\t// Refresh token\n\t\telse if (opts.display === 'none' && provider.oauth.grant && session && session.refresh_token) {\n\n\t\t\t// Add the refresh_token to the request\n\t\t\tp.qs.refresh_token = session.refresh_token;\n\n\t\t\t// Define the request path\n\t\t\turl = utils.qs(opts.oauth_proxy, p.qs, encodeFunction);\n\t\t}\n\t\telse {\n\t\t\turl = utils.qs(provider.oauth.auth, p.qs, encodeFunction);\n\t\t}\n\n\t\t// Broadcast this event as an auth:init\n\t\temit('auth.init', p);\n\n\t\t// Execute\n\t\t// Trigger how we want self displayed\n\t\tif (opts.display === 'none') {\n\t\t\t// Sign-in in the background, iframe\n\t\t\tutils.iframe(url, redirectUri);\n\t\t}\n\n\t\t// Triggering popup?\n\t\telse if (opts.display === 'popup') {\n\n\t\t\tvar popup = utils.popup(url, redirectUri, opts.popup);\n\n\t\t\tvar timer = setInterval(function() {\n\t\t\t\tif (!popup || popup.closed) {\n\t\t\t\t\tclearInterval(timer);\n\t\t\t\t\tif (!promise.state) {\n\n\t\t\t\t\t\tvar response = error('cancelled', 'Login has been cancelled');\n\n\t\t\t\t\t\tif (!popup) {\n\t\t\t\t\t\t\tresponse = error('blocked', 'Popup was blocked');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresponse.network = p.network;\n\n\t\t\t\t\t\tpromise.reject(response);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t}\n\n\t\telse {\n\t\t\twindow.location = url;\n\t\t}\n\n\t\treturn promise.proxy;\n\n\t\tfunction encodeFunction(s) {return s;}\n\n\t\tfunction filterEmpty(s) {return !!s;}\n\t},\n\n\t// Remove any data associated with a given service\n\t// @param string name of the service\n\t// @param function callback\n\tlogout: function() {\n\n\t\tvar _this = this;\n\t\tvar utils = _this.utils;\n\t\tvar error = utils.error;\n\n\t\t// Create a new promise\n\t\tvar promise = utils.Promise();\n\n\t\tvar p = utils.args({name:'s', options: 'o', callback: 'f'}, arguments);\n\n\t\tp.options = p.options || {};\n\n\t\t// Add callback to events\n\t\tpromise.proxy.then(p.callback, p.callback);\n\n\t\t// Trigger an event on the global listener\n\t\tfunction emit(s, value) {\n\t\t\thello.emit(s, value);\n\t\t}\n\n\t\tpromise.proxy.then(emit.bind(this, 'auth.logout auth'), emit.bind(this, 'error'));\n\n\t\t// Network\n\t\tp.name = p.name || this.settings.default_service;\n\t\tp.authResponse = utils.store(p.name);\n\n\t\tif (p.name && !(p.name in _this.services)) {\n\n\t\t\tpromise.reject(error('invalid_network', 'The network was unrecognized'));\n\n\t\t}\n\t\telse if (p.name && p.authResponse) {\n\n\t\t\t// Define the callback\n\t\t\tvar callback = function(opts) {\n\n\t\t\t\t// Remove from the store\n\t\t\t\tutils.store(p.name, null);\n\n\t\t\t\t// Emit events by default\n\t\t\t\tpromise.fulfill(hello.utils.merge({network:p.name}, opts || {}));\n\t\t\t};\n\n\t\t\t// Run an async operation to remove the users session\n\t\t\tvar _opts = {};\n\t\t\tif (p.options.force) {\n\t\t\t\tvar logout = _this.services[p.name].logout;\n\t\t\t\tif (logout) {\n\t\t\t\t\t// Convert logout to URL string,\n\t\t\t\t\t// If no string is returned, then this function will handle the logout async style\n\t\t\t\t\tif (typeof (logout) === 'function') {\n\t\t\t\t\t\tlogout = logout(callback, p);\n\t\t\t\t\t}\n\n\t\t\t\t\t// If logout is a string then assume URL and open in iframe.\n\t\t\t\t\tif (typeof (logout) === 'string') {\n\t\t\t\t\t\tutils.iframe(logout);\n\t\t\t\t\t\t_opts.force = null;\n\t\t\t\t\t\t_opts.message = 'Logout success on providers site was indeterminate';\n\t\t\t\t\t}\n\t\t\t\t\telse if (logout === undefined) {\n\t\t\t\t\t\t// The callback function will handle the response.\n\t\t\t\t\t\treturn promise.proxy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove local credentials\n\t\t\tcallback(_opts);\n\t\t}\n\t\telse {\n\t\t\tpromise.reject(error('invalid_session', 'There was no session to remove'));\n\t\t}\n\n\t\treturn promise.proxy;\n\t},\n\n\t// Returns all the sessions that are subscribed too\n\t// @param string optional, name of the service to get information about.\n\tgetAuthResponse: function(service) {\n\n\t\t// If the service doesn't exist\n\t\tservice = service || this.settings.default_service;\n\n\t\tif (!service || !(service in this.services)) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this.utils.store(service) || null;\n\t},\n\n\t// Events: placeholder for the events\n\tevents: {}\n});\n\n// Core utilities\nhello.utils.extend(hello.utils, {\n\n\t// Error\n\terror: function(code, message) {\n\t\treturn {\n\t\t\terror: {\n\t\t\t\tcode: code,\n\t\t\t\tmessage: message\n\t\t\t}\n\t\t};\n\t},\n\n\t// Append the querystring to a url\n\t// @param string url\n\t// @param object parameters\n\tqs: function(url, params, formatFunction) {\n\n\t\tif (params) {\n\n\t\t\t// Set default formatting function\n\t\t\tformatFunction = formatFunction || encodeURIComponent;\n\n\t\t\t// Override the items in the URL which already exist\n\t\t\tfor (var x in params) {\n\t\t\t\tvar str = '([\\\\?\\\\&])' + x + '=[^\\\\&]*';\n\t\t\t\tvar reg = new RegExp(str);\n\t\t\t\tif (url.match(reg)) {\n\t\t\t\t\turl = url.replace(reg, '$1' + x + '=' + formatFunction(params[x]));\n\t\t\t\t\tdelete params[x];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (!this.isEmpty(params)) {\n\t\t\treturn url + (url.indexOf('?') > -1 ? '&' : '?') + this.param(params, formatFunction);\n\t\t}\n\n\t\treturn url;\n\t},\n\n\t// Param\n\t// Explode/encode the parameters of an URL string/object\n\t// @param string s, string to decode\n\tparam: function(s, formatFunction) {\n\t\tvar b;\n\t\tvar a = {};\n\t\tvar m;\n\n\t\tif (typeof (s) === 'string') {\n\n\t\t\tformatFunction = formatFunction || decodeURIComponent;\n\n\t\t\tm = s.replace(/^[\\#\\?]/, '').match(/([^=\\/\\&]+)=([^\\&]+)/g);\n\t\t\tif (m) {\n\t\t\t\tfor (var i = 0; i < m.length; i++) {\n\t\t\t\t\tb = m[i].match(/([^=]+)=(.*)/);\n\t\t\t\t\ta[b[1]] = formatFunction(b[2]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn a;\n\t\t}\n\t\telse {\n\n\t\t\tformatFunction = formatFunction || encodeURIComponent;\n\n\t\t\tvar o = s;\n\n\t\t\ta = [];\n\n\t\t\tfor (var x in o) {if (o.hasOwnProperty(x)) {\n\t\t\t\tif (o.hasOwnProperty(x)) {\n\t\t\t\t\ta.push([x, o[x] === '?' ? '?' : formatFunction(o[x])].join('='));\n\t\t\t\t}\n\t\t\t}}\n\n\t\t\treturn a.join('&');\n\t\t}\n\t},\n\n\t// Local storage facade\n\tstore: (function() {\n\n\t\tvar a = ['localStorage', 'sessionStorage'];\n\t\tvar i = -1;\n\t\tvar prefix = 'test';\n\n\t\t// Set LocalStorage\n\t\tvar localStorage;\n\n\t\twhile (a[++i]) {\n\t\t\ttry {\n\t\t\t\t// In Chrome with cookies blocked, calling localStorage throws an error\n\t\t\t\tlocalStorage = window[a[i]];\n\t\t\t\tlocalStorage.setItem(prefix + i, i);\n\t\t\t\tlocalStorage.removeItem(prefix + i);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\tlocalStorage = null;\n\t\t\t}\n\t\t}\n\n\t\tif (!localStorage) {\n\n\t\t\tvar cache = null;\n\n\t\t\tlocalStorage = {\n\t\t\t\tgetItem: function(prop) {\n\t\t\t\t\tprop = prop + '=';\n\t\t\t\t\tvar m = document.cookie.split(';');\n\t\t\t\t\tfor (var i = 0; i < m.length; i++) {\n\t\t\t\t\t\tvar _m = m[i].replace(/(^\\s+|\\s+$)/, '');\n\t\t\t\t\t\tif (_m && _m.indexOf(prop) === 0) {\n\t\t\t\t\t\t\treturn _m.substr(prop.length);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn cache;\n\t\t\t\t},\n\n\t\t\t\tsetItem: function(prop, value) {\n\t\t\t\t\tcache = value;\n\t\t\t\t\tdocument.cookie = prop + '=' + value;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Fill the cache up\n\t\t\tcache = localStorage.getItem('hello');\n\t\t}\n\n\t\tfunction get() {\n\t\t\tvar json = {};\n\t\t\ttry {\n\t\t\t\tjson = JSON.parse(localStorage.getItem('hello')) || {};\n\t\t\t}\n\t\t\tcatch (e) {}\n\n\t\t\treturn json;\n\t\t}\n\n\t\tfunction set(json) {\n\t\t\tlocalStorage.setItem('hello', JSON.stringify(json));\n\t\t}\n\n\t\t// Check if the browser support local storage\n\t\treturn function(name, value, days) {\n\n\t\t\t// Local storage\n\t\t\tvar json = get();\n\n\t\t\tif (name && value === undefined) {\n\t\t\t\treturn json[name] || null;\n\t\t\t}\n\t\t\telse if (name && value === null) {\n\t\t\t\ttry {\n\t\t\t\t\tdelete json[name];\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tjson[name] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (name) {\n\t\t\t\tjson[name] = value;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn json;\n\t\t\t}\n\n\t\t\tset(json);\n\n\t\t\treturn json || null;\n\t\t};\n\n\t})(),\n\n\t// Create and Append new DOM elements\n\t// @param node string\n\t// @param attr object literal\n\t// @param dom/string\n\tappend: function(node, attr, target) {\n\n\t\tvar n = typeof (node) === 'string' ? document.createElement(node) : node;\n\n\t\tif (typeof (attr) === 'object') {\n\t\t\tif ('tagName' in attr) {\n\t\t\t\ttarget = attr;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfor (var x in attr) {if (attr.hasOwnProperty(x)) {\n\t\t\t\t\tif (typeof (attr[x]) === 'object') {\n\t\t\t\t\t\tfor (var y in attr[x]) {if (attr[x].hasOwnProperty(y)) {\n\t\t\t\t\t\t\tn[x][y] = attr[x][y];\n\t\t\t\t\t\t}}\n\t\t\t\t\t}\n\t\t\t\t\telse if (x === 'html') {\n\t\t\t\t\t\tn.innerHTML = attr[x];\n\t\t\t\t\t}\n\n\t\t\t\t\t// IE doesn't like us setting methods with setAttribute\n\t\t\t\t\telse if (!/^on/.test(x)) {\n\t\t\t\t\t\tn.setAttribute(x, attr[x]);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tn[x] = attr[x];\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t}\n\t\t}\n\n\t\tif (target === 'body') {\n\t\t\t(function self() {\n\t\t\t\tif (document.body) {\n\t\t\t\t\tdocument.body.appendChild(n);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsetTimeout(self, 16);\n\t\t\t\t}\n\t\t\t})();\n\t\t}\n\t\telse if (typeof (target) === 'object') {\n\t\t\ttarget.appendChild(n);\n\t\t}\n\t\telse if (typeof (target) === 'string') {\n\t\t\tdocument.getElementsByTagName(target)[0].appendChild(n);\n\t\t}\n\n\t\treturn n;\n\t},\n\n\t// An easy way to create a hidden iframe\n\t// @param string src\n\tiframe: function(src) {\n\t\tthis.append('iframe', {src: src, style: {position:'absolute', left: '-1000px', bottom: 0, height: '1px', width: '1px'}}, 'body');\n\t},\n\n\t// Recursive merge two objects into one, second parameter overides the first\n\t// @param a array\n\tmerge: function(/* Args: a, b, c, .. n */) {\n\t\tvar args = Array.prototype.slice.call(arguments);\n\t\targs.unshift({});\n\t\treturn this.extend.apply(null, args);\n\t},\n\n\t// Makes it easier to assign parameters, where some are optional\n\t// @param o object\n\t// @param a arguments\n\targs: function(o, args) {\n\n\t\tvar p = {};\n\t\tvar i = 0;\n\t\tvar t = null;\n\t\tvar x = null;\n\n\t\t// 'x' is the first key in the list of object parameters\n\t\tfor (x in o) {if (o.hasOwnProperty(x)) {\n\t\t\tbreak;\n\t\t}}\n\n\t\t// Passing in hash object of arguments?\n\t\t// Where the first argument can't be an object\n\t\tif ((args.length === 1) && (typeof (args[0]) === 'object') && o[x] != 'o!') {\n\n\t\t\t// Could this object still belong to a property?\n\t\t\t// Check the object keys if they match any of the property keys\n\t\t\tfor (x in args[0]) {if (o.hasOwnProperty(x)) {\n\t\t\t\t// Does this key exist in the property list?\n\t\t\t\tif (x in o) {\n\t\t\t\t\t// Yes this key does exist so its most likely this function has been invoked with an object parameter\n\t\t\t\t\t// Return first argument as the hash of all arguments\n\t\t\t\t\treturn args[0];\n\t\t\t\t}\n\t\t\t}}\n\t\t}\n\n\t\t// Else loop through and account for the missing ones.\n\t\tfor (x in o) {if (o.hasOwnProperty(x)) {\n\n\t\t\tt = typeof (args[i]);\n\n\t\t\tif ((typeof (o[x]) === 'function' && o[x].test(args[i])) || (typeof (o[x]) === 'string' && (\n\t\t\t(o[x].indexOf('s') > -1 && t === 'string') ||\n\t\t\t(o[x].indexOf('o') > -1 && t === 'object') ||\n\t\t\t(o[x].indexOf('i') > -1 && t === 'number') ||\n\t\t\t(o[x].indexOf('a') > -1 && t === 'object') ||\n\t\t\t(o[x].indexOf('f') > -1 && t === 'function')\n\t\t\t))\n\t\t\t) {\n\t\t\t\tp[x] = args[i++];\n\t\t\t}\n\n\t\t\telse if (typeof (o[x]) === 'string' && o[x].indexOf('!') > -1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}}\n\n\t\treturn p;\n\t},\n\n\t// Returns a URL instance\n\turl: function(path) {\n\n\t\t// If the path is empty\n\t\tif (!path) {\n\t\t\treturn window.location;\n\t\t}\n\n\t\t// Chrome and FireFox support new URL() to extract URL objects\n\t\telse if (window.URL && URL instanceof Function && URL.length !== 0) {\n\t\t\treturn new URL(path, window.location);\n\t\t}\n\n\t\t// Ugly shim, it works!\n\t\telse {\n\t\t\tvar a = document.createElement('a');\n\t\t\ta.href = path;\n\t\t\treturn a.cloneNode(false);\n\t\t}\n\t},\n\n\tdiff: function(a, b) {\n\t\treturn b.filter(function(item) {\n\t\t\treturn a.indexOf(item) === -1;\n\t\t});\n\t},\n\n\t// Get the different hash of properties unique to `a`, and not in `b`\n\tdiffKey: function(a, b) {\n\t\tif (a || !b) {\n\t\t\tvar r = {};\n\t\t\tfor (var x in a) {\n\t\t\t\t// Does the property not exist?\n\t\t\t\tif (!(x in b)) {\n\t\t\t\t\tr[x] = a[x];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn r;\n\t\t}\n\n\t\treturn a;\n\t},\n\n\t// Unique\n\t// Remove duplicate and null values from an array\n\t// @param a array\n\tunique: function(a) {\n\t\tif (!Array.isArray(a)) { return []; }\n\n\t\treturn a.filter(function(item, index) {\n\t\t\t// Is this the first location of item\n\t\t\treturn a.indexOf(item) === index;\n\t\t});\n\t},\n\n\tisEmpty: function(obj) {\n\n\t\t// Scalar\n\t\tif (!obj)\n\t\t\treturn true;\n\n\t\t// Array\n\t\tif (Array.isArray(obj)) {\n\t\t\treturn !obj.length;\n\t\t}\n\t\telse if (typeof (obj) === 'object') {\n\t\t\t// Object\n\t\t\tfor (var key in obj) {\n\t\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t//jscs:disable\n\n\t/*!\n\t **  Thenable -- Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable\n\t **  Copyright (c) 2013-2014 Ralf S. Engelschall <http://engelschall.com>\n\t **  Licensed under The MIT License <http://opensource.org/licenses/MIT>\n\t **  Source-Code distributed on <http://github.com/rse/thenable>\n\t */\n\tPromise: (function(){\n\t\t/*  promise states [Promises/A+ 2.1]  */\n\t\tvar STATE_PENDING   = 0;                                         /*  [Promises/A+ 2.1.1]  */\n\t\tvar STATE_FULFILLED = 1;                                         /*  [Promises/A+ 2.1.2]  */\n\t\tvar STATE_REJECTED  = 2;                                         /*  [Promises/A+ 2.1.3]  */\n\n\t\t/*  promise object constructor  */\n\t\tvar api = function (executor) {\n\t\t\t/*  optionally support non-constructor/plain-function call  */\n\t\t\tif (!(this instanceof api))\n\t\t\t\treturn new api(executor);\n\n\t\t\t/*  initialize object  */\n\t\t\tthis.id           = \"Thenable/1.0.6\";\n\t\t\tthis.state        = STATE_PENDING; /*  initial state  */\n\t\t\tthis.fulfillValue = undefined;     /*  initial value  */     /*  [Promises/A+ 1.3, 2.1.2.2]  */\n\t\t\tthis.rejectReason = undefined;     /*  initial reason */     /*  [Promises/A+ 1.5, 2.1.3.2]  */\n\t\t\tthis.onFulfilled  = [];            /*  initial handlers  */\n\t\t\tthis.onRejected   = [];            /*  initial handlers  */\n\n\t\t\t/*  provide optional information-hiding proxy  */\n\t\t\tthis.proxy = {\n\t\t\t\tthen: this.then.bind(this)\n\t\t\t};\n\n\t\t\t/*  support optional executor function  */\n\t\t\tif (typeof executor === \"function\")\n\t\t\t\texecutor.call(this, this.fulfill.bind(this), this.reject.bind(this));\n\t\t};\n\n\t\t/*  promise API methods  */\n\t\tapi.prototype = {\n\t\t\t/*  promise resolving methods  */\n\t\t\tfulfill: function (value) { return deliver(this, STATE_FULFILLED, \"fulfillValue\", value); },\n\t\t\treject:  function (value) { return deliver(this, STATE_REJECTED,  \"rejectReason\", value); },\n\n\t\t\t/*  \"The then Method\" [Promises/A+ 1.1, 1.2, 2.2]  */\n\t\t\tthen: function (onFulfilled, onRejected) {\n\t\t\t\tvar curr = this;\n\t\t\t\tvar next = new api();                                    /*  [Promises/A+ 2.2.7]  */\n\t\t\t\tcurr.onFulfilled.push(\n\t\t\t\t\tresolver(onFulfilled, next, \"fulfill\"));             /*  [Promises/A+ 2.2.2/2.2.6]  */\n\t\t\t\tcurr.onRejected.push(\n\t\t\t\t\tresolver(onRejected,  next, \"reject\" ));             /*  [Promises/A+ 2.2.3/2.2.6]  */\n\t\t\t\texecute(curr);\n\t\t\t\treturn next.proxy;                                       /*  [Promises/A+ 2.2.7, 3.3]  */\n\t\t\t}\n\t\t};\n\n\t\t/*  deliver an action  */\n\t\tvar deliver = function (curr, state, name, value) {\n\t\t\tif (curr.state === STATE_PENDING) {\n\t\t\t\tcurr.state = state;                                      /*  [Promises/A+ 2.1.2.1, 2.1.3.1]  */\n\t\t\t\tcurr[name] = value;                                      /*  [Promises/A+ 2.1.2.2, 2.1.3.2]  */\n\t\t\t\texecute(curr);\n\t\t\t}\n\t\t\treturn curr;\n\t\t};\n\n\t\t/*  execute all handlers  */\n\t\tvar execute = function (curr) {\n\t\t\tif (curr.state === STATE_FULFILLED)\n\t\t\t\texecute_handlers(curr, \"onFulfilled\", curr.fulfillValue);\n\t\t\telse if (curr.state === STATE_REJECTED)\n\t\t\t\texecute_handlers(curr, \"onRejected\",  curr.rejectReason);\n\t\t};\n\n\t\t/*  execute particular set of handlers  */\n\t\tvar execute_handlers = function (curr, name, value) {\n\t\t\t/* global process: true */\n\t\t\t/* global setImmediate: true */\n\t\t\t/* global setTimeout: true */\n\n\t\t\t/*  short-circuit processing  */\n\t\t\tif (curr[name].length === 0)\n\t\t\t\treturn;\n\n\t\t\t/*  iterate over all handlers, exactly once  */\n\t\t\tvar handlers = curr[name];\n\t\t\tcurr[name] = [];                                             /*  [Promises/A+ 2.2.2.3, 2.2.3.3]  */\n\t\t\tvar func = function () {\n\t\t\t\tfor (var i = 0; i < handlers.length; i++)\n\t\t\t\t\thandlers[i](value);                                  /*  [Promises/A+ 2.2.5]  */\n\t\t\t};\n\n\t\t\t/*  execute procedure asynchronously  */                     /*  [Promises/A+ 2.2.4, 3.1]  */\n\t\t\tif (typeof process === \"object\" && typeof process.nextTick === \"function\")\n\t\t\t\tprocess.nextTick(func);\n\t\t\telse if (typeof setImmediate === \"function\")\n\t\t\t\tsetImmediate(func);\n\t\t\telse\n\t\t\t\tsetTimeout(func, 0);\n\t\t};\n\n\t\t/*  generate a resolver function  */\n\t\tvar resolver = function (cb, next, method) {\n\t\t\treturn function (value) {\n\t\t\t\tif (typeof cb !== \"function\")                            /*  [Promises/A+ 2.2.1, 2.2.7.3, 2.2.7.4]  */\n\t\t\t\t\tnext[method].call(next, value);                      /*  [Promises/A+ 2.2.7.3, 2.2.7.4]  */\n\t\t\t\telse {\n\t\t\t\t\tvar result;\n\t\t\t\t\ttry { result = cb(value); }                          /*  [Promises/A+ 2.2.2.1, 2.2.3.1, 2.2.5, 3.2]  */\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\tnext.reject(e);                                  /*  [Promises/A+ 2.2.7.2]  */\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tresolve(next, result);                               /*  [Promises/A+ 2.2.7.1]  */\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\t/*  \"Promise Resolution Procedure\"  */                           /*  [Promises/A+ 2.3]  */\n\t\tvar resolve = function (promise, x) {\n\t\t\t/*  sanity check arguments  */                               /*  [Promises/A+ 2.3.1]  */\n\t\t\tif (promise === x || promise.proxy === x) {\n\t\t\t\tpromise.reject(new TypeError(\"cannot resolve promise with itself\"));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/*  surgically check for a \"then\" method\n\t\t\t\t(mainly to just call the \"getter\" of \"then\" only once)  */\n\t\t\tvar then;\n\t\t\tif ((typeof x === \"object\" && x !== null) || typeof x === \"function\") {\n\t\t\t\ttry { then = x.then; }                                   /*  [Promises/A+ 2.3.3.1, 3.5]  */\n\t\t\t\tcatch (e) {\n\t\t\t\t\tpromise.reject(e);                                   /*  [Promises/A+ 2.3.3.2]  */\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*  handle own Thenables    [Promises/A+ 2.3.2]\n\t\t\t\tand similar \"thenables\" [Promises/A+ 2.3.3]  */\n\t\t\tif (typeof then === \"function\") {\n\t\t\t\tvar resolved = false;\n\t\t\t\ttry {\n\t\t\t\t\t/*  call retrieved \"then\" method */                  /*  [Promises/A+ 2.3.3.3]  */\n\t\t\t\t\tthen.call(x,\n\t\t\t\t\t\t/*  resolvePromise  */                           /*  [Promises/A+ 2.3.3.3.1]  */\n\t\t\t\t\t\tfunction (y) {\n\t\t\t\t\t\t\tif (resolved) return; resolved = true;       /*  [Promises/A+ 2.3.3.3.3]  */\n\t\t\t\t\t\t\tif (y === x)                                 /*  [Promises/A+ 3.6]  */\n\t\t\t\t\t\t\t\tpromise.reject(new TypeError(\"circular thenable chain\"));\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tresolve(promise, y);\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\t/*  rejectPromise  */                            /*  [Promises/A+ 2.3.3.3.2]  */\n\t\t\t\t\t\tfunction (r) {\n\t\t\t\t\t\t\tif (resolved) return; resolved = true;       /*  [Promises/A+ 2.3.3.3.3]  */\n\t\t\t\t\t\t\tpromise.reject(r);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tif (!resolved)                                       /*  [Promises/A+ 2.3.3.3.3]  */\n\t\t\t\t\t\tpromise.reject(e);                               /*  [Promises/A+ 2.3.3.3.4]  */\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/*  handle other values  */\n\t\t\tpromise.fulfill(x);                                          /*  [Promises/A+ 2.3.4, 2.3.3.4]  */\n\t\t};\n\n\t\t/*  export API  */\n\t\treturn api;\n\t})(),\n\n\t//jscs:enable\n\n\t// Event\n\t// A contructor superclass for adding event menthods, on, off, emit.\n\tEvent: function() {\n\n\t\tvar separator = /[\\s\\,]+/;\n\n\t\t// If this doesn't support getPrototype then we can't get prototype.events of the parent\n\t\t// So lets get the current instance events, and add those to a parent property\n\t\tthis.parent = {\n\t\t\tevents: this.events,\n\t\t\tfindEvents: this.findEvents,\n\t\t\tparent: this.parent,\n\t\t\tutils: this.utils\n\t\t};\n\n\t\tthis.events = {};\n\n\t\t// On, subscribe to events\n\t\t// @param evt   string\n\t\t// @param callback  function\n\t\tthis.on = function(evt, callback) {\n\n\t\t\tif (callback && typeof (callback) === 'function') {\n\t\t\t\tvar a = evt.split(separator);\n\t\t\t\tfor (var i = 0; i < a.length; i++) {\n\n\t\t\t\t\t// Has this event already been fired on this instance?\n\t\t\t\t\tthis.events[a[i]] = [callback].concat(this.events[a[i]] || []);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t};\n\n\t\t// Off, unsubscribe to events\n\t\t// @param evt   string\n\t\t// @param callback  function\n\t\tthis.off = function(evt, callback) {\n\n\t\t\tthis.findEvents(evt, function(name, index) {\n\t\t\t\tif (!callback || this.events[name][index] === callback) {\n\t\t\t\t\tthis.events[name][index] = null;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn this;\n\t\t};\n\n\t\t// Emit\n\t\t// Triggers any subscribed events\n\t\tthis.emit = function(evt /*, data, ... */) {\n\n\t\t\t// Get arguments as an Array, knock off the first one\n\t\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\t\t\targs.push(evt);\n\n\t\t\t// Handler\n\t\t\tvar handler = function(name, index) {\n\n\t\t\t\t// Replace the last property with the event name\n\t\t\t\targs[args.length - 1] = (name === '*' ? evt : name);\n\n\t\t\t\t// Trigger\n\t\t\t\tthis.events[name][index].apply(this, args);\n\t\t\t};\n\n\t\t\t// Find the callbacks which match the condition and call\n\t\t\tvar _this = this;\n\t\t\twhile (_this && _this.findEvents) {\n\n\t\t\t\t// Find events which match\n\t\t\t\t_this.findEvents(evt + ',*', handler);\n\t\t\t\t_this = _this.parent;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t};\n\n\t\t//\n\t\t// Easy functions\n\t\tthis.emitAfter = function() {\n\t\t\tvar _this = this;\n\t\t\tvar args = arguments;\n\t\t\tsetTimeout(function() {\n\t\t\t\t_this.emit.apply(_this, args);\n\t\t\t}, 0);\n\n\t\t\treturn this;\n\t\t};\n\n\t\tthis.findEvents = function(evt, callback) {\n\n\t\t\tvar a = evt.split(separator);\n\n\t\t\tfor (var name in this.events) {if (this.events.hasOwnProperty(name)) {\n\n\t\t\t\tif (a.indexOf(name) > -1) {\n\n\t\t\t\t\tfor (var i = 0; i < this.events[name].length; i++) {\n\n\t\t\t\t\t\t// Does the event handler exist?\n\t\t\t\t\t\tif (this.events[name][i]) {\n\t\t\t\t\t\t\t// Emit on the local instance of this\n\t\t\t\t\t\t\tcallback.call(this, name, i);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}}\n\t\t};\n\n\t\treturn this;\n\t},\n\n\t// Global Events\n\t// Attach the callback to the window object\n\t// Return its unique reference\n\tglobalEvent: function(callback, guid) {\n\t\t// If the guid has not been supplied then create a new one.\n\t\tguid = guid || '_hellojs_' + parseInt(Math.random() * 1e12, 10).toString(36);\n\n\t\t// Define the callback function\n\t\twindow[guid] = function() {\n\t\t\t// Trigger the callback\n\t\t\ttry {\n\t\t\t\tif (callback.apply(this, arguments)) {\n\t\t\t\t\tdelete window[guid];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t};\n\n\t\treturn guid;\n\t},\n\n\t// Trigger a clientside popup\n\t// This has been augmented to support PhoneGap\n\tpopup: function(url, redirectUri, options) {\n\n\t\tvar documentElement = document.documentElement;\n\n\t\t// Multi Screen Popup Positioning (http://stackoverflow.com/a/16861050)\n\t\t// Credit: http://www.xtf.dk/2011/08/center-new-popup-window-even-on.html\n\t\t// Fixes dual-screen position                         Most browsers      Firefox\n\n\t\tif (options.height) {\n\t\t\tvar dualScreenTop = window.screenTop !== undefined ? window.screenTop : screen.top;\n\t\t\tvar height = screen.height || window.innerHeight || documentElement.clientHeight;\n\t\t\toptions.top = parseInt((height - options.height) / 2, 10) + dualScreenTop;\n\t\t}\n\n\t\tif (options.width) {\n\t\t\tvar dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : screen.left;\n\t\t\tvar width = screen.width || window.innerWidth || documentElement.clientWidth;\n\t\t\toptions.left = parseInt((width - options.width) / 2, 10) + dualScreenLeft;\n\t\t}\n\n\t\t// Convert options into an array\n\t\tvar optionsArray = [];\n\t\tObject.keys(options).forEach(function(name) {\n\t\t\tvar value = options[name];\n\t\t\toptionsArray.push(name + (value !== null ? '=' + value : ''));\n\t\t});\n\n\t\t// Call the open() function with the initial path\n\t\t//\n\t\t// OAuth redirect, fixes URI fragments from being lost in Safari\n\t\t// (URI Fragments within 302 Location URI are lost over HTTPS)\n\t\t// Loading the redirect.html before triggering the OAuth Flow seems to fix it.\n\t\t//\n\t\t// Firefox  decodes URL fragments when calling location.hash.\n\t\t//  - This is bad if the value contains break points which are escaped\n\t\t//  - Hence the url must be encoded twice as it contains breakpoints.\n\t\tif (navigator.userAgent.indexOf('Safari') !== -1 && navigator.userAgent.indexOf('Chrome') === -1) {\n\t\t\turl = redirectUri + '#oauth_redirect=' + encodeURIComponent(encodeURIComponent(url));\n\t\t}\n\n\t\tvar popup = window.open(\n\t\t\turl,\n\t\t\t'_blank',\n\t\t\toptionsArray.join(',')\n\t\t);\n\n\t\tif (popup && popup.focus) {\n\t\t\tpopup.focus();\n\t\t}\n\n\t\treturn popup;\n\t},\n\n\t// OAuth and API response handler\n\tresponseHandler: function(window, parent) {\n\n\t\tvar _this = this;\n\t\tvar p;\n\t\tvar location = window.location;\n\n\t\t// Is this an auth relay message which needs to call the proxy?\n\t\tp = _this.param(location.search);\n\n\t\t// OAuth2 or OAuth1 server response?\n\t\tif (p && p.state && (p.code || p.oauth_token)) {\n\n\t\t\tvar state = JSON.parse(p.state);\n\n\t\t\t// Add this path as the redirect_uri\n\t\t\tp.redirect_uri = state.redirect_uri || location.href.replace(/[\\?\\#].*$/, '');\n\n\t\t\t// Redirect to the host\n\t\t\tvar path = state.oauth_proxy + '?' + _this.param(p);\n\n\t\t\tlocation.assign(path);\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Save session, from redirected authentication\n\t\t// #access_token has come in?\n\t\t//\n\t\t// FACEBOOK is returning auth errors within as a query_string... thats a stickler for consistency.\n\t\t// SoundCloud is the state in the querystring and the token in the hashtag, so we'll mix the two together\n\n\t\tp = _this.merge(_this.param(location.search || ''), _this.param(location.hash || ''));\n\n\t\t// If p.state\n\t\tif (p && 'state' in p) {\n\n\t\t\t// Remove any addition information\n\t\t\t// E.g. p.state = 'facebook.page';\n\t\t\ttry {\n\t\t\t\tvar a = JSON.parse(p.state);\n\t\t\t\t_this.extend(p, a);\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\tconsole.error('Could not decode state parameter');\n\t\t\t}\n\n\t\t\t// Access_token?\n\t\t\tif (('access_token' in p && p.access_token) && p.network) {\n\n\t\t\t\tif (!p.expires_in || parseInt(p.expires_in, 10) === 0) {\n\t\t\t\t\t// If p.expires_in is unset, set to 0\n\t\t\t\t\tp.expires_in = 0;\n\t\t\t\t}\n\n\t\t\t\tp.expires_in = parseInt(p.expires_in, 10);\n\t\t\t\tp.expires = ((new Date()).getTime() / 1e3) + (p.expires_in || (60 * 60 * 24 * 365));\n\n\t\t\t\t// Lets use the \"state\" to assign it to one of our networks\n\t\t\t\tauthCallback(p, window, parent);\n\t\t\t}\n\n\t\t\t// Error=?\n\t\t\t// &error_description=?\n\t\t\t// &state=?\n\t\t\telse if (('error' in p && p.error) && p.network) {\n\n\t\t\t\tp.error = {\n\t\t\t\t\tcode: p.error,\n\t\t\t\t\tmessage: p.error_message || p.error_description\n\t\t\t\t};\n\n\t\t\t\t// Let the state handler handle it\n\t\t\t\tauthCallback(p, window, parent);\n\t\t\t}\n\n\t\t\t// API call, or a cancelled login\n\t\t\t// Result is serialized JSON string\n\t\t\telse if (p.callback && p.callback in parent) {\n\n\t\t\t\t// Trigger a function in the parent\n\t\t\t\tvar res = 'result' in p && p.result ? JSON.parse(p.result) : false;\n\n\t\t\t\t// Trigger the callback on the parent\n\t\t\t\tparent[p.callback](res);\n\t\t\t\tcloseWindow();\n\t\t\t}\n\n\t\t\t// If this page is still open\n\t\t\tif (p.page_uri) {\n\t\t\t\tlocation.assign(p.page_uri);\n\t\t\t}\n\t\t}\n\n\t\t// OAuth redirect, fixes URI fragments from being lost in Safari\n\t\t// (URI Fragments within 302 Location URI are lost over HTTPS)\n\t\t// Loading the redirect.html before triggering the OAuth Flow seems to fix it.\n\t\telse if ('oauth_redirect' in p) {\n\n\t\t\tlocation.assign(decodeURIComponent(p.oauth_redirect));\n\t\t\treturn;\n\t\t}\n\n\t\t// Trigger a callback to authenticate\n\t\tfunction authCallback(obj, window, parent) {\n\n\t\t\tvar cb = obj.callback;\n\t\t\tvar network = obj.network;\n\n\t\t\t// Trigger the callback on the parent\n\t\t\t_this.store(network, obj);\n\n\t\t\t// If this is a page request it has no parent or opener window to handle callbacks\n\t\t\tif (('display' in obj) && obj.display === 'page') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Remove from session object\n\t\t\tif (parent && cb && cb in parent) {\n\n\t\t\t\ttry {\n\t\t\t\t\tdelete obj.callback;\n\t\t\t\t}\n\t\t\t\tcatch (e) {}\n\n\t\t\t\t// Update store\n\t\t\t\t_this.store(network, obj);\n\n\t\t\t\t// Call the globalEvent function on the parent\n\t\t\t\t// It's safer to pass back a string to the parent,\n\t\t\t\t// Rather than an object/array (better for IE8)\n\t\t\t\tvar str = JSON.stringify(obj);\n\n\t\t\t\ttry {\n\t\t\t\t\tparent[cb](str);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\t// Error thrown whilst executing parent callback\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcloseWindow();\n\t\t}\n\n\t\tfunction closeWindow() {\n\n\t\t\tif (window.frameElement) {\n\t\t\t\t// Inside an iframe, remove from parent\n\t\t\t\tparent.document.body.removeChild(window.frameElement);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Close this current window\n\t\t\t\ttry {\n\t\t\t\t\twindow.close();\n\t\t\t\t}\n\t\t\t\tcatch (e) {}\n\n\t\t\t\t// IOS bug wont let us close a popup if still loading\n\t\t\t\tif (window.addEventListener) {\n\t\t\t\t\twindow.addEventListener('load', function() {\n\t\t\t\t\t\twindow.close();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n});\n\n// Events\n// Extend the hello object with its own event instance\nhello.utils.Event.call(hello);\n\n///////////////////////////////////\n// Monitoring session state\n// Check for session changes\n///////////////////////////////////\n\n(function(hello) {\n\n\t// Monitor for a change in state and fire\n\tvar oldSessions = {};\n\n\t// Hash of expired tokens\n\tvar expired = {};\n\n\t// Listen to other triggers to Auth events, use these to update this\n\thello.on('auth.login, auth.logout', function(auth) {\n\t\tif (auth && typeof (auth) === 'object' && auth.network) {\n\t\t\toldSessions[auth.network] = hello.utils.store(auth.network) || {};\n\t\t}\n\t});\n\n\t(function self() {\n\n\t\tvar CURRENT_TIME = ((new Date()).getTime() / 1e3);\n\t\tvar emit = function(eventName) {\n\t\t\thello.emit('auth.' + eventName, {\n\t\t\t\tnetwork: name,\n\t\t\t\tauthResponse: session\n\t\t\t});\n\t\t};\n\n\t\t// Loop through the services\n\t\tfor (var name in hello.services) {if (hello.services.hasOwnProperty(name)) {\n\n\t\t\tif (!hello.services[name].id) {\n\t\t\t\t// We haven't attached an ID so dont listen.\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Get session\n\t\t\tvar session = hello.utils.store(name) || {};\n\t\t\tvar provider = hello.services[name];\n\t\t\tvar oldSess = oldSessions[name] || {};\n\n\t\t\t// Listen for globalEvents that did not get triggered from the child\n\t\t\tif (session && 'callback' in session) {\n\n\t\t\t\t// To do remove from session object...\n\t\t\t\tvar cb = session.callback;\n\t\t\t\ttry {\n\t\t\t\t\tdelete session.callback;\n\t\t\t\t}\n\t\t\t\tcatch (e) {}\n\n\t\t\t\t// Update store\n\t\t\t\t// Removing the callback\n\t\t\t\thello.utils.store(name, session);\n\n\t\t\t\t// Emit global events\n\t\t\t\ttry {\n\t\t\t\t\twindow[cb](session);\n\t\t\t\t}\n\t\t\t\tcatch (e) {}\n\t\t\t}\n\n\t\t\t// Refresh token\n\t\t\tif (session && ('expires' in session) && session.expires < CURRENT_TIME) {\n\n\t\t\t\t// If auto refresh is possible\n\t\t\t\t// Either the browser supports\n\t\t\t\tvar refresh = provider.refresh || session.refresh_token;\n\n\t\t\t\t// Has the refresh been run recently?\n\t\t\t\tif (refresh && (!(name in expired) || expired[name] < CURRENT_TIME)) {\n\t\t\t\t\t// Try to resignin\n\t\t\t\t\thello.emit('notice', name + ' has expired trying to resignin');\n\t\t\t\t\thello.login(name, {display: 'none', force: false});\n\n\t\t\t\t\t// Update expired, every 10 minutes\n\t\t\t\t\texpired[name] = CURRENT_TIME + 600;\n\t\t\t\t}\n\n\t\t\t\t// Does this provider not support refresh\n\t\t\t\telse if (!refresh && !(name in expired)) {\n\t\t\t\t\t// Label the event\n\t\t\t\t\temit('expired');\n\t\t\t\t\texpired[name] = true;\n\t\t\t\t}\n\n\t\t\t\t// If session has expired then we dont want to store its value until it can be established that its been updated\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Has session changed?\n\t\t\telse if (oldSess.access_token === session.access_token &&\n\t\t\toldSess.expires === session.expires) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Access_token has been removed\n\t\t\telse if (!session.access_token && oldSess.access_token) {\n\t\t\t\temit('logout');\n\t\t\t}\n\n\t\t\t// Access_token has been created\n\t\t\telse if (session.access_token && !oldSess.access_token) {\n\t\t\t\temit('login');\n\t\t\t}\n\n\t\t\t// Access_token has been updated\n\t\t\telse if (session.expires !== oldSess.expires) {\n\t\t\t\temit('update');\n\t\t\t}\n\n\t\t\t// Updated stored session\n\t\t\toldSessions[name] = session;\n\n\t\t\t// Remove the expired flags\n\t\t\tif (name in expired) {\n\t\t\t\tdelete expired[name];\n\t\t\t}\n\t\t}}\n\n\t\t// Check error events\n\t\tsetTimeout(self, 1000);\n\t})();\n\n})(hello);\n\n// EOF CORE lib\n//////////////////////////////////\n\n/////////////////////////////////////////\n// API\n// @param path    string\n// @param query   object (optional)\n// @param method  string (optional)\n// @param data    object (optional)\n// @param timeout integer (optional)\n// @param callback  function (optional)\n\nhello.api = function() {\n\n\t// Shorthand\n\tvar _this = this;\n\tvar utils = _this.utils;\n\tvar error = utils.error;\n\n\t// Construct a new Promise object\n\tvar promise = utils.Promise();\n\n\t// Arguments\n\tvar p = utils.args({path: 's!', query: 'o', method: 's', data: 'o', timeout: 'i', callback: 'f'}, arguments);\n\n\t// Method\n\tp.method = (p.method || 'get').toLowerCase();\n\n\t// Headers\n\tp.headers = p.headers || {};\n\n\t// Query\n\tp.query = p.query || {};\n\n\t// If get, put all parameters into query\n\tif (p.method === 'get' || p.method === 'delete') {\n\t\tutils.extend(p.query, p.data);\n\t\tp.data = {};\n\t}\n\n\tvar data = p.data = p.data || {};\n\n\t// Completed event callback\n\tpromise.then(p.callback, p.callback);\n\n\t// Remove the network from path, e.g. facebook:/me/friends\n\t// Results in { network : facebook, path : me/friends }\n\tif (!p.path) {\n\t\treturn promise.reject(error('invalid_path', 'Missing the path parameter from the request'));\n\t}\n\n\tp.path = p.path.replace(/^\\/+/, '');\n\tvar a = (p.path.split(/[\\/\\:]/, 2) || [])[0].toLowerCase();\n\n\tif (a in _this.services) {\n\t\tp.network = a;\n\t\tvar reg = new RegExp('^' + a + ':?\\/?');\n\t\tp.path = p.path.replace(reg, '');\n\t}\n\n\t// Network & Provider\n\t// Define the network that this request is made for\n\tp.network = _this.settings.default_service = p.network || _this.settings.default_service;\n\tvar o = _this.services[p.network];\n\n\t// INVALID\n\t// Is there no service by the given network name?\n\tif (!o) {\n\t\treturn promise.reject(error('invalid_network', 'Could not match the service requested: ' + p.network));\n\t}\n\n\t// PATH\n\t// As long as the path isn't flagged as unavaiable, e.g. path == false\n\n\tif (!(!(p.method in o) || !(p.path in o[p.method]) || o[p.method][p.path] !== false)) {\n\t\treturn promise.reject(error('invalid_path', 'The provided path is not available on the selected network'));\n\t}\n\n\t// PROXY\n\t// OAuth1 calls always need a proxy\n\n\tif (!p.oauth_proxy) {\n\t\tp.oauth_proxy = _this.settings.oauth_proxy;\n\t}\n\n\tif (!('proxy' in p)) {\n\t\tp.proxy = p.oauth_proxy && o.oauth && parseInt(o.oauth.version, 10) === 1;\n\t}\n\n\t// TIMEOUT\n\t// Adopt timeout from global settings by default\n\n\tif (!('timeout' in p)) {\n\t\tp.timeout = _this.settings.timeout;\n\t}\n\n\t// Format response\n\t// Whether to run the raw response through post processing.\n\tif (!('formatResponse' in p)) {\n\t\tp.formatResponse = true;\n\t}\n\n\t// Get the current session\n\t// Append the access_token to the query\n\tp.authResponse = _this.getAuthResponse(p.network);\n\tif (p.authResponse && p.authResponse.access_token) {\n\t\tp.query.access_token = p.authResponse.access_token;\n\t}\n\n\tvar url = p.path;\n\tvar m;\n\n\t// Store the query as options\n\t// This is used to populate the request object before the data is augmented by the prewrap handlers.\n\tp.options = utils.clone(p.query);\n\n\t// Clone the data object\n\t// Prevent this script overwriting the data of the incoming object.\n\t// Ensure that everytime we run an iteration the callbacks haven't removed some data\n\tp.data = utils.clone(data);\n\n\t// URL Mapping\n\t// Is there a map for the given URL?\n\tvar actions = o[{'delete': 'del'}[p.method] || p.method] || {};\n\n\t// Extrapolate the QueryString\n\t// Provide a clean path\n\t// Move the querystring into the data\n\tif (p.method === 'get') {\n\n\t\tvar query = url.split(/[\\?#]/)[1];\n\t\tif (query) {\n\t\t\tutils.extend(p.query, utils.param(query));\n\n\t\t\t// Remove the query part from the URL\n\t\t\turl = url.replace(/\\?.*?(#|$)/, '$1');\n\t\t}\n\t}\n\n\t// Is the hash fragment defined\n\tif ((m = url.match(/#(.+)/, ''))) {\n\t\turl = url.split('#')[0];\n\t\tp.path = m[1];\n\t}\n\telse if (url in actions) {\n\t\tp.path = url;\n\t\turl = actions[url];\n\t}\n\telse if ('default' in actions) {\n\t\turl = actions['default'];\n\t}\n\n\t// Redirect Handler\n\t// This defines for the Form+Iframe+Hash hack where to return the results too.\n\tp.redirect_uri = _this.settings.redirect_uri;\n\n\t// Define FormatHandler\n\t// The request can be procesed in a multitude of ways\n\t// Here's the options - depending on the browser and endpoint\n\tp.xhr = o.xhr;\n\tp.jsonp = o.jsonp;\n\tp.form = o.form;\n\n\t// Make request\n\tif (typeof (url) === 'function') {\n\t\t// Does self have its own callback?\n\t\turl(p, getPath);\n\t}\n\telse {\n\t\t// Else the URL is a string\n\t\tgetPath(url);\n\t}\n\n\treturn promise.proxy;\n\n\t// If url needs a base\n\t// Wrap everything in\n\tfunction getPath(url) {\n\n\t\t// Format the string if it needs it\n\t\turl = url.replace(/\\@\\{([a-z\\_\\-]+)(\\|.*?)?\\}/gi, function(m, key, defaults) {\n\t\t\tvar val = defaults ? defaults.replace(/^\\|/, '') : '';\n\t\t\tif (key in p.query) {\n\t\t\t\tval = p.query[key];\n\t\t\t\tdelete p.query[key];\n\t\t\t}\n\t\t\telse if (p.data && key in p.data) {\n\t\t\t\tval = p.data[key];\n\t\t\t\tdelete p.data[key];\n\t\t\t}\n\t\t\telse if (!defaults) {\n\t\t\t\tpromise.reject(error('missing_attribute', 'The attribute ' + key + ' is missing from the request'));\n\t\t\t}\n\n\t\t\treturn val;\n\t\t});\n\n\t\t// Add base\n\t\tif (!url.match(/^https?:\\/\\//)) {\n\t\t\turl = o.base + url;\n\t\t}\n\n\t\t// Define the request URL\n\t\tp.url = url;\n\n\t\t// Make the HTTP request with the curated request object\n\t\t// CALLBACK HANDLER\n\t\t// @ response object\n\t\t// @ statusCode integer if available\n\t\tutils.request(p, function(r, headers) {\n\n\t\t\t// Is this a raw response?\n\t\t\tif (!p.formatResponse) {\n\t\t\t\t// Bad request? error statusCode or otherwise contains an error response vis JSONP?\n\t\t\t\tif (typeof headers === 'object' ? (headers.statusCode >= 400) : (typeof r === 'object' && 'error' in r)) {\n\t\t\t\t\tpromise.reject(r);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tpromise.fulfill(r);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Should this be an object\n\t\t\tif (r === true) {\n\t\t\t\tr = {success:true};\n\t\t\t}\n\t\t\telse if (!r) {\n\t\t\t\tr = {};\n\t\t\t}\n\n\t\t\t// The delete callback needs a better response\n\t\t\tif (p.method === 'delete') {\n\t\t\t\tr = (!r || utils.isEmpty(r)) ? {success:true} : r;\n\t\t\t}\n\n\t\t\t// FORMAT RESPONSE?\n\t\t\t// Does self request have a corresponding formatter\n\t\t\tif (o.wrap && ((p.path in o.wrap) || ('default' in o.wrap))) {\n\t\t\t\tvar wrap = (p.path in o.wrap ? p.path : 'default');\n\t\t\t\tvar time = (new Date()).getTime();\n\n\t\t\t\t// FORMAT RESPONSE\n\t\t\t\tvar b = o.wrap[wrap](r, headers, p);\n\n\t\t\t\t// Has the response been utterly overwritten?\n\t\t\t\t// Typically self augments the existing object.. but for those rare occassions\n\t\t\t\tif (b) {\n\t\t\t\t\tr = b;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Is there a next_page defined in the response?\n\t\t\tif (r && 'paging' in r && r.paging.next) {\n\n\t\t\t\t// Add the relative path if it is missing from the paging/next path\n\t\t\t\tif (r.paging.next[0] === '?') {\n\t\t\t\t\tr.paging.next = p.path + r.paging.next;\n\t\t\t\t}\n\n\t\t\t\t// The relative path has been defined, lets markup the handler in the HashFragment\n\t\t\t\telse {\n\t\t\t\t\tr.paging.next += '#' + p.path;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Dispatch to listeners\n\t\t\t// Emit events which pertain to the formatted response\n\t\t\tif (!r || 'error' in r) {\n\t\t\t\tpromise.reject(r);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpromise.fulfill(r);\n\t\t\t}\n\t\t});\n\t}\n};\n\n// API utilities\nhello.utils.extend(hello.utils, {\n\n\t// Make an HTTP request\n\trequest: function(p, callback) {\n\n\t\tvar _this = this;\n\t\tvar error = _this.error;\n\n\t\t// This has to go through a POST request\n\t\tif (!_this.isEmpty(p.data) && !('FileList' in window) && _this.hasBinary(p.data)) {\n\n\t\t\t// Disable XHR and JSONP\n\t\t\tp.xhr = false;\n\t\t\tp.jsonp = false;\n\t\t}\n\n\t\t// Check if the browser and service support CORS\n\t\tvar cors = this.request_cors(function() {\n\t\t\t// If it does then run this...\n\t\t\treturn ((p.xhr === undefined) || (p.xhr && (typeof (p.xhr) !== 'function' || p.xhr(p, p.query))));\n\t\t});\n\n\t\tif (cors) {\n\n\t\t\tformatUrl(p, function(url) {\n\n\t\t\t\tvar x = _this.xhr(p.method, url, p.headers, p.data, callback);\n\t\t\t\tx.onprogress = p.onprogress || null;\n\n\t\t\t\t// Windows Phone does not support xhr.upload, see #74\n\t\t\t\t// Feature detect\n\t\t\t\tif (x.upload && p.onuploadprogress) {\n\t\t\t\t\tx.upload.onprogress = p.onuploadprogress;\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Clone the query object\n\t\t// Each request modifies the query object and needs to be tared after each one.\n\t\tvar _query = p.query;\n\n\t\tp.query = _this.clone(p.query);\n\n\t\t// Assign a new callbackID\n\t\tp.callbackID = _this.globalEvent();\n\n\t\t// JSONP\n\t\tif (p.jsonp !== false) {\n\n\t\t\t// Clone the query object\n\t\t\tp.query.callback = p.callbackID;\n\n\t\t\t// If the JSONP is a function then run it\n\t\t\tif (typeof (p.jsonp) === 'function') {\n\t\t\t\tp.jsonp(p, p.query);\n\t\t\t}\n\n\t\t\t// Lets use JSONP if the method is 'get'\n\t\t\tif (p.method === 'get') {\n\n\t\t\t\tformatUrl(p, function(url) {\n\t\t\t\t\t_this.jsonp(url, callback, p.callbackID, p.timeout);\n\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// It's not compatible reset query\n\t\t\t\tp.query = _query;\n\t\t\t}\n\n\t\t}\n\n\t\t// Otherwise we're on to the old school, iframe hacks and JSONP\n\t\tif (p.form !== false) {\n\n\t\t\t// Add some additional query parameters to the URL\n\t\t\t// We're pretty stuffed if the endpoint doesn't like these\n\t\t\tp.query.redirect_uri = p.redirect_uri;\n\t\t\tp.query.state = JSON.stringify({callback:p.callbackID});\n\n\t\t\tvar opts;\n\n\t\t\tif (typeof (p.form) === 'function') {\n\n\t\t\t\t// Format the request\n\t\t\t\topts = p.form(p, p.query);\n\t\t\t}\n\n\t\t\tif (p.method === 'post' && opts !== false) {\n\n\t\t\t\tformatUrl(p, function(url) {\n\t\t\t\t\t_this.post(url, p.data, opts, callback, p.callbackID, p.timeout);\n\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// None of the methods were successful throw an error\n\t\tcallback(error('invalid_request', 'There was no mechanism for handling this request'));\n\n\t\treturn;\n\n\t\t// Format URL\n\t\t// Constructs the request URL, optionally wraps the URL through a call to a proxy server\n\t\t// Returns the formatted URL\n\t\tfunction formatUrl(p, callback) {\n\n\t\t\t// Are we signing the request?\n\t\t\tvar sign;\n\n\t\t\t// OAuth1\n\t\t\t// Remove the token from the query before signing\n\t\t\tif (p.authResponse && p.authResponse.oauth && parseInt(p.authResponse.oauth.version, 10) === 1) {\n\n\t\t\t\t// OAUTH SIGNING PROXY\n\t\t\t\tsign = p.query.access_token;\n\n\t\t\t\t// Remove the access_token\n\t\t\t\tdelete p.query.access_token;\n\n\t\t\t\t// Enfore use of Proxy\n\t\t\t\tp.proxy = true;\n\t\t\t}\n\n\t\t\t// POST body to querystring\n\t\t\tif (p.data && (p.method === 'get' || p.method === 'delete')) {\n\t\t\t\t// Attach the p.data to the querystring.\n\t\t\t\t_this.extend(p.query, p.data);\n\t\t\t\tp.data = null;\n\t\t\t}\n\n\t\t\t// Construct the path\n\t\t\tvar path = _this.qs(p.url, p.query);\n\n\t\t\t// Proxy the request through a server\n\t\t\t// Used for signing OAuth1\n\t\t\t// And circumventing services without Access-Control Headers\n\t\t\tif (p.proxy) {\n\t\t\t\t// Use the proxy as a path\n\t\t\t\tpath = _this.qs(p.oauth_proxy, {\n\t\t\t\t\tpath: path,\n\t\t\t\t\taccess_token: sign || '',\n\n\t\t\t\t\t// This will prompt the request to be signed as though it is OAuth1\n\t\t\t\t\tthen: p.proxy_response_type || (p.method.toLowerCase() === 'get' ? 'redirect' : 'proxy'),\n\t\t\t\t\tmethod: p.method.toLowerCase(),\n\t\t\t\t\tsuppress_response_codes: true\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tcallback(path);\n\t\t}\n\t},\n\n\t// Test whether the browser supports the CORS response\n\trequest_cors: function(callback) {\n\t\treturn 'withCredentials' in new XMLHttpRequest() && callback();\n\t},\n\n\t// Return the type of DOM object\n\tdomInstance: function(type, data) {\n\t\tvar test = 'HTML' + (type || '').replace(\n\t\t\t/^[a-z]/,\n\t\t\tfunction(m) {\n\t\t\t\treturn m.toUpperCase();\n\t\t\t}\n\n\t\t) + 'Element';\n\n\t\tif (!data) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (window[test]) {\n\t\t\treturn data instanceof window[test];\n\t\t}\n\t\telse if (window.Element) {\n\t\t\treturn data instanceof window.Element && (!type || (data.tagName && data.tagName.toLowerCase() === type));\n\t\t}\n\t\telse {\n\t\t\treturn (!(data instanceof Object || data instanceof Array || data instanceof String || data instanceof Number) && data.tagName && data.tagName.toLowerCase() === type);\n\t\t}\n\t},\n\n\t// Create a clone of an object\n\tclone: function(obj) {\n\t\t// Does not clone DOM elements, nor Binary data, e.g. Blobs, Filelists\n\t\tif (obj === null || typeof (obj) !== 'object' || obj instanceof Date || 'nodeName' in obj || this.isBinary(obj) || (typeof FormData === 'function' && obj instanceof FormData)) {\n\t\t\treturn obj;\n\t\t}\n\n\t\tif (Array.isArray(obj)) {\n\t\t\t// Clone each item in the array\n\t\t\treturn obj.map(this.clone.bind(this));\n\t\t}\n\n\t\t// But does clone everything else.\n\t\tvar clone = {};\n\t\tfor (var x in obj) {\n\t\t\tclone[x] = this.clone(obj[x]);\n\t\t}\n\n\t\treturn clone;\n\t},\n\n\t// XHR: uses CORS to make requests\n\txhr: function(method, url, headers, data, callback) {\n\n\t\tvar r = new XMLHttpRequest();\n\t\tvar error = this.error;\n\n\t\t// Binary?\n\t\tvar binary = false;\n\t\tif (method === 'blob') {\n\t\t\tbinary = method;\n\t\t\tmethod = 'GET';\n\t\t}\n\n\t\tmethod = method.toUpperCase();\n\n\t\t// Xhr.responseType 'json' is not supported in any of the vendors yet.\n\t\tr.onload = function(e) {\n\t\t\tvar json = r.response;\n\t\t\ttry {\n\t\t\t\tjson = JSON.parse(r.responseText);\n\t\t\t}\n\t\t\tcatch (_e) {\n\t\t\t\tif (r.status === 401) {\n\t\t\t\t\tjson = error('access_denied', r.statusText);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar headers = headersToJSON(r.getAllResponseHeaders());\n\t\t\theaders.statusCode = r.status;\n\n\t\t\tcallback(json || (method === 'GET' ? error('empty_response', 'Could not get resource') : {}), headers);\n\t\t};\n\n\t\tr.onerror = function(e) {\n\t\t\tvar json = r.responseText;\n\t\t\ttry {\n\t\t\t\tjson = JSON.parse(r.responseText);\n\t\t\t}\n\t\t\tcatch (_e) {}\n\n\t\t\tcallback(json || error('access_denied', 'Could not get resource'));\n\t\t};\n\n\t\tvar x;\n\n\t\t// Should we add the query to the URL?\n\t\tif (method === 'GET' || method === 'DELETE') {\n\t\t\tdata = null;\n\t\t}\n\t\telse if (data && typeof (data) !== 'string' && !(data instanceof FormData) && !(data instanceof File) && !(data instanceof Blob)) {\n\t\t\t// Loop through and add formData\n\t\t\tvar f = new FormData();\n\t\t\tfor (x in data) if (data.hasOwnProperty(x)) {\n\t\t\t\tif (data[x] instanceof HTMLInputElement) {\n\t\t\t\t\tif ('files' in data[x] && data[x].files.length > 0) {\n\t\t\t\t\t\tf.append(x, data[x].files[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (data[x] instanceof Blob) {\n\t\t\t\t\tf.append(x, data[x], data.name);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tf.append(x, data[x]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdata = f;\n\t\t}\n\n\t\t// Open the path, async\n\t\tr.open(method, url, true);\n\n\t\tif (binary) {\n\t\t\tif ('responseType' in r) {\n\t\t\t\tr.responseType = binary;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tr.overrideMimeType('text/plain; charset=x-user-defined');\n\t\t\t}\n\t\t}\n\n\t\t// Set any bespoke headers\n\t\tif (headers) {\n\t\t\tfor (x in headers) {\n\t\t\t\tr.setRequestHeader(x, headers[x]);\n\t\t\t}\n\t\t}\n\n\t\tr.send(data);\n\n\t\treturn r;\n\n\t\t// Headers are returned as a string\n\t\tfunction headersToJSON(s) {\n\t\t\tvar r = {};\n\t\t\tvar reg = /([a-z\\-]+):\\s?(.*);?/gi;\n\t\t\tvar m;\n\t\t\twhile ((m = reg.exec(s))) {\n\t\t\t\tr[m[1]] = m[2];\n\t\t\t}\n\n\t\t\treturn r;\n\t\t}\n\t},\n\n\t// JSONP\n\t// Injects a script tag into the DOM to be executed and appends a callback function to the window object\n\t// @param string/function pathFunc either a string of the URL or a callback function pathFunc(querystringhash, continueFunc);\n\t// @param function callback a function to call on completion;\n\tjsonp: function(url, callback, callbackID, timeout) {\n\n\t\tvar _this = this;\n\t\tvar error = _this.error;\n\n\t\t// Change the name of the callback\n\t\tvar bool = 0;\n\t\tvar head = document.getElementsByTagName('head')[0];\n\t\tvar operaFix;\n\t\tvar result = error('server_error', 'server_error');\n\t\tvar cb = function() {\n\t\t\tif (!(bool++)) {\n\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\tcallback(result);\n\t\t\t\t\thead.removeChild(script);\n\t\t\t\t}, 0);\n\t\t\t}\n\n\t\t};\n\n\t\t// Add callback to the window object\n\t\tcallbackID = _this.globalEvent(function(json) {\n\t\t\tresult = json;\n\t\t\treturn true;\n\n\t\t\t// Mark callback as done\n\t\t}, callbackID);\n\n\t\t// The URL is a function for some cases and as such\n\t\t// Determine its value with a callback containing the new parameters of this function.\n\t\turl = url.replace(new RegExp('=\\\\?(&|$)'), '=' + callbackID + '$1');\n\n\t\t// Build script tag\n\t\tvar script = _this.append('script', {\n\t\t\tid: callbackID,\n\t\t\tname: callbackID,\n\t\t\tsrc: url,\n\t\t\tasync: true,\n\t\t\tonload: cb,\n\t\t\tonerror: cb,\n\t\t\tonreadystatechange: function() {\n\t\t\t\tif (/loaded|complete/i.test(this.readyState)) {\n\t\t\t\t\tcb();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t// Opera fix error\n\t\t// Problem: If an error occurs with script loading Opera fails to trigger the script.onerror handler we specified\n\t\t//\n\t\t// Fix:\n\t\t// By setting the request to synchronous we can trigger the error handler when all else fails.\n\t\t// This action will be ignored if we've already called the callback handler \"cb\" with a successful onload event\n\t\tif (window.navigator.userAgent.toLowerCase().indexOf('opera') > -1) {\n\t\t\toperaFix = _this.append('script', {\n\t\t\t\ttext: 'document.getElementById(\\'' + callbackID + '\\').onerror();'\n\t\t\t});\n\t\t\tscript.async = false;\n\t\t}\n\n\t\t// Add timeout\n\t\tif (timeout) {\n\t\t\twindow.setTimeout(function() {\n\t\t\t\tresult = error('timeout', 'timeout');\n\t\t\t\tcb();\n\t\t\t}, timeout);\n\t\t}\n\n\t\t// TODO: add fix for IE,\n\t\t// However: unable recreate the bug of firing off the onreadystatechange before the script content has been executed and the value of \"result\" has been defined.\n\t\t// Inject script tag into the head element\n\t\thead.appendChild(script);\n\n\t\t// Append Opera Fix to run after our script\n\t\tif (operaFix) {\n\t\t\thead.appendChild(operaFix);\n\t\t}\n\t},\n\n\t// Post\n\t// Send information to a remote location using the post mechanism\n\t// @param string uri path\n\t// @param object data, key value data to send\n\t// @param function callback, function to execute in response\n\tpost: function(url, data, options, callback, callbackID, timeout) {\n\n\t\tvar _this = this;\n\t\tvar error = _this.error;\n\t\tvar doc = document;\n\n\t\t// This hack needs a form\n\t\tvar form = null;\n\t\tvar reenableAfterSubmit = [];\n\t\tvar newform;\n\t\tvar i = 0;\n\t\tvar x = null;\n\t\tvar bool = 0;\n\t\tvar cb = function(r) {\n\t\t\tif (!(bool++)) {\n\t\t\t\tcallback(r);\n\t\t\t}\n\t\t};\n\n\t\t// What is the name of the callback to contain\n\t\t// We'll also use this to name the iframe\n\t\t_this.globalEvent(cb, callbackID);\n\n\t\t// Build the iframe window\n\t\tvar win;\n\t\ttry {\n\t\t\t// IE7 hack, only lets us define the name here, not later.\n\t\t\twin = doc.createElement('<iframe name=\"' + callbackID + '\">');\n\t\t}\n\t\tcatch (e) {\n\t\t\twin = doc.createElement('iframe');\n\t\t}\n\n\t\twin.name = callbackID;\n\t\twin.id = callbackID;\n\t\twin.style.display = 'none';\n\n\t\t// Override callback mechanism. Triggger a response onload/onerror\n\t\tif (options && options.callbackonload) {\n\t\t\t// Onload is being fired twice\n\t\t\twin.onload = function() {\n\t\t\t\tcb({\n\t\t\t\t\tresponse: 'posted',\n\t\t\t\t\tmessage: 'Content was posted'\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\n\t\tif (timeout) {\n\t\t\tsetTimeout(function() {\n\t\t\t\tcb(error('timeout', 'The post operation timed out'));\n\t\t\t}, timeout);\n\t\t}\n\n\t\tdoc.body.appendChild(win);\n\n\t\t// If we are just posting a single item\n\t\tif (_this.domInstance('form', data)) {\n\t\t\t// Get the parent form\n\t\t\tform = data.form;\n\n\t\t\t// Loop through and disable all of its siblings\n\t\t\tfor (i = 0; i < form.elements.length; i++) {\n\t\t\t\tif (form.elements[i] !== data) {\n\t\t\t\t\tform.elements[i].setAttribute('disabled', true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Move the focus to the form\n\t\t\tdata = form;\n\t\t}\n\n\t\t// Posting a form\n\t\tif (_this.domInstance('form', data)) {\n\t\t\t// This is a form element\n\t\t\tform = data;\n\n\t\t\t// Does this form need to be a multipart form?\n\t\t\tfor (i = 0; i < form.elements.length; i++) {\n\t\t\t\tif (!form.elements[i].disabled && form.elements[i].type === 'file') {\n\t\t\t\t\tform.encoding = form.enctype = 'multipart/form-data';\n\t\t\t\t\tform.elements[i].setAttribute('name', 'file');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// Its not a form element,\n\t\t\t// Therefore it must be a JSON object of Key=>Value or Key=>Element\n\t\t\t// If anyone of those values are a input type=file we shall shall insert its siblings into the form for which it belongs.\n\t\t\tfor (x in data) if (data.hasOwnProperty(x)) {\n\t\t\t\t// Is this an input Element?\n\t\t\t\tif (_this.domInstance('input', data[x]) && data[x].type === 'file') {\n\t\t\t\t\tform = data[x].form;\n\t\t\t\t\tform.encoding = form.enctype = 'multipart/form-data';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Do If there is no defined form element, lets create one.\n\t\t\tif (!form) {\n\t\t\t\t// Build form\n\t\t\t\tform = doc.createElement('form');\n\t\t\t\tdoc.body.appendChild(form);\n\t\t\t\tnewform = form;\n\t\t\t}\n\n\t\t\tvar input;\n\n\t\t\t// Add elements to the form if they dont exist\n\t\t\tfor (x in data) if (data.hasOwnProperty(x)) {\n\n\t\t\t\t// Is this an element?\n\t\t\t\tvar el = (_this.domInstance('input', data[x]) || _this.domInstance('textArea', data[x]) || _this.domInstance('select', data[x]));\n\n\t\t\t\t// Is this not an input element, or one that exists outside the form.\n\t\t\t\tif (!el || data[x].form !== form) {\n\n\t\t\t\t\t// Does an element have the same name?\n\t\t\t\t\tvar inputs = form.elements[x];\n\t\t\t\t\tif (input) {\n\t\t\t\t\t\t// Remove it.\n\t\t\t\t\t\tif (!(inputs instanceof NodeList)) {\n\t\t\t\t\t\t\tinputs = [inputs];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (i = 0; i < inputs.length; i++) {\n\t\t\t\t\t\t\tinputs[i].parentNode.removeChild(inputs[i]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Create an input element\n\t\t\t\t\tinput = doc.createElement('input');\n\t\t\t\t\tinput.setAttribute('type', 'hidden');\n\t\t\t\t\tinput.setAttribute('name', x);\n\n\t\t\t\t\t// Does it have a value attribute?\n\t\t\t\t\tif (el) {\n\t\t\t\t\t\tinput.value = data[x].value;\n\t\t\t\t\t}\n\t\t\t\t\telse if (_this.domInstance(null, data[x])) {\n\t\t\t\t\t\tinput.value = data[x].innerHTML || data[x].innerText;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tinput.value = data[x];\n\t\t\t\t\t}\n\n\t\t\t\t\tform.appendChild(input);\n\t\t\t\t}\n\n\t\t\t\t// It is an element, which exists within the form, but the name is wrong\n\t\t\t\telse if (el && data[x].name !== x) {\n\t\t\t\t\tdata[x].setAttribute('name', x);\n\t\t\t\t\tdata[x].name = x;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Disable elements from within the form if they weren't specified\n\t\t\tfor (i = 0; i < form.elements.length; i++) {\n\n\t\t\t\tinput = form.elements[i];\n\n\t\t\t\t// Does the same name and value exist in the parent\n\t\t\t\tif (!(input.name in data) && input.getAttribute('disabled') !== true) {\n\t\t\t\t\t// Disable\n\t\t\t\t\tinput.setAttribute('disabled', true);\n\n\t\t\t\t\t// Add re-enable to callback\n\t\t\t\t\treenableAfterSubmit.push(input);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Set the target of the form\n\t\tform.setAttribute('method', 'POST');\n\t\tform.setAttribute('target', callbackID);\n\t\tform.target = callbackID;\n\n\t\t// Update the form URL\n\t\tform.setAttribute('action', url);\n\n\t\t// Submit the form\n\t\t// Some reason this needs to be offset from the current window execution\n\t\tsetTimeout(function() {\n\t\t\tform.submit();\n\n\t\t\tsetTimeout(function() {\n\t\t\t\ttry {\n\t\t\t\t\t// Remove the iframe from the page.\n\t\t\t\t\t//win.parentNode.removeChild(win);\n\t\t\t\t\t// Remove the form\n\t\t\t\t\tif (newform) {\n\t\t\t\t\t\tnewform.parentNode.removeChild(newform);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconsole.error('HelloJS: could not remove iframe');\n\t\t\t\t\t}\n\t\t\t\t\tcatch (ee) {}\n\t\t\t\t}\n\n\t\t\t\t// Reenable the disabled form\n\t\t\t\tfor (var i = 0; i < reenableAfterSubmit.length; i++) {\n\t\t\t\t\tif (reenableAfterSubmit[i]) {\n\t\t\t\t\t\treenableAfterSubmit[i].setAttribute('disabled', false);\n\t\t\t\t\t\treenableAfterSubmit[i].disabled = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t}, 100);\n\t},\n\n\t// Some of the providers require that only multipart is used with non-binary forms.\n\t// This function checks whether the form contains binary data\n\thasBinary: function(data) {\n\t\tfor (var x in data) if (data.hasOwnProperty(x)) {\n\t\t\tif (this.isBinary(data[x])) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t// Determines if a variable Either Is or like a FormInput has the value of a Blob\n\n\tisBinary: function(data) {\n\n\t\treturn data instanceof Object && (\n\t\t(this.domInstance('input', data) && data.type === 'file') ||\n\t\t('FileList' in window && data instanceof window.FileList) ||\n\t\t('File' in window && data instanceof window.File) ||\n\t\t('Blob' in window && data instanceof window.Blob));\n\n\t},\n\n\t// Convert Data-URI to Blob string\n\ttoBlob: function(dataURI) {\n\t\tvar reg = /^data\\:([^;,]+(\\;charset=[^;,]+)?)(\\;base64)?,/i;\n\t\tvar m = dataURI.match(reg);\n\t\tif (!m) {\n\t\t\treturn dataURI;\n\t\t}\n\n\t\tvar binary = atob(dataURI.replace(reg, ''));\n\t\tvar array = [];\n\t\tfor (var i = 0; i < binary.length; i++) {\n\t\t\tarray.push(binary.charCodeAt(i));\n\t\t}\n\n\t\treturn new Blob([new Uint8Array(array)], {type: m[1]});\n\t}\n\n});\n\n// EXTRA: Convert FormElement to JSON for POSTing\n// Wrappers to add additional functionality to existing functions\n(function(hello) {\n\n\t// Copy original function\n\tvar api = hello.api;\n\tvar utils = hello.utils;\n\n\tutils.extend(utils, {\n\n\t\t// DataToJSON\n\t\t// This takes a FormElement|NodeList|InputElement|MixedObjects and convers the data object to JSON.\n\t\tdataToJSON: function(p) {\n\n\t\t\tvar _this = this;\n\t\t\tvar w = window;\n\t\t\tvar data = p.data;\n\n\t\t\t// Is data a form object\n\t\t\tif (_this.domInstance('form', data)) {\n\t\t\t\tdata = _this.nodeListToJSON(data.elements);\n\t\t\t}\n\t\t\telse if ('NodeList' in w && data instanceof NodeList) {\n\t\t\t\tdata = _this.nodeListToJSON(data);\n\t\t\t}\n\t\t\telse if (_this.domInstance('input', data)) {\n\t\t\t\tdata = _this.nodeListToJSON([data]);\n\t\t\t}\n\n\t\t\t// Is data a blob, File, FileList?\n\t\t\tif (('File' in w && data instanceof w.File) ||\n\t\t\t\t('Blob' in w && data instanceof w.Blob) ||\n\t\t\t\t('FileList' in w && data instanceof w.FileList)) {\n\t\t\t\tdata = {file: data};\n\t\t\t}\n\n\t\t\t// Loop through data if it's not form data it must now be a JSON object\n\t\t\tif (!('FormData' in w && data instanceof w.FormData)) {\n\n\t\t\t\tfor (var x in data) if (data.hasOwnProperty(x)) {\n\n\t\t\t\t\tif ('FileList' in w && data[x] instanceof w.FileList) {\n\t\t\t\t\t\tif (data[x].length === 1) {\n\t\t\t\t\t\t\tdata[x] = data[x][0];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (_this.domInstance('input', data[x]) && data[x].type === 'file') {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\telse if (_this.domInstance('input', data[x]) ||\n\t\t\t\t\t\t_this.domInstance('select', data[x]) ||\n\t\t\t\t\t\t_this.domInstance('textArea', data[x])) {\n\t\t\t\t\t\tdata[x] = data[x].value;\n\t\t\t\t\t}\n\t\t\t\t\telse if (_this.domInstance(null, data[x])) {\n\t\t\t\t\t\tdata[x] = data[x].innerHTML || data[x].innerText;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tp.data = data;\n\t\t\treturn data;\n\t\t},\n\n\t\t// NodeListToJSON\n\t\t// Given a list of elements extrapolate their values and return as a json object\n\t\tnodeListToJSON: function(nodelist) {\n\n\t\t\tvar json = {};\n\n\t\t\t// Create a data string\n\t\t\tfor (var i = 0; i < nodelist.length; i++) {\n\n\t\t\t\tvar input = nodelist[i];\n\n\t\t\t\t// If the name of the input is empty or diabled, dont add it.\n\t\t\t\tif (input.disabled || !input.name) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Is this a file, does the browser not support 'files' and 'FormData'?\n\t\t\t\tif (input.type === 'file') {\n\t\t\t\t\tjson[input.name] = input;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tjson[input.name] = input.value || input.innerHTML;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn json;\n\t\t}\n\t});\n\n\t// Replace it\n\thello.api = function() {\n\n\t\t// Get arguments\n\t\tvar p = utils.args({path: 's!', method: 's', data:'o', timeout: 'i', callback: 'f'}, arguments);\n\n\t\t// Change for into a data object\n\t\tif (p.data) {\n\t\t\tutils.dataToJSON(p);\n\t\t}\n\n\t\treturn api.call(this, p);\n\t};\n\n})(hello);\n\n/////////////////////////////////////\n//\n// Save any access token that is in the current page URL\n// Handle any response solicited through iframe hash tag following an API request\n//\n/////////////////////////////////////\n\nhello.utils.responseHandler(window, window.opener || window.parent);\n\n// Script to support ChromeApps\n// This overides the hello.utils.popup method to support chrome.identity.launchWebAuthFlow\n// See https://developer.chrome.com/apps/app_identity#non\n\n// Is this a chrome app?\n\nif (typeof chrome === 'object' && typeof chrome.identity === 'object' && chrome.identity.launchWebAuthFlow) {\n\n\t(function() {\n\n\t\t// Swap the popup method\n\t\thello.utils.popup = function(url) {\n\n\t\t\treturn _open(url, true);\n\n\t\t};\n\n\t\t// Swap the hidden iframe method\n\t\thello.utils.iframe = function(url) {\n\n\t\t\t_open(url, false);\n\n\t\t};\n\n\t\t// Swap the request_cors method\n\t\thello.utils.request_cors = function(callback) {\n\n\t\t\tcallback();\n\n\t\t\t// Always run as CORS\n\n\t\t\treturn true;\n\t\t};\n\n\t\t// Swap the storage method\n\t\tvar _cache = {};\n\t\tchrome.storage.local.get('hello', function(r) {\n\t\t\t// Update the cache\n\t\t\t_cache = r.hello || {};\n\t\t});\n\n\t\thello.utils.store = function(name, value) {\n\n\t\t\t// Get all\n\t\t\tif (arguments.length === 0) {\n\t\t\t\treturn _cache;\n\t\t\t}\n\n\t\t\t// Get\n\t\t\tif (arguments.length === 1) {\n\t\t\t\treturn _cache[name] || null;\n\t\t\t}\n\n\t\t\t// Set\n\t\t\tif (value) {\n\t\t\t\t_cache[name] = value;\n\t\t\t\tchrome.storage.local.set({hello: _cache});\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\t// Delete\n\t\t\tif (value === null) {\n\t\t\t\tdelete _cache[name];\n\t\t\t\tchrome.storage.local.set({hello: _cache});\n\t\t\t\treturn null;\n\t\t\t}\n\t\t};\n\n\t\t// Open function\n\t\tfunction _open(url, interactive) {\n\n\t\t\t// Launch\n\t\t\tvar ref = {\n\t\t\t\tclosed: false\n\t\t\t};\n\n\t\t\t// Launch the webAuthFlow\n\t\t\tchrome.identity.launchWebAuthFlow({\n\t\t\t\turl: url,\n\t\t\t\tinteractive: interactive\n\t\t\t}, function(responseUrl) {\n\n\t\t\t\t// Did the user cancel this prematurely\n\t\t\t\tif (responseUrl === undefined) {\n\t\t\t\t\tref.closed = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Split appart the URL\n\t\t\t\tvar a = hello.utils.url(responseUrl);\n\n\t\t\t\t// The location can be augmented in to a location object like so...\n\t\t\t\t// We dont have window operations on the popup so lets create some\n\t\t\t\tvar _popup = {\n\t\t\t\t\tlocation: {\n\n\t\t\t\t\t\t// Change the location of the popup\n\t\t\t\t\t\tassign: function(url) {\n\n\t\t\t\t\t\t\t// If there is a secondary reassign\n\t\t\t\t\t\t\t// In the case of OAuth1\n\t\t\t\t\t\t\t// Trigger this in non-interactive mode.\n\t\t\t\t\t\t\t_open(url, false);\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tsearch: a.search,\n\t\t\t\t\t\thash: a.hash,\n\t\t\t\t\t\thref: a.href\n\t\t\t\t\t},\n\t\t\t\t\tclose: function() {}\n\t\t\t\t};\n\n\t\t\t\t// Then this URL contains information which HelloJS must process\n\t\t\t\t// URL string\n\t\t\t\t// Window - any action such as window relocation goes here\n\t\t\t\t// Opener - the parent window which opened this, aka this script\n\n\t\t\t\thello.utils.responseHandler(_popup, window);\n\t\t\t});\n\n\t\t\t// Return the reference\n\t\t\treturn ref;\n\t\t}\n\n\t})();\n}\n\n// Phonegap override for hello.phonegap.js\n(function() {\n\n\t// Is this a phonegap implementation?\n\tif (!(/^file:\\/{3}[^\\/]/.test(window.location.href) && window.cordova)) {\n\t\t// Cordova is not included.\n\t\treturn;\n\t}\n\n\t// Augment the hidden iframe method\n\thello.utils.iframe = function(url, redirectUri) {\n\t\thello.utils.popup(url, redirectUri, {hidden: 'yes'});\n\t};\n\n\t// Augment the popup\n\tvar utilPopup = hello.utils.popup;\n\n\t// Replace popup\n\thello.utils.popup = function(url, redirectUri, options) {\n\n\t\t// Run the standard\n\t\tvar popup = utilPopup.call(this, url, redirectUri, options);\n\n\t\t// Create a function for reopening the popup, and assigning events to the new popup object\n\t\t// PhoneGap support\n\t\t// Add an event listener to listen to the change in the popup windows URL\n\t\t// This must appear before popup.focus();\n\t\ttry {\n\t\t\tif (popup && popup.addEventListener) {\n\n\t\t\t\t// Get the origin of the redirect URI\n\n\t\t\t\tvar a = hello.utils.url(redirectUri);\n\t\t\t\tvar redirectUriOrigin = a.origin || (a.protocol + '//' + a.hostname);\n\n\t\t\t\t// Listen to changes in the InAppBrowser window\n\n\t\t\t\tpopup.addEventListener('loadstart', function(e) {\n\n\t\t\t\t\tvar url = e.url;\n\n\t\t\t\t\t// Is this the path, as given by the redirectUri?\n\t\t\t\t\t// Check the new URL agains the redirectUriOrigin.\n\t\t\t\t\t// According to #63 a user could click 'cancel' in some dialog boxes ....\n\t\t\t\t\t// The popup redirects to another page with the same origin, yet we still wish it to close.\n\n\t\t\t\t\tif (url.indexOf(redirectUriOrigin) !== 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Split appart the URL\n\t\t\t\t\tvar a = hello.utils.url(url);\n\n\t\t\t\t\t// We dont have window operations on the popup so lets create some\n\t\t\t\t\t// The location can be augmented in to a location object like so...\n\n\t\t\t\t\tvar _popup = {\n\t\t\t\t\t\tlocation: {\n\t\t\t\t\t\t\t// Change the location of the popup\n\t\t\t\t\t\t\tassign: function(location) {\n\n\t\t\t\t\t\t\t\t// Unfourtunatly an app is may not change the location of a InAppBrowser window.\n\t\t\t\t\t\t\t\t// So to shim this, just open a new one.\n\t\t\t\t\t\t\t\tpopup.executeScript({code: 'window.location.href = \"' + location + ';\"'});\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\tsearch: a.search,\n\t\t\t\t\t\t\thash: a.hash,\n\t\t\t\t\t\t\thref: a.href\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclose: function() {\n\t\t\t\t\t\t\tif (popup.close) {\n\t\t\t\t\t\t\t\tpopup.close();\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tpopup.closed = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcatch (_e) {}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t// Then this URL contains information which HelloJS must process\n\t\t\t\t\t// URL string\n\t\t\t\t\t// Window - any action such as window relocation goes here\n\t\t\t\t\t// Opener - the parent window which opened this, aka this script\n\n\t\t\t\t\thello.utils.responseHandler(_popup, window);\n\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tcatch (e) {}\n\n\t\treturn popup;\n\t};\n\n})();\n\n(function(hello) {\n\n\t// OAuth1\n\tvar OAuth1Settings = {\n\t\tversion: '1.0',\n\t\tauth: 'https://www.dropbox.com/1/oauth/authorize',\n\t\trequest: 'https://api.dropbox.com/1/oauth/request_token',\n\t\ttoken: 'https://api.dropbox.com/1/oauth/access_token'\n\t};\n\n\t// OAuth2 Settings\n\tvar OAuth2Settings = {\n\t\tversion: 2,\n\t\tauth: 'https://www.dropbox.com/1/oauth2/authorize',\n\t\tgrant: 'https://api.dropbox.com/1/oauth2/token'\n\t};\n\n\t// Initiate the Dropbox module\n\thello.init({\n\n\t\tdropbox: {\n\n\t\t\tname: 'Dropbox',\n\n\t\t\toauth: OAuth2Settings,\n\n\t\t\tlogin: function(p) {\n\t\t\t\t// OAuth2 non-standard adjustments\n\t\t\t\tp.qs.scope = '';\n\t\t\t\tdelete p.qs.display;\n\n\t\t\t\t// Should this be run as OAuth1?\n\t\t\t\t// If the redirect_uri is is HTTP (non-secure) then its required to revert to the OAuth1 endpoints\n\t\t\t\tvar redirect = decodeURIComponent(p.qs.redirect_uri);\n\t\t\t\tif (redirect.indexOf('http:') === 0 && redirect.indexOf('http://localhost/') !== 0) {\n\n\t\t\t\t\t// Override the dropbox OAuth settings.\n\t\t\t\t\thello.services.dropbox.oauth = OAuth1Settings;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Override the dropbox OAuth settings.\n\t\t\t\t\thello.services.dropbox.oauth = OAuth2Settings;\n\t\t\t\t}\n\n\t\t\t\t// The dropbox login window is a different size\n\t\t\t\tp.options.popup.width = 1000;\n\t\t\t\tp.options.popup.height = 1000;\n\t\t\t},\n\n\t\t\t/*\n\t\t\t\tDropbox does not allow insecure HTTP URI's in the redirect_uri field\n\t\t\t\t...otherwise I'd love to use OAuth2\n\n\t\t\t\tFollow request https://forums.dropbox.com/topic.php?id=106505\n\n\t\t\t\tp.qs.response_type = 'code';\n\t\t\t\toauth: {\n\t\t\t\t\tversion: 2,\n\t\t\t\t\tauth: 'https://www.dropbox.com/1/oauth2/authorize',\n\t\t\t\t\tgrant: 'https://api.dropbox.com/1/oauth2/token'\n\t\t\t\t}\n\t\t\t*/\n\n\t\t\t// API Base URL\n\t\t\tbase: 'https://api.dropbox.com/1/',\n\n\t\t\t// Bespoke setting: this is states whether to use the custom environment of Dropbox or to use their own environment\n\t\t\t// Because it's notoriously difficult for Dropbox too provide access from other webservices, this defaults to Sandbox\n\t\t\troot: 'sandbox',\n\n\t\t\t// Map GET requests\n\t\t\tget: {\n\t\t\t\tme: 'account/info',\n\n\t\t\t\t// Https://www.dropbox.com/developers/core/docs#metadata\n\t\t\t\t'me/files': req('metadata/auto/@{parent|}'),\n\t\t\t\t'me/folder': req('metadata/auto/@{id}'),\n\t\t\t\t'me/folders': req('metadata/auto/'),\n\n\t\t\t\t'default': function(p, callback) {\n\t\t\t\t\tif (p.path.match('https://api-content.dropbox.com/1/files/')) {\n\t\t\t\t\t\t// This is a file, return binary data\n\t\t\t\t\t\tp.method = 'blob';\n\t\t\t\t\t}\n\n\t\t\t\t\tcallback(p.path);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tpost: {\n\t\t\t\t'me/files': function(p, callback) {\n\n\t\t\t\t\tvar path = p.data.parent;\n\t\t\t\t\tvar fileName = p.data.name;\n\n\t\t\t\t\tp.data = {\n\t\t\t\t\t\tfile: p.data.file\n\t\t\t\t\t};\n\n\t\t\t\t\t// Does this have a data-uri to upload as a file?\n\t\t\t\t\tif (typeof (p.data.file) === 'string') {\n\t\t\t\t\t\tp.data.file = hello.utils.toBlob(p.data.file);\n\t\t\t\t\t}\n\n\t\t\t\t\tcallback('https://api-content.dropbox.com/1/files_put/auto/' + path + '/' + fileName);\n\t\t\t\t},\n\n\t\t\t\t'me/folders': function(p, callback) {\n\n\t\t\t\t\tvar name = p.data.name;\n\t\t\t\t\tp.data = {};\n\n\t\t\t\t\tcallback('fileops/create_folder?root=@{root|sandbox}&' + hello.utils.param({\n\t\t\t\t\t\tpath: name\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Map DELETE requests\n\t\t\tdel: {\n\t\t\t\t'me/files': 'fileops/delete?root=@{root|sandbox}&path=@{id}',\n\t\t\t\t'me/folder': 'fileops/delete?root=@{root|sandbox}&path=@{id}'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tif (!o.uid) {\n\t\t\t\t\t\treturn o;\n\t\t\t\t\t}\n\n\t\t\t\t\to.name = o.display_name;\n\t\t\t\t\tvar m = o.name.split(' ');\n\t\t\t\t\to.first_name = m.shift();\n\t\t\t\t\to.last_name = m.join(' ');\n\t\t\t\t\to.id = o.uid;\n\t\t\t\t\tdelete o.uid;\n\t\t\t\t\tdelete o.display_name;\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o, headers, req) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tif (o.is_dir && o.contents) {\n\t\t\t\t\t\to.data = o.contents;\n\t\t\t\t\t\tdelete o.contents;\n\n\t\t\t\t\t\to.data.forEach(function(item) {\n\t\t\t\t\t\t\titem.root = o.root;\n\t\t\t\t\t\t\tformatFile(item, headers, req);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tformatFile(o, headers, req);\n\n\t\t\t\t\tif (o.is_deleted) {\n\t\t\t\t\t\to.success = true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Doesn't return the CORS headers\n\t\t\txhr: function(p) {\n\n\t\t\t\t// The proxy supports allow-cross-origin-resource\n\t\t\t\t// Alas that's the only thing we're using.\n\t\t\t\tif (p.data && p.data.file) {\n\t\t\t\t\tvar file = p.data.file;\n\t\t\t\t\tif (file) {\n\t\t\t\t\t\tif (file.files) {\n\t\t\t\t\t\t\tp.data = file.files[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tp.data = file;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (p.method === 'delete') {\n\t\t\t\t\tp.method = 'post';\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tform: function(p, qs) {\n\t\t\t\tdelete qs.state;\n\t\t\t\tdelete qs.redirect_uri;\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction formatError(o) {\n\t\tif (o && 'error' in o) {\n\t\t\to.error = {\n\t\t\t\tcode: 'server_error',\n\t\t\t\tmessage: o.error.message || o.error\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction formatFile(o, headers, req) {\n\n\t\tif (typeof o !== 'object' ||\n\t\t\t(typeof Blob !== 'undefined' && o instanceof Blob) ||\n\t\t\t(typeof ArrayBuffer !== 'undefined' && o instanceof ArrayBuffer)) {\n\t\t\t// This is a file, let it through unformatted\n\t\t\treturn;\n\t\t}\n\n\t\tif ('error' in o) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar path = (o.root !== 'app_folder' ? o.root : '') + o.path.replace(/\\&/g, '%26');\n\t\tpath = path.replace(/^\\//, '');\n\t\tif (o.thumb_exists) {\n\t\t\to.thumbnail = req.oauth_proxy + '?path=' +\n\t\t\tencodeURIComponent('https://api-content.dropbox.com/1/thumbnails/auto/' + path + '?format=jpeg&size=m') + '&access_token=' + req.options.access_token;\n\t\t}\n\n\t\to.type = (o.is_dir ? 'folder' : o.mime_type);\n\t\to.name = o.path.replace(/.*\\//g, '');\n\t\tif (o.is_dir) {\n\t\t\to.files = path.replace(/^\\//, '');\n\t\t}\n\t\telse {\n\t\t\to.downloadLink = hello.settings.oauth_proxy + '?path=' +\n\t\t\tencodeURIComponent('https://api-content.dropbox.com/1/files/auto/' + path) + '&access_token=' + req.options.access_token;\n\t\t\to.file = 'https://api-content.dropbox.com/1/files/auto/' + path;\n\t\t}\n\n\t\tif (!o.id) {\n\t\t\to.id = o.path.replace(/^\\//, '');\n\t\t}\n\n\t\t// O.media = 'https://api-content.dropbox.com/1/files/' + path;\n\t}\n\n\tfunction req(str) {\n\t\treturn function(p, cb) {\n\t\t\tdelete p.query.limit;\n\t\t\tcb(str);\n\t\t};\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\thello.init({\n\n\t\tfacebook: {\n\n\t\t\tname: 'Facebook',\n\n\t\t\t// SEE https://developers.facebook.com/docs/facebook-login/manually-build-a-login-flow/v2.1\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://www.facebook.com/dialog/oauth/',\n\t\t\t\tgrant: 'https://graph.facebook.com/oauth/access_token'\n\t\t\t},\n\n\t\t\t// Authorization scopes\n\t\t\tscope: {\n\t\t\t\tbasic: 'public_profile',\n\t\t\t\temail: 'email',\n\t\t\t\tshare: 'user_posts',\n\t\t\t\tbirthday: 'user_birthday',\n\t\t\t\tevents: 'user_events',\n\t\t\t\tphotos: 'user_photos',\n\t\t\t\tvideos: 'user_videos',\n\t\t\t\tfriends: 'user_friends',\n\t\t\t\tfiles: 'user_photos,user_videos',\n\t\t\t\tpublish_files: 'user_photos,user_videos,publish_actions',\n\t\t\t\tpublish: 'publish_actions',\n\n\t\t\t\t// Deprecated in v2.0\n\t\t\t\t// Create_event\t: 'create_event',\n\n\t\t\t\toffline_access: ''\n\t\t\t},\n\n\t\t\t// Refresh the access_token\n\t\t\trefresh: true,\n\n\t\t\tlogin: function(p) {\n\n\t\t\t\t// Reauthenticate\n\t\t\t\t// https://developers.facebook.com/docs/facebook-login/reauthentication\n\t\t\t\tif (p.options.force) {\n\t\t\t\t\tp.qs.auth_type = 'reauthenticate';\n\t\t\t\t}\n\n\t\t\t\t// The facebook login window is a different size.\n\t\t\t\tp.options.popup.width = 580;\n\t\t\t\tp.options.popup.height = 400;\n\t\t\t},\n\n\t\t\tlogout: function(callback, options) {\n\t\t\t\t// Assign callback to a global handler\n\t\t\t\tvar callbackID = hello.utils.globalEvent(callback);\n\t\t\t\tvar redirect = encodeURIComponent(hello.settings.redirect_uri + '?' + hello.utils.param({callback:callbackID, result: JSON.stringify({force:true}), state: '{}'}));\n\t\t\t\tvar token = (options.authResponse || {}).access_token;\n\t\t\t\thello.utils.iframe('https://www.facebook.com/logout.php?next=' + redirect + '&access_token=' + token);\n\n\t\t\t\t// Possible responses:\n\t\t\t\t// String URL\t- hello.logout should handle the logout\n\t\t\t\t// Undefined\t- this function will handle the callback\n\t\t\t\t// True - throw a success, this callback isn't handling the callback\n\t\t\t\t// False - throw a error\n\t\t\t\tif (!token) {\n\t\t\t\t\t// If there isn't a token, the above wont return a response, so lets trigger a response\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// API Base URL\n\t\t\tbase: 'https://graph.facebook.com/v2.4/',\n\n\t\t\t// Map GET requests\n\t\t\tget: {\n\t\t\t\tme: 'me?fields=email,first_name,last_name,name,timezone,verified',\n\t\t\t\t'me/friends': 'me/friends',\n\t\t\t\t'me/following': 'me/friends',\n\t\t\t\t'me/followers': 'me/friends',\n\t\t\t\t'me/share': 'me/feed',\n\t\t\t\t'me/like': 'me/likes',\n\t\t\t\t'me/files': 'me/albums',\n\t\t\t\t'me/albums': 'me/albums?fields=cover_photo,name',\n\t\t\t\t'me/album': '@{id}/photos?fields=picture',\n\t\t\t\t'me/photos': 'me/photos',\n\t\t\t\t'me/photo': '@{id}',\n\t\t\t\t'friend/albums': '@{id}/albums',\n\t\t\t\t'friend/photos': '@{id}/photos'\n\n\t\t\t\t// Pagination\n\t\t\t\t// Https://developers.facebook.com/docs/reference/api/pagination/\n\t\t\t},\n\n\t\t\t// Map POST requests\n\t\t\tpost: {\n\t\t\t\t'me/share': 'me/feed',\n\t\t\t\t'me/photo': '@{id}'\n\n\t\t\t\t// Https://developers.facebook.com/docs/graph-api/reference/v2.2/object/likes/\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: formatUser,\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/albums': format,\n\t\t\t\t'me/photos': format,\n\t\t\t\t'me/files': format,\n\t\t\t\t'default': format\n\t\t\t},\n\n\t\t\t// Special requirements for handling XHR\n\t\t\txhr: function(p, qs) {\n\t\t\t\tif (p.method === 'get' || p.method === 'post') {\n\t\t\t\t\tqs.suppress_response_codes = true;\n\t\t\t\t}\n\n\t\t\t\t// Is this a post with a data-uri?\n\t\t\t\tif (p.method === 'post' && p.data && typeof (p.data.file) === 'string') {\n\t\t\t\t\t// Convert the Data-URI to a Blob\n\t\t\t\t\tp.data.file = hello.utils.toBlob(p.data.file);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// Special requirements for handling JSONP fallback\n\t\t\tjsonp: function(p, qs) {\n\t\t\t\tvar m = p.method;\n\t\t\t\tif (m !== 'get' && !hello.utils.hasBinary(p.data)) {\n\t\t\t\t\tp.data.method = m;\n\t\t\t\t\tp.method = 'get';\n\t\t\t\t}\n\t\t\t\telse if (p.method === 'delete') {\n\t\t\t\t\tqs.method = 'delete';\n\t\t\t\t\tp.method = 'post';\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Special requirements for iframe form hack\n\t\t\tform: function(p) {\n\t\t\t\treturn {\n\t\t\t\t\t// Fire the callback onload\n\t\t\t\t\tcallbackonload: true\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t});\n\n\tvar base = 'https://graph.facebook.com/';\n\n\tfunction formatUser(o) {\n\t\tif (o.id) {\n\t\t\to.thumbnail = o.picture = 'https://graph.facebook.com/' + o.id + '/picture';\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o) {\n\t\tif ('data' in o) {\n\t\t\to.data.forEach(formatUser);\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction format(o, headers, req) {\n\t\tif (typeof o === 'boolean') {\n\t\t\to = {success: o};\n\t\t}\n\n\t\tif (o && 'data' in o) {\n\t\t\tvar token = req.query.access_token;\n\n\t\t\tif (!(o.data instanceof Array)) {\n\t\t\t\tvar data = o.data;\n\t\t\t\tdelete o.data;\n\t\t\t\to.data = [data];\n\t\t\t}\n\n\t\t\to.data.forEach(function(d) {\n\n\t\t\t\tif (d.picture) {\n\t\t\t\t\td.thumbnail = d.picture;\n\t\t\t\t}\n\n\t\t\t\td.pictures = (d.images || [])\n\t\t\t\t\t.sort(function(a, b) {\n\t\t\t\t\t\treturn a.width - b.width;\n\t\t\t\t\t});\n\n\t\t\t\tif (d.cover_photo && d.cover_photo.id) {\n\t\t\t\t\td.thumbnail = base + d.cover_photo.id + '/picture?access_token=' + token;\n\t\t\t\t}\n\n\t\t\t\tif (d.type === 'album') {\n\t\t\t\t\td.files = d.photos = base + d.id + '/photos';\n\t\t\t\t}\n\n\t\t\t\tif (d.can_upload) {\n\t\t\t\t\td.upload_location = base + d.id + '/photos';\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn o;\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\thello.init({\n\n\t\tflickr: {\n\n\t\t\tname: 'Flickr',\n\n\t\t\t// Ensure that you define an oauth_proxy\n\t\t\toauth: {\n\t\t\t\tversion: '1.0a',\n\t\t\t\tauth: 'https://www.flickr.com/services/oauth/authorize?perms=read',\n\t\t\t\trequest: 'https://www.flickr.com/services/oauth/request_token',\n\t\t\t\ttoken: 'https://www.flickr.com/services/oauth/access_token'\n\t\t\t},\n\n\t\t\t// API base URL\n\t\t\tbase: 'https://api.flickr.com/services/rest',\n\n\t\t\t// Map GET resquests\n\t\t\tget: {\n\t\t\t\tme: sign('flickr.people.getInfo'),\n\t\t\t\t'me/friends': sign('flickr.contacts.getList', {per_page:'@{limit|50}'}),\n\t\t\t\t'me/following': sign('flickr.contacts.getList', {per_page:'@{limit|50}'}),\n\t\t\t\t'me/followers': sign('flickr.contacts.getList', {per_page:'@{limit|50}'}),\n\t\t\t\t'me/albums': sign('flickr.photosets.getList', {per_page:'@{limit|50}'}),\n\t\t\t\t'me/album': sign('flickr.photosets.getPhotos', {photoset_id: '@{id}'}),\n\t\t\t\t'me/photos': sign('flickr.people.getPhotos', {per_page:'@{limit|50}'})\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\to = checkResponse(o, 'person');\n\t\t\t\t\tif (o.id) {\n\t\t\t\t\t\tif (o.realname) {\n\t\t\t\t\t\t\to.name = o.realname._content;\n\t\t\t\t\t\t\tvar m = o.name.split(' ');\n\t\t\t\t\t\t\to.first_name = m.shift();\n\t\t\t\t\t\t\to.last_name = m.join(' ');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\to.thumbnail = getBuddyIcon(o, 'l');\n\t\t\t\t\t\to.picture = getBuddyIcon(o, 'l');\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'me/albums': function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\to = checkResponse(o, 'photosets');\n\t\t\t\t\tpaging(o);\n\t\t\t\t\tif (o.photoset) {\n\t\t\t\t\t\to.data = o.photoset;\n\t\t\t\t\t\to.data.forEach(function(item) {\n\t\t\t\t\t\t\titem.name = item.title._content;\n\t\t\t\t\t\t\titem.photos = 'https://api.flickr.com/services/rest' + getApiUrl('flickr.photosets.getPhotos', {photoset_id: item.id}, true);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tdelete o.photoset;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'me/photos': function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\treturn formatPhotos(o);\n\t\t\t\t},\n\n\t\t\t\t'default': function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\treturn formatPhotos(o);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\txhr: false,\n\n\t\t\tjsonp: function(p, qs) {\n\t\t\t\tif (p.method == 'get') {\n\t\t\t\t\tdelete qs.callback;\n\t\t\t\t\tqs.jsoncallback = p.callbackID;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction getApiUrl(method, extraParams, skipNetwork) {\n\t\tvar url = ((skipNetwork) ? '' : 'flickr:') +\n\t\t\t'?method=' + method +\n\t\t\t'&api_key=' + hello.services.flickr.id +\n\t\t\t'&format=json';\n\t\tfor (var param in extraParams) {\n\t\t\tif (extraParams.hasOwnProperty(param)) {\n\t\t\t\turl += '&' + param + '=' + extraParams[param];\n\t\t\t}\n\t\t}\n\n\t\treturn url;\n\t}\n\n\t// This is not exactly neat but avoid to call\n\t// The method 'flickr.test.login' for each api call\n\n\tfunction withUser(cb) {\n\t\tvar auth = hello.getAuthResponse('flickr');\n\t\tcb(auth && auth.user_nsid ? auth.user_nsid : null);\n\t}\n\n\tfunction sign(url, params) {\n\t\tif (!params) {\n\t\t\tparams = {};\n\t\t}\n\n\t\treturn function(p, callback) {\n\t\t\twithUser(function(userId) {\n\t\t\t\tparams.user_id = userId;\n\t\t\t\tcallback(getApiUrl(url, params, true));\n\t\t\t});\n\t\t};\n\t}\n\n\tfunction getBuddyIcon(profile, size) {\n\t\tvar url = 'https://www.flickr.com/images/buddyicon.gif';\n\t\tif (profile.nsid && profile.iconserver && profile.iconfarm) {\n\t\t\turl = 'https://farm' + profile.iconfarm + '.staticflickr.com/' +\n\t\t\t\tprofile.iconserver + '/' +\n\t\t\t\t'buddyicons/' + profile.nsid +\n\t\t\t\t((size) ? '_' + size : '') + '.jpg';\n\t\t}\n\n\t\treturn url;\n\t}\n\n\t// See: https://www.flickr.com/services/api/misc.urls.html\n\tfunction createPhotoUrl(id, farm, server, secret, size) {\n\t\tsize = (size) ? '_' + size : '';\n\t\treturn 'https://farm' + farm + '.staticflickr.com/' + server + '/' + id + '_' + secret + size + '.jpg';\n\t}\n\n\tfunction formatUser(o) {\n\t}\n\n\tfunction formatError(o) {\n\t\tif (o && o.stat && o.stat.toLowerCase() != 'ok') {\n\t\t\to.error = {\n\t\t\t\tcode: 'invalid_request',\n\t\t\t\tmessage: o.message\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction formatPhotos(o) {\n\t\tif (o.photoset || o.photos) {\n\t\t\tvar set = ('photoset' in o) ? 'photoset' : 'photos';\n\t\t\to = checkResponse(o, set);\n\t\t\tpaging(o);\n\t\t\to.data = o.photo;\n\t\t\tdelete o.photo;\n\t\t\tfor (var i = 0; i < o.data.length; i++) {\n\t\t\t\tvar photo = o.data[i];\n\t\t\t\tphoto.name = photo.title;\n\t\t\t\tphoto.picture = createPhotoUrl(photo.id, photo.farm, photo.server, photo.secret, '');\n\t\t\t\tphoto.pictures = createPictures(photo.id, photo.farm, photo.server, photo.secret);\n\t\t\t\tphoto.source = createPhotoUrl(photo.id, photo.farm, photo.server, photo.secret, 'b');\n\t\t\t\tphoto.thumbnail = createPhotoUrl(photo.id, photo.farm, photo.server, photo.secret, 'm');\n\t\t\t}\n\t\t}\n\n\t\treturn o;\n\t}\n\n\t// See: https://www.flickr.com/services/api/misc.urls.html\n\tfunction createPictures(id, farm, server, secret) {\n\n\t\tvar NO_LIMIT = 2048;\n\t\tvar sizes = [\n\t\t\t{id: 't', max: 100},\n\t\t\t{id: 'm', max: 240},\n\t\t\t{id: 'n', max: 320},\n\t\t\t{id: '', max: 500},\n\t\t\t{id: 'z', max: 640},\n\t\t\t{id: 'c', max: 800},\n\t\t\t{id: 'b', max: 1024},\n\t\t\t{id: 'h', max: 1600},\n\t\t\t{id: 'k', max: 2048},\n\t\t\t{id: 'o', max: NO_LIMIT}\n\t\t];\n\n\t\treturn sizes.map(function(size) {\n\t\t\treturn {\n\t\t\t\tsource: createPhotoUrl(id, farm, server, secret, size.id),\n\n\t\t\t\t// Note: this is a guess that's almost certain to be wrong (unless square source)\n\t\t\t\twidth: size.max,\n\t\t\t\theight: size.max\n\t\t\t};\n\t\t});\n\t}\n\n\tfunction checkResponse(o, key) {\n\n\t\tif (key in o) {\n\t\t\to = o[key];\n\t\t}\n\t\telse if (!('error' in o)) {\n\t\t\to.error = {\n\t\t\t\tcode: 'invalid_request',\n\t\t\t\tmessage: o.message || 'Failed to get data from Flickr'\n\t\t\t};\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o) {\n\t\tformatError(o);\n\t\tif (o.contacts) {\n\t\t\to = checkResponse(o, 'contacts');\n\t\t\tpaging(o);\n\t\t\to.data = o.contact;\n\t\t\tdelete o.contact;\n\t\t\tfor (var i = 0; i < o.data.length; i++) {\n\t\t\t\tvar item = o.data[i];\n\t\t\t\titem.id = item.nsid;\n\t\t\t\titem.name = item.realname || item.username;\n\t\t\t\titem.thumbnail = getBuddyIcon(item, 'm');\n\t\t\t}\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction paging(res) {\n\t\tif (res.page && res.pages && res.page !== res.pages) {\n\t\t\tres.paging = {\n\t\t\t\tnext: '?page=' + (++res.page)\n\t\t\t};\n\t\t}\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\thello.init({\n\n\t\tfoursquare: {\n\n\t\t\tname: 'Foursquare',\n\n\t\t\toauth: {\n\t\t\t\t// See: https://developer.foursquare.com/overview/auth\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://foursquare.com/oauth2/authenticate',\n\t\t\t\tgrant: 'https://foursquare.com/oauth2/access_token'\n\t\t\t},\n\n\t\t\t// Refresh the access_token once expired\n\t\t\trefresh: true,\n\n\t\t\tbase: 'https://api.foursquare.com/v2/',\n\n\t\t\tget: {\n\t\t\t\tme: 'users/self',\n\t\t\t\t'me/friends': 'users/self/friends',\n\t\t\t\t'me/followers': 'users/self/friends',\n\t\t\t\t'me/following': 'users/self/friends'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tif (o && o.response) {\n\t\t\t\t\t\to = o.response.user;\n\t\t\t\t\t\tformatUser(o);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o) {\n\t\t\t\t\tformatError(o);\n\n\t\t\t\t\t// Format friends\n\t\t\t\t\tif (o && 'response' in o && 'friends' in o.response && 'items' in o.response.friends) {\n\t\t\t\t\t\to.data = o.response.friends.items;\n\t\t\t\t\t\to.data.forEach(formatUser);\n\t\t\t\t\t\tdelete o.response;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\txhr: formatRequest,\n\t\t\tjsonp: formatRequest\n\t\t}\n\t});\n\n\tfunction formatError(o) {\n\t\tif (o.meta && (o.meta.code === 400 || o.meta.code === 401)) {\n\t\t\to.error = {\n\t\t\t\tcode: 'access_denied',\n\t\t\t\tmessage: o.meta.errorDetail\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction formatUser(o) {\n\t\tif (o && o.id) {\n\t\t\to.thumbnail = o.photo.prefix + '100x100' + o.photo.suffix;\n\t\t\to.name = o.firstName + ' ' + o.lastName;\n\t\t\to.first_name = o.firstName;\n\t\t\to.last_name = o.lastName;\n\t\t\tif (o.contact) {\n\t\t\t\tif (o.contact.email) {\n\t\t\t\t\to.email = o.contact.email;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction formatRequest(p, qs) {\n\t\tvar token = qs.access_token;\n\t\tdelete qs.access_token;\n\t\tqs.oauth_token = token;\n\t\tqs.v = 20121125;\n\t\treturn true;\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\thello.init({\n\n\t\tgithub: {\n\n\t\t\tname: 'GitHub',\n\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://github.com/login/oauth/authorize',\n\t\t\t\tgrant: 'https://github.com/login/oauth/access_token',\n\t\t\t\tresponse_type: 'code'\n\t\t\t},\n\n\t\t\tscope: {\n\t\t\t\temail: 'user:email'\n\t\t\t},\n\n\t\t\tbase: 'https://api.github.com/',\n\n\t\t\tget: {\n\t\t\t\tme: 'user',\n\t\t\t\t'me/friends': 'user/following?per_page=@{limit|100}',\n\t\t\t\t'me/following': 'user/following?per_page=@{limit|100}',\n\t\t\t\t'me/followers': 'user/followers?per_page=@{limit|100}',\n\t\t\t\t'me/like': 'user/starred?per_page=@{limit|100}'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o, headers) {\n\n\t\t\t\t\tformatError(o, headers);\n\t\t\t\t\tformatUser(o);\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o, headers, req) {\n\n\t\t\t\t\tformatError(o, headers);\n\n\t\t\t\t\tif (Array.isArray(o)) {\n\t\t\t\t\t\to = {data:o};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (o.data) {\n\t\t\t\t\t\tpaging(o, headers, req);\n\t\t\t\t\t\to.data.forEach(formatUser);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\txhr: function(p) {\n\n\t\t\t\tif (p.method !== 'get' && p.data) {\n\n\t\t\t\t\t// Serialize payload as JSON\n\t\t\t\t\tp.headers = p.headers || {};\n\t\t\t\t\tp.headers['Content-Type'] = 'application/json';\n\t\t\t\t\tif (typeof (p.data) === 'object') {\n\t\t\t\t\t\tp.data = JSON.stringify(p.data);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction formatError(o, headers) {\n\t\tvar code = headers ? headers.statusCode : (o && 'meta' in o && 'status' in o.meta && o.meta.status);\n\t\tif ((code === 401 || code === 403)) {\n\t\t\to.error = {\n\t\t\t\tcode: 'access_denied',\n\t\t\t\tmessage: o.message || (o.data ? o.data.message : 'Could not get response')\n\t\t\t};\n\t\t\tdelete o.message;\n\t\t}\n\t}\n\n\tfunction formatUser(o) {\n\t\tif (o.id) {\n\t\t\to.thumbnail = o.picture = o.avatar_url;\n\t\t\to.name = o.login;\n\t\t}\n\t}\n\n\tfunction paging(res, headers, req) {\n\t\tif (res.data && res.data.length && headers && headers.Link) {\n\t\t\tvar next = headers.Link.match(/<(.*?)>;\\s*rel=\\\"next\\\"/);\n\t\t\tif (next) {\n\t\t\t\tres.paging = {\n\t\t\t\t\tnext: next[1]\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\tvar contactsUrl = 'https://www.google.com/m8/feeds/contacts/default/full?v=3.0&alt=json&max-results=@{limit|1000}&start-index=@{start|1}';\n\n\thello.init({\n\n\t\tgoogle: {\n\n\t\t\tname: 'Google Plus',\n\n\t\t\t// See: http://code.google.com/apis/accounts/docs/OAuth2UserAgent.html\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://accounts.google.com/o/oauth2/auth',\n\t\t\t\tgrant: 'https://accounts.google.com/o/oauth2/token'\n\t\t\t},\n\n\t\t\t// Authorization scopes\n\t\t\tscope: {\n\t\t\t\tbasic: 'https://www.googleapis.com/auth/plus.me profile',\n\t\t\t\temail: 'email',\n\t\t\t\tbirthday: '',\n\t\t\t\tevents: '',\n\t\t\t\tphotos: 'https://picasaweb.google.com/data/',\n\t\t\t\tvideos: 'http://gdata.youtube.com',\n\t\t\t\tfriends: 'https://www.google.com/m8/feeds, https://www.googleapis.com/auth/plus.login',\n\t\t\t\tfiles: 'https://www.googleapis.com/auth/drive.readonly',\n\t\t\t\tpublish: '',\n\t\t\t\tpublish_files: 'https://www.googleapis.com/auth/drive',\n\t\t\t\tshare: '',\n\t\t\t\tcreate_event: '',\n\t\t\t\toffline_access: ''\n\t\t\t},\n\n\t\t\tscope_delim: ' ',\n\n\t\t\tlogin: function(p) {\n\t\t\t\tif (p.qs.display === 'none') {\n\t\t\t\t\t// Google doesn't like display=none\n\t\t\t\t\tp.qs.display = '';\n\t\t\t\t}\n\n\t\t\t\tif (p.qs.response_type === 'code') {\n\n\t\t\t\t\t// Let's set this to an offline access to return a refresh_token\n\t\t\t\t\tp.qs.access_type = 'offline';\n\t\t\t\t}\n\n\t\t\t\t// Reauthenticate\n\t\t\t\t// https://developers.google.com/identity/protocols/\n\t\t\t\tif (p.options.force) {\n\t\t\t\t\tp.qs.approval_prompt = 'force';\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// API base URI\n\t\t\tbase: 'https://www.googleapis.com/',\n\n\t\t\t// Map GET requests\n\t\t\tget: {\n\t\t\t\tme: 'plus/v1/people/me',\n\n\t\t\t\t// Deprecated Sept 1, 2014\n\t\t\t\t//'me': 'oauth2/v1/userinfo?alt=json',\n\n\t\t\t\t// See: https://developers.google.com/+/api/latest/people/list\n\t\t\t\t'me/friends': 'plus/v1/people/me/people/visible?maxResults=@{limit|100}',\n\t\t\t\t'me/following': contactsUrl,\n\t\t\t\t'me/followers': contactsUrl,\n\t\t\t\t'me/contacts': contactsUrl,\n\t\t\t\t'me/share': 'plus/v1/people/me/activities/public?maxResults=@{limit|100}',\n\t\t\t\t'me/feed': 'plus/v1/people/me/activities/public?maxResults=@{limit|100}',\n\t\t\t\t'me/albums': 'https://picasaweb.google.com/data/feed/api/user/default?alt=json&max-results=@{limit|100}&start-index=@{start|1}',\n\t\t\t\t'me/album': function(p, callback) {\n\t\t\t\t\tvar key = p.query.id;\n\t\t\t\t\tdelete p.query.id;\n\t\t\t\t\tcallback(key.replace('/entry/', '/feed/'));\n\t\t\t\t},\n\n\t\t\t\t'me/photos': 'https://picasaweb.google.com/data/feed/api/user/default?alt=json&kind=photo&max-results=@{limit|100}&start-index=@{start|1}',\n\n\t\t\t\t// See: https://developers.google.com/drive/v2/reference/files/list\n\t\t\t\t'me/file': 'drive/v2/files/@{id}',\n\t\t\t\t'me/files': 'drive/v2/files?q=%22@{parent|root}%22+in+parents+and+trashed=false&maxResults=@{limit|100}',\n\n\t\t\t\t// See: https://developers.google.com/drive/v2/reference/files/list\n\t\t\t\t'me/folders': 'drive/v2/files?q=%22@{id|root}%22+in+parents+and+mimeType+=+%22application/vnd.google-apps.folder%22+and+trashed=false&maxResults=@{limit|100}',\n\n\t\t\t\t// See: https://developers.google.com/drive/v2/reference/files/list\n\t\t\t\t'me/folder': 'drive/v2/files?q=%22@{id|root}%22+in+parents+and+trashed=false&maxResults=@{limit|100}'\n\t\t\t},\n\n\t\t\t// Map POST requests\n\t\t\tpost: {\n\n\t\t\t\t// Google Drive\n\t\t\t\t'me/files': uploadDrive,\n\t\t\t\t'me/folders': function(p, callback) {\n\t\t\t\t\tp.data = {\n\t\t\t\t\t\ttitle: p.data.name,\n\t\t\t\t\t\tparents: [{id: p.data.parent || 'root'}],\n\t\t\t\t\t\tmimeType: 'application/vnd.google-apps.folder'\n\t\t\t\t\t};\n\t\t\t\t\tcallback('drive/v2/files');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Map PUT requests\n\t\t\tput: {\n\t\t\t\t'me/files': uploadDrive\n\t\t\t},\n\n\t\t\t// Map DELETE requests\n\t\t\tdel: {\n\t\t\t\t'me/files': 'drive/v2/files/@{id}',\n\t\t\t\t'me/folder': 'drive/v2/files/@{id}'\n\t\t\t},\n\n\t\t\t// Map PATCH requests\n\t\t\tpatch: {\n\t\t\t\t'me/file': 'drive/v2/files/@{id}'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\t\t\t\t\tif (o.id) {\n\t\t\t\t\t\to.last_name = o.family_name || (o.name ? o.name.familyName : null);\n\t\t\t\t\t\to.first_name = o.given_name || (o.name ? o.name.givenName : null);\n\n\t\t\t\t\t\tif (o.emails && o.emails.length) {\n\t\t\t\t\t\t\to.email = o.emails[0].value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tformatPerson(o);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'me/friends': function(o) {\n\t\t\t\t\tif (o.items) {\n\t\t\t\t\t\tpaging(o);\n\t\t\t\t\t\to.data = o.items;\n\t\t\t\t\t\to.data.forEach(formatPerson);\n\t\t\t\t\t\tdelete o.items;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'me/contacts': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'me/share': formatFeed,\n\t\t\t\t'me/feed': formatFeed,\n\t\t\t\t'me/albums': gEntry,\n\t\t\t\t'me/photos': formatPhotos,\n\t\t\t\t'default': gEntry\n\t\t\t},\n\n\t\t\txhr: function(p) {\n\n\t\t\t\tif (p.method === 'post' || p.method === 'put') {\n\t\t\t\t\ttoJSON(p);\n\t\t\t\t}\n\t\t\t\telse if (p.method === 'patch') {\n\t\t\t\t\thello.utils.extend(p.query, p.data);\n\t\t\t\t\tp.data = null;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// Don't even try submitting via form.\n\t\t\t// This means no POST operations in <=IE9\n\t\t\tform: false\n\t\t}\n\t});\n\n\tfunction toInt(s) {\n\t\treturn parseInt(s, 10);\n\t}\n\n\tfunction formatFeed(o) {\n\t\tpaging(o);\n\t\to.data = o.items;\n\t\tdelete o.items;\n\t\treturn o;\n\t}\n\n\t// Format: ensure each record contains a name, id etc.\n\tfunction formatItem(o) {\n\t\tif (o.error) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!o.name) {\n\t\t\to.name = o.title || o.message;\n\t\t}\n\n\t\tif (!o.picture) {\n\t\t\to.picture = o.thumbnailLink;\n\t\t}\n\n\t\tif (!o.thumbnail) {\n\t\t\to.thumbnail = o.thumbnailLink;\n\t\t}\n\n\t\tif (o.mimeType === 'application/vnd.google-apps.folder') {\n\t\t\to.type = 'folder';\n\t\t\to.files = 'https://www.googleapis.com/drive/v2/files?q=%22' + o.id + '%22+in+parents';\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatImage(image) {\n\t\treturn {\n\t\t\tsource: image.url,\n\t\t\twidth: image.width,\n\t\t\theight: image.height\n\t\t};\n\t}\n\n\tfunction formatPhotos(o) {\n\t\to.data = o.feed.entry.map(formatEntry);\n\t\tdelete o.feed;\n\t}\n\n\t// Google has a horrible JSON API\n\tfunction gEntry(o) {\n\t\tpaging(o);\n\n\t\tif ('feed' in o && 'entry' in o.feed) {\n\t\t\to.data = o.feed.entry.map(formatEntry);\n\t\t\tdelete o.feed;\n\t\t}\n\n\t\t// Old style: Picasa, etc.\n\t\telse if ('entry' in o) {\n\t\t\treturn formatEntry(o.entry);\n\t\t}\n\n\t\t// New style: Google Drive & Plus\n\t\telse if ('items' in o) {\n\t\t\to.data = o.items.map(formatItem);\n\t\t\tdelete o.items;\n\t\t}\n\t\telse {\n\t\t\tformatItem(o);\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatPerson(o) {\n\t\to.name = o.displayName || o.name;\n\t\to.picture = o.picture || (o.image ? o.image.url : null);\n\t\to.thumbnail = o.picture;\n\t}\n\n\tfunction formatFriends(o, headers, req) {\n\t\tpaging(o);\n\t\tvar r = [];\n\t\tif ('feed' in o && 'entry' in o.feed) {\n\t\t\tvar token = req.query.access_token;\n\t\t\tfor (var i = 0; i < o.feed.entry.length; i++) {\n\t\t\t\tvar a = o.feed.entry[i];\n\n\t\t\t\ta.id\t= a.id.$t;\n\t\t\t\ta.name\t= a.title.$t;\n\t\t\t\tdelete a.title;\n\t\t\t\tif (a.gd$email) {\n\t\t\t\t\ta.email\t= (a.gd$email && a.gd$email.length > 0) ? a.gd$email[0].address : null;\n\t\t\t\t\ta.emails = a.gd$email;\n\t\t\t\t\tdelete a.gd$email;\n\t\t\t\t}\n\n\t\t\t\tif (a.updated) {\n\t\t\t\t\ta.updated = a.updated.$t;\n\t\t\t\t}\n\n\t\t\t\tif (a.link) {\n\n\t\t\t\t\tvar pic = (a.link.length > 0) ? a.link[0].href : null;\n\t\t\t\t\tif (pic && a.link[0].gd$etag) {\n\t\t\t\t\t\tpic += (pic.indexOf('?') > -1 ? '&' : '?') + 'access_token=' + token;\n\t\t\t\t\t\ta.picture = pic;\n\t\t\t\t\t\ta.thumbnail = pic;\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete a.link;\n\t\t\t\t}\n\n\t\t\t\tif (a.category) {\n\t\t\t\t\tdelete a.category;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\to.data = o.feed.entry;\n\t\t\tdelete o.feed;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatEntry(a) {\n\n\t\tvar group = a.media$group;\n\t\tvar photo = group.media$content.length ? group.media$content[0] : {};\n\t\tvar mediaContent = group.media$content || [];\n\t\tvar mediaThumbnail = group.media$thumbnail || [];\n\n\t\tvar pictures = mediaContent\n\t\t\t.concat(mediaThumbnail)\n\t\t\t.map(formatImage)\n\t\t\t.sort(function(a, b) {\n\t\t\t\treturn a.width - b.width;\n\t\t\t});\n\n\t\tvar i = 0;\n\t\tvar _a;\n\t\tvar p = {\n\t\t\tid: a.id.$t,\n\t\t\tname: a.title.$t,\n\t\t\tdescription: a.summary.$t,\n\t\t\tupdated_time: a.updated.$t,\n\t\t\tcreated_time: a.published.$t,\n\t\t\tpicture: photo ? photo.url : null,\n\t\t\tpictures: pictures,\n\t\t\timages: [],\n\t\t\tthumbnail: photo ? photo.url : null,\n\t\t\twidth: photo.width,\n\t\t\theight: photo.height\n\t\t};\n\n\t\t// Get feed/children\n\t\tif ('link' in a) {\n\t\t\tfor (i = 0; i < a.link.length; i++) {\n\t\t\t\tvar d = a.link[i];\n\t\t\t\tif (d.rel.match(/\\#feed$/)) {\n\t\t\t\t\tp.upload_location = p.files = p.photos = d.href;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Get images of different scales\n\t\tif ('category' in a && a.category.length) {\n\t\t\t_a = a.category;\n\t\t\tfor (i = 0; i < _a.length; i++) {\n\t\t\t\tif (_a[i].scheme && _a[i].scheme.match(/\\#kind$/)) {\n\t\t\t\t\tp.type = _a[i].term.replace(/^.*?\\#/, '');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Get images of different scales\n\t\tif ('media$thumbnail' in group && group.media$thumbnail.length) {\n\t\t\t_a = group.media$thumbnail;\n\t\t\tp.thumbnail = _a[0].url;\n\t\t\tp.images = _a.map(formatImage);\n\t\t}\n\n\t\t_a = group.media$content;\n\n\t\tif (_a && _a.length) {\n\t\t\tp.images.push(formatImage(_a[0]));\n\t\t}\n\n\t\treturn p;\n\t}\n\n\tfunction paging(res) {\n\n\t\t// Contacts V2\n\t\tif ('feed' in res && res.feed.openSearch$itemsPerPage) {\n\t\t\tvar limit = toInt(res.feed.openSearch$itemsPerPage.$t);\n\t\t\tvar start = toInt(res.feed.openSearch$startIndex.$t);\n\t\t\tvar total = toInt(res.feed.openSearch$totalResults.$t);\n\n\t\t\tif ((start + limit) < total) {\n\t\t\t\tres.paging = {\n\t\t\t\t\tnext: '?start=' + (start + limit)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\telse if ('nextPageToken' in res) {\n\t\t\tres.paging = {\n\t\t\t\tnext: '?pageToken=' + res.nextPageToken\n\t\t\t};\n\t\t}\n\t}\n\n\t// Construct a multipart message\n\tfunction Multipart() {\n\n\t\t// Internal body\n\t\tvar body = [];\n\t\tvar boundary = (Math.random() * 1e10).toString(32);\n\t\tvar counter = 0;\n\t\tvar lineBreak = '\\r\\n';\n\t\tvar delim = lineBreak + '--' + boundary;\n\t\tvar ready = function() {};\n\n\t\tvar dataUri = /^data\\:([^;,]+(\\;charset=[^;,]+)?)(\\;base64)?,/i;\n\n\t\t// Add file\n\t\tfunction addFile(item) {\n\t\t\tvar fr = new FileReader();\n\t\t\tfr.onload = function(e) {\n\t\t\t\taddContent(btoa(e.target.result), item.type + lineBreak + 'Content-Transfer-Encoding: base64');\n\t\t\t};\n\n\t\t\tfr.readAsBinaryString(item);\n\t\t}\n\n\t\t// Add content\n\t\tfunction addContent(content, type) {\n\t\t\tbody.push(lineBreak + 'Content-Type: ' + type + lineBreak + lineBreak + content);\n\t\t\tcounter--;\n\t\t\tready();\n\t\t}\n\n\t\t// Add new things to the object\n\t\tthis.append = function(content, type) {\n\n\t\t\t// Does the content have an array\n\t\t\tif (typeof (content) === 'string' || !('length' in Object(content))) {\n\t\t\t\t// Converti to multiples\n\t\t\t\tcontent = [content];\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < content.length; i++) {\n\n\t\t\t\tcounter++;\n\n\t\t\t\tvar item = content[i];\n\n\t\t\t\t// Is this a file?\n\t\t\t\t// Files can be either Blobs or File types\n\t\t\t\tif (\n\t\t\t\t\t(typeof (File) !== 'undefined' && item instanceof File) ||\n\t\t\t\t\t(typeof (Blob) !== 'undefined' && item instanceof Blob)\n\t\t\t\t) {\n\t\t\t\t\t// Read the file in\n\t\t\t\t\taddFile(item);\n\t\t\t\t}\n\n\t\t\t\t// Data-URI?\n\t\t\t\t// Data:[<mime type>][;charset=<charset>][;base64],<encoded data>\n\t\t\t\t// /^data\\:([^;,]+(\\;charset=[^;,]+)?)(\\;base64)?,/i\n\t\t\t\telse if (typeof (item) === 'string' && item.match(dataUri)) {\n\t\t\t\t\tvar m = item.match(dataUri);\n\t\t\t\t\taddContent(item.replace(dataUri, ''), m[1] + lineBreak + 'Content-Transfer-Encoding: base64');\n\t\t\t\t}\n\n\t\t\t\t// Regular string\n\t\t\t\telse {\n\t\t\t\t\taddContent(item, type);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.onready = function(fn) {\n\t\t\tready = function() {\n\t\t\t\tif (counter === 0) {\n\t\t\t\t\t// Trigger ready\n\t\t\t\t\tbody.unshift('');\n\t\t\t\t\tbody.push('--');\n\t\t\t\t\tfn(body.join(delim), boundary);\n\t\t\t\t\tbody = [];\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tready();\n\t\t};\n\t}\n\n\t// Upload to Drive\n\t// If this is PUT then only augment the file uploaded\n\t// PUT https://developers.google.com/drive/v2/reference/files/update\n\t// POST https://developers.google.com/drive/manage-uploads\n\tfunction uploadDrive(p, callback) {\n\n\t\tvar data = {};\n\n\t\t// Test for DOM element\n\t\tif (p.data &&\n\t\t\t(typeof (HTMLInputElement) !== 'undefined' && p.data instanceof HTMLInputElement)\n\t\t) {\n\t\t\tp.data = {file: p.data};\n\t\t}\n\n\t\tif (!p.data.name && Object(Object(p.data.file).files).length && p.method === 'post') {\n\t\t\tp.data.name = p.data.file.files[0].name;\n\t\t}\n\n\t\tif (p.method === 'post') {\n\t\t\tp.data = {\n\t\t\t\ttitle: p.data.name,\n\t\t\t\tparents: [{id: p.data.parent || 'root'}],\n\t\t\t\tfile: p.data.file\n\t\t\t};\n\t\t}\n\t\telse {\n\n\t\t\t// Make a reference\n\t\t\tdata = p.data;\n\t\t\tp.data = {};\n\n\t\t\t// Add the parts to change as required\n\t\t\tif (data.parent) {\n\t\t\t\tp.data.parents = [{id: p.data.parent || 'root'}];\n\t\t\t}\n\n\t\t\tif (data.file) {\n\t\t\t\tp.data.file = data.file;\n\t\t\t}\n\n\t\t\tif (data.name) {\n\t\t\t\tp.data.title = data.name;\n\t\t\t}\n\t\t}\n\n\t\t// Extract the file, if it exists from the data object\n\t\t// If the File is an INPUT element lets just concern ourselves with the NodeList\n\t\tvar file;\n\t\tif ('file' in p.data) {\n\t\t\tfile = p.data.file;\n\t\t\tdelete p.data.file;\n\n\t\t\tif (typeof (file) === 'object' && 'files' in file) {\n\t\t\t\t// Assign the NodeList\n\t\t\t\tfile = file.files;\n\t\t\t}\n\n\t\t\tif (!file || !file.length) {\n\t\t\t\tcallback({\n\t\t\t\t\terror: {\n\t\t\t\t\t\tcode: 'request_invalid',\n\t\t\t\t\t\tmessage: 'There were no files attached with this request to upload'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Set type p.data.mimeType = Object(file[0]).type || 'application/octet-stream';\n\n\t\t// Construct a multipart message\n\t\tvar parts = new Multipart();\n\t\tparts.append(JSON.stringify(p.data), 'application/json');\n\n\t\t// Read the file into a  base64 string... yep a hassle, i know\n\t\t// FormData doesn't let us assign our own Multipart headers and HTTP Content-Type\n\t\t// Alas GoogleApi need these in a particular format\n\t\tif (file) {\n\t\t\tparts.append(file);\n\t\t}\n\n\t\tparts.onready(function(body, boundary) {\n\n\t\t\tp.headers['content-type'] = 'multipart/related; boundary=\"' + boundary + '\"';\n\t\t\tp.data = body;\n\n\t\t\tcallback('upload/drive/v2/files' + (data.id ? '/' + data.id : '') + '?uploadType=multipart');\n\t\t});\n\n\t}\n\n\tfunction toJSON(p) {\n\t\tif (typeof (p.data) === 'object') {\n\t\t\t// Convert the POST into a javascript object\n\t\t\ttry {\n\t\t\t\tp.data = JSON.stringify(p.data);\n\t\t\t\tp.headers['content-type'] = 'application/json';\n\t\t\t}\n\t\t\tcatch (e) {}\n\t\t}\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\thello.init({\n\n\t\tinstagram: {\n\n\t\t\tname: 'Instagram',\n\n\t\t\toauth: {\n\t\t\t\t// See: http://instagram.com/developer/authentication/\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://instagram.com/oauth/authorize/',\n\t\t\t\tgrant: 'https://api.instagram.com/oauth/access_token'\n\t\t\t},\n\n\t\t\t// Refresh the access_token once expired\n\t\t\trefresh: true,\n\n\t\t\tscope: {\n\t\t\t\tbasic: 'basic',\n\t\t\t\tphotos: '',\n\t\t\t\tfriends: 'relationships',\n\t\t\t\tpublish: 'likes comments',\n\t\t\t\temail: '',\n\t\t\t\tshare: '',\n\t\t\t\tpublish_files: '',\n\t\t\t\tfiles: '',\n\t\t\t\tvideos: '',\n\t\t\t\toffline_access: ''\n\t\t\t},\n\n\t\t\tscope_delim: ' ',\n\n\t\t\tlogin: function(p) {\n\t\t\t\t// Instagram throws errors like 'JavaScript API is unsupported' if the display is 'popup'.\n\t\t\t\t// Make the display anything but 'popup'\n\t\t\t\tp.qs.display = '';\n\t\t\t},\n\n\t\t\tbase: 'https://api.instagram.com/v1/',\n\n\t\t\tget: {\n\t\t\t\tme: 'users/self',\n\t\t\t\t'me/feed': 'users/self/feed?count=@{limit|100}',\n\t\t\t\t'me/photos': 'users/self/media/recent?min_id=0&count=@{limit|100}',\n\t\t\t\t'me/friends': 'users/self/follows?count=@{limit|100}',\n\t\t\t\t'me/following': 'users/self/follows?count=@{limit|100}',\n\t\t\t\t'me/followers': 'users/self/followed-by?count=@{limit|100}',\n\t\t\t\t'friend/photos': 'users/@{id}/media/recent?min_id=0&count=@{limit|100}'\n\t\t\t},\n\n\t\t\tpost: {\n\t\t\t\t'me/like': function(p, callback) {\n\t\t\t\t\tvar id = p.data.id;\n\t\t\t\t\tp.data = {};\n\t\t\t\t\tcallback('media/' + id + '/likes');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdel: {\n\t\t\t\t'me/like': 'media/@{id}/likes'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\n\t\t\t\t\tformatError(o);\n\n\t\t\t\t\tif ('data' in o) {\n\t\t\t\t\t\to.id = o.data.id;\n\t\t\t\t\t\to.thumbnail = o.data.profile_picture;\n\t\t\t\t\t\to.name = o.data.full_name || o.data.username;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/photos': function(o) {\n\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tpaging(o);\n\n\t\t\t\t\tif ('data' in o) {\n\t\t\t\t\t\to.data = o.data.filter(function(d) {\n\t\t\t\t\t\t\treturn d.type === 'image';\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\to.data.forEach(function(d) {\n\t\t\t\t\t\t\td.name = d.caption ? d.caption.text : null;\n\t\t\t\t\t\t\td.thumbnail = d.images.thumbnail.url;\n\t\t\t\t\t\t\td.picture = d.images.standard_resolution.url;\n\t\t\t\t\t\t\td.pictures = Object.keys(d.images)\n\t\t\t\t\t\t\t\t.map(function(key) {\n\t\t\t\t\t\t\t\t\tvar image = d.images[key];\n\t\t\t\t\t\t\t\t\treturn formatImage(image);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.sort(function(a, b) {\n\t\t\t\t\t\t\t\t\treturn a.width - b.width;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o) {\n\t\t\t\t\to = formatError(o);\n\t\t\t\t\tpaging(o);\n\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Instagram does not return any CORS Headers\n\t\t\t// So besides JSONP we're stuck with proxy\n\t\t\txhr: function(p, qs) {\n\n\t\t\t\tvar method = p.method;\n\t\t\t\tvar proxy = method !== 'get';\n\n\t\t\t\tif (proxy) {\n\n\t\t\t\t\tif ((method === 'post' || method === 'put') && p.query.access_token) {\n\t\t\t\t\t\tp.data.access_token = p.query.access_token;\n\t\t\t\t\t\tdelete p.query.access_token;\n\t\t\t\t\t}\n\n\t\t\t\t\t// No access control headers\n\t\t\t\t\t// Use the proxy instead\n\t\t\t\t\tp.proxy = proxy;\n\t\t\t\t}\n\n\t\t\t\treturn proxy;\n\t\t\t},\n\n\t\t\t// No form\n\t\t\tform: false\n\t\t}\n\t});\n\n\tfunction formatImage(image) {\n\t\treturn {\n\t\t\tsource: image.url,\n\t\t\twidth: image.width,\n\t\t\theight: image.height\n\t\t};\n\t}\n\n\tfunction formatError(o) {\n\t\tif (typeof o === 'string') {\n\t\t\treturn {\n\t\t\t\terror: {\n\t\t\t\t\tcode: 'invalid_request',\n\t\t\t\t\tmessage: o\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tif (o && 'meta' in o && 'error_type' in o.meta) {\n\t\t\to.error = {\n\t\t\t\tcode: o.meta.error_type,\n\t\t\t\tmessage: o.meta.error_message\n\t\t\t};\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o) {\n\t\tpaging(o);\n\t\tif (o && 'data' in o) {\n\t\t\to.data.forEach(formatFriend);\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriend(o) {\n\t\tif (o.id) {\n\t\t\to.thumbnail = o.profile_picture;\n\t\t\to.name = o.full_name || o.username;\n\t\t}\n\t}\n\n\t// See: http://instagram.com/developer/endpoints/\n\tfunction paging(res) {\n\t\tif ('pagination' in res) {\n\t\t\tres.paging = {\n\t\t\t\tnext: res.pagination.next_url\n\t\t\t};\n\t\t\tdelete res.pagination;\n\t\t}\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\thello.init({\n\n\t\tjoinme: {\n\n\t\t\tname: 'join.me',\n\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://secure.join.me/api/public/v1/auth/oauth2',\n\t\t\t\tgrant: 'https://secure.join.me/api/public/v1/auth/oauth2'\n\t\t\t},\n\n\t\t\trefresh: false,\n\n\t\t\tscope: {\n\t\t\t\tbasic: 'user_info',\n\t\t\t\tuser: 'user_info',\n\t\t\t\tscheduler: 'scheduler',\n\t\t\t\tstart: 'start_meeting',\n\t\t\t\temail: '',\n\t\t\t\tfriends: '',\n\t\t\t\tshare: '',\n\t\t\t\tpublish: '',\n\t\t\t\tphotos: '',\n\t\t\t\tpublish_files: '',\n\t\t\t\tfiles: '',\n\t\t\t\tvideos: '',\n\t\t\t\toffline_access: ''\n\t\t\t},\n\n\t\t\tscope_delim: ' ',\n\n\t\t\tlogin: function(p) {\n\t\t\t\tp.options.popup.width = 400;\n\t\t\t\tp.options.popup.height = 700;\n\t\t\t},\n\n\t\t\tbase: 'https://api.join.me/v1/',\n\n\t\t\tget: {\n\t\t\t\tme: 'user',\n\t\t\t\tmeetings: 'meetings',\n\t\t\t\t'meetings/info': 'meetings/@{id}'\n\t\t\t},\n\n\t\t\tpost: {\n\t\t\t\t'meetings/start/adhoc': function(p, callback) {\n\t\t\t\t\tcallback('meetings/start');\n\t\t\t\t},\n\n\t\t\t\t'meetings/start/scheduled': function(p, callback) {\n\t\t\t\t\tvar meetingId = p.data.meetingId;\n\t\t\t\t\tp.data = {};\n\t\t\t\t\tcallback('meetings/' + meetingId + '/start');\n\t\t\t\t},\n\n\t\t\t\t'meetings/schedule': function(p, callback) {\n\t\t\t\t\tcallback('meetings');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tpatch: {\n\t\t\t\t'meetings/update': function(p, callback) {\n\t\t\t\t\tcallback('meetings/' + p.data.meetingId);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdel: {\n\t\t\t\t'meetings/delete': 'meetings/@{id}'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o, headers) {\n\t\t\t\t\tformatError(o, headers);\n\n\t\t\t\t\tif (!o.email) {\n\t\t\t\t\t\treturn o;\n\t\t\t\t\t}\n\n\t\t\t\t\to.name = o.fullName;\n\t\t\t\t\to.first_name = o.name.split(' ')[0];\n\t\t\t\t\to.last_name = o.name.split(' ')[1];\n\t\t\t\t\to.id = o.email;\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o, headers) {\n\t\t\t\t\tformatError(o, headers);\n\n\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\txhr: formatRequest\n\n\t\t}\n\t});\n\n\tfunction formatError(o, headers) {\n\t\tvar errorCode;\n\t\tvar message;\n\t\tvar details;\n\n\t\tif (o && ('Message' in o)) {\n\t\t\tmessage = o.Message;\n\t\t\tdelete o.Message;\n\n\t\t\tif ('ErrorCode' in o) {\n\t\t\t\terrorCode = o.ErrorCode;\n\t\t\t\tdelete o.ErrorCode;\n\t\t\t}\n\t\t\telse {\n\t\t\t\terrorCode = getErrorCode(headers);\n\t\t\t}\n\n\t\t\to.error = {\n\t\t\t\tcode: errorCode,\n\t\t\t\tmessage: message,\n\t\t\t\tdetails: o\n\t\t\t};\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatRequest(p, qs) {\n\t\t// Move the access token from the request body to the request header\n\t\tvar token = qs.access_token;\n\t\tdelete qs.access_token;\n\t\tp.headers.Authorization = 'Bearer ' + token;\n\n\t\t// Format non-get requests to indicate json body\n\t\tif (p.method !== 'get' && p.data) {\n\t\t\tp.headers['Content-Type'] = 'application/json';\n\t\t\tif (typeof (p.data) === 'object') {\n\t\t\t\tp.data = JSON.stringify(p.data);\n\t\t\t}\n\t\t}\n\n\t\tif (p.method === 'put') {\n\t\t\tp.method = 'patch';\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tfunction getErrorCode(headers) {\n\t\tswitch (headers.statusCode) {\n\t\t\tcase 400:\n\t\t\t\treturn 'invalid_request';\n\t\t\tcase 403:\n\t\t\t\treturn 'stale_token';\n\t\t\tcase 401:\n\t\t\t\treturn 'invalid_token';\n\t\t\tcase 500:\n\t\t\t\treturn 'server_error';\n\t\t\tdefault:\n\t\t\t\treturn 'server_error';\n\t\t}\n\t}\n\n}(hello));\n\n(function(hello) {\n\n\thello.init({\n\n\t\tlinkedin: {\n\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tresponse_type: 'code',\n\t\t\t\tauth: 'https://www.linkedin.com/uas/oauth2/authorization',\n\t\t\t\tgrant: 'https://www.linkedin.com/uas/oauth2/accessToken'\n\t\t\t},\n\n\t\t\t// Refresh the access_token once expired\n\t\t\trefresh: true,\n\n\t\t\tscope: {\n\t\t\t\tbasic: 'r_basicprofile',\n\t\t\t\temail: 'r_emailaddress',\n\t\t\t\tfiles: '',\n\t\t\t\tfriends: '',\n\t\t\t\tphotos: '',\n\t\t\t\tpublish: 'w_share',\n\t\t\t\tpublish_files: 'w_share',\n\t\t\t\tshare: '',\n\t\t\t\tvideos: '',\n\t\t\t\toffline_access: ''\n\t\t\t},\n\t\t\tscope_delim: ' ',\n\n\t\t\tbase: 'https://api.linkedin.com/v1/',\n\n\t\t\tget: {\n\t\t\t\tme: 'people/~:(picture-url,first-name,last-name,id,formatted-name,email-address)',\n\n\t\t\t\t// See: http://developer.linkedin.com/documents/get-network-updates-and-statistics-api\n\t\t\t\t'me/share': 'people/~/network/updates?count=@{limit|250}'\n\t\t\t},\n\n\t\t\tpost: {\n\n\t\t\t\t// See: https://developer.linkedin.com/documents/api-requests-json\n\t\t\t\t'me/share': function(p, callback) {\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\tvisibility: {\n\t\t\t\t\t\t\tcode: 'anyone'\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tif (p.data.id) {\n\n\t\t\t\t\t\tdata.attribution = {\n\t\t\t\t\t\t\tshare: {\n\t\t\t\t\t\t\t\tid: p.data.id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tdata.comment = p.data.message;\n\t\t\t\t\t\tif (p.data.picture && p.data.link) {\n\t\t\t\t\t\t\tdata.content = {\n\t\t\t\t\t\t\t\t'submitted-url': p.data.link,\n\t\t\t\t\t\t\t\t'submitted-image-url': p.data.picture\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tp.data = JSON.stringify(data);\n\n\t\t\t\t\tcallback('people/~/shares?format=json');\n\t\t\t\t},\n\n\t\t\t\t'me/like': like\n\t\t\t},\n\n\t\t\tdel:{\n\t\t\t\t'me/like': like\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tformatUser(o);\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/share': function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tpaging(o);\n\t\t\t\t\tif (o.values) {\n\t\t\t\t\t\to.data = o.values.map(formatUser);\n\t\t\t\t\t\to.data.forEach(function(item) {\n\t\t\t\t\t\t\titem.message = item.headline;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tdelete o.values;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o, headers) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tempty(o, headers);\n\t\t\t\t\tpaging(o);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tjsonp: function(p, qs) {\n\t\t\t\tformatQuery(qs);\n\t\t\t\tif (p.method === 'get') {\n\t\t\t\t\tqs.format = 'jsonp';\n\t\t\t\t\tqs['error-callback'] = p.callbackID;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\txhr: function(p, qs) {\n\t\t\t\tif (p.method !== 'get') {\n\t\t\t\t\tformatQuery(qs);\n\t\t\t\t\tp.headers['Content-Type'] = 'application/json';\n\n\t\t\t\t\t// Note: x-li-format ensures error responses are not returned in XML\n\t\t\t\t\tp.headers['x-li-format'] = 'json';\n\t\t\t\t\tp.proxy = true;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction formatError(o) {\n\t\tif (o && 'errorCode' in o) {\n\t\t\to.error = {\n\t\t\t\tcode: o.status,\n\t\t\t\tmessage: o.message\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction formatUser(o) {\n\t\tif (o.error) {\n\t\t\treturn;\n\t\t}\n\n\t\to.first_name = o.firstName;\n\t\to.last_name = o.lastName;\n\t\to.name = o.formattedName || (o.first_name + ' ' + o.last_name);\n\t\to.thumbnail = o.pictureUrl;\n\t\to.email = o.emailAddress;\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o) {\n\t\tformatError(o);\n\t\tpaging(o);\n\t\tif (o.values) {\n\t\t\to.data = o.values.map(formatUser);\n\t\t\tdelete o.values;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction paging(res) {\n\t\tif ('_count' in res && '_start' in res && (res._count + res._start) < res._total) {\n\t\t\tres.paging = {\n\t\t\t\tnext: '?start=' + (res._start + res._count) + '&count=' + res._count\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction empty(o, headers) {\n\t\tif (JSON.stringify(o) === '{}' && headers.statusCode === 200) {\n\t\t\to.success = true;\n\t\t}\n\t}\n\n\tfunction formatQuery(qs) {\n\t\t// LinkedIn signs requests with the parameter 'oauth2_access_token'\n\t\t// ... yeah another one who thinks they should be different!\n\t\tif (qs.access_token) {\n\t\t\tqs.oauth2_access_token = qs.access_token;\n\t\t\tdelete qs.access_token;\n\t\t}\n\t}\n\n\tfunction like(p, callback) {\n\t\tp.headers['x-li-format'] = 'json';\n\t\tvar id = p.data.id;\n\t\tp.data = (p.method !== 'delete').toString();\n\t\tp.method = 'put';\n\t\tcallback('people/~/network/updates/key=' + id + '/is-liked');\n\t}\n\n})(hello);\n\n// See: https://developers.soundcloud.com/docs/api/reference\n(function(hello) {\n\n\thello.init({\n\n\t\tsoundcloud: {\n\t\t\tname: 'SoundCloud',\n\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://soundcloud.com/connect',\n\t\t\t\tgrant: 'https://soundcloud.com/oauth2/token'\n\t\t\t},\n\n\t\t\t// Request path translated\n\t\t\tbase: 'https://api.soundcloud.com/',\n\t\t\tget: {\n\t\t\t\tme: 'me.json',\n\n\t\t\t\t// Http://developers.soundcloud.com/docs/api/reference#me\n\t\t\t\t'me/friends': 'me/followings.json',\n\t\t\t\t'me/followers': 'me/followers.json',\n\t\t\t\t'me/following': 'me/followings.json',\n\n\t\t\t\t// See: http://developers.soundcloud.com/docs/api/reference#activities\n\t\t\t\t'default': function(p, callback) {\n\n\t\t\t\t\t// Include '.json at the end of each request'\n\t\t\t\t\tcallback(p.path + '.json');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Response handlers\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\t\t\t\t\tformatUser(o);\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o) {\n\t\t\t\t\tif (Array.isArray(o)) {\n\t\t\t\t\t\to = {\n\t\t\t\t\t\t\tdata: o.map(formatUser)\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tpaging(o);\n\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\txhr: formatRequest,\n\t\t\tjsonp: formatRequest\n\t\t}\n\t});\n\n\tfunction formatRequest(p, qs) {\n\t\t// Alter the querystring\n\t\tvar token = qs.access_token;\n\t\tdelete qs.access_token;\n\t\tqs.oauth_token = token;\n\t\tqs['_status_code_map[302]'] = 200;\n\t\treturn true;\n\t}\n\n\tfunction formatUser(o) {\n\t\tif (o.id) {\n\t\t\to.picture = o.avatar_url;\n\t\t\to.thumbnail = o.avatar_url;\n\t\t\to.name = o.username || o.full_name;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\t// See: http://developers.soundcloud.com/docs/api/reference#activities\n\tfunction paging(res) {\n\t\tif ('next_href' in res) {\n\t\t\tres.paging = {\n\t\t\t\tnext: res.next_href\n\t\t\t};\n\t\t}\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\tvar base = 'https://api.twitter.com/';\n\n\thello.init({\n\n\t\ttwitter: {\n\n\t\t\t// Ensure that you define an oauth_proxy\n\t\t\toauth: {\n\t\t\t\tversion: '1.0a',\n\t\t\t\tauth: base + 'oauth/authenticate',\n\t\t\t\trequest: base + 'oauth/request_token',\n\t\t\t\ttoken: base + 'oauth/access_token'\n\t\t\t},\n\n\t\t\tlogin: function(p) {\n\t\t\t\t// Reauthenticate\n\t\t\t\t// https://dev.twitter.com/oauth/reference/get/oauth/authenticate\n\t\t\t\tvar prefix = '?force_login=true';\n\t\t\t\tthis.oauth.auth = this.oauth.auth.replace(prefix, '') + (p.options.force ? prefix : '');\n\t\t\t},\n\n\t\t\tbase: base + '1.1/',\n\n\t\t\tget: {\n\t\t\t\tme: 'account/verify_credentials.json',\n\t\t\t\t'me/friends': 'friends/list.json?count=@{limit|200}',\n\t\t\t\t'me/following': 'friends/list.json?count=@{limit|200}',\n\t\t\t\t'me/followers': 'followers/list.json?count=@{limit|200}',\n\n\t\t\t\t// Https://dev.twitter.com/docs/api/1.1/get/statuses/user_timeline\n\t\t\t\t'me/share': 'statuses/user_timeline.json?count=@{limit|200}',\n\n\t\t\t\t// Https://dev.twitter.com/rest/reference/get/favorites/list\n\t\t\t\t'me/like': 'favorites/list.json?count=@{limit|200}'\n\t\t\t},\n\n\t\t\tpost: {\n\t\t\t\t'me/share': function(p, callback) {\n\n\t\t\t\t\tvar data = p.data;\n\t\t\t\t\tp.data = null;\n\n\t\t\t\t\tvar status = [];\n\n\t\t\t\t\t// Change message to status\n\t\t\t\t\tif (data.message) {\n\t\t\t\t\t\tstatus.push(data.message);\n\t\t\t\t\t\tdelete data.message;\n\t\t\t\t\t}\n\n\t\t\t\t\t// If link is given\n\t\t\t\t\tif (data.link) {\n\t\t\t\t\t\tstatus.push(data.link);\n\t\t\t\t\t\tdelete data.link;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (data.picture) {\n\t\t\t\t\t\tstatus.push(data.picture);\n\t\t\t\t\t\tdelete data.picture;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Compound all the components\n\t\t\t\t\tif (status.length) {\n\t\t\t\t\t\tdata.status = status.join(' ');\n\t\t\t\t\t}\n\n\t\t\t\t\t// Tweet media\n\t\t\t\t\tif (data.file) {\n\t\t\t\t\t\tdata['media[]'] = data.file;\n\t\t\t\t\t\tdelete data.file;\n\t\t\t\t\t\tp.data = data;\n\t\t\t\t\t\tcallback('statuses/update_with_media.json');\n\t\t\t\t\t}\n\n\t\t\t\t\t// Retweet?\n\t\t\t\t\telse if ('id' in data) {\n\t\t\t\t\t\tcallback('statuses/retweet/' + data.id + '.json');\n\t\t\t\t\t}\n\n\t\t\t\t\t// Tweet\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Assign the post body to the query parameters\n\t\t\t\t\t\thello.utils.extend(p.query, data);\n\t\t\t\t\t\tcallback('statuses/update.json?include_entities=1');\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// See: https://dev.twitter.com/rest/reference/post/favorites/create\n\t\t\t\t'me/like': function(p, callback) {\n\t\t\t\t\tvar id = p.data.id;\n\t\t\t\t\tp.data = null;\n\t\t\t\t\tcallback('favorites/create.json?id=' + id);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdel: {\n\n\t\t\t\t// See: https://dev.twitter.com/rest/reference/post/favorites/destroy\n\t\t\t\t'me/like': function() {\n\t\t\t\t\tp.method = 'post';\n\t\t\t\t\tvar id = p.data.id;\n\t\t\t\t\tp.data = null;\n\t\t\t\t\tcallback('favorites/destroy.json?id=' + id);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(res) {\n\t\t\t\t\tformatError(res);\n\t\t\t\t\tformatUser(res);\n\t\t\t\t\treturn res;\n\t\t\t\t},\n\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\n\t\t\t\t'me/share': function(res) {\n\t\t\t\t\tformatError(res);\n\t\t\t\t\tpaging(res);\n\t\t\t\t\tif (!res.error && 'length' in res) {\n\t\t\t\t\t\treturn {data: res};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn res;\n\t\t\t\t},\n\n\t\t\t\t'default': function(res) {\n\t\t\t\t\tres = arrayToDataResponse(res);\n\t\t\t\t\tpaging(res);\n\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t},\n\t\t\txhr: function(p) {\n\n\t\t\t\t// Rely on the proxy for non-GET requests.\n\t\t\t\treturn (p.method !== 'get');\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction formatUser(o) {\n\t\tif (o.id) {\n\t\t\tif (o.name) {\n\t\t\t\tvar m = o.name.split(' ');\n\t\t\t\to.first_name = m.shift();\n\t\t\t\to.last_name = m.join(' ');\n\t\t\t}\n\n\t\t\t// See: https://dev.twitter.com/overview/general/user-profile-images-and-banners\n\t\t\to.thumbnail = o.profile_image_url_https || o.profile_image_url;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o) {\n\t\tformatError(o);\n\t\tpaging(o);\n\t\tif (o.users) {\n\t\t\to.data = o.users.map(formatUser);\n\t\t\tdelete o.users;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatError(o) {\n\t\tif (o.errors) {\n\t\t\tvar e = o.errors[0];\n\t\t\to.error = {\n\t\t\t\tcode: 'request_failed',\n\t\t\t\tmessage: e.message\n\t\t\t};\n\t\t}\n\t}\n\n\t// Take a cursor and add it to the path\n\tfunction paging(res) {\n\t\t// Does the response include a 'next_cursor_string'\n\t\tif ('next_cursor_str' in res) {\n\t\t\t// See: https://dev.twitter.com/docs/misc/cursoring\n\t\t\tres.paging = {\n\t\t\t\tnext: '?cursor=' + res.next_cursor_str\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction arrayToDataResponse(res) {\n\t\treturn Array.isArray(res) ? {data: res} : res;\n\t}\n\n\t/**\n\t// The documentation says to define user in the request\n\t// Although its not actually required.\n\n\tvar user_id;\n\n\tfunction withUserId(callback){\n\t\tif(user_id){\n\t\t\tcallback(user_id);\n\t\t}\n\t\telse{\n\t\t\thello.api('twitter:/me', function(o){\n\t\t\t\tuser_id = o.id;\n\t\t\t\tcallback(o.id);\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction sign(url){\n\t\treturn function(p, callback){\n\t\t\twithUserId(function(user_id){\n\t\t\t\tcallback(url+'?user_id='+user_id);\n\t\t\t});\n\t\t};\n\t}\n\t*/\n\n})(hello);\n\n// Vkontakte (vk.com)\n(function(hello) {\n\n\thello.init({\n\n\t\tvk: {\n\t\t\tname: 'Vk',\n\n\t\t\t// See https://vk.com/dev/oauth_dialog\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://oauth.vk.com/authorize',\n\t\t\t\tgrant: 'https://oauth.vk.com/access_token'\n\t\t\t},\n\n\t\t\t// Authorization scopes\n\t\t\t// See https://vk.com/dev/permissions\n\t\t\tscope: {\n\t\t\t\temail: 'email',\n\t\t\t\tfriends: 'friends',\n\t\t\t\tphotos: 'photos',\n\t\t\t\tvideos: 'video',\n\t\t\t\tshare: 'share',\n\t\t\t\toffline_access: 'offline'\n\t\t\t},\n\n\t\t\t// Refresh the access_token\n\t\t\trefresh: true,\n\n\t\t\tlogin: function(p) {\n\t\t\t\tp.qs.display = window.navigator &&\n\t\t\t\t\twindow.navigator.userAgent &&\n\t\t\t\t\t/ipad|phone|phone|android/.test(window.navigator.userAgent.toLowerCase()) ? 'mobile' : 'popup';\n\t\t\t},\n\n\t\t\t// API Base URL\n\t\t\tbase: 'https://api.vk.com/method/',\n\n\t\t\t// Map GET requests\n\t\t\tget: {\n\t\t\t\tme: function(p, callback) {\n\t\t\t\t\tp.query.fields = 'id,first_name,last_name,photo_max';\n\t\t\t\t\tcallback('users.get');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(res, headers, req) {\n\t\t\t\t\tformatError(res);\n\t\t\t\t\treturn formatUser(res, req);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// No XHR\n\t\t\txhr: false,\n\n\t\t\t// All requests should be JSONP as of missing CORS headers in https://api.vk.com/method/*\n\t\t\tjsonp: true,\n\n\t\t\t// No form\n\t\t\tform: false\n\t\t}\n\t});\n\n\tfunction formatUser(o, req) {\n\n\t\tif (o !== null && 'response' in o && o.response !== null && o.response.length) {\n\t\t\to = o.response[0];\n\t\t\to.id = o.uid;\n\t\t\to.thumbnail = o.picture = o.photo_max;\n\t\t\to.name = o.first_name + ' ' + o.last_name;\n\n\t\t\tif (req.authResponse && req.authResponse.email !== null)\n\t\t\t\to.email = req.authResponse.email;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatError(o) {\n\n\t\tif (o.error) {\n\t\t\tvar e = o.error;\n\t\t\to.error = {\n\t\t\t\tcode: e.error_code,\n\t\t\t\tmessage: e.error_msg\n\t\t\t};\n\t\t}\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\thello.init({\n\t\twindows: {\n\t\t\tname: 'Windows live',\n\n\t\t\t// REF: http://msdn.microsoft.com/en-us/library/hh243641.aspx\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://login.live.com/oauth20_authorize.srf',\n\t\t\t\tgrant: 'https://login.live.com/oauth20_token.srf'\n\t\t\t},\n\n\t\t\t// Refresh the access_token once expired\n\t\t\trefresh: true,\n\n\t\t\tlogout: function() {\n\t\t\t\treturn 'http://login.live.com/oauth20_logout.srf?ts=' + (new Date()).getTime();\n\t\t\t},\n\n\t\t\t// Authorization scopes\n\t\t\tscope: {\n\t\t\t\tbasic: 'wl.signin,wl.basic',\n\t\t\t\temail: 'wl.emails',\n\t\t\t\tbirthday: 'wl.birthday',\n\t\t\t\tevents: 'wl.calendars',\n\t\t\t\tphotos: 'wl.photos',\n\t\t\t\tvideos: 'wl.photos',\n\t\t\t\tfriends: 'wl.contacts_emails',\n\t\t\t\tfiles: 'wl.skydrive',\n\t\t\t\tpublish: 'wl.share',\n\t\t\t\tpublish_files: 'wl.skydrive_update',\n\t\t\t\tshare: 'wl.share',\n\t\t\t\tcreate_event: 'wl.calendars_update,wl.events_create',\n\t\t\t\toffline_access: 'wl.offline_access'\n\t\t\t},\n\n\t\t\t// API base URL\n\t\t\tbase: 'https://apis.live.net/v5.0/',\n\n\t\t\t// Map GET requests\n\t\t\tget: {\n\n\t\t\t\t// Friends\n\t\t\t\tme: 'me',\n\t\t\t\t'me/friends': 'me/friends',\n\t\t\t\t'me/following': 'me/contacts',\n\t\t\t\t'me/followers': 'me/friends',\n\t\t\t\t'me/contacts': 'me/contacts',\n\n\t\t\t\t'me/albums': 'me/albums',\n\n\t\t\t\t// Include the data[id] in the path\n\t\t\t\t'me/album': '@{id}/files',\n\t\t\t\t'me/photo': '@{id}',\n\n\t\t\t\t// Files\n\t\t\t\t'me/files': '@{parent|me/skydrive}/files',\n\t\t\t\t'me/folders': '@{id|me/skydrive}/files',\n\t\t\t\t'me/folder': '@{id|me/skydrive}/files'\n\t\t\t},\n\n\t\t\t// Map POST requests\n\t\t\tpost: {\n\t\t\t\t'me/albums': 'me/albums',\n\t\t\t\t'me/album': '@{id}/files/',\n\n\t\t\t\t'me/folders': '@{id|me/skydrive/}',\n\t\t\t\t'me/files': '@{parent|me/skydrive}/files'\n\t\t\t},\n\n\t\t\t// Map DELETE requests\n\t\t\tdel: {\n\t\t\t\t// Include the data[id] in the path\n\t\t\t\t'me/album': '@{id}',\n\t\t\t\t'me/photo': '@{id}',\n\t\t\t\t'me/folder': '@{id}',\n\t\t\t\t'me/files': '@{id}'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: formatUser,\n\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/contacts': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'me/albums': formatAlbums,\n\t\t\t\t'me/photos': formatDefault,\n\t\t\t\t'default': formatDefault\n\t\t\t},\n\n\t\t\txhr: function(p) {\n\t\t\t\tif (p.method !== 'get' && p.method !== 'delete' && !hello.utils.hasBinary(p.data)) {\n\n\t\t\t\t\t// Does this have a data-uri to upload as a file?\n\t\t\t\t\tif (typeof (p.data.file) === 'string') {\n\t\t\t\t\t\tp.data.file = hello.utils.toBlob(p.data.file);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tp.data = JSON.stringify(p.data);\n\t\t\t\t\t\tp.headers = {\n\t\t\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tjsonp: function(p) {\n\t\t\t\tif (p.method !== 'get' && !hello.utils.hasBinary(p.data)) {\n\t\t\t\t\tp.data.method = p.method;\n\t\t\t\t\tp.method = 'get';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction formatDefault(o) {\n\t\tif ('data' in o) {\n\t\t\to.data.forEach(function(d) {\n\t\t\t\tif (d.picture) {\n\t\t\t\t\td.thumbnail = d.picture;\n\t\t\t\t}\n\n\t\t\t\tif (d.images) {\n\t\t\t\t\td.pictures = d.images\n\t\t\t\t\t\t.map(formatImage)\n\t\t\t\t\t\t.sort(function(a, b) {\n\t\t\t\t\t\t\treturn a.width - b.width;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatImage(image) {\n\t\treturn {\n\t\t\twidth: image.width,\n\t\t\theight: image.height,\n\t\t\tsource: image.source\n\t\t};\n\t}\n\n\tfunction formatAlbums(o) {\n\t\tif ('data' in o) {\n\t\t\to.data.forEach(function(d) {\n\t\t\t\td.photos = d.files = 'https://apis.live.net/v5.0/' + d.id + '/photos';\n\t\t\t});\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatUser(o, headers, req) {\n\t\tif (o.id) {\n\t\t\tvar token = req.query.access_token;\n\t\t\tif (o.emails) {\n\t\t\t\to.email = o.emails.preferred;\n\t\t\t}\n\n\t\t\t// If this is not an non-network friend\n\t\t\tif (o.is_friend !== false) {\n\t\t\t\t// Use the id of the user_id if available\n\t\t\t\tvar id = (o.user_id || o.id);\n\t\t\t\to.thumbnail = o.picture = 'https://apis.live.net/v5.0/' + id + '/picture?access_token=' + token;\n\t\t\t}\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o, headers, req) {\n\t\tif ('data' in o) {\n\t\t\to.data.forEach(function(d) {\n\t\t\t\tformatUser(d, headers, req);\n\t\t\t});\n\t\t}\n\n\t\treturn o;\n\t}\n\n})(hello);\n\n(function(hello) {\n\n\thello.init({\n\n\t\tyahoo: {\n\n\t\t\t// Ensure that you define an oauth_proxy\n\t\t\toauth: {\n\t\t\t\tversion: '1.0a',\n\t\t\t\tauth: 'https://api.login.yahoo.com/oauth/v2/request_auth',\n\t\t\t\trequest: 'https://api.login.yahoo.com/oauth/v2/get_request_token',\n\t\t\t\ttoken: 'https://api.login.yahoo.com/oauth/v2/get_token'\n\t\t\t},\n\n\t\t\t// Login handler\n\t\t\tlogin: function(p) {\n\t\t\t\t// Change the default popup window to be at least 560\n\t\t\t\t// Yahoo does dynamically change it on the fly for the signin screen (only, what if your already signed in)\n\t\t\t\tp.options.popup.width = 560;\n\n\t\t\t\t// Yahoo throws an parameter error if for whatever reason the state.scope contains a comma, so lets remove scope\n\t\t\t\ttry {delete p.qs.state.scope;}\n\t\t\t\tcatch (e) {}\n\t\t\t},\n\n\t\t\tbase: 'https://social.yahooapis.com/v1/',\n\n\t\t\tget: {\n\t\t\t\tme: yql('select * from social.profile(0) where guid=me'),\n\t\t\t\t'me/friends': yql('select * from social.contacts(0) where guid=me'),\n\t\t\t\t'me/following': yql('select * from social.contacts(0) where guid=me')\n\t\t\t},\n\t\t\twrap: {\n\t\t\t\tme: formatUser,\n\n\t\t\t\t// Can't get IDs\n\t\t\t\t// It might be better to loop through the social.relationship table with has unique IDs of users.\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'default': paging\n\t\t\t}\n\t\t}\n\t});\n\n\t/*\n\t\t// Auto-refresh fix: bug in Yahoo can't get this to work with node-oauth-shim\n\t\tlogin : function(o){\n\t\t\t// Is the user already logged in\n\t\t\tvar auth = hello('yahoo').getAuthResponse();\n\n\t\t\t// Is this a refresh token?\n\t\t\tif(o.options.display==='none'&&auth&&auth.access_token&&auth.refresh_token){\n\t\t\t\t// Add the old token and the refresh token, including path to the query\n\t\t\t\t// See http://developer.yahoo.com/oauth/guide/oauth-refreshaccesstoken.html\n\t\t\t\to.qs.access_token = auth.access_token;\n\t\t\t\to.qs.refresh_token = auth.refresh_token;\n\t\t\t\to.qs.token_url = 'https://api.login.yahoo.com/oauth/v2/get_token';\n\t\t\t}\n\t\t},\n\t*/\n\n\tfunction formatError(o) {\n\t\tif (o && 'meta' in o && 'error_type' in o.meta) {\n\t\t\to.error = {\n\t\t\t\tcode: o.meta.error_type,\n\t\t\t\tmessage: o.meta.error_message\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction formatUser(o) {\n\n\t\tformatError(o);\n\t\tif (o.query && o.query.results && o.query.results.profile) {\n\t\t\to = o.query.results.profile;\n\t\t\to.id = o.guid;\n\t\t\to.last_name = o.familyName;\n\t\t\to.first_name = o.givenName || o.nickname;\n\t\t\tvar a = [];\n\t\t\tif (o.first_name) {\n\t\t\t\ta.push(o.first_name);\n\t\t\t}\n\n\t\t\tif (o.last_name) {\n\t\t\t\ta.push(o.last_name);\n\t\t\t}\n\n\t\t\to.name = a.join(' ');\n\t\t\to.email = (o.emails && o.emails[0]) ? o.emails[0].handle : null;\n\t\t\to.thumbnail = o.image ? o.image.imageUrl : null;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o, headers, request) {\n\t\tformatError(o);\n\t\tpaging(o, headers, request);\n\t\tvar contact;\n\t\tvar field;\n\t\tif (o.query && o.query.results && o.query.results.contact) {\n\t\t\to.data = o.query.results.contact;\n\t\t\tdelete o.query;\n\n\t\t\tif (!Array.isArray(o.data)) {\n\t\t\t\to.data = [o.data];\n\t\t\t}\n\n\t\t\to.data.forEach(formatFriend);\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriend(contact) {\n\t\tcontact.id = null;\n\n\t\t// #362: Reports of responses returning a single item, rather than an Array of items.\n\t\t// Format the contact.fields to be an array.\n\t\tif (contact.fields && !(contact.fields instanceof Array)) {\n\t\t\tcontact.fields = [contact.fields];\n\t\t}\n\n\t\t(contact.fields || []).forEach(function(field) {\n\t\t\tif (field.type === 'email') {\n\t\t\t\tcontact.email = field.value;\n\t\t\t}\n\n\t\t\tif (field.type === 'name') {\n\t\t\t\tcontact.first_name = field.value.givenName;\n\t\t\t\tcontact.last_name = field.value.familyName;\n\t\t\t\tcontact.name = field.value.givenName + ' ' + field.value.familyName;\n\t\t\t}\n\n\t\t\tif (field.type === 'yahooid') {\n\t\t\t\tcontact.id = field.value;\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction paging(res, headers, request) {\n\n\t\t// See: http://developer.yahoo.com/yql/guide/paging.html#local_limits\n\t\tif (res.query && res.query.count && request.options) {\n\t\t\tres.paging = {\n\t\t\t\tnext: '?start=' + (res.query.count + (+request.options.start || 1))\n\t\t\t};\n\t\t}\n\n\t\treturn res;\n\t}\n\n\tfunction yql(q) {\n\t\treturn 'https://query.yahooapis.com/v1/yql?q=' + (q + ' limit @{limit|100} offset @{start|0}').replace(/\\s/g, '%20') + '&format=json';\n\t}\n\n})(hello);\n\n// Register as anonymous AMD module\nif (typeof define === 'function' && define.amd) {\n\tdefine(function() {\n\t\treturn hello;\n\t});\n}\n\n// CommonJS module for browserify\nif (typeof module === 'object' && module.exports) {\n\tmodule.exports = hello;\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var idbModules = {  // jshint ignore:line\n    util: {\n        cleanInterface: false\n    }\n};\n\n(function () {\n    'use strict';\n\n    var testObject = {test: true};\n    //Test whether Object.defineProperty really works.\n    if (Object.defineProperty) {\n        try {\n            Object.defineProperty(testObject, 'test', { enumerable: false });\n            if (testObject.test) {\n                idbModules.util.cleanInterface = true;      // jshint ignore:line\n            }\n        } catch (e) {\n        //Object.defineProperty does not work as intended.\n        }\n    }\n})();\n\n(function(idbModules) {\n    'use strict';\n\n    /**\n     * A utility method to callback onsuccess, onerror, etc as soon as the calling function's context is over\n     * @param {Object} fn\n     * @param {Object} context\n     * @param {Object} argArray\n     */\n    function callback(fn, context, event) {\n        //window.setTimeout(function(){\n        event.target = context;\n        (typeof context[fn] === \"function\") && context[fn].apply(context, [event]);\n        //}, 1);\n    }\n\n    /**\n     * Shim the DOMStringList object.\n     *\n     */\n    var StringList = function() {\n        this.length = 0;\n        this._items = [];\n        //Internal functions on the prototype have been made non-enumerable below.\n        if (idbModules.util.cleanInterface) {\n            Object.defineProperty(this, '_items', {\n                enumerable: false\n            });\n        }\n    };\n    StringList.prototype = {\n        // Interface.\n        contains: function(str) {\n            return -1 !== this._items.indexOf(str);\n        },\n        item: function(key) {\n            return this._items[key];\n        },\n\n        // Helpers. Should only be used internally.\n        indexOf: function(str) {\n            return this._items.indexOf(str);\n        },\n        push: function(item) {\n            this._items.push(item);\n            this.length += 1;\n            for (var i = 0; i < this._items.length; i++) {\n                this[i] = this._items[i];\n            }\n        },\n        splice: function(/*index, howmany, item1, ..., itemX*/) {\n            this._items.splice.apply(this._items, arguments);\n            this.length = this._items.length;\n            for (var i in this) {\n                if (i === String(parseInt(i, 10))) {\n                    delete this[i];\n                }\n            }\n            for (i = 0; i < this._items.length; i++) {\n                this[i] = this._items[i];\n            }\n        }\n    };\n    if (idbModules.util.cleanInterface) {\n        for (var i in {\n            'indexOf': false,\n            'push': false,\n            'splice': false\n        }) {\n            Object.defineProperty(StringList.prototype, i, {\n                enumerable: false\n            });\n        }\n    }\n\n    idbModules.util.callback = callback;\n    idbModules.util.StringList = StringList;\n    idbModules.util.quote = function(arg) {\n        return \"\\\"\" + arg + \"\\\"\";\n    };\n\n}(idbModules));\n\n(function (idbModules) {\n    'use strict';\n\n    /**\n     * Polyfills missing features in the browser's native IndexedDB implementation.\n     * This is used for browsers that DON'T support WebSQL but DO support IndexedDB\n     */\n    function polyfill() {\n        if (navigator.userAgent.match(/MSIE/) ||\n            navigator.userAgent.match(/Trident/) ||\n            navigator.userAgent.match(/Edge/)) {\n            // Internet Explorer's native IndexedDB does not support compound keys\n            compoundKeyPolyfill();\n        }\n    }\n\n    /**\n     * Polyfills support for compound keys\n     */\n    function compoundKeyPolyfill() {\n        var cmp = IDBFactory.prototype.cmp;\n        var createObjectStore = IDBDatabase.prototype.createObjectStore;\n        var createIndex = IDBObjectStore.prototype.createIndex;\n        var add = IDBObjectStore.prototype.add;\n        var put = IDBObjectStore.prototype.put;\n        var indexGet = IDBIndex.prototype.get;\n        var indexGetKey = IDBIndex.prototype.getKey;\n        var indexCursor = IDBIndex.prototype.openCursor;\n        var indexKeyCursor = IDBIndex.prototype.openKeyCursor;\n        var storeGet = IDBObjectStore.prototype.get;\n        var storeDelete = IDBObjectStore.prototype.delete;\n        var storeCursor = IDBObjectStore.prototype.openCursor;\n        var storeKeyCursor = IDBObjectStore.prototype.openKeyCursor;\n        var bound = IDBKeyRange.bound;\n        var upperBound = IDBKeyRange.upperBound;\n        var lowerBound = IDBKeyRange.lowerBound;\n        var only = IDBKeyRange.only;\n        var requestResult = Object.getOwnPropertyDescriptor(IDBRequest.prototype, 'result');\n        var cursorPrimaryKey = Object.getOwnPropertyDescriptor(IDBCursor.prototype, 'primaryKey');\n        var cursorKey = Object.getOwnPropertyDescriptor(IDBCursor.prototype, 'key');\n        var cursorValue = Object.getOwnPropertyDescriptor(IDBCursorWithValue.prototype, 'value');\n\n        IDBFactory.prototype.cmp = function(key1, key2) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key1 instanceof Array) {\n                args[0] = encodeCompoundKey(key1);\n            }\n            if (key2 instanceof Array) {\n                args[1] = encodeCompoundKey(key2);\n            }\n            return cmp.apply(this, args);\n        };\n\n        IDBDatabase.prototype.createObjectStore = function(name, opts) {\n            if (opts && opts.keyPath instanceof Array) {\n                opts.keyPath = encodeCompoundKeyPath(opts.keyPath);\n            }\n            return createObjectStore.apply(this, arguments);\n        };\n\n        IDBObjectStore.prototype.createIndex = function(name, keyPath, opts) {\n            var args = Array.prototype.slice.call(arguments);\n            if (keyPath instanceof Array) {\n                args[1] = encodeCompoundKeyPath(keyPath);\n            }\n            return createIndex.apply(this, args);\n        };\n\n        IDBObjectStore.prototype.add = function(value, key) {\n            return this.__insertData(add, arguments);\n        };\n\n        IDBObjectStore.prototype.put = function(value, key) {\n            return this.__insertData(put, arguments);\n        };\n\n        IDBObjectStore.prototype.__insertData = function(method, args) {\n            args = Array.prototype.slice.call(args);\n            var value = args[0];\n            var key = args[1];\n\n            // out-of-line key\n            if (key instanceof Array) {\n                args[1] = encodeCompoundKey(key);\n            }\n\n            if (typeof value === 'object') {\n                // inline key\n                if (isCompoundKey(this.keyPath)) {\n                    setInlineCompoundKey(value, this.keyPath);\n                }\n\n                // inline indexes\n                for (var i = 0; i < this.indexNames.length; i++) {\n                    var index = this.index(this.indexNames[i]);\n                    if (isCompoundKey(index.keyPath)) {\n                        try {\n                            setInlineCompoundKey(value, index.keyPath);\n                        }\n                        catch (e) {\n                            // The value doesn't have a valid key for this index.\n                        }\n                    }\n                }\n            }\n            return method.apply(this, args);\n        };\n\n        IDBIndex.prototype.get = function(key) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return indexGet.apply(this, args);\n        };\n\n        IDBIndex.prototype.getKey = function(key) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return indexGetKey.apply(this, args);\n        };\n\n        IDBIndex.prototype.openCursor = function(key) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return indexCursor.apply(this, args);\n        };\n\n        IDBIndex.prototype.openKeyCursor = function(key) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return indexKeyCursor.apply(this, args);\n        };\n\n        IDBObjectStore.prototype.get = function(key) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return storeGet.apply(this, args);\n        };\n\n        IDBObjectStore.prototype.delete = function(key) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return storeDelete.apply(this, args);\n        };\n\n        IDBObjectStore.prototype.openCursor = function(key) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return storeCursor.apply(this, args);\n        };\n\n        IDBObjectStore.prototype.openKeyCursor = function(key) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return storeKeyCursor.apply(this, args);\n        };\n\n        IDBKeyRange.bound = function(lower, upper, lowerOpen, upperOpen) {\n            var args = Array.prototype.slice.call(arguments);\n            if (lower instanceof Array) {\n                args[0] = encodeCompoundKey(lower);\n            }\n            if (upper instanceof Array) {\n                args[1] = encodeCompoundKey(upper);\n            }\n            return bound.apply(IDBKeyRange, args);\n        };\n\n        IDBKeyRange.upperBound = function(key, open) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return upperBound.apply(IDBKeyRange, args);\n        };\n\n        IDBKeyRange.lowerBound = function(key, open) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return lowerBound.apply(IDBKeyRange, args);\n        };\n\n        IDBKeyRange.only = function(key) {\n            var args = Array.prototype.slice.call(arguments);\n            if (key instanceof Array) {\n                args[0] = encodeCompoundKey(key);\n            }\n            return only.apply(IDBKeyRange, args);\n        };\n\n        Object.defineProperty(IDBRequest.prototype, 'result', {\n            enumerable: requestResult.enumerable,\n            configurable: requestResult.configurable,\n            get: function() {\n                var result = requestResult.get.call(this);\n                return removeInlineCompoundKey(result);\n            }\n        });\n\n        Object.defineProperty(IDBCursor.prototype, 'primaryKey', {\n            enumerable: cursorPrimaryKey.enumerable,\n            configurable: cursorPrimaryKey.configurable,\n            get: function() {\n                var result = cursorPrimaryKey.get.call(this);\n                return removeInlineCompoundKey(result);\n            }\n        });\n\n        Object.defineProperty(IDBCursor.prototype, 'key', {\n            enumerable: cursorKey.enumerable,\n            configurable: cursorKey.configurable,\n            get: function() {\n                var result = cursorKey.get.call(this);\n                return removeInlineCompoundKey(result);\n            }\n        });\n\n        Object.defineProperty(IDBCursorWithValue.prototype, 'value', {\n            enumerable: cursorValue.enumerable,\n            configurable: cursorValue.configurable,\n            get: function() {\n                var result = cursorValue.get.call(this);\n                return removeInlineCompoundKey(result);\n            }\n        });\n\n        try {\n            if (!IDBTransaction.VERSION_CHANGE) {\n                IDBTransaction.VERSION_CHANGE = 'versionchange';\n            }\n        }\n        catch (e) {}\n    }\n\n    var compoundKeysPropertyName = '__$$compoundKey';\n    var propertySeparatorRegExp = /\\$\\$/g;\n    var propertySeparator = '$$$$';         // \"$$\" after RegExp escaping\n    var keySeparator = '$_$';\n\n    function isCompoundKey(keyPath) {\n        return keyPath && (keyPath.indexOf(compoundKeysPropertyName + '.') === 0);\n    }\n\n    function encodeCompoundKeyPath(keyPath) {\n        // Encoded dotted properties\n        // [\"name.first\", \"name.last\"] ==> [\"name$$first\", \"name$$last\"]\n        for (var i = 0; i < keyPath.length; i++) {\n            keyPath[i] = keyPath[i].replace(/\\./g, propertySeparator);\n        }\n\n        // Encode the array as a single property\n        // [\"name$$first\", \"name$$last\"] => \"__$$compoundKey.name$$first$_$name$$last\"\n        return compoundKeysPropertyName + '.' + keyPath.join(keySeparator);\n    }\n\n    function decodeCompoundKeyPath(keyPath) {\n        // Remove the \"__$$compoundKey.\" prefix\n        keyPath = keyPath.substr(compoundKeysPropertyName.length + 1);\n\n        // Split the properties into an array\n        // \"name$$first$_$name$$last\" ==> [\"name$$first\", \"name$$last\"]\n        keyPath = keyPath.split(keySeparator);\n\n        // Decode dotted properties\n        // [\"name$$first\", \"name$$last\"] ==> [\"name.first\", \"name.last\"]\n        for (var i = 0; i < keyPath.length; i++) {\n            keyPath[i] = keyPath[i].replace(propertySeparatorRegExp, '.');\n        }\n        return keyPath;\n    }\n\n    function setInlineCompoundKey(value, encodedKeyPath) {\n        // Encode the key\n        var keyPath = decodeCompoundKeyPath(encodedKeyPath);\n        var key = idbModules.Key.getValue(value, keyPath);\n        var encodedKey = encodeCompoundKey(key);\n\n        // Store the encoded key inline\n        encodedKeyPath = encodedKeyPath.substr(compoundKeysPropertyName.length + 1);\n        value[compoundKeysPropertyName] = value[compoundKeysPropertyName] || {};\n        value[compoundKeysPropertyName][encodedKeyPath] = encodedKey;\n    }\n\n    function removeInlineCompoundKey(value) {\n        if (typeof value === \"string\" && isCompoundKey(value)) {\n            return decodeCompoundKey(value);\n        }\n        else if (value && typeof value[compoundKeysPropertyName] === \"object\") {\n            delete value[compoundKeysPropertyName];\n        }\n        return value;\n    }\n\n    function encodeCompoundKey(key) {\n        // Validate and encode the key\n        idbModules.Key.validate(key);\n        key = idbModules.Key.encode(key);\n\n        // Prepend the \"__$$compoundKey.\" prefix\n        key = compoundKeysPropertyName + '.' + key;\n\n        validateKeyLength(key);\n        return key;\n    }\n\n    function decodeCompoundKey(key) {\n        validateKeyLength(key);\n\n        // Remove the \"__$$compoundKey.\" prefix\n        key = key.substr(compoundKeysPropertyName.length + 1);\n\n        // Decode the key\n        key = idbModules.Key.decode(key);\n        return key;\n    }\n\n    function validateKeyLength(key) {\n        // BUG: Internet Explorer truncates string keys at 889 characters\n        if (key.length > 889) {\n            throw idbModules.util.createDOMException(\"DataError\", \"The encoded key is \" + key.length + \" characters long, but IE only allows 889 characters. Consider replacing numeric keys with strings to reduce the encoded length.\");\n        }\n    }\n\n    idbModules.polyfill = polyfill;\n})(idbModules);\n\n(function(idbModules){\n    'use strict';\n\n    /**\n     * Implementation of the Structured Cloning Algorithm.  Supports the\n     * following object types:\n     * - Blob\n     * - Boolean\n     * - Date object\n     * - File object (deserialized as Blob object).\n     * - Number object\n     * - RegExp object\n     * - String object\n     * This is accomplished by doing the following:\n     * 1) Using the cycle/decycle functions from:\n     *    https://github.com/douglascrockford/JSON-js/blob/master/cycle.js\n     * 2) Serializing/deserializing objects to/from string that don't work with\n     *    JSON.stringify and JSON.parse by using object specific logic (eg use \n     *    the FileReader API to convert a Blob or File object to a data URL.   \n     * 3) JSON.stringify and JSON.parse do the final conversion to/from string.\n     */\n    var Sca = (function(){\n        return {\n            decycle: function(object, callback) {\n                //From: https://github.com/douglascrockford/JSON-js/blob/master/cycle.js\n                // Contains additional logic to convert the following object types to string\n                // so that they can properly be encoded using JSON.stringify:\n                //  *Boolean\n                //  *Date\n                //  *File\n                //  *Blob\n                //  *Number\n                //  *Regex\n                // Make a deep copy of an object or array, assuring that there is at most\n                // one instance of each object or array in the resulting structure. The\n                // duplicate references (which might be forming cycles) are replaced with\n                // an object of the form\n                //      {$ref: PATH}\n                // where the PATH is a JSONPath string that locates the first occurance.\n                // So,\n                //      var a = [];\n                //      a[0] = a;\n                //      return JSON.stringify(JSON.decycle(a));\n                // produces the string '[{\"$ref\":\"$\"}]'.\n\n                // JSONPath is used to locate the unique object. $ indicates the top level of\n                // the object or array. [NUMBER] or [STRING] indicates a child member or\n                // property.\n\n                var objects = [],   // Keep a reference to each unique object or array\n                paths = [],     // Keep the path to each unique object or array\n                queuedObjects = [],\n                returnCallback = callback;\n\n                /**\n                 * Check the queue to see if all objects have been processed.\n                 * if they have, call the callback with the converted object.\n                 */\n                function checkForCompletion() {\n                    if (queuedObjects.length === 0) {\n                        returnCallback(derezObj);\n                    }    \n                }\n\n                /**\n                 * Convert a blob to a data URL.\n                 * @param {Blob} blob to convert.\n                 * @param {String} path of blob in object being encoded.\n                 */\n                function readBlobAsDataURL(blob, path) {\n                    var reader = new FileReader();\n                    reader.onloadend = function(loadedEvent) {\n                        var dataURL = loadedEvent.target.result;\n                        var blobtype = 'Blob';\n                        if (blob instanceof File) {\n                            //blobtype = 'File';\n                        }\n                        updateEncodedBlob(dataURL, path, blobtype);\n                    };\n                    reader.readAsDataURL(blob);\n                }\n                \n                /**\n                 * Async handler to update a blob object to a data URL for encoding.\n                 * @param {String} dataURL\n                 * @param {String} path\n                 * @param {String} blobtype - file if the blob is a file; blob otherwise\n                 */\n                function updateEncodedBlob(dataURL, path, blobtype) {\n                    var encoded = queuedObjects.indexOf(path);\n                    path = path.replace('$','derezObj');\n                    eval(path+'.$enc=\"'+dataURL+'\"');\n                    eval(path+'.$type=\"'+blobtype+'\"');\n                    queuedObjects.splice(encoded, 1);\n                    checkForCompletion();\n                }\n\n                function derez(value, path) {\n\n                    // The derez recurses through the object, producing the deep copy.\n\n                    var i,          // The loop counter\n                    name,       // Property name\n                    nu;         // The new object or array\n\n                    // typeof null === 'object', so go on if this value is really an object but not\n                    // one of the weird builtin objects.\n\n                    if (typeof value === 'object' && value !== null &&\n                        !(value instanceof Boolean) &&\n                        !(value instanceof Date)    &&\n                        !(value instanceof Number)  &&\n                        !(value instanceof RegExp)  &&\n                        !(value instanceof Blob)  &&\n                        !(value instanceof String)) {\n\n                        // If the value is an object or array, look to see if we have already\n                        // encountered it. If so, return a $ref/path object. This is a hard way,\n                        // linear search that will get slower as the number of unique objects grows.\n\n                        for (i = 0; i < objects.length; i += 1) {\n                            if (objects[i] === value) {\n                                return {$ref: paths[i]};\n                            }\n                        }\n\n                        // Otherwise, accumulate the unique value and its path.\n\n                        objects.push(value);\n                        paths.push(path);\n\n                        // If it is an array, replicate the array.\n\n                        if (Object.prototype.toString.apply(value) === '[object Array]') {\n                            nu = [];\n                            for (i = 0; i < value.length; i += 1) {\n                                nu[i] = derez(value[i], path + '[' + i + ']');\n                            }\n                        } else {\n                            // If it is an object, replicate the object.\n                            nu = {};\n                            for (name in value) {\n                                if (Object.prototype.hasOwnProperty.call(value, name)) {\n                                    nu[name] = derez(value[name],\n                                     path + '[' + JSON.stringify(name) + ']');\n                                }\n                            }\n                        }\n\n                        return nu;\n                    } else if (value instanceof Blob) {\n                        //Queue blob for conversion\n                        queuedObjects.push(path);\n                        readBlobAsDataURL(value, path);\n                    } else if (value instanceof Boolean) {\n                        value = {\n                            '$type': 'Boolean',\n                            '$enc': value.toString()\n                        };\n                    } else if (value instanceof Date) {\n                        value = {\n                            '$type': 'Date',\n                            '$enc': value.getTime()\n                        };\n                    } else if (value instanceof Number) {\n                        value = {\n                            '$type': 'Number',\n                            '$enc': value.toString()\n                        };\n                    } else if (value instanceof RegExp) {\n                        value = {\n                            '$type': 'RegExp',\n                            '$enc': value.toString()\n                        };\n                    } else if (typeof value === 'number') {\n                        value = {\n                            '$type': 'number',\n                            '$enc': value + ''  // handles NaN, Infinity, Negative Infinity\n                        };\n                    } else if (value === undefined) {\n                        value = {\n                            '$type': 'undefined'\n                        };\n                    }\n                    return value;\n                }\n                var derezObj = derez(object, '$');\n                checkForCompletion();\n            },\n                \n            retrocycle: function retrocycle($) {\n                //From: https://github.com/douglascrockford/JSON-js/blob/master/cycle.js\n                // Contains additional logic to convert strings to the following object types \n                // so that they can properly be decoded:\n                //  *Boolean\n                //  *Date\n                //  *File\n                //  *Blob\n                //  *Number\n                //  *Regex\n                // Restore an object that was reduced by decycle. Members whose values are\n                // objects of the form\n                //      {$ref: PATH}\n                // are replaced with references to the value found by the PATH. This will\n                // restore cycles. The object will be mutated.\n\n                // The eval function is used to locate the values described by a PATH. The\n                // root object is kept in a $ variable. A regular expression is used to\n                // assure that the PATH is extremely well formed. The regexp contains nested\n                // * quantifiers. That has been known to have extremely bad performance\n                // problems on some browsers for very long strings. A PATH is expected to be\n                // reasonably short. A PATH is allowed to belong to a very restricted subset of\n                // Goessner's JSONPath.\n\n                // So,\n                //      var s = '[{\"$ref\":\"$\"}]';\n                //      return JSON.retrocycle(JSON.parse(s));\n                // produces an array containing a single element which is the array itself.\n\n                var px = /^\\$(?:\\[(?:\\d+|\\\"(?:[^\\\\\\\"\\u0000-\\u001f]|\\\\([\\\\\\\"\\/bfnrt]|u[0-9a-zA-Z]{4}))*\\\")\\])*$/;\n                \n                /**\n                 * Converts the specified data URL to a Blob object\n                 * @param {String} dataURL to convert to a Blob\n                 * @returns {Blob} the converted Blob object\n                 */\n                function dataURLToBlob(dataURL) {\n                    var BASE64_MARKER = ';base64,',\n                        contentType,\n                        parts,\n                        raw;\n                    if (dataURL.indexOf(BASE64_MARKER) === -1) {\n                        parts = dataURL.split(',');\n                        contentType = parts[0].split(':')[1];\n                        raw = parts[1];\n\n                        return new Blob([raw], {type: contentType});\n                    }\n\n                    parts = dataURL.split(BASE64_MARKER);\n                    contentType = parts[0].split(':')[1];\n                    raw = window.atob(parts[1]);\n                    var rawLength = raw.length;\n                    var uInt8Array = new Uint8Array(rawLength);\n\n                    for (var i = 0; i < rawLength; ++i) {\n                        uInt8Array[i] = raw.charCodeAt(i);\n                    }\n                    return new Blob([uInt8Array.buffer], {type: contentType});\n                }\n                \n                function rez(value) {\n                    // The rez function walks recursively through the object looking for $ref\n                    // properties. When it finds one that has a value that is a path, then it\n                    // replaces the $ref object with a reference to the value that is found by\n                    // the path.\n\n                    var i, item, name, path;\n\n                    if (value && typeof value === 'object') {\n                        if (Object.prototype.toString.apply(value) === '[object Array]') {\n                            for (i = 0; i < value.length; i += 1) {\n                                item = value[i];\n                                if (item && typeof item === 'object') {\n                                    path = item.$ref;\n                                    if (typeof path === 'string' && px.test(path)) {\n                                        value[i] = eval(path);\n                                    } else {\n                                        value[i] = rez(item);\n                                    }\n                                }\n                            }\n                        } else {\n                            if (value.$type !== undefined) {\n                                switch(value.$type) {\n                                    case 'Blob':\n                                    case 'File':\n                                        value = dataURLToBlob(value.$enc);\n                                        break;\n                                    case 'Boolean':\n                                        value = Boolean(value.$enc === 'true');\n                                        break;\n                                    case 'Date':\n                                        value = new Date(value.$enc);\n                                        break;\n                                    case 'Number':\n                                        value = Number(value.$enc);\n                                        break;\n                                    case 'RegExp':\n                                        value = eval(value.$enc);\n                                        break;\n                                    case 'number':\n                                        value = parseFloat(value.$enc);\n                                        break;\n                                    case 'undefined':\n                                        value = undefined;\n                                        break;\n                                }\n                            } else {\n                                for (name in value) {\n                                    if (typeof value[name] === 'object') {\n                                        item = value[name];\n                                        if (item) {\n                                            path = item.$ref;\n                                            if (typeof path === 'string' && px.test(path)) {\n                                                value[name] = eval(path);\n                                            } else {\n                                                value[name] = rez(item);\n                                            }\n                                        }\n                                    }   \n                                }\n                            }\n                        }\n                    }\n                    return value;\n                }\n                return rez($);\n\n            },\n\n            /**\n             * Encode the specified object as a string.  Because of the asynchronus\n             * conversion of Blob/File to string, the encode function requires\n             * a callback\n             * @param {Object} val the value to convert.\n             * @param {function} callback the function to call once conversion is\n             * complete.  The callback gets called with the converted value.\n             */\n            \"encode\": function(val, callback){\n                function finishEncode(val) {\n                    callback(JSON.stringify(val));\n                }\n                this.decycle(val, finishEncode);                        \n            },\n                    \n            /**\n             * Deserialize the specified string to an object\n             * @param {String} val the serialized string\n             * @returns {Object} the deserialized object\n             */\n            \"decode\": function(val){\n                return this.retrocycle(JSON.parse(val));\n            }\n        };\n    }());\n    idbModules.Sca = Sca;\n}(idbModules));\n\n(function(idbModules) {\n    \"use strict\";\n\n    /**\n     * Encodes the keys based on their types. This is required to maintain collations\n     */\n    var collations = [\"undefined\", \"number\", \"date\", \"string\", \"array\"];\n\n    /**\n     * The sign values for numbers, ordered from least to greatest.\n     *  - \"negativeInfinity\": Sorts below all other values.\n     *  - \"bigNegative\": Negative values less than or equal to negative one.\n     *  - \"smallNegative\": Negative values between negative one and zero, noninclusive.\n     *  - \"smallPositive\": Positive values between zero and one, including zero but not one.\n     *  - \"largePositive\": Positive values greater than or equal to one.\n     *  - \"positiveInfinity\": Sorts above all other values.\n     */\n    var signValues = [\"negativeInfinity\", \"bigNegative\", \"smallNegative\", \"smallPositive\", \"bigPositive\", \"positiveInfinity\"];\n\n    var types = {\n        // Undefined is not a valid key type.  It's only used when there is no key.\n        undefined: {\n            encode: function(key) {\n                return collations.indexOf(\"undefined\") + \"-\";\n            },\n            decode: function(key) {\n                return undefined;\n            }\n        },\n\n        // Dates are encoded as ISO 8601 strings, in UTC time zone.\n        date: {\n            encode: function(key) {\n                return collations.indexOf(\"date\") + \"-\" + key.toJSON();\n            },\n            decode: function(key) {\n                return new Date(key.substring(2));\n            }\n        },\n\n        // Numbers are represented in a lexically sortable base-32 sign-exponent-mantissa\n        // notation.\n        //\n        // sign: takes a value between zero and five, inclusive. Represents infinite cases\n        //     and the signs of both the exponent and the fractional part of the number.\n        // exponent: paded to two base-32 digits, represented by the 32's compliment in the\n        //     \"smallPositive\" and \"bigNegative\" cases to ensure proper lexical sorting.\n        // mantissa: also called the fractional part. Normed 11-digit base-32 representation.\n        //     Represented by the 32's compliment in the \"smallNegative\" and \"bigNegative\"\n        //     cases to ensure proper lexical sorting.\n        number: {\n            // The encode step checks for six numeric cases and generates 14-digit encoded\n            // sign-exponent-mantissa strings.\n            encode: function(key) {\n                var key32 = Math.abs(key).toString(32);\n                // Get the index of the decimal.\n                var decimalIndex = key32.indexOf(\".\");\n                // Remove the decimal.\n                key32 = (decimalIndex !== -1) ? key32.replace(\".\", \"\") : key32;\n                // Get the index of the first significant digit.\n                var significantDigitIndex = key32.search(/[^0]/);\n                // Truncate leading zeros.\n                key32 = key32.slice(significantDigitIndex);\n                var sign, exponent = zeros(2), mantissa = zeros(11);\n\n                // Finite cases:\n                if (isFinite(key)) {\n                    // Negative cases:\n                    if (key < 0) {\n                        // Negative exponent case:\n                        if (key > -1) {\n                            sign = signValues.indexOf(\"smallNegative\");\n                            exponent = padBase32Exponent(significantDigitIndex);\n                            mantissa = flipBase32(padBase32Mantissa(key32));\n                        }\n                        // Non-negative exponent case:\n                        else {\n                            sign = signValues.indexOf(\"bigNegative\");\n                            exponent = flipBase32(padBase32Exponent(\n                                (decimalIndex !== -1) ? decimalIndex : key32.length\n                            ));\n                            mantissa = flipBase32(padBase32Mantissa(key32));\n                        }\n                    }\n                    // Non-negative cases:\n                    else {\n                        // Negative exponent case:\n                        if (key < 1) {\n                            sign = signValues.indexOf(\"smallPositive\");\n                            exponent = flipBase32(padBase32Exponent(significantDigitIndex));\n                            mantissa = padBase32Mantissa(key32);\n                        }\n                        // Non-negative exponent case:\n                        else {\n                            sign = signValues.indexOf(\"bigPositive\");\n                            exponent = padBase32Exponent(\n                                (decimalIndex !== -1) ? decimalIndex : key32.length\n                            );\n                            mantissa = padBase32Mantissa(key32);\n                        }\n                    }\n                }\n                // Infinite cases:\n                else {\n                    sign = signValues.indexOf(\n                        key > 0 ? \"positiveInfinity\" : \"negativeInfinity\"\n                    );\n                }\n\n                return collations.indexOf(\"number\") + \"-\" + sign + exponent + mantissa;\n            },\n            // The decode step must interpret the sign, reflip values encoded as the 32's complements,\n            // apply signs to the exponent and mantissa, do the base-32 power operation, and return\n            // the original JavaScript number values.\n            decode: function(key) {\n                var sign = +key.substr(2, 1);\n                var exponent = key.substr(3, 2);\n                var mantissa = key.substr(5, 11);\n\n                switch (signValues[sign]) {\n                    case \"negativeInfinity\":\n                        return -Infinity;\n                    case \"positiveInfinity\":\n                        return Infinity;\n                    case \"bigPositive\":\n                        return pow32(mantissa, exponent);\n                    case \"smallPositive\":\n                        exponent = negate(flipBase32(exponent));\n                        return pow32(mantissa, exponent);\n                    case \"smallNegative\":\n                        exponent = negate(exponent);\n                        mantissa = flipBase32(mantissa);\n                        return -pow32(mantissa, exponent);\n                    case \"bigNegative\":\n                        exponent = flipBase32(exponent);\n                        mantissa = flipBase32(mantissa);\n                        return -pow32(mantissa, exponent);\n                    default:\n                        throw new Error(\"Invalid number.\");\n                }\n            }\n        },\n\n        // Strings are encoded as JSON strings (with quotes and unicode characters escaped).\n        //\n        // IF the strings are in an array, then some extra encoding is done to make sorting work correctly:\n        // Since we can't force all strings to be the same length, we need to ensure that characters line-up properly\n        // for sorting, while also accounting for the extra characters that are added when the array itself is encoded as JSON.\n        // To do this, each character of the string is prepended with a dash (\"-\"), and a space is added to the end of the string.\n        // This effectively doubles the size of every string, but it ensures that when two arrays of strings are compared,\n        // the indexes of each string's characters line up with each other.\n        string: {\n            encode: function(key, inArray) {\n                if (inArray) {\n                    // prepend each character with a dash, and append a space to the end\n                    key = key.replace(/(.)/g, '-$1') + ' ';\n                }\n                return collations.indexOf(\"string\") + \"-\" + key;\n            },\n            decode: function(key, inArray) {\n                key = key.substring(2);\n                if (inArray) {\n                    // remove the space at the end, and the dash before each character\n                    key = key.substr(0, key.length - 1).replace(/-(.)/g, '$1');\n                }\n                return key;\n            }\n        },\n\n        // Arrays are encoded as JSON strings.\n        // An extra, value is added to each array during encoding to make empty arrays sort correctly.\n        array: {\n            encode: function(key) {\n                var encoded = [];\n                for (var i = 0; i < key.length; i++) {\n                    var item = key[i];\n                    var encodedItem = idbModules.Key.encode(item, true);        // encode the array item\n                    encoded[i] = encodedItem;\n                }\n                encoded.push(collations.indexOf(\"undefined\") + \"-\");            // append an extra item, so empty arrays sort correctly\n                return collations.indexOf(\"array\") + \"-\" + JSON.stringify(encoded);\n            },\n            decode: function(key) {\n                var decoded = JSON.parse(key.substring(2));\n                decoded.pop();                                                  // remove the extra item\n                for (var i = 0; i < decoded.length; i++) {\n                    var item = decoded[i];\n                    var decodedItem = idbModules.Key.decode(item, true);        // decode the item\n                    decoded[i] = decodedItem;\n                }\n                return decoded;\n            }\n        }\n    };\n\n    /**\n     * Return a padded base-32 exponent value.\n     * @param {number}\n     * @return {string}\n     */\n    function padBase32Exponent(n) {\n        n = n.toString(32);\n        return (n.length === 1) ? \"0\" + n : n;\n    }\n\n    /**\n     * Return a padded base-32 mantissa.\n     * @param {string}\n     * @return {string}\n     */\n    function padBase32Mantissa(s) {\n        return (s + zeros(11)).slice(0, 11);\n    }\n\n    /**\n     * Flips each digit of a base-32 encoded string.\n     * @param {string} encoded\n     */\n    function flipBase32(encoded) {\n        var flipped = \"\";\n        for (var i = 0; i < encoded.length; i++) {\n            flipped += (31 - parseInt(encoded[i], 32)).toString(32);\n        }\n        return flipped;\n    }\n\n    /**\n     * Base-32 power function.\n     * RESEARCH: This function does not precisely decode floats because it performs\n     * floating point arithmetic to recover values. But can the original values be\n     * recovered exactly?\n     * Someone may have already figured out a good way to store JavaScript floats as\n     * binary strings and convert back. Barring a better method, however, one route\n     * may be to generate decimal strings that `parseFloat` decodes predictably.\n     * @param {string}\n     * @param {string}\n     * @return {number}\n     */\n    function pow32(mantissa, exponent) {\n        var whole, fraction, expansion;\n        exponent = parseInt(exponent, 32);\n        if (exponent < 0) {\n            return roundToPrecision(\n                parseInt(mantissa, 32) * Math.pow(32, exponent - 10)\n            );\n        }\n        else {\n            if (exponent < 11) {\n                whole = mantissa.slice(0, exponent);\n                whole = parseInt(whole, 32);\n                fraction = mantissa.slice(exponent);\n                fraction = parseInt(fraction, 32) * Math.pow(32, exponent - 11);\n                return roundToPrecision(whole + fraction);\n            }\n            else {\n                expansion = mantissa + zeros(exponent - 11);\n                return parseInt(expansion, 32);\n            }\n        }\n    }\n\n    /**\n     *\n     */\n    function roundToPrecision(num, precision) {\n        precision = precision || 16;\n        return parseFloat(num.toPrecision(precision));\n    }\n\n    /**\n     * Returns a string of n zeros.\n     * @param {number}\n     * @return {string}\n     */\n    function zeros(n) {\n        var result = \"\";\n        while (n--) {\n            result = result + \"0\";\n        }\n        return result;\n    }\n\n    /**\n     * Negates numeric strings.\n     * @param {string}\n     * @return {string}\n     */\n    function negate(s) {\n        return \"-\" + s;\n    }\n\n    /**\n     * Returns the string \"number\", \"date\", \"string\", or \"array\".\n     */\n    function getType(key) {\n        if (key instanceof Date) {\n            return \"date\";\n        }\n        if (key instanceof Array) {\n            return \"array\";\n        }\n        return typeof key;\n    }\n\n    /**\n     * Keys must be strings, numbers, Dates, or Arrays\n     */\n    function validate(key) {\n        var type = getType(key);\n        if (type === \"array\") {\n            for (var i = 0; i < key.length; i++) {\n                validate(key[i]);\n            }\n        }\n        else if (!types[type] || (type !== \"string\" && isNaN(key))) {\n            throw idbModules.util.createDOMException(\"DataError\", \"Not a valid key\");\n        }\n    }\n\n    /**\n     * Returns the value of an inline key\n     * @param {object} source\n     * @param {string|array} keyPath\n     */\n    function getValue(source, keyPath) {\n        try {\n            if (keyPath instanceof Array) {\n                var arrayValue = [];\n                for (var i = 0; i < keyPath.length; i++) {\n                    arrayValue.push(eval(\"source.\" + keyPath[i]));\n                }\n                return arrayValue;\n            } else {\n                return eval(\"source.\" + keyPath);\n            }\n        }\n        catch (e) {\n            return undefined;\n        }\n    }\n\n    /**\n     * Sets the inline key value\n     * @param {object} source\n     * @param {string} keyPath\n     * @param {*} value\n     */\n    function setValue(source, keyPath, value) {\n        var props = keyPath.split('.');\n        for (var i = 0; i < props.length - 1; i++) {\n            var prop = props[i];\n            source = source[prop] = source[prop] || {};\n        }\n        source[props[props.length - 1]] = value;\n    }\n\n    /**\n     * Determines whether an index entry matches a multi-entry key value.\n     * @param {string} encodedEntry     The entry value (already encoded)\n     * @param {string} encodedKey       The full index key (already encoded)\n     * @returns {boolean}\n     */\n    function isMultiEntryMatch(encodedEntry, encodedKey) {\n        var keyType = collations[encodedKey.substring(0, 1)];\n\n        if (keyType === \"array\") {\n            return encodedKey.indexOf(encodedEntry) > 1;\n        }\n        else {\n            return encodedKey === encodedEntry;\n        }\n    }\n\n    function isKeyInRange(key, range) {\n        var lowerMatch = range.lower === undefined;\n        var upperMatch = range.upper === undefined;\n        var encodedKey = idbModules.Key.encode(key, true);\n\n        if (range.lower !== undefined) {\n            if (range.lowerOpen && encodedKey > range.__lower) {\n                lowerMatch = true;\n            }\n            if (!range.lowerOpen && encodedKey >= range.__lower) {\n                lowerMatch = true;\n            }\n        }\n        if (range.upper !== undefined) {\n            if (range.upperOpen && encodedKey < range.__upper) {\n                upperMatch = true;\n            }\n            if (!range.upperOpen && encodedKey <= range.__upper) {\n                upperMatch = true;\n            }\n        }\n\n        return lowerMatch && upperMatch;\n    }\n\n    function findMultiEntryMatches(keyEntry, range) {\n        var matches = [];\n\n        if (keyEntry instanceof Array) {\n            for (var i = 0; i < keyEntry.length; i++) {\n                var key = keyEntry[i];\n\n                if (key instanceof Array) {\n                    if (range.lower === range.upper) {\n                        continue;\n                    }\n                    if (key.length === 1) {\n                        key = key[0];\n                    } else {\n                        var nested = findMultiEntryMatches(key, range);\n                        if (nested.length > 0) {\n                            matches.push(key);\n                        }\n                        continue;\n                    }\n                }\n\n                if (isKeyInRange(key, range)) {\n                    matches.push(key);\n                }\n            }\n        } else {\n            if (isKeyInRange(keyEntry, range)) {\n                matches.push(keyEntry);\n            }\n        }\n        return matches;\n    }\n\n    idbModules.Key = {\n        encode: function(key, inArray) {\n            if (key === undefined) {\n                return null;\n            }\n            return types[getType(key)].encode(key, inArray);\n        },\n        decode: function(key, inArray) {\n            if (typeof key !== \"string\") {\n                return undefined;\n            }\n            return types[collations[key.substring(0, 1)]].decode(key, inArray);\n        },\n        validate: validate,\n        getValue: getValue,\n        setValue: setValue,\n        isMultiEntryMatch: isMultiEntryMatch,\n        findMultiEntryMatches: findMultiEntryMatches\n    };\n}(idbModules));\n\n(function(idbModules) {\n    'use strict';\n\n    /**\n     * Creates a native Event object, for browsers that support it\n     * @returns {Event}\n     */\n    function createNativeEvent(type, debug) {\n        var event = new Event(type);\n        event.debug = debug;\n\n        // Make the \"target\" writable\n        Object.defineProperty(event, 'target', {\n            writable: true\n        });\n\n        return event;\n    }\n\n    /**\n     * A shim Event class, for browsers that don't allow us to create native Event objects.\n     * @constructor\n     */\n    function ShimEvent(type, debug) {\n        this.type = type;\n        this.debug = debug;\n        this.bubbles = false;\n        this.cancelable = false;\n        this.eventPhase = 0;\n        this.timeStamp = new Date().valueOf();\n    }\n\n    var useNativeEvent = false;\n    try {\n        // Test whether we can use the browser's native Event class\n        var test = createNativeEvent('test type', 'test debug');\n        var target = {test: 'test target'};\n        test.target = target;\n\n        if (test instanceof Event && test.type === 'test type' && test.debug === 'test debug' && test.target === target) {\n            // Native events work as expected\n            useNativeEvent = true;\n        }\n    }\n    catch (e) {}\n\n    if (useNativeEvent) {\n        idbModules.Event = Event;\n        idbModules.IDBVersionChangeEvent = Event;\n        idbModules.util.createEvent = createNativeEvent;\n    }\n    else {\n        idbModules.Event = ShimEvent;\n        idbModules.IDBVersionChangeEvent = ShimEvent;\n        idbModules.util.createEvent = function(type, debug) {\n            return new ShimEvent(type, debug);\n        };\n    }\n}(idbModules));\n\n(function(idbModules) {\n    'use strict';\n\n    /**\n     * Creates a native DOMException, for browsers that support it\n     * @returns {DOMException}\n     */\n    function createNativeDOMException(name, message) {\n        var e = new DOMException.prototype.constructor(0, message);\n        e.name = name || 'DOMException';\n        e.message = message;\n        return e;\n    }\n\n    /**\n     * Creates a native DOMError, for browsers that support it\n     * @returns {DOMError}\n     */\n    function createNativeDOMError(name, message) {\n        name = name || 'DOMError';\n        var e = new DOMError(name, message);\n        e.name === name || (e.name = name);\n        e.message === message || (e.message = message);\n        return e;\n    }\n\n    /**\n     * Creates a generic Error object\n     * @returns {Error}\n     */\n    function createError(name, message) {\n        var e = new Error(message);\n        e.name = name || 'DOMException';\n        e.message = message;\n        return e;\n    }\n\n    /**\n     * Logs detailed error information to the console.\n     * @param {string} name\n     * @param {string} message\n     * @param {string|Error|null} error\n     */\n    idbModules.util.logError = function(name, message, error) {\n        if (idbModules.DEBUG) {\n            if (error && error.message) {\n                error = error.message;\n            }\n\n            var method = typeof(console.error) === 'function' ? 'error' : 'log';\n            console[method](name + ': ' + message + '. ' + (error || ''));\n            console.trace && console.trace();\n        }\n    };\n\n    /**\n     * Finds the error argument.  This is useful because some WebSQL callbacks\n     * pass the error as the first argument, and some pass it as the second argument.\n     * @param {array} args\n     * @returns {Error|DOMException|undefined}\n     */\n    idbModules.util.findError = function(args) {\n        var err;\n        if (args) {\n            if (args.length === 1) {\n                return args[0];\n            }\n            for (var i = 0; i < args.length; i++) {\n                var arg = args[i];\n                if (arg instanceof Error || arg instanceof DOMException) {\n                    return arg;\n                }\n                else if (arg && typeof arg.message === \"string\") {\n                    err = arg;\n                }\n            }\n        }\n        return err;\n    };\n\n    var test, useNativeDOMException = false, useNativeDOMError = false;\n\n    // Test whether we can use the browser's native DOMException class\n    try {\n        test = createNativeDOMException('test name', 'test message');\n        if (test instanceof DOMException && test.name === 'test name' && test.message === 'test message') {\n            // Native DOMException works as expected\n            useNativeDOMException = true;\n        }\n    }\n    catch (e) {}\n\n    // Test whether we can use the browser's native DOMError class\n    try {\n        test = createNativeDOMError('test name', 'test message');\n        if (test instanceof DOMError && test.name === 'test name' && test.message === 'test message') {\n            // Native DOMError works as expected\n            useNativeDOMError = true;\n        }\n    }\n    catch (e) {}\n\n    if (useNativeDOMException) {\n        idbModules.DOMException = DOMException;\n        idbModules.util.createDOMException = function(name, message, error) {\n            idbModules.util.logError(name, message, error);\n            return createNativeDOMException(name, message);\n        };\n    }\n    else {\n        idbModules.DOMException = Error;\n        idbModules.util.createDOMException = function(name, message, error) {\n            idbModules.util.logError(name, message, error);\n            return createError(name, message);\n        };\n    }\n\n    if (useNativeDOMError) {\n        idbModules.DOMError = DOMError;\n        idbModules.util.createDOMError = function(name, message, error) {\n            idbModules.util.logError(name, message, error);\n            return createNativeDOMError(name, message);\n        };\n    }\n    else {\n        idbModules.DOMError = Error;\n        idbModules.util.createDOMError = function(name, message, error) {\n            idbModules.util.logError(name, message, error);\n            return createError(name, message);\n        };\n    }\n}(idbModules));\n\n(function(idbModules){\n    'use strict';\n\n    /**\n     * The IDBRequest Object that is returns for all async calls\n     * http://dvcs.w3.org/hg/IndexedDB/raw-file/tip/Overview.html#request-api\n     */\n    function IDBRequest(){\n        this.onsuccess = this.onerror = this.result = this.error = this.source = this.transaction = null;\n        this.readyState = \"pending\";\n    }\n\n    /**\n     * The IDBOpenDBRequest called when a database is opened\n     */\n    function IDBOpenDBRequest(){\n        this.onblocked = this.onupgradeneeded = null;\n    }\n    IDBOpenDBRequest.prototype = new IDBRequest();\n    IDBOpenDBRequest.prototype.constructor = IDBOpenDBRequest;\n    \n    idbModules.IDBRequest = IDBRequest;\n    idbModules.IDBOpenDBRequest = IDBOpenDBRequest;\n    \n}(idbModules));\n\n(function(idbModules, undefined){\n    'use strict';\n\n    /**\n     * The IndexedDB KeyRange object\n     * http://dvcs.w3.org/hg/IndexedDB/raw-file/tip/Overview.html#dfn-key-range\n     * @param {Object} lower\n     * @param {Object} upper\n     * @param {Object} lowerOpen\n     * @param {Object} upperOpen\n     */\n    function IDBKeyRange(lower, upper, lowerOpen, upperOpen){\n        if (lower !== undefined) {\n            idbModules.Key.validate(lower);\n        }\n        if (upper !== undefined) {\n            idbModules.Key.validate(upper);\n        }\n\n        this.lower = lower;\n        this.upper = upper;\n        this.lowerOpen = !!lowerOpen;\n        this.upperOpen = !!upperOpen;\n    }\n\n    IDBKeyRange.only = function(value){\n        return new IDBKeyRange(value, value, false, false);\n    };\n\n    IDBKeyRange.lowerBound = function(value, open){\n        return new IDBKeyRange(value, undefined, open, undefined);\n    };\n    IDBKeyRange.upperBound = function(value, open){\n        return new IDBKeyRange(undefined, value, undefined, open);\n    };\n    IDBKeyRange.bound = function(lower, upper, lowerOpen, upperOpen){\n        return new IDBKeyRange(lower, upper, lowerOpen, upperOpen);\n    };\n\n    idbModules.IDBKeyRange = IDBKeyRange;\n\n}(idbModules));\n\n(function(idbModules, undefined){\n    'use strict';\n\n    /**\n     * The IndexedDB Cursor Object\n     * http://dvcs.w3.org/hg/IndexedDB/raw-file/tip/Overview.html#idl-def-IDBCursor\n     * @param {IDBKeyRange} range\n     * @param {string} direction\n     * @param {IDBObjectStore} store\n     * @param {IDBObjectStore|IDBIndex} source\n     * @param {string} keyColumnName\n     * @param {string} valueColumnName\n     * @param {boolean} count\n     */\n    function IDBCursor(range, direction, store, source, keyColumnName, valueColumnName, count){\n        // Calling openCursor on an index or objectstore with null is allowed but we treat it as undefined internally\n        if (range === null) {\n            range = undefined;\n        }\n        if (range !== undefined && !(range instanceof idbModules.IDBKeyRange)) {\n            range = new idbModules.IDBKeyRange(range, range, false, false);\n        }\n        store.transaction.__assertActive();\n        if (direction !== undefined && [\"next\", \"prev\", \"nextunique\", \"prevunique\"].indexOf(direction) === -1) {\n            throw new TypeError(direction + \"is not a valid cursor direction\");\n        }\n\n        this.source = source;\n        this.direction = direction || \"next\";\n        this.key = undefined;\n        this.primaryKey = undefined;\n        this.__store = store;\n        this.__range = range;\n        this.__req = new idbModules.IDBRequest();\n        this.__keyColumnName = keyColumnName;\n        this.__valueColumnName = valueColumnName;\n        this.__valueDecoder = valueColumnName === \"value\" ? idbModules.Sca : idbModules.Key;\n        this.__count = count;\n        this.__offset = -1; // Setting this to -1 as continue will set it to 0 anyway\n        this.__lastKeyContinued = undefined; // Used when continuing with a key\n        this.__multiEntryIndex = source instanceof idbModules.IDBIndex ? source.multiEntry : false;\n        this.__unique = this.direction.indexOf(\"unique\") !== -1;\n\n        if (range !== undefined) {\n            // Encode the key range and cache the encoded values, so we don't have to re-encode them over and over\n            range.__lower = range.lower !== undefined && idbModules.Key.encode(range.lower, this.__multiEntryIndex);\n            range.__upper = range.upper !== undefined && idbModules.Key.encode(range.upper, this.__multiEntryIndex);\n        }\n\n        this[\"continue\"]();\n    }\n\n    IDBCursor.prototype.__find = function (/* key, tx, success, error, recordsToLoad */) {\n        var args = Array.prototype.slice.call(arguments);\n        if (this.__multiEntryIndex) {\n            this.__findMultiEntry.apply(this, args);\n        } else {\n            this.__findBasic.apply(this, args);\n        }\n    };\n\n    IDBCursor.prototype.__findBasic = function (key, tx, success, error, recordsToLoad) {\n        recordsToLoad = recordsToLoad || 1;\n\n        var me = this;\n        var quotedKeyColumnName = idbModules.util.quote(me.__keyColumnName);\n        var sql = [\"SELECT * FROM\", idbModules.util.quote(me.__store.name)];\n        var sqlValues = [];\n        sql.push(\"WHERE\", quotedKeyColumnName, \"NOT NULL\");\n        if (me.__range && (me.__range.lower !== undefined || me.__range.upper !== undefined )) {\n            sql.push(\"AND\");\n            if (me.__range.lower !== undefined) {\n                sql.push(quotedKeyColumnName, (me.__range.lowerOpen ? \">\" : \">=\"), \"?\");\n                sqlValues.push(me.__range.__lower);\n            }\n            (me.__range.lower !== undefined && me.__range.upper !== undefined) && sql.push(\"AND\");\n            if (me.__range.upper !== undefined) {\n                sql.push(quotedKeyColumnName, (me.__range.upperOpen ? \"<\" : \"<=\"), \"?\");\n                sqlValues.push(me.__range.__upper);\n            }\n        }\n        if (typeof key !== \"undefined\") {\n            me.__lastKeyContinued = key;\n            me.__offset = 0;\n        }\n        if (me.__lastKeyContinued !== undefined) {\n            sql.push(\"AND\", quotedKeyColumnName, \">= ?\");\n            idbModules.Key.validate(me.__lastKeyContinued);\n            sqlValues.push(idbModules.Key.encode(me.__lastKeyContinued));\n        }\n\n        // Determine the ORDER BY direction based on the cursor.\n        var direction = me.direction === 'prev' || me.direction === 'prevunique' ? 'DESC' : 'ASC';\n\n        if (!me.__count) {\n            sql.push(\"ORDER BY\", quotedKeyColumnName, direction);\n            sql.push(\"LIMIT\", recordsToLoad, \"OFFSET\", me.__offset);\n        }\n        sql = sql.join(\" \");\n        idbModules.DEBUG && console.log(sql, sqlValues);\n\n        me.__prefetchedData = null;\n        me.__prefetchedIndex = 0;\n        tx.executeSql(sql, sqlValues, function (tx, data) {\n            if (me.__count) {\n                success(undefined, data.rows.length, undefined);\n            }\n            else if (data.rows.length > 1) {\n                me.__prefetchedData = data.rows;\n                me.__prefetchedIndex = 0;\n                idbModules.DEBUG && console.log(\"Preloaded \" + me.__prefetchedData.length + \" records for cursor\");\n                me.__decode(data.rows.item(0), success);\n            }\n            else if (data.rows.length === 1) {\n                me.__decode(data.rows.item(0), success);\n            }\n            else {\n                idbModules.DEBUG && console.log(\"Reached end of cursors\");\n                success(undefined, undefined, undefined);\n            }\n        }, function (tx, err) {\n            idbModules.DEBUG && console.log(\"Could not execute Cursor.continue\", sql, sqlValues);\n            error(err);\n        });\n    };\n\n    IDBCursor.prototype.__findMultiEntry = function (key, tx, success, error) {\n        var me = this;\n\n        if (me.__prefetchedData && me.__prefetchedData.length === me.__prefetchedIndex) {\n            idbModules.DEBUG && console.log(\"Reached end of multiEntry cursor\");\n            success(undefined, undefined, undefined);\n            return;\n        }\n\n        var quotedKeyColumnName = idbModules.util.quote(me.__keyColumnName);\n        var sql = [\"SELECT * FROM\", idbModules.util.quote(me.__store.name)];\n        var sqlValues = [];\n        sql.push(\"WHERE\", quotedKeyColumnName, \"NOT NULL\");\n        if (me.__range && (me.__range.lower !== undefined && me.__range.upper !== undefined)) {\n            if (me.__range.upper.indexOf(me.__range.lower) === 0) {\n                sql.push(\"AND\", quotedKeyColumnName, \"LIKE ?\");\n                sqlValues.push(\"%\" + me.__range.__lower.slice(0, -1) + \"%\");\n            }\n        }\n        if (typeof key !== \"undefined\") {\n            me.__lastKeyContinued = key;\n            me.__offset = 0;\n        }\n        if (me.__lastKeyContinued !== undefined) {\n            sql.push(\"AND\", quotedKeyColumnName, \">= ?\");\n            idbModules.Key.validate(me.__lastKeyContinued);\n            sqlValues.push(idbModules.Key.encode(me.__lastKeyContinued));\n        }\n\n        // Determine the ORDER BY direction based on the cursor.\n        var direction = me.direction === 'prev' || me.direction === 'prevunique' ? 'DESC' : 'ASC';\n\n        if (!me.__count) {\n            sql.push(\"ORDER BY key\", direction);\n        }\n        sql = sql.join(\" \");\n        idbModules.DEBUG && console.log(sql, sqlValues);\n\n        me.__prefetchedData = null;\n        me.__prefetchedIndex = 0;\n        tx.executeSql(sql, sqlValues, function (tx, data) {\n            me.__multiEntryOffset = data.rows.length;\n\n            if (data.rows.length > 0) {\n                var rows = [];\n\n                for (var i = 0; i < data.rows.length; i++) {\n                    var rowItem = data.rows.item(i);\n                    var rowKey = idbModules.Key.decode(rowItem[me.__keyColumnName], true);\n                    var matches = idbModules.Key.findMultiEntryMatches(rowKey, me.__range);\n\n                    for (var j = 0; j < matches.length; j++) {\n                        var matchingKey = matches[j];\n                        var clone = {\n                            matchingKey: idbModules.Key.encode(matchingKey, true),\n                            key: rowItem.key\n                        };\n                        clone[me.__keyColumnName] = rowItem[me.__keyColumnName];\n                        clone[me.__valueColumnName] = rowItem[me.__valueColumnName];\n                        rows.push(clone);\n                    }\n                }\n\n                var reverse = me.direction.indexOf(\"prev\") === 0;\n                rows.sort(function (a, b) {\n                    if (a.matchingKey.replace('[','z') < b.matchingKey.replace('[','z')) {\n                        return reverse ? 1 : -1;\n                    }\n                    if (a.matchingKey.replace('[','z') > b.matchingKey.replace('[','z')) {\n                        return reverse ? -1 : 1;\n                    }\n                    if (a.key < b.key) {\n                        return me.direction === \"prev\" ? 1 : -1;\n                    }\n                    if (a.key > b.key) {\n                        return me.direction === \"prev\" ? -1 : 1;\n                    }\n                    return 0;\n                });\n\n                me.__prefetchedData = {\n                    data: rows,\n                    length: rows.length,\n                    item: function (index) {\n                        return this.data[index];\n                    }\n                };\n                me.__prefetchedIndex = 0;\n\n                if (me.__count) {\n                    success(undefined, rows.length, undefined);\n                }\n                else if (rows.length > 1) {\n                    idbModules.DEBUG && console.log(\"Preloaded \" + me.__prefetchedData.length + \" records for multiEntry cursor\");\n                    me.__decode(rows[0], success);\n                } else if (rows.length === 1) {\n                    idbModules.DEBUG && console.log(\"Reached end of multiEntry cursor\");\n                    me.__decode(rows[0], success);\n                } else {\n                    idbModules.DEBUG && console.log(\"Reached end of multiEntry cursor\");\n                    success(undefined, undefined, undefined);\n                }\n            }\n            else {\n                idbModules.DEBUG && console.log(\"Reached end of multiEntry cursor\");\n                success(undefined, undefined, undefined);\n            }\n        }, function (tx, err) {\n            idbModules.DEBUG && console.log(\"Could not execute Cursor.continue\", sql, sqlValues);\n            error(err);\n        });\n    };\n\n    /**\n     * Creates an \"onsuccess\" callback\n     * @private\n     */\n    IDBCursor.prototype.__onsuccess = function(success) {\n        var me = this;\n        return function(key, value, primaryKey) {\n            if (me.__count) {\n                success(value, me.__req);\n            }\n            else {\n                me.key = key === undefined ? null : key;\n                me.value = value === undefined ? null : value;\n                me.primaryKey = primaryKey === undefined ? null : primaryKey;\n                var result = key === undefined ? null : me;\n                success(result, me.__req);\n            }\n        };\n    };\n\n    IDBCursor.prototype.__decode = function (rowItem, callback) {\n        if (this.__multiEntryIndex && this.__unique) {\n            if (!this.__matchedKeys) {\n                this.__matchedKeys = {};\n            }\n            if (this.__matchedKeys[rowItem.matchingKey]) {\n                callback(undefined, undefined, undefined);\n                return;\n            }\n            this.__matchedKeys[rowItem.matchingKey] = true;\n        }\n        var key = idbModules.Key.decode(this.__multiEntryIndex ? rowItem.matchingKey : rowItem[this.__keyColumnName], this.__multiEntryIndex);\n        var val = this.__valueDecoder.decode(rowItem[this.__valueColumnName]);\n        var primaryKey = idbModules.Key.decode(rowItem.key);\n        callback(key, val, primaryKey);\n    };\n\n    IDBCursor.prototype[\"continue\"] = function (key) {\n        var recordsToPreloadOnContinue = idbModules.cursorPreloadPackSize || 100;\n        var me = this;\n\n        this.__store.transaction.__pushToQueue(me.__req, function cursorContinue(tx, args, success, error) {\n            me.__offset++;\n\n            if (me.__prefetchedData) {\n                // We have pre-loaded data for the cursor\n                me.__prefetchedIndex++;\n                if (me.__prefetchedIndex < me.__prefetchedData.length) {\n                    me.__decode(me.__prefetchedData.item(me.__prefetchedIndex), me.__onsuccess(success));\n                    return;\n                }\n            }\n\n            // No pre-fetched data, do query\n            me.__find(key, tx, me.__onsuccess(success), error, recordsToPreloadOnContinue);\n        });\n    };\n\n    IDBCursor.prototype.advance = function(count){\n        if (count <= 0) {\n            throw idbModules.util.createDOMException(\"Type Error\", \"Count is invalid - 0 or negative\", count);\n        }\n        var me = this;\n        this.__store.transaction.__pushToQueue(me.__req, function cursorAdvance(tx, args, success, error){\n            me.__offset += count;\n            me.__find(undefined, tx, me.__onsuccess(success), error);\n        });\n    };\n\n    IDBCursor.prototype.update = function(valueToUpdate){\n        var me = this;\n        me.__store.transaction.__assertWritable();\n        return me.__store.transaction.__addToTransactionQueue(function cursorUpdate(tx, args, success, error){\n            idbModules.Sca.encode(valueToUpdate, function(encoded) {\n                me.__find(undefined, tx, function(key, value, primaryKey){\n                    var store = me.__store;\n                    var params = [encoded];\n                    var sql = [\"UPDATE\", idbModules.util.quote(store.name), \"SET value = ?\"];\n                    idbModules.Key.validate(primaryKey);\n\n                    // Also correct the indexes in the table\n                    for (var i = 0; i < store.indexNames.length; i++) {\n                        var index = store.__indexes[store.indexNames[i]];\n                        var indexKey = idbModules.Key.getValue(valueToUpdate, index.keyPath);\n                        sql.push(\",\", idbModules.util.quote(index.name), \"= ?\");\n                        params.push(idbModules.Key.encode(indexKey, index.multiEntry));\n                    }\n\n                    sql.push(\"WHERE key = ?\");\n                    params.push(idbModules.Key.encode(primaryKey));\n\n                    idbModules.DEBUG && console.log(sql.join(\" \"), encoded, key, primaryKey);\n                    tx.executeSql(sql.join(\" \"), params, function(tx, data){\n                        me.__prefetchedData = null;\n                        me.__prefetchedIndex = 0;\n                        if (data.rowsAffected === 1) {\n                            success(key);\n                        }\n                        else {\n                            error(\"No rows with key found\" + key);\n                        }\n                    }, function(tx, data){\n                        error(data);\n                    });\n                }, error);\n            });\n        });\n    };\n\n    IDBCursor.prototype[\"delete\"] = function(){\n        var me = this;\n        me.__store.transaction.__assertWritable();\n        return this.__store.transaction.__addToTransactionQueue(function cursorDelete(tx, args, success, error){\n            me.__find(undefined, tx, function(key, value, primaryKey){\n                var sql = \"DELETE FROM  \" + idbModules.util.quote(me.__store.name) + \" WHERE key = ?\";\n                idbModules.DEBUG && console.log(sql, key, primaryKey);\n                idbModules.Key.validate(primaryKey);\n                tx.executeSql(sql, [idbModules.Key.encode(primaryKey)], function(tx, data){\n                    me.__prefetchedData = null;\n                    me.__prefetchedIndex = 0;\n                    if (data.rowsAffected === 1) {\n                        // lower the offset or we will miss a row\n                        me.__offset--;\n                        success(undefined);\n                    }\n                    else {\n                        error(\"No rows with key found\" + key);\n                    }\n                }, function(tx, data){\n                    error(data);\n                });\n            }, error);\n        });\n    };\n\n    idbModules.IDBCursor = IDBCursor;\n}(idbModules));\n\n(function(idbModules, undefined) {\n    'use strict';\n\n    /**\n     * IDB Index\n     * http://www.w3.org/TR/IndexedDB/#idl-def-IDBIndex\n     * @param {IDBObjectStore} store\n     * @param {IDBIndexProperties} indexProperties\n     * @constructor\n     */\n    function IDBIndex(store, indexProperties) {\n        this.objectStore = store;\n        this.name = indexProperties.columnName;\n        this.keyPath = indexProperties.keyPath;\n        this.multiEntry = indexProperties.optionalParams && indexProperties.optionalParams.multiEntry;\n        this.unique = indexProperties.optionalParams && indexProperties.optionalParams.unique;\n        this.__deleted = !!indexProperties.__deleted;\n    }\n\n    /**\n     * Clones an IDBIndex instance for a different IDBObjectStore instance.\n     * @param {IDBIndex} index\n     * @param {IDBObjectStore} store\n     * @protected\n     */\n    IDBIndex.__clone = function(index, store) {\n        return new IDBIndex(store, {\n            columnName: index.name,\n            keyPath: index.keyPath,\n            optionalParams: {\n                multiEntry: index.multiEntry,\n                unique: index.unique\n            }\n        });\n    };\n\n    /**\n     * Creates a new index on an object store.\n     * @param {IDBObjectStore} store\n     * @param {IDBIndex} index\n     * @returns {IDBIndex}\n     * @protected\n     */\n    IDBIndex.__createIndex = function(store, index) {\n        var columnExists = !!store.__indexes[index.name] && store.__indexes[index.name].__deleted;\n\n        // Add the index to the IDBObjectStore\n        store.__indexes[index.name] = index;\n        store.indexNames.push(index.name);\n\n        // Create the index in WebSQL\n        var transaction = store.transaction;\n        transaction.__addToTransactionQueue(function createIndex(tx, args, success, failure) {\n            function error(tx, err) {\n                failure(idbModules.util.createDOMException(0, \"Could not create index \\\"\" + index.name + \"\\\"\", err));\n            }\n\n            function applyIndex(tx) {\n                // Update the object store's index list\n                IDBIndex.__updateIndexList(store, tx, function() {\n                    // Add index entries for all existing records\n                    tx.executeSql(\"SELECT * FROM \" + idbModules.util.quote(store.name), [], function(tx, data) {\n                        idbModules.DEBUG && console.log(\"Adding existing \" + store.name + \" records to the \" + index.name + \" index\");\n                        addIndexEntry(0);\n\n                        function addIndexEntry(i) {\n                            if (i < data.rows.length) {\n                                try {\n                                    var value = idbModules.Sca.decode(data.rows.item(i).value);\n                                    var indexKey = idbModules.Key.getValue(value, index.keyPath);\n                                    indexKey = idbModules.Key.encode(indexKey, index.multiEntry);\n\n                                    tx.executeSql(\"UPDATE \" + idbModules.util.quote(store.name) + \" set \" + idbModules.util.quote(index.name) + \" = ? where key = ?\", [indexKey, data.rows.item(i).key], function(tx, data) {\n                                        addIndexEntry(i + 1);\n                                    }, error);\n                                }\n                                catch (e) {\n                                    // Not a valid value to insert into index, so just continue\n                                    addIndexEntry(i + 1);\n                                }\n                            }\n                            else {\n                                success(store);\n                            }\n                        }\n                    }, error);\n                }, error);\n            }\n\n            if (columnExists) {\n                // For a previously existing index, just update the index entries in the existing column\n                applyIndex(tx);\n            }\n            else {\n                // For a new index, add a new column to the object store, then apply the index\n                var sql = [\"ALTER TABLE\", idbModules.util.quote(store.name), \"ADD\", idbModules.util.quote(index.name), \"BLOB\"].join(\" \");\n                idbModules.DEBUG && console.log(sql);\n                tx.executeSql(sql, [], applyIndex, error);\n            }\n        });\n    };\n\n    /**\n     * Deletes an index from an object store.\n     * @param {IDBObjectStore} store\n     * @param {IDBIndex} index\n     * @protected\n     */\n    IDBIndex.__deleteIndex = function(store, index) {\n        // Remove the index from the IDBObjectStore\n        store.__indexes[index.name].__deleted = true;\n        store.indexNames.splice(store.indexNames.indexOf(index.name), 1);\n\n        // Remove the index in WebSQL\n        var transaction = store.transaction;\n        transaction.__addToTransactionQueue(function createIndex(tx, args, success, failure) {\n            function error(tx, err) {\n                failure(idbModules.util.createDOMException(0, \"Could not delete index \\\"\" + index.name + \"\\\"\", err));\n            }\n\n            // Update the object store's index list\n            IDBIndex.__updateIndexList(store, tx, success, error);\n        });\n    };\n\n    /**\n     * Updates index list for the given object store.\n     * @param {IDBObjectStore} store\n     * @param {object} tx\n     * @param {function} success\n     * @param {function} failure\n     */\n    IDBIndex.__updateIndexList = function(store, tx, success, failure) {\n        var indexList = {};\n        for (var i = 0; i < store.indexNames.length; i++) {\n            var idx = store.__indexes[store.indexNames[i]];\n            /** @type {IDBIndexProperties} **/\n            indexList[idx.name] = {\n                columnName: idx.name,\n                keyPath: idx.keyPath,\n                optionalParams: {\n                    unique: idx.unique,\n                    multiEntry: idx.multiEntry\n                },\n                deleted: !!idx.deleted\n            };\n        }\n\n        idbModules.DEBUG && console.log(\"Updating the index list for \" + store.name, indexList);\n        tx.executeSql(\"UPDATE __sys__ set indexList = ? where name = ?\", [JSON.stringify(indexList), store.name], function() {\n            success(store);\n        }, failure);\n    };\n\n    /**\n     * Retrieves index data for the given key\n     * @param {*|IDBKeyRange} key\n     * @param {string} opType\n     * @returns {IDBRequest}\n     * @private\n     */\n    IDBIndex.prototype.__fetchIndexData = function(key, opType) {\n        var me = this;\n        var hasKey, encodedKey;\n\n        // key is optional\n        if (arguments.length === 1) {\n            opType = key;\n            hasKey = false;\n        }\n        else {\n            idbModules.Key.validate(key);\n            encodedKey = idbModules.Key.encode(key, me.multiEntry);\n            hasKey = true;\n        }\n\n        return me.objectStore.transaction.__addToTransactionQueue(function fetchIndexData(tx, args, success, error) {\n            var sql = [\"SELECT * FROM\", idbModules.util.quote(me.objectStore.name), \"WHERE\", idbModules.util.quote(me.name), \"NOT NULL\"];\n            var sqlValues = [];\n            if (hasKey) {\n                if (me.multiEntry) {\n                    sql.push(\"AND\", idbModules.util.quote(me.name), \"LIKE ?\");\n                    sqlValues.push(\"%\" + encodedKey + \"%\");\n                }\n                else {\n                    sql.push(\"AND\", idbModules.util.quote(me.name), \"= ?\");\n                    sqlValues.push(encodedKey);\n                }\n            }\n            idbModules.DEBUG && console.log(\"Trying to fetch data for Index\", sql.join(\" \"), sqlValues);\n            tx.executeSql(sql.join(\" \"), sqlValues, function(tx, data) {\n                var recordCount = 0, record = null;\n                if (me.multiEntry) {\n                    for (var i = 0; i < data.rows.length; i++) {\n                        var row = data.rows.item(i);\n                        var rowKey = idbModules.Key.decode(row[me.name]);\n                        if (hasKey && idbModules.Key.isMultiEntryMatch(encodedKey, row[me.name])) {\n                            recordCount++;\n                            record = record || row;\n                        }\n                        else if (!hasKey && rowKey !== undefined) {\n                            recordCount = recordCount + (rowKey instanceof Array ? rowKey.length : 1);\n                            record = record || row;\n                        }\n                    }\n                }\n                else {\n                    recordCount = data.rows.length;\n                    record = recordCount && data.rows.item(0);\n                }\n\n                if (opType === \"count\") {\n                    success(recordCount);\n                }\n                else if (recordCount === 0) {\n                    success(undefined);\n                }\n                else if (opType === \"key\") {\n                    success(idbModules.Key.decode(record.key));\n                }\n                else { // when opType is value\n                    success(idbModules.Sca.decode(record.value));\n                }\n            }, error);\n        });\n    };\n\n    /**\n     * Opens a cursor over the given key range.\n     * @param {IDBKeyRange} range\n     * @param {string} direction\n     * @returns {IDBRequest}\n     */\n    IDBIndex.prototype.openCursor = function(range, direction) {\n        return new idbModules.IDBCursor(range, direction, this.objectStore, this, this.name, \"value\").__req;\n    };\n\n    /**\n     * Opens a cursor over the given key range.  The cursor only includes key values, not data.\n     * @param {IDBKeyRange} range\n     * @param {string} direction\n     * @returns {IDBRequest}\n     */\n    IDBIndex.prototype.openKeyCursor = function(range, direction) {\n        return new idbModules.IDBCursor(range, direction, this.objectStore, this, this.name, \"key\").__req;\n    };\n\n    IDBIndex.prototype.get = function(key) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"No key was specified\");\n        }\n\n        return this.__fetchIndexData(key, \"value\");\n    };\n\n    IDBIndex.prototype.getKey = function(key) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"No key was specified\");\n        }\n\n        return this.__fetchIndexData(key, \"key\");\n    };\n\n    IDBIndex.prototype.count = function(key) {\n        // key is optional\n        if (key === undefined) {\n            return this.__fetchIndexData(\"count\");\n        }\n        else if (key instanceof idbModules.IDBKeyRange) {\n            return new idbModules.IDBCursor(key, \"next\", this.objectStore, this, this.name, \"value\", true).__req;\n        }\n        else {\n            return this.__fetchIndexData(key, \"count\");\n        }\n    };\n\n    idbModules.IDBIndex = IDBIndex;\n}(idbModules));\n\n(function(idbModules) {\n    'use strict';\n\n    /**\n     * IndexedDB Object Store\n     * http://dvcs.w3.org/hg/IndexedDB/raw-file/tip/Overview.html#idl-def-IDBObjectStore\n     * @param {IDBObjectStoreProperties} storeProperties\n     * @param {IDBTransaction} transaction\n     * @constructor\n     */\n    function IDBObjectStore(storeProperties, transaction) {\n        this.name = storeProperties.name;\n        this.keyPath = JSON.parse(storeProperties.keyPath);\n        this.transaction = transaction;\n\n        // autoInc is numeric (0/1) on WinPhone\n        this.autoIncrement = typeof storeProperties.autoInc === \"string\" ? storeProperties.autoInc === \"true\" : !!storeProperties.autoInc;\n\n        this.__indexes = {};\n        this.indexNames = new idbModules.util.StringList();\n        var indexList = JSON.parse(storeProperties.indexList);\n        for (var indexName in indexList) {\n            if (indexList.hasOwnProperty(indexName)) {\n                var index = new idbModules.IDBIndex(this, indexList[indexName]);\n                this.__indexes[index.name] = index;\n                if (!index.__deleted) {\n                    this.indexNames.push(index.name);\n                }\n            }\n        }\n    }\n\n    /**\n     * Clones an IDBObjectStore instance for a different IDBTransaction instance.\n     * @param {IDBObjectStore} store\n     * @param {IDBTransaction} transaction\n     * @protected\n     */\n    IDBObjectStore.__clone = function(store, transaction) {\n        var newStore = new IDBObjectStore({\n            name: store.name,\n            keyPath: JSON.stringify(store.keyPath),\n            autoInc: JSON.stringify(store.autoIncrement),\n            indexList: \"{}\"\n        }, transaction);\n        newStore.__indexes = store.__indexes;\n        newStore.indexNames = store.indexNames;\n        return newStore;\n    };\n\n    /**\n     * Creates a new object store in the database.\n     * @param {IDBDatabase} db\n     * @param {IDBObjectStore} store\n     * @protected\n     */\n    IDBObjectStore.__createObjectStore = function(db, store) {\n        // Add the object store to the IDBDatabase\n        db.__objectStores[store.name] = store;\n        db.objectStoreNames.push(store.name);\n\n        // Add the object store to WebSQL\n        var transaction = db.__versionTransaction;\n        idbModules.IDBTransaction.__assertVersionChange(transaction);\n        transaction.__addToTransactionQueue(function createObjectStore(tx, args, success, failure) {\n            function error(tx, err) {\n                throw idbModules.util.createDOMException(0, \"Could not create object store \\\"\" + store.name + \"\\\"\", err);\n            }\n\n            //key INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL UNIQUE\n            var sql = [\"CREATE TABLE\", idbModules.util.quote(store.name), \"(key BLOB\", store.autoIncrement ? \"UNIQUE, inc INTEGER PRIMARY KEY AUTOINCREMENT\" : \"PRIMARY KEY\", \", value BLOB)\"].join(\" \");\n            idbModules.DEBUG && console.log(sql);\n            tx.executeSql(sql, [], function(tx, data) {\n                tx.executeSql(\"INSERT INTO __sys__ VALUES (?,?,?,?)\", [store.name, JSON.stringify(store.keyPath), store.autoIncrement, \"{}\"], function() {\n                    success(store);\n                }, error);\n            }, error);\n        });\n    };\n\n    /**\n     * Deletes an object store from the database.\n     * @param {IDBDatabase} db\n     * @param {IDBObjectStore} store\n     * @protected\n     */\n    IDBObjectStore.__deleteObjectStore = function(db, store) {\n        // Remove the object store from the IDBDatabase\n        db.__objectStores[store.name] = undefined;\n        db.objectStoreNames.splice(db.objectStoreNames.indexOf(store.name), 1);\n\n        // Remove the object store from WebSQL\n        var transaction = db.__versionTransaction;\n        idbModules.IDBTransaction.__assertVersionChange(transaction);\n        transaction.__addToTransactionQueue(function deleteObjectStore(tx, args, success, failure) {\n            function error(tx, err) {\n                failure(idbModules.util.createDOMException(0, \"Could not delete ObjectStore\", err));\n            }\n\n            tx.executeSql(\"SELECT * FROM __sys__ where name = ?\", [store.name], function(tx, data) {\n                if (data.rows.length > 0) {\n                    tx.executeSql(\"DROP TABLE \" + idbModules.util.quote(store.name), [], function() {\n                        tx.executeSql(\"DELETE FROM __sys__ WHERE name = ?\", [store.name], function() {\n                            success();\n                        }, error);\n                    }, error);\n                }\n            });\n        });\n    };\n\n    /**\n     * Determines whether the given inline or out-of-line key is valid, according to the object store's schema.\n     * @param {*} value     Used for inline keys\n     * @param {*} key       Used for out-of-line keys\n     * @private\n     */\n    IDBObjectStore.prototype.__validateKey = function(value, key) {\n        if (this.keyPath) {\n            if (typeof key !== \"undefined\") {\n                throw idbModules.util.createDOMException(\"DataError\", \"The object store uses in-line keys and the key parameter was provided\", this);\n            }\n            else if (value && typeof value === \"object\") {\n                key = idbModules.Key.getValue(value, this.keyPath);\n                if (key === undefined) {\n                    if (this.autoIncrement) {\n                        // A key will be generated\n                        return;\n                    }\n                    else {\n                        throw idbModules.util.createDOMException(\"DataError\", \"Could not eval key from keyPath\");\n                    }\n                }\n            }\n            else {\n                throw idbModules.util.createDOMException(\"DataError\", \"KeyPath was specified, but value was not an object\");\n            }\n        }\n        else {\n            if (typeof key === \"undefined\") {\n                if (this.autoIncrement) {\n                    // A key will be generated\n                    return;\n                }\n                else {\n                    throw idbModules.util.createDOMException(\"DataError\", \"The object store uses out-of-line keys and has no key generator and the key parameter was not provided. \", this);\n                }\n            }\n        }\n\n        idbModules.Key.validate(key);\n    };\n\n    /**\n     * From the store properties and object, extracts the value for the key in hte object Store\n     * If the table has auto increment, get the next in sequence\n     * @param {Object} tx\n     * @param {Object} value\n     * @param {Object} key\n     * @param {function} success\n     * @param {function} failure\n     */\n    IDBObjectStore.prototype.__deriveKey = function(tx, value, key, success, failure) {\n        var me = this;\n\n        function getNextAutoIncKey(callback) {\n            tx.executeSql(\"SELECT * FROM sqlite_sequence where name like ?\", [me.name], function(tx, data) {\n                if (data.rows.length !== 1) {\n                    callback(1);\n                }\n                else {\n                    callback(data.rows.item(0).seq + 1);\n                }\n            }, function(tx, error) {\n                failure(idbModules.util.createDOMException(\"DataError\", \"Could not get the auto increment value for key\", error));\n            });\n        }\n\n        if (me.keyPath) {\n            var primaryKey = idbModules.Key.getValue(value, me.keyPath);\n            if (primaryKey === undefined && me.autoIncrement) {\n                getNextAutoIncKey(function(primaryKey) {\n                    try {\n                        // Update the value with the new key\n                        idbModules.Key.setValue(value, me.keyPath, primaryKey);\n                        success(primaryKey);\n                    }\n                    catch (e) {\n                        failure(idbModules.util.createDOMException(\"DataError\", \"Could not assign a generated value to the keyPath\", e));\n                    }\n                });\n            }\n            else {\n                success(primaryKey);\n            }\n        }\n        else {\n            if (typeof key === \"undefined\" && me.autoIncrement) {\n                // Looks like this has autoInc, so lets get the next in sequence and return that.\n                getNextAutoIncKey(success);\n            }\n            else {\n                success(key);\n            }\n        }\n    };\n\n    IDBObjectStore.prototype.__insertData = function(tx, encoded, value, primaryKey, success, error) {\n        try {\n            var paramMap = {};\n            if (typeof primaryKey !== \"undefined\") {\n                idbModules.Key.validate(primaryKey);\n                paramMap.key = idbModules.Key.encode(primaryKey);\n            }\n            for (var i = 0; i < this.indexNames.length; i++) {\n                var index = this.__indexes[this.indexNames[i]];\n                paramMap[index.name] = idbModules.Key.encode(idbModules.Key.getValue(value, index.keyPath), index.multiEntry);\n            }\n            var sqlStart = [\"INSERT INTO \", idbModules.util.quote(this.name), \"(\"];\n            var sqlEnd = [\" VALUES (\"];\n            var sqlValues = [];\n            for (var key in paramMap) {\n                sqlStart.push(idbModules.util.quote(key) + \",\");\n                sqlEnd.push(\"?,\");\n                sqlValues.push(paramMap[key]);\n            }\n            // removing the trailing comma\n            sqlStart.push(\"value )\");\n            sqlEnd.push(\"?)\");\n            sqlValues.push(encoded);\n\n            var sql = sqlStart.join(\" \") + sqlEnd.join(\" \");\n\n            idbModules.DEBUG && console.log(\"SQL for adding\", sql, sqlValues);\n            tx.executeSql(sql, sqlValues, function(tx, data) {\n                idbModules.Sca.encode(primaryKey, function(primaryKey) {\n                    primaryKey = idbModules.Sca.decode(primaryKey);\n                    success(primaryKey);\n                });\n            }, function(tx, err) {\n                error(idbModules.util.createDOMError(\"ConstraintError\", err.message, err));\n            });\n        }\n        catch (e) {\n            error(e);\n        }\n    };\n\n    IDBObjectStore.prototype.add = function(value, key) {\n        var me = this;\n        if (arguments.length === 0) {\n            throw new TypeError(\"No value was specified\");\n        }\n        this.__validateKey(value, key);\n        me.transaction.__assertWritable();\n\n        var request = me.transaction.__createRequest();\n        me.transaction.__pushToQueue(request, function objectStoreAdd(tx, args, success, error) {\n            me.__deriveKey(tx, value, key, function(primaryKey) {\n                idbModules.Sca.encode(value, function(encoded) {\n                    me.__insertData(tx, encoded, value, primaryKey, success, error);\n                });\n            }, error);\n        });\n        return request;\n    };\n\n    IDBObjectStore.prototype.put = function(value, key) {\n        var me = this;\n        if (arguments.length === 0) {\n            throw new TypeError(\"No value was specified\");\n        }\n        this.__validateKey(value, key);\n        me.transaction.__assertWritable();\n\n        var request = me.transaction.__createRequest();\n        me.transaction.__pushToQueue(request, function objectStorePut(tx, args, success, error) {\n            me.__deriveKey(tx, value, key, function(primaryKey) {\n                idbModules.Sca.encode(value, function(encoded) {\n                    // First try to delete if the record exists\n                    idbModules.Key.validate(primaryKey);\n                    var sql = \"DELETE FROM \" + idbModules.util.quote(me.name) + \" where key = ?\";\n                    tx.executeSql(sql, [idbModules.Key.encode(primaryKey)], function(tx, data) {\n                        idbModules.DEBUG && console.log(\"Did the row with the\", primaryKey, \"exist? \", data.rowsAffected);\n                        me.__insertData(tx, encoded, value, primaryKey, success, error);\n                    }, function(tx, err) {\n                        error(err);\n                    });\n                });\n            }, error);\n        });\n        return request;\n    };\n\n    IDBObjectStore.prototype.get = function(key) {\n        // TODO Key should also be a key range\n        var me = this;\n\n        if (arguments.length === 0) {\n            throw new TypeError(\"No key was specified\");\n        }\n\n        idbModules.Key.validate(key);\n        var primaryKey = idbModules.Key.encode(key);\n        return me.transaction.__addToTransactionQueue(function objectStoreGet(tx, args, success, error) {\n            idbModules.DEBUG && console.log(\"Fetching\", me.name, primaryKey);\n            tx.executeSql(\"SELECT * FROM \" + idbModules.util.quote(me.name) + \" where key = ?\", [primaryKey], function(tx, data) {\n                idbModules.DEBUG && console.log(\"Fetched data\", data);\n                var value;\n                try {\n                    // Opera can't deal with the try-catch here.\n                    if (0 === data.rows.length) {\n                        return success();\n                    }\n\n                    value = idbModules.Sca.decode(data.rows.item(0).value);\n                }\n                catch (e) {\n                    // If no result is returned, or error occurs when parsing JSON\n                    idbModules.DEBUG && console.log(e);\n                }\n                success(value);\n            }, function(tx, err) {\n                error(err);\n            });\n        });\n    };\n\n    IDBObjectStore.prototype[\"delete\"] = function(key) {\n        var me = this;\n\n        if (arguments.length === 0) {\n            throw new TypeError(\"No key was specified\");\n        }\n\n        me.transaction.__assertWritable();\n        idbModules.Key.validate(key);\n        var primaryKey = idbModules.Key.encode(key);\n        // TODO key should also support key ranges\n        return me.transaction.__addToTransactionQueue(function objectStoreDelete(tx, args, success, error) {\n            idbModules.DEBUG && console.log(\"Fetching\", me.name, primaryKey);\n            tx.executeSql(\"DELETE FROM \" + idbModules.util.quote(me.name) + \" where key = ?\", [primaryKey], function(tx, data) {\n                idbModules.DEBUG && console.log(\"Deleted from database\", data.rowsAffected);\n                success();\n            }, function(tx, err) {\n                error(err);\n            });\n        });\n    };\n\n    IDBObjectStore.prototype.clear = function() {\n        var me = this;\n        me.transaction.__assertWritable();\n        return me.transaction.__addToTransactionQueue(function objectStoreClear(tx, args, success, error) {\n            tx.executeSql(\"DELETE FROM \" + idbModules.util.quote(me.name), [], function(tx, data) {\n                idbModules.DEBUG && console.log(\"Cleared all records from database\", data.rowsAffected);\n                success();\n            }, function(tx, err) {\n                error(err);\n            });\n        });\n    };\n\n    IDBObjectStore.prototype.count = function(key) {\n        if (key instanceof idbModules.IDBKeyRange) {\n            return new idbModules.IDBCursor(key, \"next\", this, this, \"key\", \"value\", true).__req;\n        }\n        else {\n            var me = this;\n            var hasKey = false;\n\n            // key is optional\n            if (key !== undefined) {\n                hasKey = true;\n                idbModules.Key.validate(key);\n            }\n\n            return me.transaction.__addToTransactionQueue(function objectStoreCount(tx, args, success, error) {\n                var sql = \"SELECT * FROM \" + idbModules.util.quote(me.name) + (hasKey ? \" WHERE key = ?\" : \"\");\n                var sqlValues = [];\n                hasKey && sqlValues.push(idbModules.Key.encode(key));\n                tx.executeSql(sql, sqlValues, function(tx, data) {\n                    success(data.rows.length);\n                }, function(tx, err) {\n                    error(err);\n                });\n            });\n        }\n    };\n\n    IDBObjectStore.prototype.openCursor = function(range, direction) {\n        return new idbModules.IDBCursor(range, direction, this, this, \"key\", \"value\").__req;\n    };\n\n    IDBObjectStore.prototype.index = function(indexName) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"No index name was specified\");\n        }\n        var index = this.__indexes[indexName];\n        if (!index) {\n            throw idbModules.util.createDOMException(\"NotFoundError\", \"Index \\\"\" + indexName + \"\\\" does not exist on \" + this.name);\n        }\n\n        return idbModules.IDBIndex.__clone(index, this);\n    };\n\n    /**\n     * Creates a new index on the object store.\n     * @param {string} indexName\n     * @param {string} keyPath\n     * @param {object} optionalParameters\n     * @returns {IDBIndex}\n     */\n    IDBObjectStore.prototype.createIndex = function(indexName, keyPath, optionalParameters) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"No index name was specified\");\n        }\n        if (arguments.length === 1) {\n            throw new TypeError(\"No key path was specified\");\n        }\n        if (keyPath instanceof Array && optionalParameters && optionalParameters.multiEntry) {\n            throw idbModules.util.createDOMException(\"InvalidAccessError\", \"The keyPath argument was an array and the multiEntry option is true.\");\n        }\n        if (this.__indexes[indexName] && !this.__indexes[indexName].__deleted) {\n            throw idbModules.util.createDOMException(\"ConstraintError\", \"Index \\\"\" + indexName + \"\\\" already exists on \" + this.name);\n        }\n\n        this.transaction.__assertVersionChange();\n\n        optionalParameters = optionalParameters || {};\n        /** @name IDBIndexProperties **/\n        var indexProperties = {\n            columnName: indexName,\n            keyPath: keyPath,\n            optionalParams: {\n                unique: !!optionalParameters.unique,\n                multiEntry: !!optionalParameters.multiEntry\n            }\n        };\n        var index = new idbModules.IDBIndex(this, indexProperties);\n        idbModules.IDBIndex.__createIndex(this, index);\n        return index;\n    };\n\n    IDBObjectStore.prototype.deleteIndex = function(indexName) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"No index name was specified\");\n        }\n        var index = this.__indexes[indexName];\n        if (!index) {\n            throw idbModules.util.createDOMException(\"NotFoundError\", \"Index \\\"\" + indexName + \"\\\" does not exist on \" + this.name);\n        }\n        this.transaction.__assertVersionChange();\n\n        idbModules.IDBIndex.__deleteIndex(this, index);\n    };\n\n    idbModules.IDBObjectStore = IDBObjectStore;\n}(idbModules));\n\n(function(idbModules) {\n    'use strict';\n\n    var uniqueID = 0;\n\n    /**\n     * The IndexedDB Transaction\n     * http://dvcs.w3.org/hg/IndexedDB/raw-file/tip/Overview.html#idl-def-IDBTransaction\n     * @param {IDBDatabase} db\n     * @param {string[]} storeNames\n     * @param {string} mode\n     * @constructor\n     */\n    function IDBTransaction(db, storeNames, mode) {\n        this.__id = ++uniqueID; // for debugging simultaneous transactions\n        this.__active = true;\n        this.__running = false;\n        this.__errored = false;\n        this.__requests = [];\n        this.__storeNames = storeNames;\n        this.mode = mode;\n        this.db = db;\n        this.error = null;\n        this.onabort = this.onerror = this.oncomplete = null;\n\n        // Kick off the transaction as soon as all synchronous code is done.\n        var me = this;\n        setTimeout(function() { me.__executeRequests(); }, 0);\n    }\n\n    IDBTransaction.prototype.__executeRequests = function() {\n        if (this.__running) {\n            idbModules.DEBUG && console.log(\"Looks like the request set is already running\", this.mode);\n            return;\n        }\n\n        this.__running = true;\n        var me = this;\n\n        me.db.__db.transaction(function executeRequests(tx) {\n                me.__tx = tx;\n                var q = null, i = 0;\n\n                function success(result, req) {\n                    if (req) {\n                        q.req = req;// Need to do this in case of cursors\n                    }\n                    q.req.readyState = \"done\";\n                    q.req.result = result;\n                    delete q.req.error;\n                    var e = idbModules.util.createEvent(\"success\");\n                    idbModules.util.callback(\"onsuccess\", q.req, e);\n                    i++;\n                    executeNextRequest();\n                }\n\n                function error(tx, err) {\n                    err = idbModules.util.findError(arguments);\n                    try {\n                        // Fire an error event for the current IDBRequest\n                        q.req.readyState = \"done\";\n                        q.req.error = err || \"DOMError\";\n                        q.req.result = undefined;\n                        var e = idbModules.util.createEvent(\"error\", err);\n                        idbModules.util.callback(\"onerror\", q.req, e);\n                    }\n                    finally {\n                        // Fire an error event for the transaction\n                        transactionError(err);\n                    }\n                }\n\n                function executeNextRequest() {\n                    if (i >= me.__requests.length) {\n                        // All requests in the transaction are done\n                        me.__requests = [];\n                        if (me.__active) {\n                            me.__active = false;\n                            transactionFinished();\n                        }\n                    }\n                    else {\n                        try {\n                            q = me.__requests[i];\n                            q.op(tx, q.args, success, error);\n                        }\n                        catch (e) {\n                            error(e);\n                        }\n                    }\n                }\n\n                executeNextRequest();\n            },\n\n            function webSqlError(err) {\n                transactionError(err);\n            }\n        );\n\n        function transactionError(err) {\n            idbModules.util.logError(\"Error\", \"An error occurred in a transaction\", err);\n\n            if (me.__errored) {\n                // We've already called \"onerror\", \"onabort\", or thrown, so don't do it again.\n                return;\n            }\n\n            me.__errored = true;\n\n            if (!me.__active) {\n                // The transaction has already completed, so we can't call \"onerror\" or \"onabort\".\n                // So throw the error instead.\n                throw err;\n            }\n\n            try {\n                me.error = err;\n                var evt = idbModules.util.createEvent(\"error\");\n                idbModules.util.callback(\"onerror\", me, evt);\n                idbModules.util.callback(\"onerror\", me.db, evt);\n            }\n            finally {\n                me.abort();\n            }\n        }\n\n        function transactionFinished() {\n            idbModules.DEBUG && console.log(\"Transaction completed\");\n            var evt = idbModules.util.createEvent(\"complete\");\n            try {\n                idbModules.util.callback(\"oncomplete\", me, evt);\n                idbModules.util.callback(\"__oncomplete\", me, evt);\n            }\n            catch (e) {\n                // An error occurred in the \"oncomplete\" handler.\n                // It's too late to call \"onerror\" or \"onabort\". Throw a global error instead.\n                // (this may seem odd/bad, but it's how all native IndexedDB implementations work)\n                me.__errored = true;\n                throw e;\n            }\n        }\n    };\n\n    /**\n     * Creates a new IDBRequest for the transaction.\n     * NOTE: The transaction is not queued util you call {@link IDBTransaction#__pushToQueue}\n     * @returns {IDBRequest}\n     * @protected\n     */\n    IDBTransaction.prototype.__createRequest = function() {\n        var request = new idbModules.IDBRequest();\n        request.source = this.db;\n        request.transaction = this;\n        return request;\n    };\n\n    /**\n     * Adds a callback function to the transaction queue\n     * @param {function} callback\n     * @param {*} args\n     * @returns {IDBRequest}\n     * @protected\n     */\n    IDBTransaction.prototype.__addToTransactionQueue = function(callback, args) {\n        var request = this.__createRequest();\n        this.__pushToQueue(request, callback, args);\n        return request;\n    };\n\n    /**\n     * Adds an IDBRequest to the transaction queue\n     * @param {IDBRequest} request\n     * @param {function} callback\n     * @param {*} args\n     * @protected\n     */\n    IDBTransaction.prototype.__pushToQueue = function(request, callback, args) {\n        this.__assertActive();\n        this.__requests.push({\n            \"op\": callback,\n            \"args\": args,\n            \"req\": request\n        });\n    };\n\n    IDBTransaction.prototype.__assertActive = function() {\n        if (!this.__active) {\n            throw idbModules.util.createDOMException(\"TransactionInactiveError\", \"A request was placed against a transaction which is currently not active, or which is finished\");\n        }\n    };\n\n    IDBTransaction.prototype.__assertWritable = function() {\n        if (this.mode === IDBTransaction.READ_ONLY) {\n            throw idbModules.util.createDOMException(\"ReadOnlyError\", \"The transaction is read only\");\n        }\n    };\n\n    IDBTransaction.prototype.__assertVersionChange = function() {\n        IDBTransaction.__assertVersionChange(this);\n    };\n\n    IDBTransaction.__assertVersionChange = function(tx) {\n        if (!tx || tx.mode !== IDBTransaction.VERSION_CHANGE) {\n            throw idbModules.util.createDOMException(\"InvalidStateError\", \"Not a version transaction\");\n        }\n    };\n\n    /**\n     * Returns the specified object store.\n     * @param {string} objectStoreName\n     * @returns {IDBObjectStore}\n     */\n    IDBTransaction.prototype.objectStore = function(objectStoreName) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"No object store name was specified\");\n        }\n        if (!this.__active) {\n            throw idbModules.util.createDOMException(\"InvalidStateError\", \"A request was placed against a transaction which is currently not active, or which is finished\");\n        }\n        if (this.__storeNames.indexOf(objectStoreName) === -1 && this.mode !== IDBTransaction.VERSION_CHANGE) {\n            throw idbModules.util.createDOMException(\"NotFoundError\", objectStoreName + \" is not participating in this transaction\");\n        }\n        var store = this.db.__objectStores[objectStoreName];\n        if (!store) {\n            throw idbModules.util.createDOMException(\"NotFoundError\", objectStoreName + \" does not exist in \" + this.db.name);\n        }\n\n        return idbModules.IDBObjectStore.__clone(store, this);\n    };\n\n    IDBTransaction.prototype.abort = function() {\n        var me = this;\n        idbModules.DEBUG && console.log(\"The transaction was aborted\", me);\n        me.__active = false;\n        var evt = idbModules.util.createEvent(\"abort\");\n\n        // Fire the \"onabort\" event asynchronously, so errors don't bubble\n        setTimeout(function() {\n            idbModules.util.callback(\"onabort\", me, evt);\n        }, 0);\n    };\n\n    IDBTransaction.READ_ONLY = \"readonly\";\n    IDBTransaction.READ_WRITE = \"readwrite\";\n    IDBTransaction.VERSION_CHANGE = \"versionchange\";\n\n    idbModules.IDBTransaction = IDBTransaction;\n}(idbModules));\n\n(function(idbModules){\n    'use strict';\n\n    /**\n     * IDB Database Object\n     * http://dvcs.w3.org/hg/IndexedDB/raw-file/tip/Overview.html#database-interface\n     * @constructor\n     */\n    function IDBDatabase(db, name, version, storeProperties){\n        this.__db = db;\n        this.__closed = false;\n        this.version = version;\n        this.name = name;\n        this.onabort = this.onerror = this.onversionchange = null;\n\n        this.__objectStores = {};\n        this.objectStoreNames = new idbModules.util.StringList();\n        for (var i = 0; i < storeProperties.rows.length; i++) {\n            var store = new idbModules.IDBObjectStore(storeProperties.rows.item(i));\n            this.__objectStores[store.name] = store;\n            this.objectStoreNames.push(store.name);\n        }\n    }\n\n    /**\n     * Creates a new object store.\n     * @param {string} storeName\n     * @param {object} [createOptions]\n     * @returns {IDBObjectStore}\n     */\n    IDBDatabase.prototype.createObjectStore = function(storeName, createOptions){\n        if (arguments.length === 0) {\n            throw new TypeError(\"No object store name was specified\");\n        }\n        if (this.__objectStores[storeName]) {\n            throw idbModules.util.createDOMException(\"ConstraintError\", \"Object store \\\"\" + storeName + \"\\\" already exists in \" + this.name);\n        }\n        this.__versionTransaction.__assertVersionChange();\n\n        createOptions = createOptions || {};\n        /** @name IDBObjectStoreProperties **/\n        var storeProperties = {\n            name: storeName,\n            keyPath: JSON.stringify(createOptions.keyPath || null),\n            autoInc: JSON.stringify(createOptions.autoIncrement),\n            indexList: \"{}\"\n        };\n        var store = new idbModules.IDBObjectStore(storeProperties, this.__versionTransaction);\n        idbModules.IDBObjectStore.__createObjectStore(this, store);\n        return store;\n    };\n\n    /**\n     * Deletes an object store.\n     * @param {string} storeName\n     */\n    IDBDatabase.prototype.deleteObjectStore = function(storeName){\n        if (arguments.length === 0) {\n            throw new TypeError(\"No object store name was specified\");\n        }\n        var store = this.__objectStores[storeName];\n        if (!store) {\n            throw idbModules.util.createDOMException(\"NotFoundError\", \"Object store \\\"\" + storeName + \"\\\" does not exist in \" + this.name);\n        }\n        this.__versionTransaction.__assertVersionChange();\n\n        idbModules.IDBObjectStore.__deleteObjectStore(this, store);\n    };\n\n    IDBDatabase.prototype.close = function(){\n        this.__closed = true;\n    };\n\n    /**\n     * Starts a new transaction.\n     * @param {string|string[]} storeNames\n     * @param {string} mode\n     * @returns {IDBTransaction}\n     */\n    IDBDatabase.prototype.transaction = function(storeNames, mode){\n        if (this.__closed) {\n            throw idbModules.util.createDOMException(\"InvalidStateError\", \"An attempt was made to start a new transaction on a database connection that is not open\");\n        }\n\n        if (typeof mode === \"number\") {\n            mode = mode === 1 ? IDBTransaction.READ_WRITE : IDBTransaction.READ_ONLY;\n            idbModules.DEBUG && console.log(\"Mode should be a string, but was specified as \", mode);\n        }\n        else {\n            mode = mode || IDBTransaction.READ_ONLY;\n        }\n\n        if (mode !== IDBTransaction.READ_ONLY && mode !== IDBTransaction.READ_WRITE) {\n            throw new TypeError(\"Invalid transaction mode: \" + mode);\n        }\n\n        storeNames = typeof storeNames === \"string\" ? [storeNames] : storeNames;\n        if (storeNames.length === 0) {\n            throw idbModules.util.createDOMException(\"InvalidAccessError\", \"No object store names were specified\");\n        }\n        for (var i = 0; i < storeNames.length; i++) {\n            if (!this.objectStoreNames.contains(storeNames[i])) {\n                throw idbModules.util.createDOMException(\"NotFoundError\", \"The \\\"\" + storeNames[i] + \"\\\" object store does not exist\");\n            }\n        }\n\n        var transaction = new idbModules.IDBTransaction(this, storeNames, mode);\n        return transaction;\n    };\n    \n    idbModules.IDBDatabase = IDBDatabase;\n}(idbModules));\n\n(function(idbModules) {\n    'use strict';\n\n    var DEFAULT_DB_SIZE = 4 * 1024 * 1024;\n    var sysdb;\n\n    /**\n     * Craetes the sysDB to keep track of version numbers for databases\n     **/\n    function createSysDB(success, failure) {\n        function sysDbCreateError(tx, err) {\n            err = idbModules.util.findError(arguments);\n            idbModules.DEBUG && console.log(\"Error in sysdb transaction - when creating dbVersions\", err);\n            failure(err);\n        }\n\n        if (sysdb) {\n            success();\n        }\n        else {\n            sysdb = window.openDatabase(\"__sysdb__\", 1, \"System Database\", DEFAULT_DB_SIZE);\n            sysdb.transaction(function(tx) {\n                tx.executeSql(\"CREATE TABLE IF NOT EXISTS dbVersions (name VARCHAR(255), version INT);\", [], success, sysDbCreateError);\n            }, sysDbCreateError);\n        }\n    }\n\n    /**\n     * IDBFactory Class\n     * https://w3c.github.io/IndexedDB/#idl-def-IDBFactory\n     * @constructor\n     */\n    function IDBFactory() {\n        this.modules = idbModules;\n    }\n\n    /**\n     * The IndexedDB Method to create a new database and return the DB\n     * @param {string} name\n     * @param {number} version\n     */\n    IDBFactory.prototype.open = function(name, version) {\n        var req = new idbModules.IDBOpenDBRequest();\n        var calledDbCreateError = false;\n\n        if (arguments.length === 0) {\n            throw new TypeError('Database name is required');\n        }\n        else if (arguments.length === 2) {\n            version = parseFloat(version);\n            if (isNaN(version) || !isFinite(version) || version <= 0) {\n                throw new TypeError('Invalid database version: ' + version);\n            }\n        }\n        name = name + ''; // cast to a string\n\n        function dbCreateError(tx, err) {\n            if (calledDbCreateError) {\n                return;\n            }\n            err = idbModules.util.findError(arguments);\n            calledDbCreateError = true;\n            var evt = idbModules.util.createEvent(\"error\", arguments);\n            req.readyState = \"done\";\n            req.error = err || \"DOMError\";\n            idbModules.util.callback(\"onerror\", req, evt);\n        }\n\n        function openDB(oldVersion) {\n            var db = window.openDatabase(name, 1, name, DEFAULT_DB_SIZE);\n            req.readyState = \"done\";\n            if (typeof version === \"undefined\") {\n                version = oldVersion || 1;\n            }\n            if (version <= 0 || oldVersion > version) {\n                var err = idbModules.util.createDOMError(\"VersionError\", \"An attempt was made to open a database using a lower version than the existing version.\", version);\n                dbCreateError(err);\n                return;\n            }\n\n            db.transaction(function(tx) {\n                tx.executeSql(\"CREATE TABLE IF NOT EXISTS __sys__ (name VARCHAR(255), keyPath VARCHAR(255), autoInc BOOLEAN, indexList BLOB)\", [], function() {\n                    tx.executeSql(\"SELECT * FROM __sys__\", [], function(tx, data) {\n                        var e = idbModules.util.createEvent(\"success\");\n                        req.source = req.result = new idbModules.IDBDatabase(db, name, version, data);\n                        if (oldVersion < version) {\n                            // DB Upgrade in progress\n                            sysdb.transaction(function(systx) {\n                                systx.executeSql(\"UPDATE dbVersions set version = ? where name = ?\", [version, name], function() {\n                                    var e = idbModules.util.createEvent(\"upgradeneeded\");\n                                    e.oldVersion = oldVersion;\n                                    e.newVersion = version;\n                                    req.transaction = req.result.__versionTransaction = new idbModules.IDBTransaction(req.source, [], idbModules.IDBTransaction.VERSION_CHANGE);\n                                    req.transaction.__addToTransactionQueue(function onupgradeneeded(tx, args, success) {\n                                        idbModules.util.callback(\"onupgradeneeded\", req, e);\n                                        success();\n                                    });\n                                    req.transaction.__oncomplete = function() {\n                                        req.transaction = null;\n                                        var e = idbModules.util.createEvent(\"success\");\n                                        idbModules.util.callback(\"onsuccess\", req, e);\n                                    };\n                                }, dbCreateError);\n                            }, dbCreateError);\n                        } else {\n                            idbModules.util.callback(\"onsuccess\", req, e);\n                        }\n                    }, dbCreateError);\n                }, dbCreateError);\n            }, dbCreateError);\n        }\n\n        createSysDB(function() {\n            sysdb.transaction(function(tx) {\n                tx.executeSql(\"SELECT * FROM dbVersions where name = ?\", [name], function(tx, data) {\n                    if (data.rows.length === 0) {\n                        // Database with this name does not exist\n                        tx.executeSql(\"INSERT INTO dbVersions VALUES (?,?)\", [name, version || 1], function() {\n                            openDB(0);\n                        }, dbCreateError);\n                    } else {\n                        openDB(data.rows.item(0).version);\n                    }\n                }, dbCreateError);\n            }, dbCreateError);\n        }, dbCreateError);\n\n        return req;\n    };\n\n    /**\n     * Deletes a database\n     * @param {string} name\n     * @returns {IDBOpenDBRequest}\n     */\n    IDBFactory.prototype.deleteDatabase = function(name) {\n        var req = new idbModules.IDBOpenDBRequest();\n        var calledDBError = false;\n        var version = null;\n\n        if (arguments.length === 0) {\n            throw new TypeError('Database name is required');\n        }\n        name = name + ''; // cast to a string\n\n        function dbError(tx, err) {\n            if (calledDBError) {\n                return;\n            }\n            err = idbModules.util.findError(arguments);\n            req.readyState = \"done\";\n            req.error = err || \"DOMError\";\n            var e = idbModules.util.createEvent(\"error\");\n            e.debug = arguments;\n            idbModules.util.callback(\"onerror\", req, e);\n            calledDBError = true;\n        }\n\n        function deleteFromDbVersions() {\n            sysdb.transaction(function(systx) {\n                systx.executeSql(\"DELETE FROM dbVersions where name = ? \", [name], function() {\n                    req.result = undefined;\n                    var e = idbModules.util.createEvent(\"success\");\n                    e.newVersion = null;\n                    e.oldVersion = version;\n                    idbModules.util.callback(\"onsuccess\", req, e);\n                }, dbError);\n            }, dbError);\n        }\n\n        createSysDB(function() {\n            sysdb.transaction(function(systx) {\n                systx.executeSql(\"SELECT * FROM dbVersions where name = ?\", [name], function(tx, data) {\n                    if (data.rows.length === 0) {\n                        req.result = undefined;\n                        var e = idbModules.util.createEvent(\"success\");\n                        e.newVersion = null;\n                        e.oldVersion = version;\n                        idbModules.util.callback(\"onsuccess\", req, e);\n                        return;\n                    }\n                    version = data.rows.item(0).version;\n                    var db = window.openDatabase(name, 1, name, DEFAULT_DB_SIZE);\n                    db.transaction(function(tx) {\n                        tx.executeSql(\"SELECT * FROM __sys__\", [], function(tx, data) {\n                            var tables = data.rows;\n                            (function deleteTables(i) {\n                                if (i >= tables.length) {\n                                    // If all tables are deleted, delete the housekeeping tables\n                                    tx.executeSql(\"DROP TABLE IF EXISTS __sys__\", [], function() {\n                                        // Finally, delete the record for this DB from sysdb\n                                        deleteFromDbVersions();\n                                    }, dbError);\n                                } else {\n                                    // Delete all tables in this database, maintained in the sys table\n                                    tx.executeSql(\"DROP TABLE \" + idbModules.util.quote(tables.item(i).name), [], function() {\n                                        deleteTables(i + 1);\n                                    }, function() {\n                                        deleteTables(i + 1);\n                                    });\n                                }\n                            }(0));\n                        }, function(e) {\n                            // __sysdb table does not exist, but that does not mean delete did not happen\n                            deleteFromDbVersions();\n                        });\n                    });\n                }, dbError);\n            }, dbError);\n        }, dbError);\n\n        return req;\n    };\n\n    /**\n     * Compares two keys\n     * @param key1\n     * @param key2\n     * @returns {number}\n     */\n    IDBFactory.prototype.cmp = function(key1, key2) {\n        if (arguments.length < 2) {\n            throw new TypeError(\"You must provide two keys to be compared\");\n        }\n\n        idbModules.Key.validate(key1);\n        idbModules.Key.validate(key2);\n        var encodedKey1 = idbModules.Key.encode(key1);\n        var encodedKey2 = idbModules.Key.encode(key2);\n        var result = encodedKey1 > encodedKey2 ? 1 : encodedKey1 === encodedKey2 ? 0 : -1;\n        \n        if (idbModules.DEBUG) {\n            // verify that the keys encoded correctly\n            var decodedKey1 = idbModules.Key.decode(encodedKey1);\n            var decodedKey2 = idbModules.Key.decode(encodedKey2);\n            if (typeof key1 === \"object\") {\n                key1 = JSON.stringify(key1);\n                decodedKey1 = JSON.stringify(decodedKey1);\n            }\n            if (typeof key2 === \"object\") {\n                key2 = JSON.stringify(key2);\n                decodedKey2 = JSON.stringify(decodedKey2);\n            }\n\n            // encoding/decoding mismatches are usually due to a loss of floating-point precision\n            if (decodedKey1 !== key1) {\n                console.warn(key1 + ' was incorrectly encoded as ' + decodedKey1);\n            }\n            if (decodedKey2 !== key2) {\n                console.warn(key2 + ' was incorrectly encoded as ' + decodedKey2);\n            }\n        }\n        \n        return result;\n    };\n\n\n    idbModules.shimIndexedDB = new IDBFactory();\n    idbModules.IDBFactory = IDBFactory;\n}(idbModules));\n\n(function(window, idbModules){\n    'use strict';\n\n    function shim(name, value) {\n        try {\n            // Try setting the property. This will fail if the property is read-only.\n            window[name] = value;\n        }\n        catch (e) {}\n\n        if (window[name] !== value && Object.defineProperty) {\n            // Setting a read-only property failed, so try re-defining the property\n            try {\n                Object.defineProperty(window, name, {\n                    value: value\n                });\n            }\n            catch (e) {}\n\n            if (window[name] !== value) {\n                window.console && console.warn && console.warn('Unable to shim ' + name);\n            }\n        }\n    }\n\n    shim('shimIndexedDB', idbModules.shimIndexedDB);\n    if (window.shimIndexedDB) {\n        window.shimIndexedDB.__useShim = function(){\n            if (typeof window.openDatabase !== \"undefined\") {\n                // Polyfill ALL of IndexedDB, using WebSQL\n                shim('indexedDB', idbModules.shimIndexedDB);\n                shim('IDBFactory', idbModules.IDBFactory);\n                shim('IDBDatabase', idbModules.IDBDatabase);\n                shim('IDBObjectStore', idbModules.IDBObjectStore);\n                shim('IDBIndex', idbModules.IDBIndex);\n                shim('IDBTransaction', idbModules.IDBTransaction);\n                shim('IDBCursor', idbModules.IDBCursor);\n                shim('IDBKeyRange', idbModules.IDBKeyRange);\n                shim('IDBRequest', idbModules.IDBRequest);\n                shim('IDBOpenDBRequest', idbModules.IDBOpenDBRequest);\n                shim('IDBVersionChangeEvent', idbModules.IDBVersionChangeEvent);\n            }\n            else if (typeof window.indexedDB === \"object\") {\n                // Polyfill the missing IndexedDB features\n                idbModules.polyfill();\n            }\n        };\n\n        window.shimIndexedDB.__debug = function(val){\n            idbModules.DEBUG = val;\n        };\n    }\n    \n    // Workaround to prevent an error in Firefox\n    if(!('indexedDB' in window)) {\n        window.indexedDB = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.oIndexedDB || window.msIndexedDB;\n    }\n    \n    // Detect browsers with known IndexedDb issues (e.g. Android pre-4.4)\n    var poorIndexedDbSupport = false;\n    if (navigator.userAgent.match(/Android 2/) || navigator.userAgent.match(/Android 3/) || navigator.userAgent.match(/Android 4\\.[0-3]/)) {\n        /* Chrome is an exception. It supports IndexedDb */\n        if (!navigator.userAgent.match(/Chrome/)) {\n            poorIndexedDbSupport = true;\n        }\n    }\n\n    if ((typeof window.indexedDB === \"undefined\" || !window.indexedDB || poorIndexedDbSupport) && typeof window.openDatabase !== \"undefined\") {\n        window.shimIndexedDB.__useShim();\n    }\n    else {\n        window.IDBDatabase = window.IDBDatabase || window.webkitIDBDatabase;\n        window.IDBTransaction = window.IDBTransaction || window.webkitIDBTransaction;\n        window.IDBCursor = window.IDBCursor || window.webkitIDBCursor;\n        window.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange;\n        if(!window.IDBTransaction){\n            window.IDBTransaction = {};\n        }\n        /* Some browsers (e.g. Chrome 18 on Android) support IndexedDb but do not allow writing of these properties */\n        try {\n            window.IDBTransaction.READ_ONLY = window.IDBTransaction.READ_ONLY || \"readonly\";\n            window.IDBTransaction.READ_WRITE = window.IDBTransaction.READ_WRITE || \"readwrite\";\n        } catch (e) {}\n    }\n    \n}(window, idbModules));\n\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nvar isStandardArguments = function isArguments(value) {\n\treturn toStr.call(value) === '[object Arguments]';\n};\n\nvar isLegacyArguments = function isArguments(value) {\n\tif (isStandardArguments(value)) {\n\t\treturn true;\n\t}\n\treturn value !== null &&\n\t\ttypeof value === 'object' &&\n\t\ttypeof value.length === 'number' &&\n\t\tvalue.length >= 0 &&\n\t\ttoStr.call(value) !== '[object Array]' &&\n\t\ttoStr.call(value.callee) === '[object Function]';\n};\n\nvar supportsStandardArguments = (function () {\n\treturn isStandardArguments(arguments);\n}());\n\nisStandardArguments.isLegacyArguments = isLegacyArguments; // for tests\n\nmodule.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;\n","module.exports = isFunction\n\nvar toString = Object.prototype.toString\n\nfunction isFunction (fn) {\n  var string = toString.call(fn)\n  return string === '[object Function]' ||\n    (typeof fn === 'function' && string !== '[object RegExp]') ||\n    (typeof window !== 'undefined' &&\n     // IE8 and below\n     (fn === window.setTimeout ||\n      fn === window.alert ||\n      fn === window.confirm ||\n      fn === window.prompt))\n};\n","import Log from 'loglevel';\nconst originalFactory = Log.methodFactory;\n\nLog.methodFactory = function methodFactory(methodName, logLevel, loggerName) {\n  const rawMethod = originalFactory(methodName, logLevel, loggerName);\n\n  return function log(message) {\n    rawMethod(`Kinvey: ${message}`);\n  };\n};\n\nLog.setLevel(Log.levels.ERROR);\nexport { Log };\n","import { KinveyError } from './errors';\nimport isPlainObject from 'lodash/isPlainObject';\nconst aclAttribute = process.env.KINVEY_ACL_ATTRIBUTE || '_acl';\n\n/**\n * Wrapper for reading and setting permissions on an entity level.\n *\n * @example\n * var entity = { _acl: {} };\n * var acl = new Kinvey.Acl(entity);\n */\nexport class Acl {\n  constructor(entity = {}) {\n    if (!isPlainObject(entity)) {\n      throw new KinveyError('entity argument must be an object');\n    }\n\n    /**\n     * The kmd properties.\n     *\n     * @private\n     * @type {Object}\n     */\n    this.acl = entity[aclAttribute];\n  }\n\n  get creator() {\n    return this.acl.creator;\n  }\n\n  get readers() {\n    return this.acl.r || [];\n  }\n\n  get writers() {\n    return this.acl.w || [];\n  }\n\n  get readerGroups() {\n    return this.acl.groups ? this.acl.groups.r : [];\n  }\n\n  get writerGroups() {\n    return this.acl.groups ? this.acl.groups.w : [];\n  }\n\n  set globallyReadable(gr) {\n    this.acl.gr = gr || false;\n  }\n\n  set globallyWritable(gw) {\n    this.acl.gw = gw || false;\n  }\n\n  addReader(user) {\n    const r = this.acl.r || [];\n\n    if (r.indexOf(user) === -1) {\n      r.push(user);\n    }\n\n    this.acl.r = r;\n    return this;\n  }\n\n  addReaderGroup(group) {\n    const groups = this.acl.groups || {};\n    const r = groups.r || [];\n\n    if (r.indexOf(group) === -1) {\n      r.push(group);\n    }\n\n    groups.r = r;\n    this.acl.groups = groups;\n    return this;\n  }\n\n  addWriter(user) {\n    const w = this.acl.w || [];\n\n    if (w.indexOf(user) === -1) {\n      w.push(user);\n    }\n\n    this.acl.w = w;\n    return this;\n  }\n\n  addWriterGroup(group) {\n    const groups = this.acl.groups || {};\n    const w = groups.w || [];\n\n    if (w.indexOf(group) === -1) {\n      w.push(group);\n    }\n\n    groups.w = w;\n    this.acl.groups = groups;\n    return this;\n  }\n\n  isGloballyReadable() {\n    return this.acl.gr || false;\n  }\n\n  isGloballyWritable() {\n    return this.acl.gw || false;\n  }\n\n  removeReader(user) {\n    const r = this.acl.r || [];\n    const pos = r.indexOf(user);\n\n    if (pos !== -1) {\n      r.splice(pos, 1);\n    }\n\n    this.acl.r = r;\n    return this;\n  }\n\n  removeReaderGroup(group) {\n    const groups = this.acl.groups || {};\n    const r = groups.r || [];\n    const pos = r.indexOf(group);\n\n    if (pos !== -1) {\n      r.splice(pos, 1);\n    }\n\n    groups.r = r;\n    this.acl.groups = groups;\n    return this;\n  }\n\n  removeWriter(user) {\n    const w = this.acl.w || [];\n    const pos = w.indexOf(user);\n\n    if (pos !== -1) {\n      w.splice(pos, 1);\n    }\n\n    this.acl.w = w;\n    return this;\n  }\n\n  removeWriterGroup(group) {\n    const groups = this.acl.groups || {};\n    const w = groups.w || [];\n    const pos = w.indexOf(group);\n\n    if (pos !== -1) {\n      w.splice(pos, 1);\n    }\n\n    groups.w = w;\n    this.acl.groups = groups;\n    return this;\n  }\n\n  toJSON() {\n    return this.acl;\n  }\n}\n","import { KinveyError } from './errors';\nimport { Query } from './query';\nimport result from 'lodash/result';\nimport assign from 'lodash/assign';\nimport forEach from 'lodash/forEach';\nimport isObject from 'lodash/isObject';\nimport isString from 'lodash/isString';\nimport isFunction from 'lodash/isFunction';\n\nexport class Aggregation {\n  constructor(options) {\n    options = assign({\n      query: null,\n      initial: {},\n      key: {},\n      reduce: function () {}.toString()\n    }, options);\n\n    this.query(options.query);\n    this._initial = options.initial;\n    this._key = options.key;\n    this._reduce = options.reduce;\n  }\n\n  by(field) {\n    this._key[field] = true;\n    return this;\n  }\n\n  initial(objectOrKey, value) {\n    if (typeof value === 'undefined' && !isObject(objectOrKey)) {\n      throw new KinveyError('objectOrKey argument must be an Object.');\n    }\n\n    if (isObject(objectOrKey)) {\n      this._initial = objectOrKey;\n    } else {\n      this._initial[objectOrKey] = value;\n    }\n\n    return this;\n  }\n\n  query(query) {\n    if (query && !(query instanceof Query)) {\n      query = new Query(result(query, 'toJSON', query));\n    }\n\n    this._query = query;\n    return this;\n  }\n\n  process(entities = []) {\n    const groups = {};\n    const response = [];\n    const aggregation = this.toJSON();\n    const reduce = aggregation.reduce.replace(/function[\\s\\S]*?\\([\\s\\S]*?\\)/, '');\n    aggregation.reduce = new Function(['doc', 'out'], reduce); // eslint-disable-line no-new-func\n\n    if (this._query) {\n      entities = this._query.process(entities);\n    }\n\n    forEach(entities, entity => {\n      const group = {};\n\n      for (const name in entity) {\n        if (entity.hasOwnProperty(name)) {\n          group[name] = entity[name];\n        }\n      }\n\n      const key = JSON.stringify(group);\n      if (!groups[key]) {\n        groups[key] = group;\n\n        for (const attr in aggregation.initial) {\n          if (aggregation.initial.hasOwnProperty(attr)) {\n            groups[key][attr] = aggregation.initial[attr];\n          }\n        }\n      }\n\n      aggregation.reduce(entity, groups[key]);\n    });\n\n    for (const segment in groups) {\n      if (groups.hasOwnProperty(segment)) {\n        response.push(groups[segment]);\n      }\n    }\n\n    return response;\n  }\n\n  reduce(fn) {\n    if (isFunction(fn)) {\n      fn = fn.toString();\n    }\n\n    if (!isString(fn)) {\n      throw new KinveyError('fn argument must be of type function or string.');\n    }\n\n    this._reduce = fn;\n    return this;\n  }\n\n  toJSON() {\n    const json = {\n      key: this._key,\n      initial: this._initial,\n      reduce: this._reduce,\n      condition: this._query ? this._query.toJSON().filter : {},\n      query: this._query ? this._query.toJSON() : null\n    };\n\n    return json;\n  }\n\n  static count(field = '') {\n    const aggregation = new Aggregation();\n\n    if (field) {\n      aggregation.by(field);\n    }\n\n    aggregation.initial({ result: 0 });\n    aggregation.reduce(function (doc, out) {\n      out.result += 1;\n    });\n    return aggregation;\n  }\n\n  static sum(field = '') {\n    field = field.replace('\\'', '\\\\\\'');\n\n    const aggregation = new Aggregation();\n    aggregation.initial({ result: 0 });\n    aggregation.reduce(`function(doc, out) { ` +\n      ` out.result += doc[\"${field}\"]; ` +\n      `}`\n    );\n    return aggregation;\n  }\n\n  static min(field = '') {\n    field = field.replace('\\'', '\\\\\\'');\n\n    const aggregation = new Aggregation();\n    aggregation.initial({ result: Infinity });\n    aggregation.reduce(`function(doc, out) { ` +\n      ` out.result = Math.min(out.result, doc[\"${field}\"]); ` +\n      `}`\n    );\n    return aggregation;\n  }\n\n  static max(field = '') {\n    field = field.replace('\\'', '\\\\\\'');\n\n    const aggregation = new Aggregation();\n    aggregation.initial({ result: -Infinity });\n    aggregation.reduce(`function(doc, out) { ` +\n      ` out.result = Math.max(out.result, doc[\"${field}\"]); ` +\n      `}`\n    );\n    return aggregation;\n  }\n\n  static average(field = '') {\n    field = field.replace('\\'', '\\\\\\'');\n\n    const aggregation = new Aggregation();\n    aggregation.initial({ count: 0, result: 0 });\n    aggregation.reduce(`function(doc, out) { ` +\n      ` out.result = (out.result * out.count + doc[\"${field}\"]) / (out.count + 1);` +\n      ` out.count += 1;` +\n      `}`\n    );\n    return aggregation;\n  }\n}\n","import { KinveyError } from './errors';\nimport localStorage from 'local-storage';\nimport url from 'url';\nimport assign from 'lodash/assign';\nimport isString from 'lodash/isString';\nconst activeUserCollectionName = process.env.KINVEY_ACTIVE_USER_COLLECTION_NAME || 'kinvey_activeUser';\nconst activeSocialIdentityTokenCollectionName = process.env.KINVEY_ACTIVE_SOCIAL_IDENTITY_TOKEN_COLLECTION_NAME\n                                                || 'kinvey_activeSocialIdentityToken';\nlet sharedInstance;\n\n/**\n * The Client class stores information regarding your application. You can create mutiple clients\n * to send requests to different environments on the Kinvey platform.\n *\n * @example\n * var client = new Kinvey.Client({\n *   appKey: '<appKey>',\n *   appSecret: '<appSecret>'\n * });\n */\nexport class Client {\n  /**\n   * Creates a new instance of the Client class. An `options.appKey` must be provided along with\n   * either and `options.appSecret` or `options.masterSecret`.\n   *\n   * @param {Object}    options                             Options\n   * @param {string}    [options.protocol='https']          Protocl used for requests\n   * @param {string}    [options.host='baas.kinvey.com']    Host used for requests\n   * @param {string}    options.appKey                      App Key\n   * @param {string}    [options.appSecret]                 App Secret\n   * @param {string}    [options.masterSecret]              App Master Secret\n   * @param {string}    [options.encryptionKey]             App Encryption Key\n   *\n   * @throws {KinveyError}  If an `options.appKey` is not provided.\n   * @throws {KinveyError}  If neither an `options.appSecret` or `options.masterSecret` is provided.\n   */\n  constructor(options = {}) {\n    options = assign({\n      protocol: process.env.KINVEY_API_PROTOCOL || 'https:',\n      host: process.env.KINVEY_API_HOST || 'baas.kinvey.com'\n    }, options);\n\n    if (!options.appKey && !options.appId) {\n      throw new KinveyError('No App Key was provided. ' +\n        'Unable to create a new Client without an App Key.');\n    }\n\n    if (!options.appSecret && !options.masterSecret) {\n      throw new KinveyError('No App Secret or Master Secret was provided. ' +\n        'Unable to create a new Client without an App Key.');\n    }\n\n    if (options.hostname && isString(options.hostname)) {\n      const hostnameParsed = url.parse(options.hostname);\n      options.protocol = hostnameParsed.protocol;\n      options.host = hostnameParsed.host;\n    }\n\n    /**\n     * @type {string}\n     */\n    this.protocol = options.protocol;\n\n    /**\n     * @type {string}\n     */\n    this.host = options.host;\n\n    /**\n     * @type {string}\n     */\n    this.appKey = options.appKey || options.appId;\n\n    /**\n     * @type {string|undefined}\n     */\n    this.appSecret = options.appSecret;\n\n    /**\n     * @type {string|undefined}\n     */\n    this.masterSecret = options.masterSecret;\n\n    /**\n     * @type {string|undefined}\n     */\n    this.encryptionKey = options.encryptionKey;\n  }\n\n  get baseUrl() {\n    return url.format({\n      protocol: this.protocol,\n      host: this.host\n    });\n  }\n\n  getActiveUserData() {\n    return localStorage.get(`${this.appKey}${activeUserCollectionName}`);\n  }\n\n  setActiveUserData(data) {\n    if (data) {\n      try {\n        return localStorage.set(`${this.appKey}${activeUserCollectionName}`, data);\n      } catch (error) {\n        return false;\n      }\n    }\n\n    return localStorage.remove(`${this.appKey}${activeUserCollectionName}`);\n  }\n\n  getActiveSocialIdentity() {\n    return localStorage.get(`${this.appKey}${activeSocialIdentityTokenCollectionName}`);\n  }\n\n  setActiveSocialIdentity(socialIdentity) {\n    if (socialIdentity) {\n      try {\n        return localStorage.set(`${this.appKey}${activeSocialIdentityTokenCollectionName}`, socialIdentity);\n      } catch (error) {\n        return false;\n      }\n    }\n\n    return localStorage.remove(`${this.appKey}${activeSocialIdentityTokenCollectionName}`);\n  }\n\n  /**\n   * Returns an object containing all the information for this Client.\n   *\n   * @return {Object} JSON\n   */\n  toJSON() {\n    const json = {\n      protocol: this.protocol,\n      host: this.host,\n      appKey: this.appKey,\n      appSecret: this.appSecret,\n      masterSecret: this.masterSecret,\n      encryptionKey: this.encryptionKey\n    };\n\n    return json;\n  }\n\n  /**\n   * Initializes the library by creating a new instance of the\n   * Client class and storing it as a shared instance.\n   *\n   * @param {Object}    options                             Options\n   * @param {string}    [options.protocol='https']          Protocl used for requests\n   * @param {string}    [options.host='baas.kinvey.com']    Host used for requests\n   * @param {string}    options.appKey                      App Key\n   * @param {string}    [options.appSecret]                 App Secret\n   * @param {string}    [options.masterSecret]              App Master Secret\n   * @param {string}    [options.encryptionKey]             App Encryption Key\n   *\n   * @throws {KinveyError}  If an `options.appKey` is not provided.\n   * @throws {KinveyError}  If neither an `options.appSecret` or `options.masterSecret` is provided.\n   *\n   * @return {Client}  An instance of Client.\n   *\n   * @example\n   * var client = Kinvey.Client.init({\n   *   appKey: '<appKey>',\n   *   appSecret: '<appSecret>'\n   * });\n   */\n  static init(options) {\n    const client = new Client(options);\n    sharedInstance = client;\n    return client;\n  }\n\n  /**\n   * Returns the shared client instance used by the library.\n   *\n   * @throws {KinveyError} If `Kinvey.init()` has not been called.\n   *\n   * @return {Client} The shared instance.\n   */\n  static sharedInstance() {\n    const client = sharedInstance;\n\n    if (!client) {\n      throw new KinveyError('You have not initialized the library. ' +\n        'Please call Kinvey.init() to initialize the library.');\n    }\n\n    return client;\n  }\n}\n","import { Client } from './client';\nimport { HttpMethod } from './enums';\nimport { KinveyError } from './errors';\nimport isString from 'lodash/isString';\nconst rpcNamespace = process.env.KINVEY_RPC_NAMESPACE || 'rpc';\n\n/**\n * Executes a custom command.\n */\nexport class Command {\n  /**\n   * Execute a custom command. A promise will be returned that will be resolved\n   * with the result of the command or rejected with an error.\n   *\n   * @param   {String}          command                           Command to execute.\n   * @param   {Object}          [args]                            Command arguments\n   * @param   {Object}          [options]                         Options\n   * @param   {Properties}      [options.properties]              Custom properties to send with\n   *                                                              the request.\n   * @param   {Number}          [options.timeout]                 Timeout for the request.\n   * @return  {Promise}                                           Promise\n   *\n   * @example\n   * var promise = Kinvey.Command.execute('myCustomCommand').then(function(data) {\n   *   ...\n   * }).catch(function(error) {\n   *   ...\n   * });\n   */\n  static execute(command, args, options = {}) {\n    const client = Client.sharedInstance();\n\n    if (!command) {\n      throw new KinveyError('A command is required.');\n    }\n\n    if (!isString(command)) {\n      throw new KinveyError('Command must be a string.');\n    }\n\n    return client.executeNetworkRequest({\n      method: HttpMethod.POST,\n      pathname: `/${rpcNamespace}/${options.client.appKey}/custom/${command}`,\n      properties: options.properties,\n      auth: client.defaultAuth(),\n      data: args,\n      timeout: options.timeout\n    }).then(response => {\n      return response.data;\n    });\n  }\n}\n","/**\n * Enum for Mobile Identity Connect authorization grants.\n */\nconst AuthorizationGrant = {\n  AuthorizationCodeLoginPage: 'AuthorizationCodeLoginPage',\n  AuthorizationCodeAPI: 'AuthorizationCodeAPI'\n};\nObject.freeze(AuthorizationGrant);\nexport { AuthorizationGrant };\n\nconst AuthType = {\n  All: 'All',\n  App: 'App',\n  Basic: 'Basic',\n  Default: 'Default',\n  Master: 'Master',\n  None: 'None',\n  Session: 'Session'\n};\nObject.freeze(AuthType);\nexport { AuthType };\n\n/**\n * Enum for DataStore types.\n */\nconst DataStoreType = {\n  Sync: 'Sync',\n  Cache: 'Cache',\n  Network: 'Network',\n  User: 'User',\n  File: 'File'\n};\nObject.freeze(DataStoreType);\nexport { DataStoreType };\n\n/**\n * @private\n * Enum for Http Methods.\n */\nconst HttpMethod = {\n  GET: 'GET',\n  POST: 'POST',\n  PATCH: 'PATCH',\n  PUT: 'PUT',\n  DELETE: 'DELETE'\n};\nObject.freeze(HttpMethod);\nexport { HttpMethod };\n\n/**\n * Enum for Social Identities.\n */\nconst SocialIdentity = {\n  Facebook: 'facebook',\n  Google: 'google',\n  LinkedIn: 'linkedin'\n};\nObject.freeze(SocialIdentity);\nexport { SocialIdentity };\n\n/**\n * @provate\n * Enum for Status Codes.\n */\nconst StatusCode = {\n  Ok: 200,\n  Created: 201,\n  RedirectTemporarily: 301,\n  RedirectPermanetly: 302,\n  NotFound: 404,\n  ServerError: 500\n};\nObject.freeze(StatusCode);\nexport { StatusCode };\n","import util from 'util';\nimport isFunction from 'lodash/isFunction';\n\n/**\n * @private\n */\nError.extend = function extend(name) {\n  const SubType = function SubType(message, debug) {\n    if (!(this instanceof SubType)) {\n      return new SubType(message, debug);\n    }\n\n    this.name = name;\n    this.message = message;\n    this.description = message;\n    this.debug = debug;\n\n    if (isFunction(Error.captureStackTrace)) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n  };\n\n  util.inherits(SubType, this);\n\n  SubType.prototype.toString = function toString() {\n    return `${this.name}: ${util.inspect(this.message)}`;\n  };\n\n  SubType.extend = this.extend;\n  return SubType;\n};\n\nexport const ActiveUserError = Error.extend('ActiveUserError');\nexport const InsufficientCredentialsError = Error.extend('InsufficientCredentialsError');\nexport const InvalidCredentialsError = Error.extend('InvalidCredentialsError');\nexport const KinveyError = Error.extend('KinveyError');\nexport const NetworkConnectionError = Error.extend('NetworkConnectionError');\nexport const NotFoundError = Error.extend('NotFoundError');\nexport const NoResponseError = Error.extend('NoResponseError');\n","import { Aggregation } from './aggregation';\nimport { Client } from './client';\nimport { Command } from './command';\nimport { Log } from './log';\nimport { Metadata } from './metadata';\nimport { Query } from './query';\nimport { DataStore } from './stores/datastore';\nimport { Sync } from './sync';\nimport { User } from './user';\nimport { AuthType, AuthorizationGrant, SocialIdentity, HttpMethod, DataStoreType } from './enums';\nimport { NetworkRequest } from './requests/network';\nimport url from 'url';\nconst appdataNamespace = process.env.KINVEY_DATASTORE_NAMESPACE || 'appdata';\n\nclass Kinvey {\n  /**\n   * Initializes the library with your app's information.\n   *\n   * @param   {Object}        options                         Options\n   * @param   {string}        options.appKey                  My app key\n   * @param   {string}        [options.appSecret]             My app secret\n   * @param   {string}        [options.masterSecret]          My app's master secret\n   * @param   {string}        [options.encryptionKey]         My app's encryption key\n   * @param   {string}        [options.protocol]              The protocol of the client.\n   * @param   {string}        [options.host]                  The host of the client.\n   * @return  {Client}                                        An instance of Client.\n   *\n   * @throws  {KinveyError}  If an `options.appKey` is not provided.\n   * @throws  {KinveyError}  If neither an `options.appSecret` or `options.masterSecret` is provided.\n   *\n   * @example\n   * var client = Kinvey.init({\n   *   appKey: 'appKey',\n   *   appSecret: 'appSecret'\n   * });\n   */\n  static init(options) {\n    const client = Client.init(options);\n    return client;\n  }\n\n  /**\n   * Pings the Kinvey service.\n   *\n   * @returns {Promise} The response.\n   */\n  static ping(client = Client.sharedInstance()) {\n    const request = new NetworkRequest({\n      method: HttpMethod.GET,\n      authType: AuthType.All,\n      url: url.format({\n        protocol: client.protocol,\n        host: client.host,\n        pathname: `${appdataNamespace}/${client.appKey}`\n      })\n    });\n\n    const promise = request.execute().then(response => {\n      return response.data;\n    });\n\n    return promise;\n  }\n}\n\nKinvey.Aggregation = Aggregation;\nKinvey.AuthorizationGrant = AuthorizationGrant;\nKinvey.Command = Command;\nKinvey.DataStore = DataStore;\nKinvey.DataStoreType = DataStoreType;\nKinvey.Log = Log;\nKinvey.Metadata = Metadata;\nKinvey.Promise = Promise;\nKinvey.Query = Query;\nKinvey.SocialIdentity = SocialIdentity;\nKinvey.Sync = Sync;\nKinvey.User = User;\nexport { Kinvey };\n","import Log from 'loglevel';\nconst originalFactory = Log.methodFactory;\n\nLog.methodFactory = function methodFactory(methodName, logLevel, loggerName) {\n  const rawMethod = originalFactory(methodName, logLevel, loggerName);\n\n  return function log(message) {\n    rawMethod(`Kinvey: ${message}`);\n  };\n};\n\nLog.setLevel(Log.levels.ERROR);\nexport { Log };\n","import { KinveyError } from './errors';\nimport isPlainObject from 'lodash/isPlainObject';\nconst kmdAttribute = process.env.KINVEY_KMD_ATTRIBUTE || '_kmd';\n\n/**\n * Wrapper for accessing the `_kmd` properties of an entity.\n */\nexport class Metadata {\n  constructor(entity = {}) {\n    if (!isPlainObject(entity)) {\n      throw new KinveyError('entity argument must be an object');\n    }\n\n    /**\n     * The kmd properties.\n     *\n     * @private\n     * @type {Object}\n     */\n    this.kmd = entity[kmdAttribute] || {};\n\n    /**\n     * The entity.\n     *\n     * @private\n     * @type {Object}\n     */\n    this.entity = entity;\n  }\n\n  get createdAt() {\n    if (this.kmd.ect) {\n      return Date.parse(this.kmd.ect);\n    }\n\n    return undefined;\n  }\n\n  get emailVerification() {\n    return this.kmd.emailVerification.status;\n  }\n\n  get lastModified() {\n    if (this.kmd.lmt) {\n      return Date.parse(this.kmd.lmt);\n    }\n\n    return undefined;\n  }\n\n  get lmt() {\n    return this.lastModified;\n  }\n\n  get authtoken() {\n    return this.kmd.authtoken;\n  }\n\n  set authtoken(authtoken) {\n    this.kmd.authtoken = authtoken;\n  }\n\n  toJSON() {\n    return this.kmd;\n  }\n}\n","import { AuthType, HttpMethod, AuthorizationGrant } from './enums';\nimport { KinveyError } from './errors';\nimport { NetworkRequest } from './requests/network';\nimport { Client } from './client';\nimport { Popup } from './utils/popup';\nimport path from 'path';\nimport url from 'url';\nimport isString from 'lodash/isString';\nconst authPathname = process.env.KINVEY_MIC_AUTH_PATHNAME || '/oauth/auth';\nconst tokenPathname = process.env.KINVEY_MIC_TOKEN_PATHNAME || '/oauth/token';\n\n/**\n * @private\n */\nexport class MobileIdentityConnect {\n  constructor(client = Client.sharedInstance()) {\n    this.client = new Client({\n      protocol: process.env.KINVEY_MIC_PROTOCOL || 'https:',\n      host: process.env.KINVEY_MIC_HOST || 'auth.kinvey.com',\n      appKey: client.appKey,\n      appSecret: client.appSecret,\n      masterSecret: client.masterSecret,\n      encryptionKey: client.encryptionKey\n    });\n  }\n\n  static get identity() {\n    return process.env.KINVEY_MIC_IDENTITY || 'kinveyAuth';\n  }\n\n  login(redirectUri, authorizationGrant = AuthorizationGrant.AuthorizationCodeLoginPage, options = {}) {\n    const clientId = this.client.appKey;\n\n    const promise = Promise.resolve().then(() => {\n      if (authorizationGrant === AuthorizationGrant.AuthorizationCodeLoginPage) {\n        // Step 1: Request a code\n        return this.requestCodeWithPopup(clientId, redirectUri, options);\n      } else if (authorizationGrant === AuthorizationGrant.AuthorizationCodeAPI) {\n        // Step 1a: Request a temp login url\n        return this.requestTempLoginUrl(clientId, redirectUri, options).then(url => {\n          // Step 1b: Request a code\n          return this.requestCodeWithUrl(url, clientId, redirectUri, options);\n        });\n      }\n\n      throw new KinveyError(`The authorization grant ${authorizationGrant} is unsupported. ` +\n        `Please use a supported authorization grant.`);\n    }).then(code => {\n      // Step 3: Request a token\n      return this.requestToken(code, clientId, redirectUri, options);\n    });\n\n    return promise;\n  }\n\n  requestTempLoginUrl(clientId, redirectUri, options = {}) {\n    let pathname = '/';\n\n    if (options.version) {\n      let version = options.version;\n\n      if (!isString(version)) {\n        version = String(version);\n      }\n\n      pathname = path.join(pathname, version.indexOf('v') === 0 ? version : `v${version}`);\n    }\n\n    const request = new NetworkRequest({\n      method: HttpMethod.POST,\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: path.join(pathname, authPathname)\n      }),\n      properties: options.properties,\n      data: {\n        client_id: clientId,\n        redirect_uri: redirectUri,\n        response_type: 'code'\n      }\n    });\n    return request.execute().then(response => {\n      return response.data.temp_login_uri;\n    });\n  }\n\n  requestCodeWithPopup(clientId, redirectUri, options = {}) {\n    const promise = Promise.resolve().then(() => {\n      let pathname = '/';\n\n      if (options.version) {\n        let version = options.version;\n\n        if (!isString(version)) {\n          version = String(version);\n        }\n\n        pathname = path.join(pathname, version.indexOf('v') === 0 ? version : `v${version}`);\n      }\n\n      const popup = new Popup(url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: path.join(pathname, authPathname),\n        query: {\n          client_id: clientId,\n          redirect_uri: redirectUri,\n          response_type: 'code'\n        }\n      }));\n      return popup.open();\n    }).then((popup) => {\n      return new Promise((resolve, reject) => {\n        let redirected = false;\n\n        function loadHandler(loadedUrl) {\n          if (loadedUrl.indexOf(redirectUri) === 0) {\n            redirected = true;\n            popup.removeAllListeners();\n            popup.close();\n            resolve(url.parse(loadedUrl, true).query.code);\n          }\n        }\n\n        function closeHandler() {\n          popup.removeAllListeners();\n\n          if (!redirected) {\n            reject(new Error('Login has been cancelled.'));\n          }\n        }\n\n        popup.on('loaded', loadHandler);\n        popup.on('closed', closeHandler);\n      });\n    });\n\n    return promise;\n  }\n\n  requestCodeWithUrl(loginUrl, clientId, redirectUri, options = {}) {\n    const promise = Promise.resolve().then(() => {\n      const request = new NetworkRequest({\n        method: HttpMethod.POST,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        url: loginUrl,\n        properties: options.properties,\n        data: {\n          client_id: clientId,\n          redirect_uri: redirectUri,\n          response_type: 'code',\n          username: options.username,\n          password: options.password\n        },\n        followRedirect: false\n      });\n      return request.execute();\n    }).then(response => {\n      const location = response.getHeader('location');\n\n      if (location) {\n        return url.parse(location, true).query.code;\n      }\n\n      throw new KinveyError(`Unable to authorize user with username ${options.username}.`);\n    });\n\n    return promise;\n  }\n\n  requestToken(code, clientId, redirectUri, options = {}) {\n    const request = new NetworkRequest({\n      method: HttpMethod.POST,\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      authType: AuthType.App,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: tokenPathname\n      }),\n      properties: options.properties,\n      data: {\n        grant_type: 'authorization_code',\n        client_id: clientId,\n        redirect_uri: redirectUri,\n        code: code\n      }\n    });\n    request.automaticallyRefreshAuthToken = false;\n\n    const promise = request.execute().then(response => {\n      return response.data;\n    });\n    return promise;\n  }\n\n  // refresh(token, options) {\n  //   const clientId = this.client.appKey;\n  //   return this.refreshToken(clientId, token, options);\n  // }\n\n  // refreshToken(clientId, token, options = {}) {\n  //   const request = new NetworkRequest({\n  //     method: HttpMethod.POST,\n  //     headers: {\n  //       'Content-Type': 'application/x-www-form-urlencoded'\n  //     },\n  //     authType: AuthType.App,\n  //     url: url.format({\n  //       protocol: this.client.protocol,\n  //       host: this.client.host,\n  //       pathname: tokenPathname\n  //     }),\n  //     properties: options.properties,\n  //     data: {\n  //       grant_type: 'refresh_token',\n  //       client_id: clientId,\n  //       redirect_uri: token.redirect_uri,\n  //       refresh_token: token.refresh_token\n  //     }\n  //   });\n  //   request.automaticallyRefreshAuthToken = false;\n\n  //   const promise = request.execute().then(response => {\n  //     return response.data;\n  //   });\n\n  //   return promise;\n  // }\n}\n","import { nested } from './utils/object';\nimport sift from 'sift';\nimport assign from 'lodash/assign';\nimport isArray from 'lodash/isArray';\nimport isNumber from 'lodash/isNumber';\nimport isString from 'lodash/isString';\nimport isObject from 'lodash/isObject';\nimport isRegExp from 'lodash/isRegExp';\n\nexport class Query {\n  constructor(options) {\n    options = assign({\n      fields: [],\n      filter: {},\n      sort: {},\n      limit: null,\n      skip: 0\n    }, options);\n\n    /**\n     * Fields to select.\n     *\n     * @type {Array}\n     */\n    this._fields = options.fields;\n\n    /**\n     * The MongoDB query.\n     *\n     * @type {Object}\n     */\n    this._filter = options.filter;\n\n    /**\n     * The sorting order.\n     *\n     * @type {Object}\n     */\n    this._sort = options.sort;\n\n    /**\n     * Number of documents to select.\n     *\n     * @type {?Number}\n     */\n    this._limit = options.limit;\n\n    /**\n     * Number of documents to skip from the start.\n     *\n     * @type {Number}\n     */\n    this._skip = options.skip;\n\n    /**\n     * Maintain reference to the parent query in case the query is part of a\n     * join.\n     *\n     * @type {?PrivateQuery}\n     */\n    this.parent = null;\n  }\n\n  /**\n   * Adds an equal to filter to the query. Requires `field` to equal `value`.\n   * Any existing filters on `field` will be discarded.\n   * http://docs.mongodb.org/manual/reference/operators/#comparison\n   *\n   * @param   {String}        field     Field.\n   * @param   {*}             value     Value.\n   * @returns {Query}                   The query.\n   */\n  equalTo(field, value) {\n    this._filter[field] = value;\n    return this;\n  }\n\n  /**\n   * Adds a contains filter to the query. Requires `field` to contain at least\n   * one of the members of `list`.\n   * http://docs.mongodb.org/manual/reference/operator/in/\n   *\n   * @param   {String}        field     Field.\n   * @param   {Array}         values    List of values.\n   * @throws  {Error}                   `values` must be of type: `Array`.\n   * @returns {Query}                   The query.\n   */\n  contains(field, values) {\n    if (!isArray(values)) {\n      values = [values];\n    }\n\n    return this.addFilter(field, '$in', values);\n  }\n\n  /**\n   * Adds a contains all filter to the query. Requires `field` to contain all\n   * members of `list`.\n   * http://docs.mongodb.org/manual/reference/operator/all/\n   *\n   * @param   {String}  field     Field.\n   * @param   {Array}   values    List of values.\n   * @throws  {Error}             `values` must be of type: `Array`.\n   * @returns {Query}             The query.\n   */\n  containsAll(field, values) {\n    if (!isArray(values)) {\n      values = [values];\n    }\n\n    return this.addFilter(field, '$all', values);\n  }\n\n  /**\n   * Adds a greater than filter to the query. Requires `field` to be greater\n   * than `value`.\n   * http://docs.mongodb.org/manual/reference/operator/gt/\n   *\n   * @param   {String}          field     Field.\n   * @param   {Number|String}   value     Value.\n   * @throws  {Error}                     `value` must be of type: `number` or `string`.\n   * @returns {Query}                     The query.\n   */\n  greaterThan(field, value) {\n    if (!isNumber(value) && !isString(value)) {\n      throw new Error('You must supply a number or string.');\n    }\n\n    return this.addFilter(field, '$gt', value);\n  }\n\n  greaterThanOrEqualTo(field, value) {\n    if (!isNumber(value) && !isString(value)) {\n      throw new Error('You must supply a number or string.');\n    }\n\n    return this.addFilter(field, '$gte', value);\n  }\n\n  lessThan(field, value) {\n    if (!isNumber(value) && !isString(value)) {\n      throw new Error('You must supply a number or string.');\n    }\n\n    return this.addFilter(field, '$lt', value);\n  }\n\n  lessThanOrEqualTo(field, value) {\n    if (!isNumber(value) && !isString(value)) {\n      throw new Error('You must supply a number or string.');\n    }\n\n    return this.addFilter(field, '$lte', value);\n  }\n\n  notEqualTo(field, value) {\n    return this.addFilter(field, '$ne', value);\n  }\n\n  notContainedIn(field, values) {\n    if (!isArray(values)) {\n      values = [values];\n    }\n\n    return this.addFilter(field, '$nin', values);\n  }\n\n  and() {\n    return this.join('$and', Array.prototype.slice.call(arguments));\n  }\n\n  nor() {\n    if (this.parent && this.parent.filter.$and) {\n      return this.parent.nor.apply(this.parent, arguments);\n    }\n\n    return this.join('$nor', Array.prototype.slice.call(arguments));\n  }\n\n  or() {\n    if (this.parent) {\n      return this.parent.or.apply(this.parent, arguments);\n    }\n\n    return this.join('$or', Array.prototype.slice.call(arguments));\n  }\n\n  exists(field, flag) {\n    flag = typeof flag === 'undefined' ? true : flag || false;\n    return this.addFilter(field, '$exists', flag);\n  }\n\n  mod(field, divisor, remainder) {\n    remainder = remainder || 0;\n\n    if (isString(divisor)) {\n      divisor = parseFloat(divisor);\n    }\n\n    if (isString(remainder)) {\n      remainder = parseFloat(remainder);\n    }\n\n    if (!isNumber(divisor)) {\n      throw new Error('Divisor must be a number.');\n    }\n\n    if (!isNumber(remainder)) {\n      throw new Error('Remainder must be a number.');\n    }\n\n    return this.addFilter(field, '$mod', [divisor, remainder]);\n  }\n\n  matches(field, regExp, options) {\n    options = options || {};\n\n    if (!isRegExp(regExp)) {\n      regExp = new RegExp(regExp);\n    }\n\n    if ((regExp.ignoreCase || options.ignoreCase) && options.ignoreCase !== false) {\n      throw new Error('ignoreCase glag is not supported.');\n    }\n\n    if (regExp.source.indexOf('^') !== 0) {\n      throw new Error('regExp must have `^` at the beginning of the expression ' +\n        'to make it an anchored expression.');\n    }\n\n    const flags = [];\n\n    if ((regExp.multiline || options.multiline) && options.multiline !== false) {\n      flags.push('m');\n    }\n\n    if (options.extended) {\n      flags.push('x');\n    }\n\n    if (options.dotMatchesAll) {\n      flags.push('s');\n    }\n\n    const result = this.addFilter(field, '$regex', regExp.source);\n\n    if (flags.length) {\n      this.addFilter(field, '$options', flags.join(''));\n    }\n\n    return result;\n  }\n\n  near(field, coord, maxDistance) {\n    if (!isArray(coord) || !coord[0] || !coord[1]) {\n      throw new Error('coord argument must be of type: [number, number]');\n    }\n\n    coord[0] = parseFloat(coord[0]);\n    coord[1] = parseFloat(coord[1]);\n\n    const result = this.addFilter(field, '$nearSphere', [coord[0], coord[1]]);\n\n    if (maxDistance) {\n      this.addFilter(field, '$maxDistance', maxDistance);\n    }\n\n    return result;\n  }\n\n  withinBox(field, bottomLeftCoord, upperRightCoord) {\n    if (!isArray(bottomLeftCoord) || !bottomLeftCoord[0] || !bottomLeftCoord[1]) {\n      throw new Error('bottomLeftCoord argument must be of type: [number, number]');\n    }\n\n    if (!isArray(upperRightCoord) || !upperRightCoord[0] || !upperRightCoord[1]) {\n      throw new Error('upperRightCoord argument must be of type: [number, number]');\n    }\n\n    bottomLeftCoord[0] = parseFloat(bottomLeftCoord[0]);\n    bottomLeftCoord[1] = parseFloat(bottomLeftCoord[1]);\n    upperRightCoord[0] = parseFloat(upperRightCoord[0]);\n    upperRightCoord[1] = parseFloat(upperRightCoord[1]);\n\n    const coords = [\n      [bottomLeftCoord[0], bottomLeftCoord[1]],\n      [upperRightCoord[0], upperRightCoord[1]]\n    ];\n    return this.addFilter(field, '$within', { $box: coords });\n  }\n\n  withinPolygon(field, coords) {\n    if (!isArray(coords) || coords.length > 3) {\n      throw new Error('coords argument must be of type: [[number, number]]');\n    }\n\n    coords = coords.map(function (coord) {\n      if (!coord[0] || !coord[1]) {\n        throw new Error('coords argument must be of type: [number, number]');\n      }\n\n      return [parseFloat(coord[0]), parseFloat(coord[1])];\n    });\n\n    return this.addFilter(field, '$within', { $polygon: coords });\n  }\n\n  size(field, size) {\n    if (isString(size)) {\n      size = parseFloat(size);\n    }\n\n    if (!isNumber(size)) {\n      throw new Error('size argument must be a number');\n    }\n\n    return this.addFilter(field, '$size', size);\n  }\n\n  fields(fields) {\n    fields = fields || [];\n\n    if (!isArray(fields)) {\n      throw new Error('fields argument must an Array.');\n    }\n\n    if (this.parent) {\n      this.parent.fields(fields);\n    } else {\n      this._fields = fields;\n    }\n\n    return this;\n  }\n\n  limit(limit) {\n    if (isString(limit)) {\n      limit = parseFloat(limit);\n    }\n\n    if (limit && !isNumber(limit)) {\n      throw new Error('limit argument must be of type: number.');\n    }\n\n    if (this._parent) {\n      this.parent.limit(limit);\n    } else {\n      this._limit = limit;\n    }\n\n    return this;\n  }\n\n  skip(skip) {\n    if (isString(skip)) {\n      skip = parseFloat(skip);\n    }\n\n    if (!isNumber(skip)) {\n      throw new Error('skip argument must be of type: number.');\n    }\n\n    if (this.parent) {\n      this.parent.skip(skip);\n    } else {\n      this._skip = skip;\n    }\n\n    return this;\n  }\n\n  ascending(field) {\n    if (this.parent) {\n      this.parent.ascending(field);\n    } else {\n      this._sort[field] = 1;\n    }\n\n    return this;\n  }\n\n  descending(field) {\n    if (this.parent) {\n      this.parent.descending(field);\n    } else {\n      this._sort[field] = -1;\n    }\n\n    return this;\n  }\n\n  sort(sort) {\n    if (sort && !isObject(sort)) {\n      throw new Error('sort argument must be of type: Object.');\n    }\n\n    if (this.parent) {\n      this.parent.sort(sort);\n    } else {\n      this._sort = sort || {};\n    }\n\n    return this;\n  }\n\n  /**\n   * Adds a filter to the query.\n   *\n   * @param   {String}          field       Field.\n   * @param   {String}          condition   Condition.\n   * @param   {*}               value       Value.\n   * @returns {PrivateQuery}                The query.\n   */\n  addFilter(field, condition, values) {\n    if (!isObject(this._filter[field])) {\n      this._filter[field] = {};\n    }\n\n    this._filter[field][condition] = values;\n    return this;\n  }\n\n  /**\n   * Joins the current query with another query using an operator.\n   *\n   * @param   {String}                    operator    Operator.\n   * @param   {PrivateQuery[]|Object[]}   queries     Queries.\n   * @throws  {Error}                                `query` must be of type: `Kinvey.Query[]` or `Object[]`.\n   * @returns {PrivateQuery}                          The query.\n   */\n  join(operator, queries) {\n    let _this = this;\n    const currentQuery = {};\n\n    // Cast, validate, and parse arguments. If `queries` are supplied, obtain\n    // the `filter` for joining. The eventual return function will be the\n    // current query.\n    queries = queries.map(function (query) {\n      if (!(query instanceof PrivateQuery)) {\n        if (isObject(query)) {\n          query = new PrivateQuery(query);\n        } else {\n          throw new Error('query argument must be of type: Kinvey.Query[] or Object[].');\n        }\n      }\n\n      return query.toJSON().filter;\n    });\n\n    // If there are no `queries` supplied, create a new (empty) `Query`.\n    // This query is the right-hand side of the join expression, and will be\n    // returned to allow for a fluent interface.\n    if (queries.length === 0) {\n      _this = new PrivateQuery();\n      queries = [_this.toJSON().filter];\n      _this.parent = this; // Required for operator precedence and `toJSON`.\n    }\n\n    // Join operators operate on the top-level of `filter`. Since the `toJSON`\n    // magic requires `filter` to be passed by reference, we cannot simply re-\n    // assign `filter`. Instead, empty it without losing the reference.\n    for (const member in this._filter) {\n      if (this._filter.hasOwnProperty(member)) {\n        currentQuery[member] = this._filter[member];\n        delete this._filter[member];\n      }\n    }\n\n    // `currentQuery` is the left-hand side query. Join with `queries`.\n    this._filter[operator] = [currentQuery].concat(queries);\n\n    // Return the current query if there are `queries`, and the new (empty)\n    // `PrivateQuery` otherwise.\n    return _this;\n  }\n\n  /**\n   * Processes the data by applying fields, sort, limit, and skip.\n   *\n   * @param   {Array}   data    The raw data.\n   * @throws  {Error}               `data` must be of type: `Array`.\n   * @returns {Array}               The processed data.\n   */\n  _process(data) {\n    if (data) {\n      // Validate arguments.\n      if (!isArray(data)) {\n        throw new Error('data argument must be of type: Array.');\n      }\n\n      // Apply the query\n      const json = this.toJSON();\n      data = sift(json.filter, data);\n\n      // Remove fields\n      if (json.fields && json.fields.length > 0) {\n        data = data.map((item) => {\n          for (const key in item) {\n            if (item.hasOwnProperty(key) && json.fields.indexOf(key) === -1) {\n              delete item[key];\n            }\n          }\n\n          return item;\n        });\n      }\n\n      // Sorting.\n      data = data.sort((a, b) => {\n        for (const field in json.sort) {\n          if (json.sort.hasOwnProperty(field)) {\n            // Find field in objects.\n            const aField = nested(a, field);\n            const bField = nested(b, field);\n\n            // Elements which do not contain the field should always be sorted\n            // lower.\n            if (aField && !bField) {\n              return -1;\n            }\n\n            if (bField && !aField) {\n              return 1;\n            }\n\n            // Sort on the current field. The modifier adjusts the sorting order\n            // (ascending (-1), or descending(1)). If the fields are equal,\n            // continue sorting based on the next field (if any).\n            if (aField !== bField) {\n              const modifier = json.sort[field]; // 1 or -1.\n              return (aField < bField ? -1 : 1) * modifier;\n            }\n          }\n        }\n\n        return 0;\n      });\n\n      // Limit and skip.\n      if (json.limit) {\n        return data.slice(json.skip, json.skip + json.limit);\n      }\n\n      return data.slice(json.skip);\n    }\n\n    return data;\n  }\n\n  /**\n   * Returns JSON representation of the query.\n   *\n   * @returns {Object} JSON object-literal.\n   */\n  toJSON() {\n    if (this.parent) {\n      return this.parent.toJSON();\n    }\n\n    // Return set of parameters.\n    const json = {\n      fields: this._fields,\n      filter: this._filter,\n      sort: this._sort,\n      skip: this._skip,\n      limit: this._limit\n    };\n\n    return json;\n  }\n}\n","const levels = [];\nconst c0 = String.fromCharCode(9500);\nconst c1 = String.fromCharCode(9472);\nconst c2 = String.fromCharCode(9492);\nconst c3 = String.fromCharCode(9474);\n\nfunction compose(node, end) {\n  if (node.level === 0) {\n    return node.value;\n  }\n\n  let ret = '\\r\\n';\n  const c = end ? c2 : c0;\n\n  for (let i = 1; i < node.level; i++) {\n    ret = `${ret}${levels[i] ? ' ' : c3}`;\n    ret = `${ret}  `;\n  }\n\n  return `${ret}${c}${c1} ${node.value}`;\n}\n\n/**\n * @private\n */\nexport const AsciiTree = {\n  generate(tree = {}, end) {\n    let result = compose(tree, end);\n\n    if (tree.nodes.length > 0) {\n      const last = tree.nodes.length - 1;\n      tree.nodes.forEach((subTree, index) => {\n        levels[subTree.level] = index === last;\n        result = result + this.generate(subTree, index === last);\n      });\n    }\n\n    return result;\n  }\n};\n","import Promise from 'babybird';\nimport { AsciiTree } from './asciiTree';\nimport { KinveyError } from '../errors';\nimport UrlPattern from 'url-pattern';\nimport url from 'url';\n\n/**\n * @private\n */\nexport class Middleware {\n  constructor(name = 'Middleware') {\n    this.name = name;\n  }\n\n  handle(request = {}) {\n    return Promise.resolve(request);\n  }\n\n  generateTree(level = 0) {\n    const root = {\n      value: this.name,\n      level: level,\n      nodes: []\n    };\n    return root;\n  }\n\n  toString() {\n    const root = this.generateTree();\n    return AsciiTree.generate(root);\n  }\n}\n\n/**\n * @private\n */\nexport class KinveyMiddleware extends Middleware {\n  constructor(name = 'Kinvey Middleware') {\n    super(name);\n  }\n\n  handle(request) {\n    return new Promise((resolve, reject) => {\n      if (request) {\n        const pathname = url.parse(request.url).pathname;\n        const pattern = new UrlPattern('(/:namespace)(/)(:appKey)(/)(:collection)(/)(:id)(/)');\n        const matches = pattern.match(pathname) || {};\n        return resolve({\n          namespace: matches.namespace,\n          appKey: matches.appKey,\n          collection: matches.collection,\n          id: matches.id\n        });\n      }\n\n      reject(new KinveyError('Request is null. Please provide a valid request.', request));\n    });\n  }\n}\n","import { KinveyMiddleware } from '../middleware';\nimport { DB, DBAdapter } from '../persistence/db';\nimport { HttpMethod, StatusCode } from '../../enums';\n\n/**\n * @private\n */\nexport class CacheMiddleware extends KinveyMiddleware {\n  constructor(adapters = [DBAdapter.Memory]) {\n    super('Kinvey Cache Middleware');\n    this.adapters = adapters;\n  }\n\n  handle(request) {\n    return super.handle(request).then(({ appKey, collection, id }) => {\n      const method = request.method;\n      const query = request.query;\n      const data = request.data;\n      const db = new DB(appKey, this.adapters);\n      let promise;\n\n      if (method === HttpMethod.GET) {\n        if (id) {\n          if (id === '_count') {\n            promise = db.count(collection, query);\n          } else if (id === '_group') {\n            promise = db.group(collection, data);\n          } else {\n            promise = db.findById(collection, id);\n          }\n        } else {\n          promise = db.find(collection, query);\n        }\n      } else if (method === HttpMethod.POST || method === HttpMethod.PUT) {\n        promise = db.save(collection, data);\n      } else if (method === HttpMethod.DELETE) {\n        if (id) {\n          promise = db.removeById(collection, id);\n        } else {\n          promise = db.remove(collection, query);\n        }\n      }\n\n      return promise.then(result => {\n        let statusCode = StatusCode.Ok;\n\n        if (method === HttpMethod.POST) {\n          statusCode = StatusCode.Created;\n        }\n\n        request.response = {\n          statusCode: statusCode,\n          headers: {},\n          data: result\n        };\n\n        return request;\n      });\n    });\n  }\n}\n","import { KinveyMiddleware } from '../middleware';\n\n/**\n * @private\n */\nexport class ParseMiddleware extends KinveyMiddleware {\n  constructor(name = 'Kinvey Parse Middleware') {\n    super(name);\n  }\n\n  handle(request) {\n    return super.handle(request).then(() => {\n      const response = request.response;\n\n      if (response && response.data) {\n        const contentType = response.headers['content-type'] || response.headers['Content-Type'];\n\n        if (contentType.indexOf('application/json') === 0) {\n          try {\n            response.data = JSON.parse(response.data);\n          } catch (err) {\n            response.data = response.data;\n          }\n\n          request.response = response;\n        }\n      }\n\n      return request;\n    });\n  }\n}\n","import { KinveyMiddleware } from '../middleware';\n\n/**\n * @private\n */\nexport class SerializeMiddleware extends KinveyMiddleware {\n  constructor(name = 'Kinvey Serialize Middleware') {\n    super(name);\n  }\n\n  handle(request) {\n    return super.handle(request).then(() => {\n      if (request && request.data) {\n        const contentType = request.headers['content-type'] || request.headers['Content-Type'];\n\n        if (contentType.indexOf('application/json') === 0) {\n          request.data = JSON.stringify(request.data);\n        } else if (contentType.indexOf('application/x-www-form-urlencoded') === 0) {\n          const data = request.data;\n          const str = [];\n\n          for (const p in data) {\n            if (data.hasOwnProperty(p)) {\n              str.push(`${global.encodeURIComponent(p)}=${global.encodeURIComponent(data[p])}`);\n            }\n          }\n\n          request.data = str.join('&');\n        }\n      }\n\n      return request;\n    });\n  }\n}\n","import { KinveyError, NotFoundError } from '../../../errors';\nimport forEach from 'lodash/forEach';\nimport isArray from 'lodash/isArray';\nimport isString from 'lodash/isString';\nimport isFunction from 'lodash/isFunction';\nconst dbCache = {};\n\nconst TransactionMode = {\n  ReadWrite: 'readwrite',\n  ReadOnly: 'readonly',\n};\nObject.freeze(TransactionMode);\n\nif (typeof window !== 'undefined') {\n  require('indexeddbshim');\n  global.shimIndexedDB.__useShim();\n}\n\nconst indexedDB = global.shimIndexedDB ||\n                  global.indexedDB ||\n                  global.mozIndexedDB ||\n                  global.webkitIndexedDB ||\n                  global.msIndexedDB;\n\n/**\n * @private\n */\nexport class IndexedDB {\n  constructor(name) {\n    if (!name) {\n      throw new KinveyError('A name for the collection is required to use the memory persistence adapter.', name);\n    }\n\n    if (!isString(name)) {\n      throw new KinveyError('The name of the collection must be a string to use the memory persistence adapter', name);\n    }\n\n    this.name = name;\n    this.inTransaction = false;\n    this.queue = [];\n  }\n\n  openTransaction(collection, write = false, success, error, force = false) {\n    let db = dbCache[this.name];\n\n    if (db) {\n      const containsCollection = isFunction(db.objectStoreNames.contains) ? db.objectStoreNames.contains(collection) : db.objectStoreNames.indexOf(collection) !== -1;\n      if (containsCollection) {\n        try {\n          const mode = write ? TransactionMode.ReadWrite : TransactionMode.ReadOnly;\n          const txn = db.transaction([collection], mode);\n\n          if (txn) {\n            const store = txn.objectStore(collection);\n            return success(store);\n          }\n\n          throw new KinveyError(`Unable to open a transaction for the ${collection} ` +\n            `collection on the ${this.name} indexedDB database.`);\n        } catch (err) {\n          return error(err);\n        }\n      } else if (!write) {\n        return error(new NotFoundError(`The ${collection} collection was not found on ` +\n          `the ${this.name} indexedDB database.`));\n      }\n    }\n\n    if (!force && this.inTransaction) {\n      return this.queue.push(() => {\n        this.openTransaction(collection, write, success, error);\n      });\n    }\n\n    // Switch flag\n    this.inTransaction = true;\n    let request;\n\n    if (db) {\n      const version = db.version + 1;\n      request = indexedDB.open(this.name, version);\n    } else {\n      request = indexedDB.open(this.name);\n    }\n\n    // If the database is opened with an higher version than its current, the\n    // `upgradeneeded` event is fired. Save the handle to the database, and\n    // create the collection.\n    request.onupgradeneeded = e => {\n      db = e.target.result;\n\n      if (write) {\n        db.createObjectStore(collection, { keyPath: '_id' });\n      }\n    };\n\n    // The `success` event is fired after `upgradeneeded` terminates.\n    // Save the handle to the database.\n    request.onsuccess = e => {\n      db = e.target.result;\n      dbCache[this.name] = db;\n\n      // If a second instance of the same IndexedDB database performs an\n      // upgrade operation, the `versionchange` event is fired. Then, close the\n      // database to allow the external upgrade to proceed.\n      db.onversionchange = () => {\n        if (db) {\n          db.close();\n          db = null;\n          dbCache[this.name] = null;\n        }\n      };\n\n      // Try to obtain the collection handle by recursing. Append the handlers\n      // to empty the queue upon success and failure. Set the `force` flag so\n      // all but the current transaction remain queued.\n      const wrap = done => {\n        return arg => {\n          done(arg);\n\n          // Switch flag\n          this.inTransaction = false;\n\n          // The database handle has been established, we can now safely empty\n          // the queue. The queue must be emptied before invoking the concurrent\n          // operations to avoid infinite recursion.\n          if (this.queue.length > 0) {\n            const pending = this.queue;\n            this.queue = [];\n            forEach(pending, fn => {\n              fn.call(this);\n            });\n          }\n        };\n      };\n\n      this.openTransaction(collection, write, wrap(success), wrap(error), true);\n    };\n\n    request.onblocked = () => {\n      error(new KinveyError(`The ${this.name} indexedDB database version can't be upgraded ` +\n        `because the database is already open.`));\n    };\n\n    request.onerror = e => {\n      error(new KinveyError(`Unable to open the ${this.name} indexedDB database. ` +\n        `Received the error code ${e.target.errorCode}.`));\n    };\n  }\n\n  find(collection) {\n    const promise = new Promise((resolve, reject) => {\n      if (!collection) {\n        return reject(new KinveyError('A collection was not provided.'));\n      }\n\n      this.openTransaction(collection, false, store => {\n        const request = store.openCursor();\n        const response = [];\n\n        request.onsuccess = function onSuccess(e) {\n          const cursor = e.target.result;\n\n          if (cursor) {\n            response.push(cursor.value);\n            return cursor.continue();\n          }\n\n          resolve(response);\n        };\n\n        request.onerror = (e) => {\n          reject(new KinveyError(`An error occurred while fetching data from the ${collection} ` +\n            `collection on the ${this.name} indexedDB database. Received the error code ${e.target.errorCode}.`));\n        };\n      }, error => {\n        if (error instanceof NotFoundError) {\n          return resolve([]);\n        }\n\n        reject(error);\n      });\n    });\n\n    return promise;\n  }\n\n  findById(collection, id) {\n    const promise = new Promise((resolve, reject) => {\n      this.openTransaction(collection, false, store => {\n        const request = store.get(id);\n\n        request.onsuccess = (e) => {\n          const entity = e.target.result;\n\n          if (entity) {\n            return resolve(entity);\n          }\n\n          reject(new NotFoundError(`An entity with _id = ${id} was not found in the ${collection} ` +\n            `collection on the ${this.name} indexedDB database.`));\n        };\n\n        request.onerror = (e) => {\n          reject(new KinveyError(`An error occurred while retrieving an entity with _id = ${id} ` +\n            `from the ${collection} collection on the ${this.name} indexedDB database. ` +\n            `Received the error code ${e.target.errorCode}.`));\n        };\n      }, error => {\n        if (error instanceof NotFoundError) {\n          return reject(new NotFoundError(`An entity with _id = ${id} was not found in the ${collection} ` +\n            `collection on the ${this.name} indexedDB database.`));\n        }\n\n        reject(error);\n      });\n    });\n\n    return promise;\n  }\n\n  save(collection, entities) {\n    let singular = false;\n\n    if (!isArray(entities)) {\n      entities = [entities];\n      singular = true;\n    }\n\n    if (entities.length === 0) {\n      return Promise.resolve(entities);\n    }\n\n    const promise = new Promise((resolve, reject) => {\n      this.openTransaction(collection, true, store => {\n        const request = store.transaction;\n\n        forEach(entities, entity => {\n          store.put(entity);\n        });\n\n        request.oncomplete = function onComplete() {\n          resolve(singular ? entities[0] : entities);\n        };\n\n        request.onerror = (e) => {\n          reject(new KinveyError(`An error occurred while saving the entities to the ${collection} ` +\n            `collection on the ${this.name} indexedDB database. Received the error code ${e.target.errorCode}.`));\n        };\n      }, reject);\n    });\n\n    return promise;\n  }\n\n  removeById(collection, id) {\n    const promise = new Promise((resolve, reject) => {\n      this.openTransaction(collection, true, store => {\n        const request = store.transaction;\n        const doc = store.get(id);\n        store.delete(id);\n\n        request.oncomplete = () => {\n          if (!doc.result) {\n            return reject(new NotFoundError(`An entity with id = ${id} was not found in the ${collection} `\n              + `collection on the ${this.name} indexedDB database.`));\n          }\n\n          resolve({\n            count: 1,\n            entities: [doc.result]\n          });\n        };\n\n        request.onerror = (e) => {\n          reject(new KinveyError(`An error occurred while deleting an entity with id = ${id} ` +\n            `in the ${collection} collection on the ${this.name} indexedDB database. ` +\n            `Received the error code ${e.target.errorCode}.`));\n        };\n      }, reject);\n    });\n\n    return promise;\n  }\n\n  static isSupported() {\n    return indexedDB ? true : false;\n  }\n}\n","import { NotFoundError } from '../../../errors';\nimport keyBy from 'lodash/keyBy';\nimport merge from 'lodash/merge';\nimport values from 'lodash/values';\nconst idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nconst localStorage = global.localStorage;\n\n/**\n * @private\n */\nexport class LocalStorage {\n  constructor(name = 'kinvey') {\n    this.name = name;\n  }\n\n  find(collection) {\n    return Promise.resolve().then(() => {\n      const data = localStorage.getItem(`${this.name}${collection}`);\n\n      try {\n        return JSON.parse(data);\n      } catch (err) {\n        return data;\n      }\n    }).then(entities => {\n      if (!entities) {\n        return [];\n      }\n\n      return entities;\n    });\n  }\n\n  findById(collection, id) {\n    return this.find(collection).then(entities => {\n      const entity = find(entities, entity => {\n        return entity[idAttribute] === id;\n      });\n\n      if (!entity) {\n        throw new NotFoundError(`An entity with _id = ${id} was not found in the ${collection} ` +\n          `collection on the ${this.name} memory database.`);\n      }\n\n      return entity;\n    });\n  }\n\n  save(collection, entities) {\n    return this.find(collection).then(existingEntities => {\n      const existingEntitiesById = keyBy(existingEntities, idAttribute);\n      const entitiesById = keyBy(entities, idAttribute);\n\n      for (const id in existingEntitiesById) {\n        if (existingEntitiesById.hasOwnProperty(id)) {\n          const existingEntity = existingEntitiesById[id];\n          const entity = entitiesById[id];\n\n          if (entity) {\n            entitiesById[id] = merge(existingEntity, entity);\n          }\n        }\n      }\n\n      localStorage.setItem(`${this.name}${collection}`, JSON.stringify(values(entitiesById)));\n      return entities;\n    });\n  }\n\n  removeById(collection, id) {\n    return this.find(collection).then(entities => {\n      const entitiesById = keyBy(entities, idAttribute);\n      const entity = entitiesById[id];\n\n      if (!entity) {\n        throw new NotFoundError(`An entity with _id = ${id} was not found in the ${collection} ` +\n          `collection on the ${this.name} memory database.`);\n      }\n\n      delete entitiesById[id];\n      localStorage.setItem(`${this.name}${collection}`, JSON.stringify(values(entitiesById)));\n\n      return {\n        count: 1,\n        entities: [entity]\n      };\n    });\n  }\n\n  static isSupported() {\n    if (localStorage) {\n      const item = 'testLocalStorageSupport';\n      try {\n        localStorage.setItem(item, item);\n        localStorage.removeItem(item);\n        return true;\n      } catch (e) {\n        return false;\n      }\n    }\n\n    return false;\n  }\n}\n","import Queue from 'promise-queue';\nimport { KinveyError, NotFoundError } from '../../../errors';\nimport MemoryCache from 'fast-memory-cache';\nimport keyBy from 'lodash/keyBy';\nimport values from 'lodash/values';\nimport find from 'lodash/find';\nimport isString from 'lodash/isString';\nimport isArray from 'lodash/isArray';\nconst idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nconst caches = [];\n\nQueue.configure(Promise);\nconst queue = new Queue(1, Infinity);\n\n/**\n * @private\n */\nexport class Memory {\n  constructor(name) {\n    if (!name) {\n      throw new KinveyError('A name for the collection is required to use the memory persistence adapter.', name);\n    }\n\n    if (!isString(name)) {\n      throw new KinveyError('The name of the collection must be a string to use the memory persistence adapter', name);\n    }\n\n    this.name = name;\n    this.cache = caches[name];\n\n    if (!this.cache) {\n      this.cache = new MemoryCache();\n      caches[name] = this.cache;\n    }\n  }\n\n  find(collection) {\n    return queue.add(() => {\n      return Promise.resolve().then(() => {\n        const entities = this.cache.get(`${this.name}${collection}`);\n\n        if (entities) {\n          try {\n            return JSON.parse(entities);\n          } catch (err) {\n            return entities;\n          }\n        }\n\n        return entities;\n      }).then(entities => {\n        if (!entities) {\n          return [];\n        }\n\n        return entities;\n      });\n    });\n  }\n\n  findById(collection, id) {\n    return this.find(collection).then(entities => {\n      const entity = find(entities, entity => {\n        return entity[idAttribute] === id;\n      });\n\n      if (!entity) {\n        throw new NotFoundError(`An entity with _id = ${id} was not found in the ${collection} ` +\n          `collection on the ${this.name} memory database.`);\n      }\n\n      return entity;\n    });\n  }\n\n  save(collection, entities) {\n    let singular = false;\n\n    if (!isArray(entities)) {\n      entities = [entities];\n      singular = true;\n    }\n\n    if (entities.length === 0) {\n      return Promise.resolve(entities);\n    }\n\n    return this.find(collection).then(existingEntities => {\n      existingEntities = keyBy(existingEntities, idAttribute);\n      entities = keyBy(entities, idAttribute);\n\n      for (const id in entities) {\n        if (entities.hasOwnProperty(id)) {\n          existingEntities[id] = entities[id];\n        }\n      }\n\n      this.cache.set(`${this.name}${collection}`, JSON.stringify(values(existingEntities)));\n      entities = values(entities);\n      return singular ? entities[0] : entities;\n    });\n  }\n\n  removeById(collection, id) {\n    return this.find(collection).then(entities => {\n      entities = keyBy(entities, idAttribute);\n      const entity = entities[id];\n\n      if (!entity) {\n        throw new NotFoundError(`An entity with _id = ${id} was not found in the ${collection} ` +\n          `collection on the ${this.name} memory database.`);\n      }\n\n      delete entities[id];\n      this.cache.set(`${this.name}${collection}`, JSON.stringify(values(entities)));\n\n      return {\n        count: 1,\n        entities: [entity]\n      };\n    });\n  }\n\n  static isSupported() {\n    return true;\n  }\n}\n","import { KinveyError, NotFoundError } from '../../../errors';\nimport map from 'lodash/map';\nimport forEach from 'lodash/forEach';\nimport isArray from 'lodash/isArray';\nimport isFunction from 'lodash/isFunction';\nimport isString from 'lodash/isString';\nconst idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nconst masterCollectionName = 'sqlite_master';\nconst size = 5 * 1000 * 1000; // Database size in bytes\nlet webSQL = null;\nconst dbCache = {};\n\nif (typeof window !== 'undefined') {\n  webSQL = {\n    openDatabase: typeof openDatabase !== 'undefined' ? openDatabase : global.openDatabase\n  };\n}\n\n/**\n * @private\n */\nexport class WebSQL {\n  constructor(name = 'kinvey') {\n    this.name = name;\n  }\n\n  openTransaction(collection, query, parameters, write = false) {\n    let db = dbCache[this.name];\n    const escapedCollection = `\"${collection}\"`;\n    const isMaster = collection === masterCollectionName;\n    const isMulti = isArray(query);\n\n    query = isMulti ? query : [[query, parameters]];\n\n    if (!db) {\n      db = webSQL.openDatabase(this.name, 1, '', size);\n      dbCache[this.name] = db;\n    }\n\n    const promise = new Promise((resolve, reject) => {\n      const writeTxn = write || !isFunction(db.readTransaction);\n      db[writeTxn ? 'transaction' : 'readTransaction'](tx => {\n        if (write && !isMaster) {\n          tx.executeSql(`CREATE TABLE IF NOT EXISTS ${escapedCollection} ` +\n            `(key BLOB PRIMARY KEY NOT NULL, value BLOB NOT NULL)`);\n        }\n\n        let pending = query.length;\n        const responses = [];\n\n        forEach(query, parts => {\n          const sql = parts[0].replace('#{collection}', escapedCollection);\n\n          tx.executeSql(sql, parts[1], (_, resultSet) => {\n            const response = {\n              rowCount: resultSet.rowsAffected,\n              result: []\n            };\n\n            if (resultSet.rows.length) {\n              for (let i = 0, len = resultSet.rows.length; i < len; i++) {\n                try {\n                  const value = resultSet.rows.item(i).value;\n                  const entity = isMaster ? value : JSON.parse(value);\n                  response.result.push(entity);\n                } catch (err) {\n                  // Catch the error\n                }\n              }\n            }\n\n            responses.push(response);\n            pending = pending - 1;\n\n            if (pending === 0) {\n              resolve(isMulti ? responses : responses.shift());\n            }\n          });\n        });\n      }, err => {\n        err = isString(err) ? err : err.message;\n\n        if (err && err.indexOf('no such table') === -1) {\n          return reject(new NotFoundError(`The ${collection} collection was not found on ` +\n            `the ${this.name} webSQL database.`));\n        }\n\n        const query = `SELECT name AS value from #{collection} WHERE type = ? AND name = ?`;\n        const parameters = ['table', collection];\n\n        this.openTransaction(masterCollectionName, query, parameters).then(response => {\n          if (response.result.length === 0) {\n            return reject(new NotFoundError(`The ${collection} collection was not found on ` +\n              `the ${this.name} webSQL database.`));\n          }\n\n          reject(new KinveyError(`Unable to open a transaction for the ${collection} ` +\n            `collection on the ${this.name} webSQL database.`));\n        }).catch(err => {\n          reject(new KinveyError(`Unable to open a transaction for the ${collection} ` +\n            `collection on the ${this.name} webSQL database.`, err));\n        });\n      });\n    });\n\n    return promise;\n  }\n\n  find(collection) {\n    const sql = 'SELECT value FROM #{collection}';\n    const promise = this.openTransaction(collection, sql, []).then(response => {\n      return response.result;\n    }).catch(error => {\n      if (error instanceof NotFoundError) {\n        return [];\n      }\n\n      throw error;\n    });\n    return promise;\n  }\n\n  findById(collection, id) {\n    const sql = 'SELECT value FROM #{collection} WHERE key = ?';\n    const promise = this.openTransaction(collection, sql, [id]).then(response => {\n      const entities = response.result;\n\n      if (entities.length === 0) {\n        throw new NotFoundError(`An entity with _id = ${id} was not found in the ${collection} ` +\n          `collection on the ${this.name} webSQL database.`);\n      }\n\n      return entities[0];\n    });\n    return promise;\n  }\n\n  save(collection, entities) {\n    const queries = [];\n    entities = map(entities, entity => {\n      queries.push([\n        'REPLACE INTO #{collection} (key, value) VALUES (?, ?)',\n        [entity[idAttribute], JSON.stringify(entity)]\n      ]);\n\n      return entity;\n    });\n\n    const promise = this.openTransaction(collection, queries, null, true).then(() => {\n      return entities;\n    });\n    return promise;\n  }\n\n  removeById(collection, id) {\n    const promise = this.openTransaction(collection, [\n      ['SELECT value FROM #{collection} WHERE key = ?', [id]],\n      ['DELETE FROM #{collection} WHERE key = ?', [id]],\n    ], null, true).then(response => {\n      const entities = response[0].result;\n      let count = response[1].rowCount;\n      count = count ? count : entities.length;\n\n      if (count === 0) {\n        throw new NotFoundError(`An entity with _id = ${id} was not found in the ${collection} ` +\n          `collection on the ${this.name} webSQL database.`);\n      }\n\n      return {\n        count: 1,\n        entities: entities\n      };\n    });\n\n    return promise;\n  }\n\n  static isSupported() {\n    return webSQL ? true : false;\n  }\n}\n","import { Query } from '../../query';\nimport { Aggregation } from '../../aggregation';\nimport { IndexedDB } from './adapters/indexeddb';\nimport { LocalStorage } from './adapters/localstorage';\nimport { Memory } from './adapters/memory';\nimport { WebSQL } from './adapters/websql';\nimport { KinveyError } from '../../errors';\nimport { Log } from '../../log';\nimport map from 'lodash/map';\nimport result from 'lodash/result';\nimport reduce from 'lodash/reduce';\nimport forEach from 'lodash/forEach';\nimport isString from 'lodash/isString';\nimport isArray from 'lodash/isArray';\nconst idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nconst kmdAttribute = process.env.KINVEY_KMD_ATTRIBUTE || '_kmd';\n\n/**\n * @private\n * Enum for DB Adapters.\n */\nconst DBAdapter = {\n  IndexedDB: 'IndexedDB',\n  LocalStorage: 'LocalStorage',\n  Memory: 'Memory',\n  WebSQL: 'WebSQL'\n};\nObject.freeze(DBAdapter);\nexport { DBAdapter };\n\n/**\n * @private\n */\nexport class DB {\n  constructor(name, adapters = [DBAdapter.IndexedDB, DBAdapter.WebSQL, DBAdapter.LocalStorage, DBAdapter.Memory]) {\n    if (!isArray(adapters)) {\n      adapters = [adapters];\n    }\n\n    forEach(adapters, adapter => {\n      switch (adapter) {\n        case DBAdapter.IndexedDB:\n          if (IndexedDB.isSupported()) {\n            this.adapter = new IndexedDB(name);\n            return false;\n          }\n\n          break;\n        case DBAdapter.LocalStorage:\n          if (LocalStorage.isSupported()) {\n            this.adapter = new LocalStorage(name);\n            return false;\n          }\n\n          break;\n        case DBAdapter.Memory:\n          if (Memory.isSupported()) {\n            this.adapter = new Memory(name);\n            return false;\n          }\n\n          break;\n        case DBAdapter.WebSQL:\n          if (WebSQL.isSupported()) {\n            this.adapter = new WebSQL(name);\n            return false;\n          }\n\n          break;\n        default:\n          Log.warn(`The ${adapter} adapter is is not recognized.`);\n      }\n    });\n\n    if (!this.adapter) {\n      if (Memory.isSupported()) {\n        Log.error('Provided adapters are unsupported on this platform. ' +\n          'Defaulting to StoreAdapter.Memory adapter.', adapters);\n        this.adapter = new Memory(name);\n      } else {\n        Log.error('Provided adapters are unsupported on this platform.', adapters);\n      }\n    }\n  }\n\n  get objectIdPrefix() {\n    return '';\n  }\n\n  generateObjectId(length = 24) {\n    const chars = 'abcdef0123456789';\n    let objectId = '';\n\n    for (let i = 0, j = chars.length; i < length; i++) {\n      const pos = Math.floor(Math.random() * j);\n      objectId += chars.substring(pos, pos + 1);\n    }\n\n    objectId = `${this.objectIdPrefix}${objectId}`;\n    return objectId;\n  }\n\n  find(collection, query) {\n    const promise = this.adapter.find(collection).then(entities => {\n      if (!entities) {\n        return [];\n      }\n\n      return entities;\n    }).then(entities => {\n      if (query && !(query instanceof Query)) {\n        query = new Query(result(query, 'toJSON', query));\n      }\n\n      if (entities.length > 0 && query) {\n        entities = query._process(entities);\n      }\n\n      return entities;\n    });\n\n    return promise;\n  }\n\n  count(collection, query) {\n    const promise = this.find(collection, query).then(entities => {\n      return entities.length;\n    });\n\n    return promise;\n  }\n\n  group(collection, aggregation) {\n    const promise = this.find(collection).then(entities => {\n      if (!(aggregation instanceof Aggregation)) {\n        aggregation = new Aggregation(result(aggregation, 'toJSON', aggregation));\n      }\n\n      if (entities.length > 0 && aggregation) {\n        return aggregation.process(entities);\n      }\n\n      return null;\n    });\n\n    return promise;\n  }\n\n  findById(collection, id) {\n    if (!isString(id)) {\n      return Promise.reject(new KinveyError('id must be a string', id));\n    }\n\n    const promise = this.adapter.findById(collection, id);\n    return promise;\n  }\n\n  save(collection, entities = []) {\n    let singular = false;\n\n    if (!entities) {\n      return Promise.resolve(null);\n    }\n\n    if (!isArray(entities)) {\n      singular = true;\n      entities = [entities];\n    }\n\n    entities = map(entities, entity => {\n      let id = entity[idAttribute];\n      const kmd = entity[kmdAttribute] || {};\n\n      if (!id) {\n        id = this.generateObjectId();\n        kmd.local = true;\n      }\n\n      delete kmd.lmt;\n      entity[idAttribute] = id;\n      entity[kmdAttribute] = kmd;\n      return entity;\n    });\n\n    return this.adapter.save(collection, entities).then(entities => {\n      if (singular && entities.length > 0) {\n        return entities[0];\n      }\n\n      return entities;\n    });\n  }\n\n  remove(collection, query) {\n    if (query && !(query instanceof Query)) {\n      query = new Query(result(query, 'toJSON', query));\n    }\n\n    // Removing should not take the query sort, limit, and skip into account.\n    if (query) {\n      query.sort(null).limit(null).skip(0);\n    }\n\n    const promise = this.find(collection, query).then(entities => {\n      const promises = entities.map(entity => {\n        return this.removeById(collection, entity[idAttribute]);\n      });\n\n      return Promise.all(promises);\n    }).then(responses => {\n      return reduce(responses, (result, response) => {\n        result.count += response.count;\n        result.entities = result.entities.concat(response.entities);\n        return result;\n      }, {\n        count: 0,\n        entities: []\n      });\n    });\n\n    return promise;\n  }\n\n  removeById(collection, id) {\n    if (!id) {\n      return Promise.resolve({\n        count: 0,\n        entities: []\n      });\n    }\n\n    if (!isString(id)) {\n      return Promise.reject(new KinveyError('id must be a string', id));\n    }\n\n    const promise = this.adapter.removeById(collection, id);\n    return promise;\n  }\n}\n","import { Middleware, KinveyMiddleware } from './middleware';\nimport { CacheMiddleware } from './middleware/cache';\nimport { ParseMiddleware } from './middleware/parse';\nimport { SerializeMiddleware } from './middleware/serialize';\nimport findIndex from 'lodash/findIndex';\nlet sharedCacheRackInstance;\nlet sharedNetworkRackInstance;\n\n/**\n * @private\n */\nexport class Rack extends KinveyMiddleware {\n  constructor(name = 'Rack') {\n    super(name);\n    this.middlewares = [];\n    this.canceled = false;\n  }\n\n  getMiddleware(index = -1) {\n    const middlewares = this.middlewares;\n\n    if (index < -1 || index >= middlewares.length) {\n      throw new Error(`Index ${index} is out of bounds.`);\n    }\n\n    return middlewares[index];\n  }\n\n  use(middleware) {\n    if (middleware) {\n      if (middleware instanceof KinveyMiddleware) {\n        this.middlewares.push(middleware);\n        return;\n      }\n\n      throw new Error('Unable to use the middleware. It must be an instance of Middleware.');\n    }\n  }\n\n  useBefore(middlewareClass, middleware) {\n    if (middleware) {\n      if (middleware instanceof Middleware) {\n        const middlewares = this.middlewares;\n        const index = findIndex(middlewares, (existingMiddleware => existingMiddleware instanceof middlewareClass));\n\n        if (index > -1) {\n          middlewares.splice(index, 0, middleware);\n          this.middlewares = middlewares;\n        }\n\n        return;\n      }\n\n      throw new Error('Unable to use the middleware. It must be an instance of Middleware.');\n    }\n  }\n\n  useAfter(middlewareClass, middleware) {\n    if (middleware) {\n      if (middleware instanceof Middleware) {\n        const middlewares = this.middlewares;\n        const index = findIndex(middlewares, (existingMiddleware => existingMiddleware instanceof middlewareClass));\n\n        if (index > -1) {\n          middlewares.splice(index + 1, 0, middleware);\n          this.middlewares = middlewares;\n        }\n\n        return;\n      }\n\n      throw new Error('Unable to use the middleware. It must be an instance of Middleware.');\n    }\n  }\n\n  swap(middlewareClass, middleware) {\n    if (middleware) {\n      if (middleware instanceof Middleware) {\n        const middlewares = this.middlewares;\n        const index = findIndex(middlewares, (existingMiddleware => existingMiddleware instanceof middlewareClass));\n\n        if (index > -1) {\n          middlewares.splice(index, 1, middleware);\n          this.middlewares = middlewares;\n        }\n\n        return;\n      }\n\n      throw new Error('Unable to use the middleware. It must be an instance of Middleware.');\n    }\n  }\n\n  remove(middlewareClass) {\n    const middlewares = this.middlewares;\n    const index = findIndex(middlewares, (existingMiddleware => existingMiddleware instanceof middlewareClass));\n\n    if (index > -1) {\n      middlewares.splice(index, 1);\n      this.middlewares = middlewares;\n      this.remove(middlewareClass);\n    }\n  }\n\n  reset() {\n    this.middlewares = [];\n  }\n\n  execute(request) {\n    if (!request) {\n      return Promise.reject(new Error('Request is null. Please provide a valid request.'));\n    }\n\n    return this._execute(0, this.middlewares, request);\n  }\n\n  _execute(index, middlewares, request) {\n    if (index < -1 || index >= middlewares.length) {\n      throw new Error(`Index ${index} is out of bounds.`);\n    }\n\n    const middleware = middlewares[index];\n    return middleware.handle(request).then(response => {\n      index = index + 1;\n\n      if (index < middlewares.length) {\n        return this._execute(index, middlewares, response);\n      }\n\n      return response;\n    });\n  }\n\n  cancel() {\n    this.canceled = true;\n  }\n\n  handle(request) {\n    return this.execute(request);\n  }\n\n  generateTree(level = 0) {\n    const root = super.generateTree(level);\n    const middlewares = this.middlewares;\n\n    middlewares.forEach((middleware) => {\n      root.nodes.push(middleware.generateTree(level + 1));\n    });\n\n    return root;\n  }\n}\n\n/**\n * @private\n */\nexport class KinveyRack extends Rack {\n  execute(request) {\n    const promise = super.execute(request).then(request => {\n      return request.response;\n    });\n    return promise;\n  }\n}\n\n/**\n * @private\n */\nexport class CacheRack extends KinveyRack {\n  constructor(name = 'Kinvey Cache Rack') {\n    super(name);\n    this.use(new CacheMiddleware());\n  }\n\n  static sharedInstance() {\n    let instance = sharedCacheRackInstance;\n\n    if (!instance) {\n      instance = new CacheRack();\n      sharedCacheRackInstance = instance;\n    }\n\n    return instance;\n  }\n}\n\n/**\n * @private\n */\nexport class NetworkRack extends KinveyRack {\n  constructor(name = 'Kinvey Network Rack') {\n    super(name);\n    this.use(new SerializeMiddleware());\n    this.use(new ParseMiddleware());\n  }\n\n  static sharedInstance() {\n    let instance = sharedNetworkRackInstance;\n\n    if (!instance) {\n      instance = new NetworkRack();\n      sharedNetworkRackInstance = instance;\n    }\n\n    return instance;\n  }\n}\n","import { KinveyRequest } from './request';\nimport { LocalRequest } from './local';\nimport { NetworkRequest } from './network';\nimport { Response } from './response';\nimport { HttpMethod, StatusCode } from '../enums';\nimport { NotFoundError } from '../errors';\nimport { Query } from '../query';\nimport keyBy from 'lodash/keyBy';\nimport reduce from 'lodash/reduce';\nimport result from 'lodash/result';\nimport values from 'lodash/values';\nconst idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nconst kmdAttribute = process.env.KINVEY_KMD_ATTRIBUTE || '_kmd';\nconst lmtAttribute = process.env.KINVEY_LMT_ATTRIBUTE || 'lmt';\nconst maxIdsPerRequest = process.env.KINVEY_MAX_IDS || 200;\n\n/**\n * @private\n */\nexport class DeltaFetchRequest extends KinveyRequest {\n  execute() {\n    const promise = super.execute().then(() => {\n      if (this.method !== HttpMethod.GET) {\n        throw new Error('Invalid http method. Http GET requests are only supported by DeltaFetchRequests.');\n      }\n\n      const localRequest = new LocalRequest({\n        method: HttpMethod.GET,\n        url: this.url,\n        headers: this.headers,\n        query: this.query,\n        timeout: this.timeout,\n        client: this.client\n      });\n      return localRequest.execute();\n    }).then(response => {\n      if (!response.isSuccess()) {\n        throw response.error;\n      }\n    }).catch(error => {\n      if (error instanceof NotFoundError) {\n        return new Response({\n          statusCode: StatusCode.Ok,\n          data: []\n        });\n      }\n\n      throw error;\n    }).then(cacheResponse => {\n      const cacheDocuments = keyBy(cacheResponse.data, idAttribute);\n      const query = new Query(result(this.query, 'toJSON', this.query));\n      query.fields([idAttribute, kmdAttribute]);\n      const networkRequest = new NetworkRequest({\n        method: HttpMethod.GET,\n        url: this.url,\n        headers: this.headers,\n        auth: this.auth,\n        query: query,\n        timeout: this.timeout,\n        client: this.client\n      });\n\n      return networkRequest.execute().then(networkResponse => {\n        const networkDocuments = keyBy(networkResponse.data, idAttribute);\n        const deltaSet = networkDocuments;\n\n        for (const id in cacheDocuments) {\n          if (cacheDocuments.hasOwnProperty(id)) {\n            const cacheDocument = cacheDocuments[id];\n            const networkDocument = networkDocuments[id];\n\n            if (networkDocument) {\n              if (networkDocument[kmdAttribute] && cacheDocument[kmdAttribute]\n                  && networkDocument[kmdAttribute][lmtAttribute] === cacheDocument[kmdAttribute][lmtAttribute]) {\n                delete deltaSet[id];\n              } else {\n                delete cacheDocuments[id];\n              }\n            } else {\n              delete cacheDocuments[id];\n            }\n          }\n        }\n\n        const deltaSetIds = Object.keys(deltaSet);\n        const promises = [];\n        let i = 0;\n\n        while (i < deltaSetIds.length) {\n          const query = new Query();\n          const ids = deltaSetIds.slice(i, deltaSetIds.length > maxIdsPerRequest + i ?\n                                           maxIdsPerRequest : deltaSetIds.length);\n          query.contains(idAttribute, ids);\n          const networkRequest = new NetworkRequest({\n            method: HttpMethod.GET,\n            url: this.url,\n            headers: this.headers,\n            auth: this.auth,\n            query: query,\n            timeout: this.timeout,\n            client: this.client\n          });\n\n          const promise = networkRequest.execute();\n          promises.push(promise);\n          i += maxIdsPerRequest;\n        }\n\n        return Promise.all(promises).then(responses => {\n          const initialResponse = new Response({\n            statusCode: StatusCode.Ok,\n            data: []\n          });\n          return reduce(responses, (result, response) => {\n            if (response.isSuccess()) {\n              result.addHeaders(response.headers);\n              result.data = result.data.concat(response.data);\n            }\n\n            return result;\n          }, initialResponse);\n        }).then(response => {\n          response.data = response.data.concat(values(cacheDocuments));\n\n          if (this.query) {\n            const query = new Query(result(this.query, 'toJSON', this.query));\n            query.skip(0).limit(0);\n            response.data = query._process(response.data);\n          }\n\n          return response;\n        });\n      });\n    });\n\n    return promise;\n  }\n}\n","import { KinveyRequest } from './request';\nimport { CacheRack } from '../rack/rack';\n\n/**\n * @private\n */\nexport class LocalRequest extends KinveyRequest {\n  constructor(options) {\n    super(options);\n    this.rack = CacheRack.sharedInstance();\n  }\n}\n","import { KinveyRequest } from './request';\nimport { NetworkRack } from '../rack/rack';\nimport { InvalidCredentialsError } from '../errors';\nimport { HttpMethod, AuthType } from '../enums';\nimport url from 'url';\nconst socialIdentityAttribute = process.env.KINVEY_SOCIAL_IDENTITY_ATTRIBUTE || '_socialIdentity';\nconst micIdentity = process.env.KINVEY_MIC_IDENTITY || 'kinveyAuth';\nconst tokenPathname = process.env.KINVEY_MIC_TOKEN_PATHNAME || '/oauth/token';\nconst usersNamespace = process.env.KINVEY_USERS_NAMESPACE || 'user';\n\n/**\n * @private\n */\nexport class NetworkRequest extends KinveyRequest {\n  constructor(options) {\n    super(options);\n    this.rack = NetworkRack.sharedInstance();\n    this.automaticallyRefreshAuthToken = true;\n  }\n\n  execute() {\n    const promise = super.execute().catch(error => {\n      if (error instanceof InvalidCredentialsError && this.automaticallyRefreshAuthToken) {\n        this.automaticallyRefreshAuthToken = false;\n        const activeSocialIdentity = this.client.getActiveSocialIdentity();\n\n        // Refresh MIC Auth Token\n        if (activeSocialIdentity && activeSocialIdentity.identity === micIdentity) {\n          // Refresh the token\n          const token = activeSocialIdentity.token;\n          const request = new NetworkRequest({\n            method: HttpMethod.POST,\n            headers: {\n              'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            authType: AuthType.App,\n            url: url.format({\n              protocol: activeSocialIdentity.client.protocol,\n              host: activeSocialIdentity.client.host,\n              pathname: tokenPathname\n            }),\n            properties: this.properties,\n            data: {\n              grant_type: 'refresh_token',\n              client_id: token.audience,\n              redirect_uri: activeSocialIdentity.redirectUri,\n              refresh_token: token.refresh_token\n            }\n          });\n          request.automaticallyRefreshAuthToken = false;\n\n          return request.execute().then(response => {\n            return response.data;\n          }).then(token => {\n            // Login the user with the new token\n            const activeUserData = this.client.getActiveUserData();\n            const socialIdentity = activeUserData[socialIdentityAttribute];\n            socialIdentity[activeSocialIdentity.identity] = token;\n            activeUserData[socialIdentityAttribute] = socialIdentity;\n\n            const request = new NetworkRequest({\n              method: HttpMethod.POST,\n              authType: AuthType.App,\n              url: url.format({\n                protocol: this.client.protocol,\n                host: this.client.host,\n                pathname: `/${usersNamespace}/${this.client.appKey}/login`\n              }),\n              properties: this.properties,\n              data: activeUserData,\n              timeout: this.timeout,\n              client: this.client\n            });\n            request.automaticallyRefreshAuthToken = false;\n            return request.execute();\n          }).then(response => {\n            // Store the new data\n            this.client.setActiveUserData(response.data);\n            this.client.setActiveSocialIdentity({\n              identity: activeSocialIdentity.identity,\n              redirectUri: activeSocialIdentity.redirectUri,\n              token: response.data[socialIdentityAttribute][activeSocialIdentity.identity]\n            });\n\n            // Execute the original request\n            return this.execute();\n          }).catch(() => {\n            throw error;\n          });\n        }\n      }\n\n      throw error;\n    }).then(response => {\n      this.automaticallyRefreshAuthToken = true;\n      return response;\n    }).catch(error => {\n      this.automaticallyRefreshAuthToken = true;\n      throw error;\n    });\n\n    return promise;\n  }\n}\n","import { KinveyError } from '../errors';\nimport isPlainObject from 'lodash/isPlainObject';\nconst appVersionKey = 'appVersion';\n\n/**\n * Request Properties class\n */\nexport class RequestProperties {\n  constructor(properties = {}) {\n    this.properties = properties;\n  }\n\n  get properties() {\n    return this._properties;\n  }\n\n  set properties(properties) {\n    this._properties = properties;\n  }\n\n  /**\n   * Return the app version request property.\n   *\n   * @return {String} App version\n   */\n  get appVersion() {\n    return this.getProperty(appVersionKey);\n  }\n\n  /**\n   * Set the app version request property. The app version can be provided\n   * in major.minor.patch format or something specific to your application.\n   *\n   * @param  {Any} version App version.\n   * @return {RequestProperties} The request properties instance.\n   */\n  set appVersion(version) {\n    version = Array.prototype.slice.call(arguments, 1);\n    const major = version[0];\n    const minor = version[1];\n    const patch = version[2];\n    let appVersion = '';\n\n    if (major) {\n      appVersion = (major + '').trim();\n    }\n\n    if (minor) {\n      appVersion = ('.' + minor).trim();\n    }\n\n    if (patch) {\n      appVersion = ('.' + patch).trim();\n    }\n\n    this.setProperty(appVersionKey, appVersion);\n    return this;\n  }\n\n  /**\n   * Returns the request property for the key or `undefined` if\n   * it has not been set.\n   *\n   * @param  {String} key Request property key\n   * @return {*} Request property value\n   */\n  getProperty(key) {\n    const properties = this.toJSON();\n\n    if (key && properties.hasOwnProperty(key)) {\n      return properties[key];\n    }\n\n    return undefined;\n  }\n\n  /**\n   * Sets the request property key to the value.\n   *\n   * @param {String} key Request property key\n   * @param {*} value Request property value\n   * @return {RequestProperties} The request properties instance.\n   */\n  setProperty(key, value) {\n    const properties = {};\n    properties[key] = value;\n    this.addProperties(properties);\n    return this;\n  }\n\n  addProperties(properties) {\n    if (!isPlainObject(properties)) {\n      throw new KinveyError('properties argument must be an object');\n    }\n\n    Object.keys(properties).forEach((key) => {\n      const value = properties[key];\n\n      if (value) {\n        this.properties[key] = value;\n      } else {\n        delete this.properties[key];\n      }\n    });\n  }\n\n  clear() {\n    this.properties = {};\n  }\n\n  clearProperty(key) {\n    const properties = this.properties;\n\n    if (key && properties.hasOwnProperty(key)) {\n      delete properties[key];\n    }\n  }\n\n  /**\n   * Clears the app version property.\n   *\n   * @return {RequestProperties} The request properties instance.\n   */\n  clearAppVersion() {\n    return this.clearProperty(appVersionKey);\n  }\n\n  toJSON() {\n    return this.properties;\n  }\n}\n","import { HttpMethod, AuthType } from '../enums';\nimport { Device } from '../utils/device';\nimport { RequestProperties } from './properties';\nimport { NoResponseError } from '../errors';\nimport { KinveyRack } from '../rack/rack';\nimport { Response } from './response';\nimport { Client } from '../client';\nimport { byteCount } from '../utils/string';\nimport qs from 'qs';\nimport appendQuery from 'append-query';\nimport assign from 'lodash/assign';\nimport result from 'lodash/result';\nimport forEach from 'lodash/forEach';\nimport isString from 'lodash/isString';\nimport isPlainObject from 'lodash/isPlainObject';\nimport isEmpty from 'lodash/isEmpty';\nconst kmdAttribute = process.env.KINVEY_KMD_ATTRIBUTE || '_kmd';\n\nconst Auth = {\n  /**\n   * Authenticate through (1) user credentials, (2) Master Secret, or (3) App\n   * Secret.\n   *\n   * @returns {Object}\n   */\n  all(client) {\n    try {\n      return Auth.session(client);\n    } catch (error) {\n      return Auth.basic(client);\n    }\n  },\n\n  /**\n   * Authenticate through App Secret.\n   *\n   * @returns {Object}\n   */\n  app(client) {\n    if (!client.appKey || !client.appSecret) {\n      throw new Error('Missing client credentials');\n    }\n\n    return {\n      scheme: 'Basic',\n      username: client.appKey,\n      password: client.appSecret\n    };\n  },\n\n  /**\n   * Authenticate through (1) Master Secret, or (2) App Secret.\n   *\n   * @returns {Object}\n   */\n  basic(client) {\n    try {\n      return Auth.master(client);\n    } catch (error) {\n      return Auth.app(client);\n    }\n  },\n\n  /**\n   * Authenticate through Master Secret.\n   *\n   * @returns {Object}\n   */\n  master(client) {\n    if (!client.appKey || !client.masterSecret) {\n      throw new Error('Missing client credentials');\n    }\n\n    return {\n      scheme: 'Basic',\n      username: client.appKey,\n      password: client.masterSecret\n    };\n  },\n\n  /**\n   * Do not authenticate.\n   *\n   * @returns {Null}\n   */\n  none() {\n    return null;\n  },\n\n  /**\n   * Authenticate through user credentials.\n   *\n   * @returns {Object}\n   */\n  session(client) {\n    const activeUserData = client.getActiveUserData();\n\n    if (!activeUserData) {\n      throw new Error('There is not an active user.');\n    }\n\n    return {\n      scheme: 'Kinvey',\n      credentials: activeUserData[kmdAttribute].authtoken\n    };\n  }\n};\n\n/**\n * @private\n */\nexport class Request {\n  constructor(options = {}) {\n    options = assign({\n      method: HttpMethod.GET,\n      headers: {},\n      url: '',\n      data: null,\n      timeout: process.env.KINVEY_DEFAULT_TIMEOUT || 10000,\n      followRedirect: true\n    }, options);\n\n    this.method = options.method;\n    this.url = options.url;\n    this.data = options.data || options.body;\n    this.timeout = options.timeout;\n    this.followRedirect = options.followRedirect;\n    this.executing = false;\n\n    const headers = options.headers && isPlainObject(options.headers) ? options.headers : {};\n\n    if (!headers.Accept || !headers.accept) {\n      headers.Accept = 'application/json; charset=utf-8';\n    }\n\n    this.addHeaders(headers);\n  }\n\n  get method() {\n    return this._method;\n  }\n\n  set method(method) {\n    if (!isString(method)) {\n      method = String(method);\n    }\n\n    method = method.toUpperCase();\n\n    switch (method) {\n      case HttpMethod.GET:\n      case HttpMethod.POST:\n      case HttpMethod.PATCH:\n      case HttpMethod.PUT:\n      case HttpMethod.DELETE:\n        this._method = method;\n        break;\n      default:\n        throw new Error('Invalid Http Method. Only GET, POST, PATCH, PUT, and DELETE are allowed.');\n    }\n  }\n\n  get url() {\n    return appendQuery(this._url, qs.stringify({\n      _: Math.random().toString(36).substr(2)\n    }));\n  }\n\n  set url(url) {\n    this._url = url;\n  }\n\n  get body() {\n    return this.data;\n  }\n\n  set body(body) {\n    this.data = body;\n  }\n\n  get data() {\n    return this._data;\n  }\n\n  set data(data) {\n    if (data) {\n      const contentTypeHeader = this.getHeader('Content-Type');\n      if (!contentTypeHeader) {\n        this.setHeader('Content-Type', 'application/json; charset=utf-8');\n      }\n    } else {\n      this.removeHeader('Content-Type');\n    }\n\n    this._data = data;\n  }\n\n  getHeader(name) {\n    if (name) {\n      if (!isString(name)) {\n        name = String(name);\n      }\n\n      const headers = this.headers || {};\n      const keys = Object.keys(headers);\n\n      for (let i = 0, len = keys.length; i < len; i++) {\n        const key = keys[i];\n\n        if (key.toLowerCase() === name.toLowerCase()) {\n          return headers[key];\n        }\n      }\n    }\n\n    return undefined;\n  }\n\n  setHeader(name, value) {\n    if (!name || !value) {\n      throw new Error('A name and value must be provided to set a header.');\n    }\n\n    if (!isString(name)) {\n      name = String(name);\n    }\n\n    const headers = this.headers || {};\n\n    if (!isString(value)) {\n      headers[name] = JSON.stringify(value);\n    } else {\n      headers[name] = value;\n    }\n\n    this.headers = headers;\n  }\n\n  addHeader(header = {}) {\n    return this.setHeader(header.name, header.value);\n  }\n\n  addHeaders(headers) {\n    if (!isPlainObject(headers)) {\n      throw new Error('Headers argument must be an object.');\n    }\n\n    const names = Object.keys(headers);\n\n    forEach(names, name => {\n      const value = headers[name];\n      this.setHeader(name, value);\n    });\n  }\n\n  removeHeader(name) {\n    if (name) {\n      if (!isString(name)) {\n        name = String(name);\n      }\n\n      const headers = this.headers || {};\n      delete headers[name];\n      this.headers = headers;\n    }\n  }\n\n  clearHeaders() {\n    this.headers = {};\n  }\n\n  isExecuting() {\n    return this.executing ? true : false;\n  }\n\n  execute() {\n    if (this.executing) {\n      return Promise.reject(new Error('Unable to execute the request. The request is already executing.'));\n    }\n\n    this.executing = Promise.resolve().then(response => {\n      this.executing = false;\n      return response;\n    }).catch(err => {\n      this.executing = false;\n      throw err;\n    });\n\n    return this.executing;\n  }\n\n  toJSON() {\n    const json = {\n      method: this.method,\n      headers: this.headers,\n      url: this.url,\n      data: this.data,\n      followRedirect: this.followRedirect\n    };\n\n    return json;\n  }\n}\n\n/**\n * @private\n */\nexport class KinveyRequest extends Request {\n  constructor(options = {}) {\n    super(options);\n\n    options = assign({\n      authType: AuthType.None,\n      properties: null,\n      query: null,\n      client: Client.sharedInstance()\n    }, options);\n\n    this.rack = new KinveyRack();\n    this.authType = options.authType;\n    this.properties = options.properties;\n    this.query = result(options.query, 'toJSON', options.query);\n    this.client = options.client;\n\n    const headers = {};\n    headers['X-Kinvey-Api-Version'] = process.env.KINVEY_API_VERSION || 3;\n\n    const device = new Device();\n    headers['X-Kinvey-Device-Information'] = JSON.stringify(device.toJSON());\n\n    if (options.contentType) {\n      headers['X-Kinvey-Content-Type'] = options.contentType;\n    }\n\n    if (options.skipBL === true) {\n      headers['X-Kinvey-Skip-Business-Logic'] = true;\n    }\n\n    if (options.trace === true) {\n      headers['X-Kinvey-Include-Headers-In-Response'] = 'X-Kinvey-Request-Id';\n      headers['X-Kinvey-ResponseWrapper'] = true;\n    }\n\n    this.addHeaders(headers);\n  }\n\n  set properties(properties) {\n    if (properties) {\n      if (!(properties instanceof RequestProperties)) {\n        properties = new RequestProperties(result(properties, 'toJSON', properties));\n      }\n\n      const appVersion = properties.appVersion;\n\n      if (appVersion) {\n        this.setHeader('X-Kinvey-Client-App-Version', appVersion);\n      } else {\n        this.removeHeader('X-Kinvey-Client-App-Version');\n      }\n\n      const customProperties = result(properties, 'toJSON', {});\n      delete customProperties.appVersion;\n      const customPropertiesHeader = JSON.stringify(customProperties);\n      const customPropertiesByteCount = byteCount(customPropertiesHeader);\n      const customPropertiesMaxBytesAllowed = process.env.KINVEY_MAX_HEADER_BYTES || 2000;\n\n      if (customPropertiesByteCount >= customPropertiesMaxBytesAllowed) {\n        throw new Error(\n          `The custom properties are ${customPropertiesByteCount} bytes.` +\n          `It must be less then ${customPropertiesMaxBytesAllowed} bytes.`,\n          'Please remove some custom properties.');\n      }\n\n      this.setHeader('X-Kinvey-Custom-Request-Properties', customPropertiesHeader);\n    }\n  }\n\n  get url() {\n    const url = super.url;\n    const queryString = {};\n\n    if (this.query) {\n      queryString.query = this.query.filter;\n\n      if (!isEmpty(this.query.fields)) {\n        queryString.fields = this.query.fields.join(',');\n      }\n\n      if (this.query.limit) {\n        queryString.limit = this.query.limit;\n      }\n\n      if (this.query.skip > 0) {\n        queryString.skip = this.query.skip;\n      }\n\n      if (!isEmpty(this.query.sort)) {\n        queryString.sort = this.query.sort;\n      }\n    }\n\n    for (const key in queryString) {\n      if (queryString.hasOwnProperty(key)) {\n        queryString[key] = isString(queryString[key]) ? queryString[key] : JSON.stringify(queryString[key]);\n      }\n    }\n\n    if (isEmpty(queryString)) {\n      return url;\n    }\n\n    return appendQuery(url, qs.stringify(queryString));\n  }\n\n  set url(url) {\n    super.url = url;\n  }\n\n  get authorizationHeader() {\n    let authInfo;\n\n    switch (this.authType) {\n      case AuthType.All:\n        authInfo = Auth.all(this.client);\n        break;\n      case AuthType.App:\n        authInfo = Auth.app(this.client);\n        break;\n      case AuthType.Basic:\n        authInfo = Auth.basic(this.client);\n        break;\n      case AuthType.Master:\n        authInfo = Auth.master(this.client);\n        break;\n      case AuthType.None:\n        authInfo = Auth.none(this.client);\n        break;\n      case AuthType.Session:\n        authInfo = Auth.session(this.client);\n        break;\n      default:\n        try {\n          authInfo = Auth.session(this.client);\n        } catch (error) {\n          try {\n            authInfo = Auth.master(this.client);\n          } catch (error2) {\n            throw error;\n          }\n        }\n    }\n\n    if (authInfo) {\n      let credentials = authInfo.credentials;\n\n      if (authInfo.username) {\n        credentials = new Buffer(`${authInfo.username}:${authInfo.password}`).toString('base64');\n      }\n\n      return {\n        name: 'Authorization',\n        value: `${authInfo.scheme} ${credentials}`\n      };\n    }\n\n    return null;\n  }\n\n  execute() {\n    const authorizationHeader = this.authorizationHeader;\n\n    if (authorizationHeader) {\n      this.addHeader(authorizationHeader);\n    }\n\n    const promise = super.execute().then(() => {\n      return this.rack.execute(this);\n    }).then(response => {\n      if (!response) {\n        throw new NoResponseError();\n      }\n\n      if (!(response instanceof Response)) {\n        return new Response({\n          statusCode: response.statusCode,\n          headers: response.headers,\n          data: response.data\n        });\n      }\n\n      return response;\n    }).then(response => {\n      if (!response.isSuccess()) {\n        throw response.error;\n      }\n\n      return response;\n    }).catch(error => {\n      throw error;\n    });\n\n    return promise;\n  }\n\n  cancel() {\n    this.rack.cancel();\n  }\n\n  toJSON() {\n    const json = super.toJSON();\n    json.query = this.query;\n    return json;\n  }\n}\n","import { StatusCode } from '../enums';\nimport { InsufficientCredentialsError, InvalidCredentialsError, KinveyError, NotFoundError } from '../errors';\nimport assign from 'lodash/assign';\nimport forEach from 'lodash/forEach';\nimport isString from 'lodash/isString';\nimport isPlainObject from 'lodash/isPlainObject';\n\n/**\n * @private\n */\nexport class Response {\n  constructor(options = {}) {\n    options = assign({\n      statusCode: StatusCode.Ok,\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8'\n      },\n      data: null\n    }, options);\n\n    this.statusCode = options.statusCode;\n    this.addHeaders(options.headers);\n    this.data = options.data;\n  }\n\n  get error() {\n    if (this.isSuccess()) {\n      return null;\n    }\n\n    const data = this.data || {};\n    const name = data.name || data.error;\n    const message = data.message || data.description;\n    const debug = data.debug;\n\n    if (name === 'EntityNotFound'\n        || name === 'CollectionNotFound'\n        || name === 'AppNotFound'\n        || name === 'UserNotFound'\n        || name === 'BlobNotFound'\n        || name === 'DocumentNotFound') {\n      return new NotFoundError(message, debug);\n    } else if (name === 'InsufficientCredentials') {\n      return new InsufficientCredentialsError(message, debug);\n    } else if (name === 'InvalidCredentials') {\n      return new InvalidCredentialsError(message, debug);\n    }\n\n    return new KinveyError(message, debug);\n  }\n\n  getHeader(name) {\n    if (name) {\n      if (!isString(name)) {\n        name = String(name);\n      }\n\n      const headers = this.headers || {};\n      const keys = Object.keys(headers);\n\n      for (let i = 0, len = keys.length; i < len; i++) {\n        const key = keys[i];\n\n        if (key.toLowerCase() === name.toLowerCase()) {\n          return headers[key];\n        }\n      }\n    }\n\n    return undefined;\n  }\n\n  setHeader(name, value) {\n    if (!name || !value) {\n      throw new Error('A name and value must be provided to set a header.');\n    }\n\n    if (!isString(name)) {\n      name = String(name);\n    }\n\n    const headers = this.headers || {};\n\n    if (!isString(value)) {\n      headers[name] = JSON.stringify(value);\n    } else {\n      headers[name] = value;\n    }\n\n    this.headers = headers;\n  }\n\n  addHeader(header = {}) {\n    return this.setHeader(header.name, header.value);\n  }\n\n  addHeaders(headers) {\n    if (!isPlainObject(headers)) {\n      throw new Error('Headers argument must be an object.');\n    }\n\n    const names = Object.keys(headers);\n\n    forEach(names, name => {\n      const value = headers[name];\n      this.setHeader(name, value);\n    });\n  }\n\n  removeHeader(name) {\n    if (name) {\n      if (!isString(name)) {\n        name = String(name);\n      }\n\n      const headers = this.headers || {};\n      delete headers[name];\n      this.headers = headers;\n    }\n  }\n\n  clearHeaders() {\n    this.headers = {};\n  }\n\n  isSuccess() {\n    return (this.statusCode >= 200 && this.statusCode < 300) || this.statusCode === 302;\n  }\n\n  toJSON() {\n    const json = {\n      statusCode: this.statusCode,\n      headers: this.headers,\n      data: this.data\n    };\n    return json;\n  }\n}\n","import { NetworkStore } from './networkstore';\nimport { Response } from '../requests/response';\nimport { AuthType, HttpMethod, StatusCode } from '../enums';\nimport { InsufficientCredentialsError, KinveyError, NotFoundError } from '../errors';\nimport { LocalRequest } from '../requests/local';\nimport { NetworkRequest } from '../requests/network';\nimport { DeltaFetchRequest } from '../requests/deltafetch';\nimport { Query } from '../query';\nimport { Aggregation } from '../aggregation';\nimport { Log } from '../log';\nimport { nested } from '../utils/object';\nimport url from 'url';\nimport assign from 'lodash/assign';\nimport forEach from 'lodash/forEach';\nimport map from 'lodash/map';\nimport isArray from 'lodash/isArray';\nimport keyBy from 'lodash/keyBy';\nconst idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nconst appdataNamespace = process.env.KINVEY_DATASTORE_NAMESPACE || 'appdata';\nconst syncCollectionName = process.env.KINVEY_SYNC_COLLECTION_NAME || 'sync';\nconst kmdAttribute = process.env.KINVEY_KMD_ATTRIBUTE || '_kmd';\n\n/**\n * The CacheStore class is used to find, save, update, remove, count and group enitities\n * in a collection on the network using a cache on the device.\n */\nclass CacheStore extends NetworkStore {\n  /**\n   * Creates a new instance of the CacheStore class.\n   *\n   * @param   {string}  name   Name of the collection\n   *\n   * @throws  {KinveyError}   If the name provided is not a string.\n   */\n  constructor(name) {\n    super(name);\n\n    /**\n     * @type {Number}\n     */\n    this.ttl = undefined;\n  }\n\n  /**\n   * The sync pathname for the store.\n   *\n   * @param   {Client}   [client]     Client\n   * @return  {string}                Sync pathname\n   */\n  get _syncPathname() {\n    if (!this.name) {\n      throw new Error('Unable to get a sync pathname for a collection with no name.');\n    }\n\n    return `/${appdataNamespace}/${this.client.appKey}/${syncCollectionName}/${this.name}`;\n  }\n\n  /**\n   * Finds all entities in a collection. A query can be optionally provided to return\n   * a subset of all entities in a collection or omitted to return all entities in\n   * a collection. The number of entities returned will adhere to the limits specified\n   * at http://devcenter.kinvey.com/rest/guides/datastore#queryrestrictions. A\n   * promise will be returned that will be resolved with the entities or rejected with\n   * an error.\n   *\n   * @param   {Query}                 [query]                                   Query used to filter result.\n   * @param   {Object}                [options]                                 Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @param   {Number}                [options.ttl]                             Time to live for data retrieved\n   *                                                                            from the cache.\n   * @return  {Promise}                                                         Promise\n   */\n  find(query, options = {}) {\n    Log.debug(`Retrieving the entities in the ${this.name} collection.`, query);\n\n    options = assign({\n      useDeltaFetch: true\n    }, options);\n\n    if (query && !(query instanceof Query)) {\n      return Promise.reject(new KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n    }\n\n    const promise = Promise.resolve().then(() => {\n      const request = new LocalRequest({\n        method: HttpMethod.GET,\n        url: url.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname\n        }),\n        properties: options.properties,\n        query: query,\n        timeout: options.timeout,\n        client: this.client\n      });\n      return request.execute();\n    }).then(response => {\n      const result = {\n        cache: response.data\n      };\n\n      result.networkPromise = this.syncCount().then(count => {\n        if (count > 0) {\n          return this.push().then(() => {\n            return this.syncCount();\n          });\n        }\n\n        return count;\n      }).then(count => {\n        if (count > 0) {\n          throw new KinveyError(`Unable to load data from the network. There are ${count} entities that need ` +\n           `to be synced before data is loaded from the network.`);\n        }\n\n        if (options.useDeltaFetch) {\n          const request = new DeltaFetchRequest({\n            method: HttpMethod.GET,\n            authType: AuthType.Default,\n            url: url.format({\n              protocol: this.client.protocol,\n              host: this.client.host,\n              pathname: this._pathname\n            }),\n            properties: options.properties,\n            query: query,\n            timeout: options.timeout\n          });\n          return request.execute().then(response => {\n            return response.data;\n          });\n        }\n\n        return super.find(query, options);\n      }).then(data => {\n        return this._cache(data);\n      });\n\n      return result;\n    });\n\n    promise.then(response => {\n      Log.info(`Retrieved the entities in the ${this.name} collection.`, response);\n    }).catch(err => {\n      Log.error(`Failed to retrieve the entities in the ${this.name} collection.`, err);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Groups entities in a collection. An aggregation can be optionally provided to group\n   * a subset of entities in a collection or omitted to group all the entities\n   * in a collection. A promise will be returned that will be resolved with the result\n   * or rejected with an error.\n   *\n   * @param   {Aggregation}           aggregation                               Aggregation used to group entities.\n   * @param   {Object}                [options]                                 Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @param   {Number}                [options.ttl]                             Time to live for data retrieved\n   *                                                                            from the cache.\n   * @return  {Promise}                                                         Promise\n   */\n  group(aggregation, options = {}) {\n    Log.debug(`Grouping the entities in the ${this.name} collection.`, aggregation, options);\n\n    options = assign({\n      force: false\n    }, options);\n\n    if (!(aggregation instanceof Aggregation)) {\n      return Promise.reject(new KinveyError('Invalid aggregation. ' +\n        'It must be an instance of the Kinvey.Aggregation class.'));\n    }\n\n    const promise = Promise.resolve().then(() => {\n      const request = new LocalRequest({\n        method: HttpMethod.GET,\n        url: url.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: `${this._pathname}/_group`\n        }),\n        properties: options.properties,\n        data: aggregation.toJSON(),\n        timeout: options.timeout,\n        client: this.client\n      });\n      return request.execute();\n    }).then(response => {\n      const result = {\n        cache: response.data\n      };\n\n      result.networkPromise = this.syncCount().then(count => {\n        if (count > 0) {\n          return this.push().then(() => {\n            return this.syncCount();\n          });\n        }\n\n        return count;\n      }).then(count => {\n        if (count > 0) {\n          throw new KinveyError(`Unable to load data from the network. There are ${count} entities that need ` +\n           `to be synced before data is loaded from the network.`);\n        }\n\n        return super.group(aggregation, options);\n      });\n\n      return result;\n    });\n\n    promise.then(response => {\n      Log.info(`Grouped the entities in the ${this.name} collection.`, response);\n    }).catch(err => {\n      Log.error(`Failed to group the entities in the ${this.name} collection.`, err);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Counts entities in a collection. A query can be optionally provided to count\n   * a subset of entities in a collection or omitted to count all the entities\n   * in a collection. A promise will be returned that will be resolved with the count\n   * or rejected with an error.\n   *\n   * @param   {Query}                 [query]                                   Query to count a subset of entities.\n   * @param   {Object}                [options]                                 Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @param   {Number}                [options.ttl]                             Time to live for data retrieved\n   *                                                                            from the cache.\n   * @return  {Promise}                                                         Promise\n   */\n  count(query, options = {}) {\n    Log.debug(`Counting the number of entities in the ${this.name} collection.`, query);\n\n    options = assign({\n      force: false\n    }, options);\n\n    if (query && !(query instanceof Query)) {\n      return Promise.reject(new KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n    }\n\n    const promise = Promise.resolve().then(() => {\n      const request = new LocalRequest({\n        method: HttpMethod.GET,\n        url: url.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: `${this._pathname}/_count`\n        }),\n        properties: options.properties,\n        query: query,\n        timeout: options.timeout,\n        client: this.client\n      });\n      return request.execute();\n    }).then(response => {\n      const result = {\n        cache: response.data\n      };\n\n      result.networkPromise = this.syncCount().then(count => {\n        if (count > 0) {\n          return this.push().then(() => {\n            return this.syncCount();\n          });\n        }\n\n        return count;\n      }).then(count => {\n        if (count > 0) {\n          throw new KinveyError(`Unable to load data from the network. There are ${count} entities that need ` +\n           `to be synced before data is loaded from the network.`);\n        }\n\n        return super.count(query, options);\n      });\n\n      return result;\n    });\n\n    promise.then(response => {\n      Log.info(`Counted the number of entities in the ${this.name} collection.`, response);\n    }).catch(err => {\n      Log.error(`Failed to count the number of entities in the ${this.name} collection.`, err);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Retrieves a single entity in a collection by id. A promise will be returned that will\n   * be resolved with the entity or rejected with an error.\n   *\n   * @param   {string}                id                                        Document Id\n   * @param   {Object}                [options]                                 Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @param   {Number}                [options.ttl]                             Time to live for data retrieved\n   *                                                                            from the cache.\n   * @return  {Promise}                                                         Promise\n   */\n  findById(id, options = {}) {\n    if (!id) {\n      Log.warn('No id was provided to retrieve an entity.', id);\n      return Promise.resolve(null);\n    }\n\n    Log.debug(`Retrieving the entity in the ${this.name} collection with id = ${id}.`);\n\n    options = assign({\n      force: false,\n      useDeltaFetch: true\n    }, options);\n\n    const promise = Promise.resolve().then(() => {\n      const request = new LocalRequest({\n        method: HttpMethod.GET,\n        url: url.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: `${this._pathname}/${id}`\n        }),\n        properties: options.properties,\n        timeout: options.timeout,\n        client: this.client\n      });\n      return request.execute();\n    }).then(response => {\n      const result = {\n        cache: response.data\n      };\n\n      result.networkPromise = this.syncCount().then(count => {\n        if (count > 0) {\n          return this.push().then(() => {\n            return this.syncCount();\n          });\n        }\n\n        return count;\n      }).then(count => {\n        if (count > 0) {\n          throw new KinveyError(`Unable to load data from the network. There are ${count} entities that need ` +\n           `to be synced before data is loaded from the network.`);\n        }\n\n        if (options.useDeltaFetch) {\n          const request = new DeltaFetchRequest({\n            method: HttpMethod.GET,\n            authType: AuthType.Default,\n            url: url.format({\n              protocol: this.client.protocol,\n              host: this.client.host,\n              pathname: `${this._pathname}/${id}`\n            }),\n            properties: options.properties,\n            timeout: options.timeout,\n            client: this.client\n          });\n          return request.execute().then(response => {\n            return response.data;\n          });\n        }\n\n        return super.findById(id, options);\n      }).then(data => {\n        return this._cache(data);\n      }).catch(error => {\n        if (error instanceof NotFoundError) {\n          const request = new LocalRequest({\n            method: HttpMethod.DELETE,\n            authType: AuthType.Default,\n            url: url.format({\n              protocol: this.client.protocol,\n              host: this.client.host,\n              pathname: `${this._pathname}/${id}`\n            }),\n            properties: options.properties,\n            timeout: options.timeout,\n            client: this.client\n          });\n          return request.execute().then(() => {\n            throw error;\n          });\n        }\n\n        throw error;\n      });\n\n      return result;\n    });\n\n    promise.then(response => {\n      Log.info(`Retrieved the entity in the ${this.name} collection with id = ${id}.`, response);\n    }).catch(error => {\n      Log.error(`Failed to retrieve the entity in the ${this.name} collection with id = ${id}.`, error);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Save a entity or an array of entities to a collection. A promise will be returned that\n   * will be resolved with the saved entity/entities or rejected with an error.\n   *\n   * @param   {Object|Array}          entities                                  Entity or entities to save.\n   * @param   {Object}                [options]                                 Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @param   {Number}                [options.ttl]                             Time to live for data saved\n   *                                                                            in the cache.\n   * @return  {Promise}                                                         Promise\n   */\n  save(entity, options = {}) {\n    if (!entity) {\n      Log.warn('No entity was provided to be saved.', entity);\n      return Promise.resolve(null);\n    }\n\n    Log.debug(`Saving the entity(s) to the ${this.name} collection.`, entity);\n\n    const promise = Promise.resolve().then(() => {\n      const request = new LocalRequest({\n        method: HttpMethod.POST,\n        url: url.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname\n        }),\n        properties: options.properties,\n        data: entity,\n        timeout: options.timeout,\n        client: this.client\n      });\n\n      if (entity[idAttribute]) {\n        request.method = HttpMethod.PUT;\n        request.url = url.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: `${this._pathname}/${entity[idAttribute]}`\n        });\n      }\n\n      return request.execute();\n    }).then(response => {\n      return this._sync(response.data, options).then(() => {\n        const data = isArray(response.data) ? response.data : [response.data];\n        const ids = Object.keys(keyBy(data, idAttribute));\n        const query = new Query().contains(idAttribute, ids);\n        return this.push(query, options);\n      }).then(() => {\n        return response.data;\n      });\n    });\n\n    promise.then(response => {\n      Log.info(`Saved the entity(s) to the ${this.name} collection.`, response);\n    }).catch(err => {\n      Log.error(`Failed to save the entity(s) to the ${this.name} collection.`, err);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Remove entities in a collection. A query can be optionally provided to remove\n   * a subset of entities in a collection or omitted to remove all entities in a\n   * collection. A promise will be returned that will be resolved with a count of the\n   * number of entities removed or rejected with an error.\n   *\n   * @param   {Query}                 [query]                                   Query\n   * @param   {Object}                options                                   Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @return  {Promise}                                                         Promise\n   */\n  remove(query, options = {}) {\n    Log.debug(`Removing the entities in the ${this.name} collection.`, query);\n\n    if (query && !(query instanceof Query)) {\n      return Promise.reject(new KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n    }\n\n    const promise = Promise.resolve().then(() => {\n      const request = new LocalRequest({\n        method: HttpMethod.DELETE,\n        url: url.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._pathname\n        }),\n        properties: options.properties,\n        query: query,\n        timeout: options.timeout,\n        client: this.client\n      });\n      return request.execute();\n    }).then(response => {\n      return this._sync(response.data.entities, options).then(() => {\n        const query = new Query().contains(idAttribute, []);\n        return this.push(query, options);\n      }).then(() => {\n        return response.data;\n      });\n    });\n\n    promise.then(response => {\n      Log.info(`Removed the entities in the ${this.name} collection.`, response);\n    }).catch(err => {\n      Log.error(`Failed to remove the entities in the ${this.name} collection.`, err);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Remove an entity in a collection. A promise will be returned that will be\n   * resolved with a count of the number of entities removed or rejected with an error.\n   *\n   * @param   {string}                id                                        Document Id\n   * @param   {Object}                options                                   Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @return  {Promise}                                                         Promise\n   */\n  removeById(id, options = {}) {\n    if (!id) {\n      Log.warn('No id was provided to be removed.', id);\n      return Promise.resolve(null);\n    }\n\n    Log.debug(`Removing an entity in the ${this.name} collection with id = ${id}.`);\n\n    const promise = Promise.resolve().then(() => {\n      const request = new LocalRequest({\n        method: HttpMethod.DELETE,\n        url: url.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: `${this._pathname}/${id}`\n        }),\n        properties: options.properties,\n        authType: AuthType.Default,\n        timeout: options.timeout,\n        client: this.client\n      });\n      return request.execute();\n    }).then(response => {\n      return this._sync(response.data.entities, options).then(() => {\n        const query = new Query().contains(idAttribute, [id]);\n        return this.push(query, options);\n      }).then(() => {\n        return response.data;\n      });\n    });\n\n    promise.then(response => {\n      Log.info(`Removed the entity in the ${this.name} collection with id = ${id}.`, response);\n    }).catch(err => {\n      Log.error(`Failed to remove the entity in the ${this.name} collection with id = ${id}.`, err);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Push sync items for a collection to the network. A promise will be returned that will be\n   * resolved with the result of the push or rejected with an error.\n   *\n   * @param   {Query}                 [query]                                   Query to push a subset of items.\n   * @param   {Object}                options                                   Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @return  {Promise}                                                         Promise\n   *\n   * @example\n   * var store = Kinvey.DataStore.getInstance('books');\n   * store.push().then(function(result) {\n   *   ...\n   * }).catch(function(err) {\n   *   ...\n   * });\n   */\n  push(query, options = {}) {\n    if (query && !(query instanceof Query)) {\n      return Promise.reject(new KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n    }\n\n    const promise = Promise.resolve().then(() => {\n      const request = new LocalRequest({\n        method: HttpMethod.GET,\n        url: url.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._syncPathname\n        }),\n        properties: options.properties,\n        query: query,\n        timeout: options.timeout,\n        client: this.client\n      });\n      return request.execute();\n    }).then(response => {\n      const save = [];\n      const remove = [];\n      const entities = response.data.entities;\n      const ids = Object.keys(entities);\n      let size = response.data.size;\n\n      const promises = map(ids, id => {\n        const metadata = entities[id];\n        const request = new LocalRequest({\n          method: HttpMethod.GET,\n          url: url.format({\n            protocol: this.client.protocol,\n            host: this.client.host,\n            pathname: `${this._pathname}/${id}`\n          }),\n          properties: metadata.properties,\n          timeout: options.timeout,\n          client: this.client\n        });\n        return request.execute().then(response => {\n          save.push(response.data);\n          return response.data;\n        }).catch(err => {\n          if (err instanceof NotFoundError) {\n            remove.push(id);\n            return null;\n          }\n\n          throw err;\n        });\n      });\n\n      return Promise.all(promises).then(() => {\n        const saved = map(save, entity => {\n          const metadata = entities[entity[idAttribute]];\n          const isLocalEntity = nested(entity, `${kmdAttribute}.local`);\n\n          if (isLocalEntity) {\n            const originalId = entity[idAttribute];\n            delete entity[idAttribute];\n            delete entity[kmdAttribute];\n\n            const request = new NetworkRequest({\n              method: HttpMethod.POST,\n              authType: AuthType.Default,\n              url: url.format({\n                protocol: this.client.protocol,\n                host: this.client.host,\n                pathname: this._pathname\n              }),\n              properties: metadata.properties,\n              data: entity,\n              timeout: options.timeout,\n              client: this.client\n            });\n\n            return request.execute().then(response => {\n              const request = new LocalRequest({\n                method: HttpMethod.PUT,\n                url: url.format({\n                  protocol: this.client.protocol,\n                  host: this.client.host,\n                  pathname: this._pathname\n                }),\n                properties: metadata.properties,\n                data: response.data,\n                timeout: options.timeout,\n                client: this.client\n              });\n              return request.execute();\n            }).then(() => {\n              const request = new LocalRequest({\n                method: HttpMethod.DELETE,\n                url: url.format({\n                  protocol: this.client.protocol,\n                  host: this.client.host,\n                  pathname: `${this._pathname}/${originalId}`\n                }),\n                properties: metadata.properties,\n                timeout: options.timeout,\n                client: this.client\n              });\n\n              return request.execute().then(response => {\n                const result = response.data;\n                if (result.count === 1) {\n                  size = size - 1;\n                  delete entities[originalId];\n                  return {\n                    _id: originalId,\n                    entity: entity\n                  };\n                }\n\n                return {\n                  _id: originalId,\n                  error: new KinveyError(`Expected count to be 1 but instead it was ${result.count} ` +\n                    `when trying to remove entity with _id ${originalId}.`)\n                };\n              });\n            }).catch(err => {\n              return {\n                _id: originalId,\n                error: err\n              };\n            });\n          }\n\n          const request = new NetworkRequest({\n            method: HttpMethod.PUT,\n            authType: AuthType.Default,\n            url: url.format({\n              protocol: this.client.protocol,\n              host: this.client.host,\n              pathname: `${this._pathname}/${entity[idAttribute]}`\n            }),\n            properties: metadata.properties,\n            data: entity,\n            timeout: options.timeout,\n            client: this.client\n          });\n\n          return request.execute().then(response => {\n            size = size - 1;\n            delete entities[response.data[idAttribute]];\n            return {\n              _id: response.data[idAttribute],\n              entity: response.data\n            };\n          }).catch(err => {\n            // If the credentials used to authenticate this request are\n            // not authorized to run the operation then just remove the entity\n            // from the sync table\n            if (err instanceof InsufficientCredentialsError) {\n              size = size - 1;\n              delete entities[entity[idAttribute]];\n              return {\n                _id: entity[idAttribute],\n                error: err\n              };\n            }\n\n            return {\n              _id: entity[idAttribute],\n              error: err\n            };\n          });\n        });\n\n        const removed = map(remove, id => {\n          const metadata = entities[id];\n          const request = new NetworkRequest({\n            method: HttpMethod.DELETE,\n            authType: AuthType.Default,\n            url: url.format({\n              protocol: this.client.protocol,\n              host: this.client.host,\n              pathname: `${this._pathname}/${id}`\n            }),\n            properties: metadata.properties,\n            timeout: options.timeout,\n            client: this.client\n          });\n\n          return request.execute().then(response => {\n            const result = response.data;\n\n            if (result.count === 1) {\n              size = size - 1;\n              delete entities[id];\n              return {\n                _id: id\n              };\n            }\n\n            return {\n              _id: id,\n              error: new KinveyError(`Expected count to be 1 but instead it was ${result.count} ` +\n                `when trying to remove entity with _id ${id}.`)\n            };\n          }).catch(err => {\n            // If the credentials used to authenticate this request are\n            // not authorized to run the operation or the entity was\n            // not found then just remove the entity from the sync table\n            if (err instanceof NotFoundError || err instanceof InsufficientCredentialsError) {\n              size = size - 1;\n              delete entities[id];\n              return {\n                _id: id,\n                error: err\n              };\n            }\n\n            return {\n              _id: id,\n              error: err\n            };\n          });\n        });\n\n        return Promise.all([Promise.all(saved), Promise.all(removed)]);\n      }).then(results => {\n        const savedResults = results[0];\n        const removedResults = results[1];\n        const result = {\n          collection: this.name,\n          success: [],\n          error: []\n        };\n\n        forEach(savedResults, savedResult => {\n          if (savedResult.error) {\n            result.error.push(savedResult);\n          } else {\n            result.success.push(savedResult);\n          }\n        });\n\n        forEach(removedResults, removedResult => {\n          if (removedResult.error) {\n            result.error.push(removedResult);\n          } else {\n            result.success.push(removedResult);\n          }\n        });\n\n        return result;\n      }).then(result => {\n        response.data.size = size;\n        response.data.entities = entities;\n\n        const request = new LocalRequest({\n          method: HttpMethod.PUT,\n          url: url.format({\n            protocol: this.client.protocol,\n            host: this.client.host,\n            pathname: this._syncPathname\n          }),\n          properties: options.properties,\n          data: response.data,\n          timeout: options.timeout,\n          client: this.client\n        });\n        return request.execute().then(() => {\n          return result;\n        });\n      });\n    }).catch(err => {\n      if (err instanceof NotFoundError) {\n        return {\n          collection: this.name,\n          success: [],\n          error: []\n        };\n      }\n\n      throw err;\n    });\n\n    return promise;\n  }\n\n  /**\n   * Pull items for a collection from the network to your local cache. A promise will be\n   * returned that will be resolved with the result of the pull or rejected with an error.\n   *\n   * @param   {Query}                 [query]                                   Query to pull a subset of items.\n   * @param   {Object}                options                                   Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @return  {Promise}                                                         Promise\n   *\n   * @example\n   * var store = Kinvey.Store.getInstance('books');\n   * store.pull().then(function(result) {\n   *   ...\n   * }).catch(function(err) {\n   *   ...\n   * });\n   */\n  pull(query, options = {}) {\n    const promise = this.syncCount(null, options).then(count => {\n      if (count > 0) {\n        throw new KinveyError('Unable to pull data. You must push the pending sync items first.',\n          'Call store.push() to push the pending sync items before you pull new data.');\n      }\n\n      return this.find(query, options);\n    }).then(result => {\n      return result.network;\n    });\n\n    return promise;\n  }\n\n  /**\n   * Sync items for a collection. This will push pending sync items first and then\n   * pull items from the network into your local cache. A promise will be\n   * returned that will be resolved with the result of the pull or rejected with an error.\n   *\n   * @param   {Query}                 [query]                                   Query to pull a subset of items.\n   * @param   {Object}                options                                   Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @return  {Promise}                                                         Promise\n   *\n   * @example\n   * var store = Kinvey.Store.getInstance('books');\n   * store.sync().then(function(result) {\n   *   ...\n   * }).catch(function(err) {\n   *   ...\n   * });\n   */\n  sync(query, options = {}) {\n    const promise = this.push(null, options).then(pushResponse => {\n      return this.pull(query, options).then(pullResponse => {\n        return {\n          push: pushResponse,\n          pull: pullResponse\n        };\n      });\n    });\n\n    return promise;\n  }\n\n  /**\n   * Count the number of entities waiting to be pushed to the network. A promise will be\n   * returned with the count of entities or rejected with an error.\n   *\n   * @param   {Query}                 [query]                                   Query to count a subset of entities.\n   * @param   {Object}                options                                   Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @param   {Number}                [options.ttl]                             Time to live for data retrieved\n   *                                                                            from the local cache.\n   * @return  {Promise}                                                         Promise\n   *\n   * @example\n   * var store = Kinvey.Store.getInstance('books');\n   * store.syncCount().then(function(count) {\n   *   ...\n   * }).catch(function(err) {\n   *   ...\n   * });\n   */\n  syncCount(query, options = {}) {\n    if (query && !(query instanceof Query)) {\n      return Promise.reject(new KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n    }\n\n    const request = new LocalRequest({\n      method: HttpMethod.GET,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: this._syncPathname\n      }),\n      properties: options.properties,\n      query: query,\n      timeout: options.timeout,\n      client: this.client\n    });\n\n    const promise = request.execute().then(response => {\n      return response.data.size || 0;\n    }).catch(err => {\n      if (err instanceof NotFoundError) {\n        return 0;\n      }\n\n      throw err;\n    });\n\n    return promise;\n  }\n\n  /**\n   * Add or update entities stored in the cache. A promise will be returned with the entities\n   * or rejected with an error.\n   *\n   * @param   {Object|Array}          entities                                  Entity(s) to add or update in the cache.\n   * @param   {Object}                options                                   Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @return  {Promise}                                                         Promise\n   */\n  _cache(entities, options = {}) {\n    const request = new LocalRequest({\n      method: HttpMethod.PUT,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: this._pathname\n      }),\n      properties: options.properties,\n      timeout: options.timeout,\n      client: this.client\n    });\n\n    const promise = request.execute().then(response => {\n      return response.data;\n    });\n\n    return promise;\n  }\n\n  /**\n   * Add entities to be pushed. A promise will be returned with null or rejected with an error.\n   *\n   * @param   {Object|Array}          entities                                  Entity(s) to add to the sync table.\n   * @param   {Object}                options                                   Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @return  {Promise}                                                         Promise\n   */\n  _sync(entities, options = {}) {\n    if (!this.name) {\n      return Promise.reject(new KinveyError('Unable to add entities to the sync table for a store with no name.'));\n    }\n\n    if (!entities) {\n      return Promise.resolve(null);\n    }\n\n    const request = new LocalRequest({\n      method: HttpMethod.GET,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: this._syncPathname\n      }),\n      properties: options.properties,\n      timeout: options.timeout,\n      client: this.client\n    });\n\n    const promise = request.execute().catch(error => {\n      if (error instanceof NotFoundError) {\n        return new Response({\n          statusCode: StatusCode.Ok,\n          data: {\n            _id: this.name,\n            entities: {},\n            size: 0\n          }\n        });\n      }\n\n      throw error;\n    }).then(response => {\n      const syncData = response.data || {\n        _id: this.name,\n        entities: {},\n        size: 0\n      };\n\n      if (!isArray(entities)) {\n        entities = [entities];\n      }\n\n      forEach(entities, entity => {\n        if (entity[idAttribute]) {\n          if (!syncData.entities.hasOwnProperty(entity[idAttribute])) {\n            syncData.size = syncData.size + 1;\n          }\n\n          syncData.entities[entity[idAttribute]] = {\n            lmt: entity[kmdAttribute] ? entity[kmdAttribute].lmt : null\n          };\n        }\n      });\n\n      const request = new LocalRequest({\n        method: HttpMethod.PUT,\n        url: url.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: this._syncPathname\n        }),\n        properties: options.properties,\n        data: syncData,\n        timeout: options.timeout,\n        client: this.client\n      });\n      return request.execute();\n    }).then(() => {\n      return null;\n    });\n\n    return promise;\n  }\n}\n\nexport { CacheStore };\n","import { SyncStore } from './syncstore';\nimport { NetworkStore } from './networkstore';\nimport { UserStore } from './userstore';\nimport { FileStore } from './filestore';\nimport { CacheStore } from './cachestore';\n\n/**\n * Enum for DataStore types.\n */\nconst DataStoreType = {\n  Sync: 'Sync',\n  Cache: 'Cache',\n  Network: 'Network',\n  User: 'User',\n  File: 'File'\n};\nObject.freeze(DataStoreType);\nexport { DataStoreType };\n\n\nexport class DataStore {\n  /**\n   * Returns an instance of the Store class based on the type provided.\n   *\n   * @param  {string}       [name]                      Name of the collection.\n   * @param  {StoreType}    [type=DataStoreType.Cache]  Type of store to return.\n   * @return {Object}                                   Store\n   */\n  static getInstance(name, type = DataStoreType.Cache) {\n    let store;\n\n    switch (type) {\n      case DataStoreType.Sync:\n        store = new SyncStore(name);\n        break;\n      case DataStoreType.Network:\n        store = new NetworkStore(name);\n        break;\n      case DataStoreType.User:\n        store = new UserStore();\n        break;\n      case DataStoreType.File:\n        store = new FileStore();\n        break;\n      case DataStoreType.Cache:\n      default:\n        store = new CacheStore(name);\n    }\n\n    return store;\n  }\n}\n","import { NetworkStore } from './networkstore';\nimport { NetworkRequest } from '../requests/network';\nimport { AuthType, HttpMethod } from '../enums';\nimport { KinveyError } from '../errors';\nimport url from 'url';\nimport assign from 'lodash/assign';\nimport map from 'lodash/map';\nconst filesNamespace = process.env.KINVEY_FILES_NAMESPACE || 'blob';\nconst idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\n\n/**\n * The FilesStore class is used to find, save, update, remove, count and group files.\n */\nexport class FileStore extends NetworkStore {\n  /**\n   * The pathname for the store.\n   *\n   * @return  {string}                Pathname\n   */\n  get _pathname() {\n    return `/${filesNamespace}/${this.client.appKey}`;\n  }\n\n  /**\n   * Finds all files. A query can be optionally provided to return\n   * a subset of all the files for your application or omitted to return all the files.\n   * The number of files returned will adhere to the limits specified\n   * at http://devcenter.kinvey.com/rest/guides/datastore#queryrestrictions. A\n   * promise will be returned that will be resolved with the files or rejected with\n   * an error.\n   *\n   * @param   {Query}                 [query]                                   Query used to filter result.\n   * @param   {Object}                [options]                                 Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @param   {Boolean}               [options.tls]                             Use Transport Layer Security\n   * @param   {Boolean}               [options.download]                        Download the files\n   * @return  {Promise}                                                         Promise\n   *\n   * @example\n   * var filesStore = new Kinvey.FilesStore();\n   * var query = new Kinvey.Query();\n   * query.equalTo('location', 'Boston');\n   * files.find(query, {\n   *   tls: true, // Use transport layer security\n   *   ttl: 60 * 60 * 24, // 1 day in seconds\n   *   download: true // download the files\n   * }).then(function(files) {\n   *   ...\n   * }).catch(function(err) {\n   *   ...\n   * });\n   */\n  find(query, options = {}) {\n    options = assign({\n      download: false,\n      tls: false\n    }, options);\n\n    options.flags = {\n      tls: options.tls === true ? true : false,\n      ttl_in_seconds: options.ttl\n    };\n\n    const promise = super.find(query, options).then(files => {\n      if (options.download === true) {\n        const promises = map(files, file => {\n          return this.downloadByUrl(file._downloadURL, options);\n        });\n        return Promise.all(promises);\n      }\n\n      return files;\n    });\n\n    return promise;\n  }\n\n  findById(id, options) {\n    return this.download(id, options);\n  }\n\n  /**\n   * Download a file. A promise will be returned that will be resolved with the file or rejected with\n   * an error.\n   *\n   * @param   {string}        name                                          Name\n   * @param   {Object}        [options]                                     Options\n   * @param   {Boolean}       [options.tls]                                 Use Transport Layer Security\n   * @param   {Number}        [options.ttl]                                 Time To Live (in seconds)\n   * @param   {Boolean}       [options.stream]                              Stream the file\n   * @param   {DataPolicy}    [options.dataPolicy=DataPolicy.NetworkFirst]    Data policy\n   * @param   {AuthType}      [options.authType=AuthType.Default]           Auth type\n   * @return  {Promise}                                                     Promise\n   *\n   * @example\n   * var files = new Kinvey.Files();\n   * files.download('BostonTeaParty.png', {\n   *   tls: true, // Use transport layer security\n   *   ttl: 60 * 60 * 24, // 1 day in seconds\n   *   stream: true // stream the file\n   * }).then(function(file) {\n   *   ...\n   * }).catch(function(err) {\n   *   ...\n   * });\n   */\n  download(name, options = {}) {\n    options = assign({\n      stream: false,\n      tls: false\n    }, options);\n\n    options.flags = {\n      tls: options.tls === true ? true : false,\n      ttl_in_seconds: options.ttl\n    };\n\n    const promise = super.findById(name, options).then(file => {\n      if (options.stream === true) {\n        return file;\n      }\n\n      return this.downloadByUrl(file._downloadURL, options);\n    });\n\n    return promise;\n  }\n\n  downloadByUrl(url, options = {}) {\n    const promise = Promise.resolve().then(() => {\n      const request = new NetworkRequest({\n        method: HttpMethod.GET,\n        url: url,\n        timeout: options.timeout\n      });\n      request.setHeader('Accept', options.mimeType || 'application-octet-stream');\n      request.removeHeader('Content-Type');\n      request.removeHeader('X-Kinvey-Api-Version');\n      return request.execute();\n    }).then(response => {\n      return response.data;\n    });\n\n    return promise;\n  }\n\n  /**\n   * Stream a file. A promise will be returned that will be resolved with the file or rejected with\n   * an error.\n   *\n   * @param   {string}        name                                          File name\n   * @param   {Object}        [options]                                     Options\n   * @param   {Boolean}       [options.tls]                                 Use Transport Layer Security\n   * @param   {Number}        [options.ttl]                                 Time To Live (in seconds)\n   * @param   {DataPolicy}    [options.dataPolicy=DataPolicy.NetworkFirst]    Data policy\n   * @param   {AuthType}      [options.authType=AuthType.Default]           Auth type\n   * @return  {Promise}                                                     Promise\n   *\n   * @example\n   * var files = new Kinvey.Files();\n   * files.stream('BostonTeaParty.png', {\n   *   tls: true, // Use transport layer security\n   *   ttl: 60 * 60 * 24, // 1 day in seconds\n   * }).then(function(file) {\n   *   ...\n   * }).catch(function(err) {\n   *   ...\n   * });\n   */\n  stream(name, options = {}) {\n    options.stream = true;\n    return this.download(name, options);\n  }\n\n  upload(file, metadata = {}, options = {}) {\n    metadata._filename = metadata._filename || file._filename || file.name;\n    metadata.size = metadata.size || file.size || file.length;\n    metadata.mimeType = metadata.mimeType || file.mimeType || file.type || 'application/octet-stream';\n\n    options = assign({\n      properties: null,\n      timeout: undefined,\n      public: false,\n      handler() {}\n    }, options);\n\n    if (options.public) {\n      metadata._public = true;\n    }\n\n    const request = new NetworkRequest({\n      method: HttpMethod.POST,\n      headers: {\n        'X-Kinvey-Content-Type': metadata.mimeType\n      },\n      authType: AuthType.Default,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: this._pathname\n      }),\n      properties: options.properties,\n      timeout: options.timeout,\n      data: metadata,\n      client: this.client\n    });\n\n    if (metadata[idAttribute]) {\n      request.method = HttpMethod.PUT;\n      request.url = url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: `${this._pathname}/${metadata._id}`\n      });\n    }\n\n    const promise = request.execute().then(response => {\n      const uploadUrl = response.data._uploadURL;\n      const headers = response.data._requiredHeaders || {};\n      headers['Content-Type'] = metadata.mimeType;\n      headers['Content-Length'] = metadata.size;\n\n      // Delete fields from the response\n      delete response.data._expiresAt;\n      delete response.data._requiredHeaders;\n      delete response.data._uploadURL;\n\n      // Upload the file\n      const request = new NetworkRequest({\n        method: HttpMethod.PUT,\n        url: uploadUrl,\n        data: file\n      });\n      request.clearHeaders();\n      request.addHeaders(headers);\n\n      return request.execute().then(uploadResponse => {\n        if (uploadResponse.isSuccess()) {\n          response.data._data = file;\n          return response.data;\n        }\n\n        throw uploadResponse.error;\n      });\n    });\n\n    return promise;\n  }\n\n  save() {\n    return Promise.reject(new KinveyError('Please use `upload()` to save files.'));\n  }\n\n  update() {\n    return Promise.reject(new KinveyError('Please use `upload()` to update files.'));\n  }\n}\n","import { Aggregation } from '../aggregation';\nimport { AuthType, HttpMethod } from '../enums';\nimport { KinveyError } from '../errors';\nimport { Client } from '../client';\nimport { NetworkRequest } from '../requests/network';\nimport { Query } from '../query';\nimport { Log } from '../Log';\nimport qs from 'qs';\nimport url from 'url';\nimport assign from 'lodash/assign';\nimport isString from 'lodash/isString';\nconst appdataNamespace = process.env.KINVEY_DATASTORE_NAMESPACE || 'appdata';\nconst idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\n\n/**\n * The NetworkStore class is used to find, save, update, remove, count and group enitities\n * in a collection on the network.\n */\nexport class NetworkStore {\n  /**\n   * Creates a new instance of the NetworkStore class.\n   *\n   * @param   {string}  name   Name of the collection\n   *\n   * @throws  {KinveyError}   If the name provided is not a string.\n   */\n  constructor(name) {\n    if (name && !isString(name)) {\n      throw new KinveyError('Name must be a string.');\n    }\n\n    /**\n     * @type {string}\n     */\n    this.name = name;\n\n    /**\n     * @private\n     * @type {Client}\n     */\n    this.client = Client.sharedInstance();\n  }\n\n  /**\n   * The pathname for the store.\n   *\n   * @return  {string}                Pathname\n   */\n  get _pathname() {\n    let pathname = `/${appdataNamespace}/${this.client.appKey}`;\n\n    if (this.name) {\n      pathname = `${pathname}/${this.name}`;\n    }\n\n    return pathname;\n  }\n\n  /**\n   * Finds all entities in a collection. A query can be optionally provided to return\n   * a subset of all entities in a collection or omitted to return all entities in\n   * a collection. The number of entities returned will adhere to the limits specified\n   * at http://devcenter.kinvey.com/rest/guides/datastore#queryrestrictions. A\n   * promise will be returned that will be resolved with the entities or rejected with\n   * an error.\n   *\n   * @param   {Query}                 [query]                                   Query used to filter result.\n   * @param   {Object}                [options]                                 Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @return  {Promise}                                                         Promise\n   */\n  find(query, options = {}) {\n    Log.debug(`Retrieving the entities in the ${this.name} collection.`, query);\n\n    options = assign({\n      properties: null,\n      timeout: undefined,\n      handler() {}\n    }, options);\n    options.flags = qs.parse(options.flags);\n\n    if (query && !(query instanceof Query)) {\n      return Promise.reject(new KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n    }\n\n    const request = new NetworkRequest({\n      method: HttpMethod.GET,\n      authType: AuthType.Default,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: this._pathname\n      }),\n      properties: options.properties,\n      query: query,\n      timeout: options.timeout,\n      client: this.client\n    });\n\n    const promise = request.execute().then(response => {\n      return response.data;\n    });\n\n    promise.then(response => {\n      Log.info(`Retrieved the entities in the ${this.name} collection.`, response);\n    }).catch(err => {\n      Log.error(`Failed to retrieve the entities in the ${this.name} collection.`, err);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Groups entities in a collection. An aggregation can be optionally provided to group\n   * a subset of entities in a collection or omitted to group all the entities\n   * in a collection. A promise will be returned that will be resolved with the result\n   * or rejected with an error.\n   *\n   * @param   {Aggregation}           aggregation                               Aggregation used to group entities.\n   * @param   {Object}                [options]                                 Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @return  {Promise}                                                         Promise\n   */\n  group(aggregation, options = {}) {\n    Log.debug(`Grouping the entities in the ${this.name} collection.`, aggregation, options);\n\n    options = assign({\n      properties: null,\n      timeout: undefined,\n      useDeltaFetch: true,\n      handler() {}\n    }, options);\n\n    if (!(aggregation instanceof Aggregation)) {\n      return Promise.reject(new KinveyError('Invalid aggregation. ' +\n        'It must be an instance of the Kinvey.Aggregation class.'));\n    }\n\n    const request = new NetworkRequest({\n      method: HttpMethod.GET,\n      authType: AuthType.Default,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: `${this._pathname}/_group`\n      }),\n      properties: options.properties,\n      data: aggregation.toJSON(),\n      timeout: options.timeout\n    });\n\n    const promise = request.execute().then(response => {\n      return response.data;\n    });\n\n    promise.then(response => {\n      Log.info(`Grouped the entities in the ${this.name} collection.`, response);\n    }).catch(err => {\n      Log.error(`Failed to group the entities in the ${this.name} collection.`, err);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Counts entities in a collection. A query can be optionally provided to count\n   * a subset of entities in a collection or omitted to count all the entities\n   * in a collection. A promise will be returned that will be resolved with the count\n   * or rejected with an error.\n   *\n   * @param   {Query}                 [query]                                   Query to count a subset of entities.\n   * @param   {Object}                [options]                                 Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @return  {Promise}                                                         Promise\n   */\n  count(query, options = {}) {\n    Log.debug(`Counting the number of entities in the ${this.name} collection.`, query);\n\n    options = assign({\n      properties: null,\n      timeout: undefined,\n      useDeltaFetch: true,\n      handler() {}\n    }, options);\n\n    if (query && !(query instanceof Query)) {\n      return Promise.reject(new KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n    }\n\n    const request = new NetworkRequest({\n      method: HttpMethod.GET,\n      authType: AuthType.Default,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: `${this._pathname}/_count`\n      }),\n      properties: options.properties,\n      query: query,\n      timeout: options.timeout\n    });\n\n    const promise = request.execute().then(response => {\n      return response.data;\n    });\n\n    promise.then(response => {\n      Log.info(`Counted the number of entities in the ${this.name} collection.`, response);\n    }).catch(err => {\n      Log.error(`Failed to count the number of entities in the ${this.name} collection.`, err);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Retrieves a single entity in a collection by id. A promise will be returned that will\n   * be resolved with the entity or rejected with an error.\n   *\n   * @param   {string}                id                                        Document Id\n   * @param   {Object}                [options]                                 Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @return  {Promise}                                                         Promise\n   */\n  findById(id, options = {}) {\n    if (!id) {\n      Log.warn('No id was provided to retrieve an entity.', id);\n      return Promise.resolve(null);\n    }\n\n    Log.debug(`Retrieving the entity in the ${this.name} collection with id = ${id}.`);\n\n    options = assign({\n      properties: null,\n      timeout: undefined,\n      handler() {}\n    }, options);\n\n    const request = new NetworkRequest({\n      method: HttpMethod.GET,\n      authType: AuthType.Default,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: `${this._pathname}/${id}`,\n      }),\n      properties: options.properties,\n      timeout: options.timeout\n    });\n\n    const promise = request.execute().then(response => {\n      return response.data;\n    });\n\n    promise.then(response => {\n      Log.info(`Retrieved the entity in the ${this.name} collection with id = ${id}.`, response);\n    }).catch(err => {\n      Log.error(`Failed to retrieve the entity in the ${this.name} collection with id = ${id}.`, err);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Save a entity or an array of entities to a collection. A promise will be returned that\n   * will be resolved with the saved entity/entities or rejected with an error.\n   *\n   * @param   {Object|Array}          doc                                       Document or entities to save.\n   * @param   {Object}                options                                   Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @return  {Promise}                                                         Promise\n   */\n  save(entity, options = {}) {\n    if (!entity) {\n      Log.warn('No entity was provided to be saved.', entity);\n      return Promise.resolve(null);\n    }\n\n    Log.debug(`Saving the entity(s) to the ${this.name} collection.`, entity);\n\n    options = assign({\n      properties: null,\n      timeout: undefined,\n      handler() {}\n    }, options);\n\n    const request = new NetworkRequest({\n      method: HttpMethod.POST,\n      authType: AuthType.Default,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: this._pathname\n      }),\n      properties: options.properties,\n      data: entity,\n      timeout: options.timeout,\n      client: this.client\n    });\n\n    if (entity[idAttribute]) {\n      request.method = HttpMethod.PUT;\n      request.url = url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: `${this._pathname}/${entity[idAttribute]}`\n      });\n    }\n\n    const promise = request.execute().then(response => {\n      return response.data;\n    });\n\n    promise.then(response => {\n      Log.info(`Saved the entity(s) to the ${this.name} collection.`, response);\n    }).catch(err => {\n      Log.error(`Failed to save the entity(s) to the ${this.name} collection.`, err);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Remove entities in a collection. A query can be optionally provided to remove\n   * a subset of entities in a collection or omitted to remove all entities in a\n   * collection. A promise will be returned that will be resolved with a count of the\n   * number of entities removed or rejected with an error.\n   *\n   * @param   {Query}                 [query]                                   Query\n   * @param   {Object}                options                                   Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @return  {Promise}                                                         Promise\n   */\n  remove(query, options = {}) {\n    Log.debug(`Removing the entities in the ${this.name} collection.`, query);\n\n    options = assign({\n      properties: null,\n      timeout: undefined,\n      handler() {}\n    }, options);\n\n    if (query && !(query instanceof Query)) {\n      return Promise.reject(new KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n    }\n\n    const request = new NetworkRequest({\n      method: HttpMethod.GET,\n      authType: AuthType.Default,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: this._pathname,\n      }),\n      properties: options.properties,\n      query: query,\n      timeout: options.timeout\n    });\n\n    const promise = request.execute().then(response => {\n      return response.data;\n    });\n\n    promise.then(response => {\n      Log.info(`Removed the entities in the ${this.name} collection.`, response);\n    }).catch(err => {\n      Log.error(`Failed to remove the entities in the ${this.name} collection.`, err);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Remove an entity in a collection. A promise will be returned that will be\n   * resolved with a count of the number of entities removed or rejected with an error.\n   *\n   * @param   {string}                id                                        Document Id\n   * @param   {Object}                options                                   Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @return  {Promise}                                                         Promise\n   */\n  removeById(id, options = {}) {\n    if (!id) {\n      Log.warn('No id was provided to be removed.', id);\n      return Promise.resolve(null);\n    }\n\n    Log.debug(`Removing an entity in the ${this.name} collection with id = ${id}.`);\n\n    options = assign({\n      properties: null,\n      timeout: undefined,\n      handler() {}\n    }, options);\n\n    const request = new NetworkRequest({\n      method: HttpMethod.GET,\n      authType: AuthType.Default,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: `${this._pathname}/${id}`,\n      }),\n      properties: options.properties,\n      timeout: options.timeout\n    });\n\n    const promise = request.execute().then(response => {\n      return response.data;\n    });\n\n    promise.then(response => {\n      Log.info(`Removed the entity in the ${this.name} collection with id = ${id}.`, response);\n    }).catch(err => {\n      Log.error(`Failed to remove the entity in the ${this.name} collection with id = ${id}.`, err);\n    });\n\n    return promise;\n  }\n}\n","import { CacheStore } from './cachestore';\nimport { LocalRequest } from '../requests/local';\nimport { Aggregation } from '../aggregation';\nimport { HttpMethod } from '../enums';\nimport { KinveyError } from '../errors';\nimport { Query } from '../query';\nimport { Log } from '../log';\nimport url from 'url';\nconst idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\n\nexport class SyncStore extends CacheStore {\n\n  /**\n   * Finds all entities in a collection. A query can be optionally provided to return\n   * a subset of all entities in a collection or omitted to return all entities in\n   * a collection. The number of entities returned will adhere to the limits specified\n   * at http://devcenter.kinvey.com/rest/guides/datastore#queryrestrictions. A\n   * promise will be returned that will be resolved with the entities or rejected with\n   * an error.\n   *\n   * @param   {Query}                 [query]                                   Query used to filter result.\n   * @param   {Object}                [options]                                 Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @param   {Number}                [options.ttl]                             Time to live for data retrieved\n   *                                                                            from the cache.\n   * @return  {Promise}                                                         Promise\n   */\n  find(query, options = {}) {\n    Log.debug(`Retrieving the entities in the ${this.name} collection.`, query);\n\n    if (query && !(query instanceof Query)) {\n      return Promise.reject(new KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n    }\n\n    const request = new LocalRequest({\n      method: HttpMethod.GET,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: this._pathname\n      }),\n      properties: options.properties,\n      query: query,\n      timeout: options.timeout,\n      client: this.client\n    });\n\n    const promise = request.execute().then(response => {\n      return response.data;\n    });\n\n    promise.then(response => {\n      Log.info(`Retrieved the entities in the ${this.name} collection.`, response);\n    }).catch(err => {\n      Log.error(`Failed to retrieve the entities in the ${this.name} collection.`, err);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Groups entities in a collection. An aggregation can be optionally provided to group\n   * a subset of entities in a collection or omitted to group all the entities\n   * in a collection. A promise will be returned that will be resolved with the result\n   * or rejected with an error.\n   *\n   * @param   {Aggregation}           aggregation                               Aggregation used to group entities.\n   * @param   {Object}                [options]                                 Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @param   {Number}                [options.ttl]                             Time to live for data retrieved\n   *                                                                            from the cache.\n   * @return  {Promise}                                                         Promise\n   */\n  group(aggregation, options = {}) {\n    Log.debug(`Grouping the entities in the ${this.name} collection.`, aggregation, options);\n\n    if (!(aggregation instanceof Aggregation)) {\n      return Promise.reject(new KinveyError('Invalid aggregation. ' +\n        'It must be an instance of the Kinvey.Aggregation class.'));\n    }\n\n    const request = new LocalRequest({\n      method: HttpMethod.GET,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: `${this._pathname}/_group`\n      }),\n      properties: options.properties,\n      data: aggregation.toJSON(),\n      timeout: options.timeout,\n      client: this.client\n    });\n\n    const promise = request.execute().then(response => {\n      return response.data;\n    });\n\n    promise.then(response => {\n      Log.info(`Grouped the entities in the ${this.name} collection.`, response);\n    }).catch(err => {\n      Log.error(`Failed to group the entities in the ${this.name} collection.`, err);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Counts entities in a collection. A query can be optionally provided to count\n   * a subset of entities in a collection or omitted to count all the entities\n   * in a collection. A promise will be returned that will be resolved with the count\n   * or rejected with an error.\n   *\n   * @param   {Query}                 [query]                                   Query to count a subset of entities.\n   * @param   {Object}                [options]                                 Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @param   {Number}                [options.ttl]                             Time to live for data retrieved\n   *                                                                            from the cache.\n   * @return  {Promise}                                                         Promise\n   */\n  count(query, options = {}) {\n    Log.debug(`Counting the number of entities in the ${this.name} collection.`, query);\n\n    if (query && !(query instanceof Query)) {\n      return Promise.reject(new KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n    }\n\n    const request = new LocalRequest({\n      method: HttpMethod.GET,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: `${this._pathname}/_count`\n      }),\n      properties: options.properties,\n      query: query,\n      timeout: options.timeout,\n      client: this.client\n    });\n\n    const promise = request.execute().then(response => {\n      return response.data;\n    });\n\n    promise.then(response => {\n      Log.info(`Counted the number of entities in the ${this.name} collection.`, response);\n    }).catch(err => {\n      Log.error(`Failed to count the number of entities in the ${this.name} collection.`, err);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Retrieves a single entity in a collection by id. A promise will be returned that will\n   * be resolved with the entity or rejected with an error.\n   *\n   * @param   {string}                id                                        Document Id\n   * @param   {Object}                [options]                                 Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @param   {Number}                [options.ttl]                             Time to live for data retrieved\n   *                                                                            from the cache.\n   * @return  {Promise}                                                         Promise\n   */\n  findById(id, options = {}) {\n    if (!id) {\n      Log.warn('No id was provided to retrieve an entity.', id);\n      return Promise.resolve(null);\n    }\n\n    Log.debug(`Retrieving the entity in the ${this.name} collection with id = ${id}.`);\n\n    const request = new LocalRequest({\n      method: HttpMethod.GET,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: `${this._pathname}/${id}`\n      }),\n      properties: options.properties,\n      timeout: options.timeout,\n      client: this.client\n    });\n\n    const promise = request.execute().then(response => {\n      return response.data;\n    });\n\n    promise.then(response => {\n      Log.info(`Retrieved the entity in the ${this.name} collection with id = ${id}.`, response);\n    }).catch(err => {\n      Log.error(`Failed to retrieve the entity in the ${this.name} collection with id = ${id}.`, err);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Save a entity or an array of entities to a collection. A promise will be returned that\n   * will be resolved with the saved entity/entities or rejected with an error.\n   *\n   * @param   {Object|Array}          entities                                  Entity or entities to save.\n   * @param   {Object}                [options]                                 Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @param   {Number}                [options.ttl]                             Time to live for data saved\n   *                                                                            in the cache.\n   * @return  {Promise}                                                         Promise\n   */\n  save(entity, options = {}) {\n    if (!entity) {\n      Log.warn('No entity was provided to be saved.', entity);\n      return Promise.resolve(null);\n    }\n\n    Log.debug(`Saving the entity(s) to the ${this.name} collection.`, entity);\n\n    const request = new LocalRequest({\n      method: HttpMethod.POST,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: this._pathname\n      }),\n      properties: options.properties,\n      data: entity,\n      timeout: options.timeout,\n      client: this.client\n    });\n\n    if (entity[idAttribute]) {\n      request.url = url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: `${this._pathname}/${entity[idAttribute]}`\n      });\n    }\n\n    const promise = request.execute().then(response => {\n      return this._updateSync(response.data, options).then(() => {\n        return response.data;\n      });\n    });\n\n    promise.then(response => {\n      Log.info(`Saved the entity(s) to the ${this.name} collection.`, response);\n    }).catch(err => {\n      Log.error(`Failed to save the entity(s) to the ${this.name} collection.`, err);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Remove entities in a collection. A query can be optionally provided to remove\n   * a subset of entities in a collection or omitted to remove all entities in a\n   * collection. A promise will be returned that will be resolved with a count of the\n   * number of entities removed or rejected with an error.\n   *\n   * @param   {Query}                 [query]                                   Query\n   * @param   {Object}                options                                   Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @return  {Promise}                                                         Promise\n   */\n  remove(query, options = {}) {\n    Log.debug(`Removing the entities in the ${this.name} collection.`, query);\n\n    if (query && !(query instanceof Query)) {\n      return Promise.reject(new KinveyError('Invalid query. It must be an instance of the Kinvey.Query class.'));\n    }\n\n    const request = new LocalRequest({\n      method: HttpMethod.DELETE,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: this._pathname\n      }),\n      properties: options.properties,\n      query: query,\n      timeout: options.timeout,\n      client: this.client\n    });\n\n    const promise = request.execute().then(response => {\n      return this._updateSync(response.data.entities, options).then(() => {\n        return response.data;\n      });\n    });\n\n    promise.then(response => {\n      Log.info(`Removed the entities in the ${this.name} collection.`, response);\n    }).catch(err => {\n      Log.error(`Failed to remove the entities in the ${this.name} collection.`, err);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Remove an entity in a collection. A promise will be returned that will be\n   * resolved with a count of the number of entities removed or rejected with an error.\n   *\n   * @param   {string}                id                                        Document Id\n   * @param   {Object}                options                                   Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @return  {Promise}                                                         Promise\n   */\n  removeById(id, options = {}) {\n    if (!id) {\n      Log.warn('No id was provided to be removed.', id);\n      return Promise.resolve(null);\n    }\n\n    Log.debug(`Removing an entity in the ${this.name} collection with id = ${id}.`);\n\n    const request = new LocalRequest({\n      method: HttpMethod.DELETE,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: `${this._pathname}/${id}`\n      }),\n      properties: options.properties,\n      timeout: options.timeout,\n      client: this.client\n    });\n\n    const promise = request.execute().then(response => {\n      return this._updateSync(response.data.entities, options).then(() => {\n        return response.data;\n      });\n    });\n\n    promise.then(response => {\n      Log.info(`Removed the entity in the ${this.name} collection with id = ${id}.`, response);\n    }).catch(err => {\n      Log.error(`Failed to remove the entity in the ${this.name} collection with id = ${id}.`, err);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Pull items for a collection from the network to your local cache. A promise will be\n   * returned that will be resolved with the result of the pull or rejected with an error.\n   *\n   * @param   {Query}                 [query]                                   Query to pull a subset of items.\n   * @param   {Object}                options                                   Options\n   * @param   {Properties}            [options.properties]                      Custom properties to send with\n   *                                                                            the request.\n   * @param   {Number}                [options.timeout]                         Timeout for the request.\n   * @return  {Promise}                                                         Promise\n   */\n  pull(query, options = {}) {\n    const promise = this.syncCount(null, options).then(count => {\n      if (count > 0) {\n        throw new KinveyError('Unable to pull data. You must push the pending sync items first.',\n          'Call store.push() to push the pending sync items before you pull new data.');\n      }\n\n      return super.find(query, options);\n    }).then(result => {\n      return result.network;\n    });\n\n    return promise;\n  }\n}\n","import { KinveyError } from '../errors';\nimport { NetworkStore } from './networkstore';\nimport { AuthType, HttpMethod } from '../enums';\nimport { NetworkRequest } from '../requests/network';\nimport url from 'url';\nimport isArray from 'lodash/isArray';\nconst usersNamespace = process.env.KINVEY_USERS_NAMESPACE || 'user';\nconst rpcNamespace = process.env.KINVEY_RPC_NAMESPACE || 'rpc';\nconst idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nconst socialIdentityAttribute = process.env.KINVEY_SOCIAL_IDENTITY_ATTRIBUTE || '_socialIdentity';\n\nexport class UserStore extends NetworkStore {\n  /**\n   * The pathname for the store.\n   *\n   * @return  {string}   Pathname\n   */\n  get _pathname() {\n    return `/${usersNamespace}/${this.client.appKey}`;\n  }\n\n  save(user, options = {}) {\n    const promise = Promise.resolve().then(() => {\n      if (!user) {\n        throw new KinveyError('No user was provided to be updated.');\n      }\n\n      if (isArray(user)) {\n        throw new KinveyError('Please only update one user at a time.', user);\n      }\n\n      if (!user[idAttribute]) {\n        throw new KinveyError('User must have an _id.');\n      }\n\n      if (options._identity) {\n        const socialIdentity = user[socialIdentityAttribute];\n        if (socialIdentity) {\n          for (const identity in socialIdentity) {\n            if (socialIdentity.hasOwnProperty(identity)) {\n              if (socialIdentity[identity] && options._identity !== identity) {\n                delete socialIdentity[identity];\n              }\n            }\n          }\n        }\n      }\n\n      return super.save(user, options);\n    });\n\n    return promise;\n  }\n\n  exists(username, options) {\n    const request = new NetworkRequest({\n      method: HttpMethod.POST,\n      authType: AuthType.App,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: `/${rpcNamespace}/${this.client.appKey}/check-username-exists`\n      }),\n      properties: options.properties,\n      data: { username: username },\n      timeout: options.timeout,\n      client: this.client\n    });\n\n    const promise = request.execute().then(response => {\n      return response.data.usernameExists;\n    });\n\n    return promise;\n  }\n\n  restore(id, options = {}) {\n    const request = new NetworkRequest({\n      method: HttpMethod.POST,\n      authType: AuthType.Master,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: `${this._pathname}/id`\n      }),\n      properties: options.properties,\n      timeout: options.timeout,\n      client: this.client\n    });\n\n    const promise = request.execute().then(response => {\n      return response.data;\n    });\n\n    return promise;\n  }\n}\n","import { DataStore } from './stores/datastore';\nimport { Query } from './query';\nimport { DataStoreType } from './enums';\nimport reduce from 'lodash/reduce';\nconst syncCollectionName = process.env.KINVEY_SYNC_COLLECTION_NAME || 'sync';\nconst idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nlet enabled = process.env.KINVEY_SYNC_DEFAULT_STATE || true;\n\nconst Sync = {\n  isEnabled() {\n    return enabled;\n  },\n\n  enable() {\n    enabled = true;\n  },\n\n  disable() {\n    enabled = false;\n  },\n\n  count(query, options) {\n    const syncStore = DataStore.getInstance(syncCollectionName, DataStoreType.Sync);\n    const promise = syncStore.find(query, options).then(syncData => {\n      return reduce(syncData, function (result, data) {\n        return result + data.size;\n      }, 0);\n    });\n    return promise;\n  },\n\n  push(options) {\n    const syncStore = DataStore.getInstance(syncCollectionName, DataStoreType.Sync);\n    const query = new Query();\n    query.greaterThan('size', 0);\n    const promise = syncStore.find(query, options).then(syncData => {\n      const promises = syncData.map(data => {\n        const store = DataStore.getInstance(data[idAttribute], DataStoreType.Sync);\n        return store.push();\n      });\n      return Promise.all(promises);\n    });\n    return promise;\n  },\n\n  sync(options = {}) {\n    const syncStore = DataStore.getInstance(syncCollectionName, DataStoreType.Sync);\n    const promise = syncStore.find(null, options).then(syncData => {\n      const promises = syncData.map(data => {\n        const store = DataStore.getInstance(data[idAttribute], DataStoreType.Sync);\n        return store.sync();\n      });\n      return Promise.all(promises);\n    });\n    return promise;\n  }\n};\n\nexport { Sync };\n","import { Client } from './client';\nimport { Query } from './query';\nimport { Acl } from './acl';\nimport { Metadata } from './metadata';\nimport { KinveyError, NotFoundError, ActiveUserError } from './errors';\nimport { MobileIdentityConnect } from './mic';\nimport { AuthType, SocialIdentity, HttpMethod } from './enums';\nimport { DataStore, DataStoreType } from './stores/datastore';\nimport { NetworkRequest } from './requests/network';\nimport url from 'url';\nimport assign from 'lodash/assign';\nimport result from 'lodash/result';\nimport isObject from 'lodash/isObject';\nconst appdataNamespace = process.env.KINVEY_DATASTORE_NAMESPACE || 'appdata';\nconst usersNamespace = process.env.KINVEY_USERS_NAMESPACE || 'user';\nconst rpcNamespace = process.env.KINVEY_RPC_NAMESPACE || 'rpc';\nconst idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nconst kmdAttribute = process.env.KINVEY_KMD_ATTRIBUTE || '_kmd';\nconst socialIdentityAttribute = process.env.KINVEY_SOCIAL_IDENTITY_ATTRIBUTE || '_socialIdentity';\nconst usernameAttribute = process.env.KINVEY_USERNAME_ATTRIBUTE || 'username';\nconst emailAttribute = process.env.KINVEY_EMAIL_ATTRIBUTE || 'email';\nconst supportedIdentities = ['facebook', 'google', 'linkedIn'];\nlet hello;\n\nif (typeof window !== 'undefined') {\n  hello = require('hellojs');\n}\n\n/**\n * The User class is used to represent a single user on the Kinvey platform.\n * Use the user class to manage the active user lifecycle and perform user operations.\n */\nexport class User {\n  /**\n   * Create a new instance of a User.\n   *\n   * @param  {Object}   [data={}]    Data for the user.\n   * @return {User}                  User\n   *\n   * @example\n   * var user = new User();\n   */\n  constructor(data = {}) {\n    /**\n     * The users data.\n     *\n     * @type {Object}\n     */\n    this.data = data;\n\n    /**\n     * @private\n     * The client used by this user.\n     *\n     * @type {Client}\n     */\n    this.client = Client.sharedInstance();\n  }\n\n  /**\n   * The _id for the user.\n   *\n   * @return {?string} _id\n   *\n   * @example\n   * var _id = user._id;\n   */\n  get _id() {\n    return this.data[idAttribute];\n  }\n\n  /**\n   * The _acl for the user.\n   *\n   * @return {Acl} _acl\n   *\n   * @example\n   * var _acl = user._acl;\n   */\n  get _acl() {\n    return new Acl(this.data);\n  }\n\n  /**\n   * The metadata for the user.\n   *\n   * @return {Metadata} metadata\n   *\n   * @example\n   * var metadata = user.metadata;\n   */\n  get metadata() {\n    return new Metadata(this.data);\n  }\n\n  set metadata(metadata) {\n    this.data[kmdAttribute] = result(metadata, 'toJSON', metadata);\n  }\n\n  /**\n   * The _kmd for the user.\n   *\n   * @return {Metadata} _kmd\n   *\n   * @example\n   * var _kmd = user._kmd;\n   */\n  get _kmd() {\n    return this.metadata;\n  }\n\n  set _kmd(kmd) {\n    this.metadata = kmd;\n  }\n\n  get _socialIdentity() {\n    return this.data[socialIdentityAttribute];\n  }\n\n  /**\n   * The auth token for the user.\n   *\n   * @return {?string} Auth token\n   *\n   * @example\n   * var authtoken = user.authtoken;\n   */\n  get authtoken() {\n    return this.metadata.authtoken;\n  }\n\n  /**\n   * Set the auth token for the user.\n   *\n   * @param  {?string} authtoken Auth token\n   *\n   * @example\n   * user.authtoken = 'authtoken';\n   */\n  set authtoken(authtoken) {\n    const metadata = this.metadata;\n    metadata.authtoken = authtoken;\n    this.metadata = metadata;\n  }\n\n  /**\n   * The username for the user.\n   *\n   * @return {?string} Username\n   *\n   * @example\n   * var username = user.username;\n   */\n  get username() {\n    return this.data[usernameAttribute];\n  }\n\n  /**\n   * The email for the user.\n   *\n   * @return {?string} Email\n   *\n   * @example\n   * var email = user.email;\n   */\n  get email() {\n    return this.data[emailAttribute];\n  }\n\n  get _pathname() {\n    return `/${usersNamespace}/${this.client.appKey}`;\n  }\n\n  /**\n   * Gets the active user. You can optionally provide a client\n   * to use to lookup the active user.\n   *\n   * @param  {Client}           [client=Client.sharedInstance()]   Client to use to set the active user.\n   * @return {Promise<User>}                                       The active user on the client. The\n   *                                                               active user could be null if one does\n   *                                                               not exist.\n   *\n   * @example\n   * var _id = user._id;\n   */\n  static getActiveUser(client = Client.sharedInstance()) {\n    const data = client.getActiveUserData();\n    let user = null;\n\n    if (data) {\n      user = new User(data);\n      user.client = client;\n    }\n\n    return user;\n  }\n\n  /**\n   * Sets the active user. You can optionally provide a client to\n   * set the active user on. Only one active user per client is\n   * allowed.\n   *\n   * @param  {?(User|Object)}      [user]                               User to set as the active user.\n   * @param  {Client}              [client=Client.sharedInstance()]     The client to use to set the active user on.\n   * @return {Promise<User>}                                            The active user on the client. The active user\n   *                                                                    could be null if one does not exist.\n   *\n   * @example\n   * var user = new User();\n   * var promise = User.setActiveUser(user);\n   * promise.then(function(activeUser) {\n   *   ...\n   * }).catch(function(error) {\n   *   ...\n   * });\n   */\n  static setActiveUser(user, client = Client.sharedInstance()) {\n    const data = result(user, 'toJSON', user);\n    client.setActiveUserData(data);\n    return User.getActiveUser(client);\n  }\n\n  /**\n   * Set this user as the active user.\n   *\n   * @return {Promise<User>}  The active user.\n   *\n   * @example\n   * var promise = user.setAsActiveUser();\n   * promise.then(function(activeUser) {\n   *   ...\n   * }).catch(function(error) {\n   *   ...\n   * });\n   */\n  setAsActiveUser() {\n    return User.setActiveUser(this, this.client);\n  }\n\n  /**\n   * Checks if this user is the active user.\n   *\n   * @return {Promise<Boolean>} True or false if this user is the active user.\n   *\n   * @example\n   * var promise = user.isActiveUser();\n   * promise.then(function(isActiveUser) {\n   *   ...\n   * }).catch(function(error) {\n   *   ...\n   * });\n   */\n  isActive() {\n    const activeUser = User.getActiveUser(this.client);\n\n    if (activeUser && activeUser._id === this._id) {\n      return true;\n    }\n\n    return false;\n  }\n\n  static login(usernameOrData, password, options) {\n    const user = new User();\n    return user.login(usernameOrData, password, options);\n  }\n\n  static loginWithIdentity(identity, tokens, options) {\n    const user = new User();\n    return user.loginWithIdentity(identity, tokens, options);\n  }\n\n  /**\n   * Login using a username or password.\n   *\n   * @param  {string|Object}      usernameOrData    Username or an object with username\n   *                                                and password properties.\n   * @param  {string}             [password]        Users password.\n   * @param  {Object}             [options={}]      Options\n   * @return {Promise<User>}                        The logged in user.\n   *\n   * @example\n   * var promise = user.login('username', 'password');\n   * promise.then(function(user) {\n   *   ...\n   * }).catch(function(error) {\n   *   ...\n   * });\n   */\n  login(usernameOrData, password, options = {}) {\n    if (!isObject(usernameOrData)) {\n      usernameOrData = {\n        username: usernameOrData,\n        password: password\n      };\n    }\n\n    if (!usernameOrData._socialIdentity) {\n      if (usernameOrData.username) {\n        usernameOrData.username = String(usernameOrData.username).trim();\n      }\n\n      if (usernameOrData.password) {\n        usernameOrData.password = String(usernameOrData.password).trim();\n      }\n    }\n\n    const isActiveUser = this.isActive();\n    if (isActiveUser) {\n      return Promise.reject(new ActiveUserError('This user is already the active user.'));\n    }\n\n    const activeUser = User.getActiveUser(this.client);\n    if (activeUser) {\n      return Promise.reject(new ActiveUserError('An active user already exists. ' +\n        'Please logout the active user before you login.'));\n    }\n\n    if ((!usernameOrData.username || usernameOrData.username === ''\n      || !usernameOrData.password || usernameOrData.password === '')\n      && !usernameOrData[socialIdentityAttribute]) {\n      return Promise.reject(new KinveyError('Username and/or password missing. ' +\n        'Please provide both a username and password to login.'));\n    }\n\n    const request = new NetworkRequest({\n      method: HttpMethod.POST,\n      authType: AuthType.App,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: `${this._pathname}/login`\n      }),\n      data: usernameOrData,\n      properties: options.properties,\n      timeout: options.timeout\n    });\n\n    const promise = request.execute().then(response => {\n      this.data = response.data;\n      return this.setAsActiveUser();\n    });\n\n    return promise;\n  }\n\n  loginWithIdentity(identity, token, options) {\n    const data = { _socialIdentity: {} };\n    data._socialIdentity[identity] = token;\n    return this.login(data, options);\n  }\n\n  static loginWithMIC(redirectUri, authorizationGrant, options) {\n    const user = new User();\n    return user.loginWithMIC(redirectUri, authorizationGrant, options);\n  }\n\n  /* eslint-disable max-len */\n  /**\n   * Login using Mobile Identity Connect.\n   *\n   * @param  {string}                 redirectUri                                                         The redirect uri used\n   *                                                                                                      for MIC logins.\n   * @param  {AuthorizationGrant}     [authorizationGrant=AuthoizationGrant.AuthorizationCodeLoginPage]   MIC authorization grant to use.\n   * @param  {Object}                 [options={}]                                                        Options\n   * @return {Promise<User>}                                                                              The logged in user.\n   *\n   * @example\n   * var promise = user.loginWithMIC('http://example.com');\n   * promise.then(function(user) {\n   *   ...\n   * }).catch(function(error) {\n   *   ...\n   * });\n   */\n  /* eslint-enable max-len */\n  loginWithMIC(redirectUri, authorizationGrant, options = {}) {\n    const mic = new MobileIdentityConnect(this.client);\n    return mic.login(redirectUri, authorizationGrant, options).then(token => {\n      options.redirectUri = redirectUri;\n      options.client = result(mic.client, 'toJSON', mic.client);\n      return this.connect(MobileIdentityConnect.identity, token, options);\n    });\n  }\n\n  /**\n   * Logout the user. If the user was the active user then the active user will be set to null.\n   *\n   * @param  {Object}         [options={}]    Options\n   * @return {Promise<User>}                  The logged out user.\n   *\n   * @example\n   * var promise = user.logout();\n   * promise.then(function(user) {\n   *   ...\n   * }).catch(function(error) {\n   *   ...\n   * });\n   */\n  logout(options = {}) {\n    const isActive = this.isActive();\n\n    if (!isActive) {\n      return null;\n    }\n\n    const request = new NetworkRequest({\n      method: HttpMethod.POST,\n      authType: AuthType.Session,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: `/${usersNamespace}/${this.client.appKey}/_logout`\n      }),\n      properties: options.properties,\n      timeout: options.timeout\n    });\n\n    const promise = request.execute().catch(() => {\n      return null;\n    }).then(() => {\n      const isActive = this.isActive();\n\n      if (isActive) {\n        return User.setActiveUser(null, this.client);\n      }\n    }).then(() => {\n      return this;\n    });\n\n    return promise;\n  }\n\n  /**\n   * @private\n   * Returns true or false if identity connect is supported.\n   *\n   * @return {Boolean}  True or false if identity connect is supported.\n   *\n   * @example\n   * var isIdentitySupported = user.isIdentitySupported('identity');\n   */\n  static isIdentitySupported(identity) {\n    return hello && supportedIdentities.indexOf(identity) !== -1;\n  }\n\n  /**\n   * Connect using Facebook.\n   *\n   * @param  {Object}         [options={}]  Options\n   * @return {Promise<User>}                The connected user.\n   *\n   * @example\n   * var promise = user.connectWithFacebook();\n   * promise.then(function(user) {\n   *   ...\n   * }).catch(function(error) {\n   *   ...\n   * });\n   */\n  static connectWithFacebook(options = {}) {\n    return User.connectWithIdentity(SocialIdentity.Facebook, options);\n  }\n\n  /**\n   * Connect using Google.\n   *\n   * @param  {Object}         [options={}]  Options\n   * @return {Promise<User>}                The connected user.\n   *\n   * @example\n   * var promise = user.connectWithGoogle();\n   * promise.then(function(user) {\n   *   ...\n   * }).catch(function(error) {\n   *   ...\n   * });\n   */\n  static connectWithGoogle(options = {}) {\n    return User.connectWithIdentity(SocialIdentity.Google, options);\n  }\n\n  /**\n   * Connect using LinkedIn.\n   *\n   * @param  {Object}         [options={}]  Options\n   * @return {Promise<User>}                The connected user.\n   *\n   * @example\n   * var promise = user.connectWithLinkedIn();\n   * promise.then(function(user) {\n   *   ...\n   * }).catch(function(error) {\n   *   ...\n   * });\n   */\n  static connectWithLinkedIn(options = {}) {\n    return User.connectWithIdentity(SocialIdentity.LinkedIn, options);\n  }\n\n  static connectWithIdentity(identity, options) {\n    const user = new User();\n    return user.connectWithIdentity(identity, options);\n  }\n\n  /* eslint-disable max-len */\n  /**\n   * Connect using an identity (Facebook, Google, LinkedIn etc.).\n   *\n   * @param  {SocialIdentity|string}         identity                                Identity used to connect the user.\n   * @param  {Object}                        [options={}]                            Options\n   * @param  {string}                        [options.collectionName='Identities']   Collection name to use to lookup credentials\n   *                                                                                 for the identity.\n   * @return {Promise<User>}                                                         The connected user.\n   *\n   * @example\n   * var promise = user.connectWithIdentity(SocialIdentity.Facebook);\n   * promise.then(function(user) {\n   *   ...\n   * }).catch(function(error) {\n   *   ...\n   * });\n   */\n  /* eslint-enable max-len */\n  connectWithIdentity(identity, options = {}) {\n    options = assign({\n      collectionName: 'Identities'\n    }, options);\n\n\n    const promise = Promise.resolve().then0(() => {\n      if (!identity) {\n        throw new KinveyError('An identity is required to connect the user.');\n      }\n\n      if (!User.isIdentitySupported(identity)) {\n        throw new KinveyError(`Identity ${identity} is not supported on this platform.`);\n      }\n\n      const query = new Query().equalTo('identity', identity);\n      const request = new NetworkRequest({\n        method: HttpMethod.GET,\n        authType: AuthType.Default,\n        url: url.format({\n          protocol: this.client.protocol,\n          host: this.client.hose,\n          pathanme: `/${appdataNamespace}/${this.client.appKey}/${options.collectionName}`\n        }),\n        query: query,\n        properties: options.properties,\n        timeout: options.timeout\n      });\n      return request.execute();\n    }).then(response => {\n      if (response.data.length === 1) {\n        const helloSettings = {};\n        helloSettings[identity] = response.data[0].key || response.data[0].appId || response.data[0].clientId;\n        hello.init(helloSettings);\n        return hello(identity).login();\n      }\n\n      throw new KinveyError('Unsupported identity.');\n    }).then(() => {\n      const authResponse = hello(identity).getAuthResponse();\n      return this.connect(identity, authResponse, options);\n    });\n\n    return promise;\n  }\n\n  /**\n   * @private\n   *\n   * Connects with the provided accessToken and identity.\n   *\n   * @param  {SocialIdentity|string}         identity      Identity used to connect the user.\n   * @param  {string}                        accessToken   Access token for the identity.\n   * @param  {number}                        [expiresIn]   Time in seconds for how long the access token is valid.\n   * @param  {Object}                        [options={}]  Options\n   * @return {Promise<User>}                               The connected user.\n   *\n   * @example\n   * var token = {\n   *   access_token: 'access_token',\n   *   refresh_token: 'refresh_token',\n   *   expires_in: 3600\n   * };\n   * var promise = user.connect(SocialIdentity.Facebook, token);\n   * promise.then(function(user) {\n   *   ...\n   * }).catch(function(error) {\n   *   ...\n   * });\n   */\n  connect(identity, token, options = {}) {\n    const data = this.data;\n    const socialIdentity = data[socialIdentityAttribute] || {};\n    socialIdentity[identity] = token;\n    data[socialIdentityAttribute] = socialIdentity;\n    this.data = data;\n\n    const promise = Promise.resolve().then(() => {\n      const isActive = this.isActive();\n\n      if (isActive) {\n        options._identity = identity;\n        return this.update(data, options);\n      }\n\n      return this.login(data, null, options);\n    }).catch(err => {\n      if (err instanceof NotFoundError) {\n        return this.signup(data, options).then0(() => {\n          return this.connect(identity, token, options);\n        });\n      }\n\n      throw err;\n    }).then(() => {\n      this.client.setActiveSocialIdentity({\n        identity: identity,\n        token: this._socialIdentity[identity],\n        redirectUri: options.redirectUri,\n        client: options.client\n      });\n      return this;\n    });\n\n    return promise;\n  }\n\n  disconnect(identity, options = {}) {\n    const data = this.data;\n    const socialIdentity = data[socialIdentityAttribute] || {};\n    delete socialIdentity[identity];\n    data[socialIdentityAttribute] = socialIdentity;\n    this.data = data;\n\n    const promise = Promise.resolve().then0(() => {\n      if (!this._id) {\n        return this;\n      }\n\n      return this.update(data, options);\n    }).then(() => {\n      const activeSocialIdentity = this.client.getActiveSocialIdentity();\n\n      if (activeSocialIdentity.identity === identity) {\n        this.client.setActiveSocialIdentity(null);\n      }\n\n      return this;\n    });\n\n    return promise;\n  }\n\n  static signup(data, options) {\n    const user = new User();\n    return user.signup(data, options);\n  }\n\n  static signupWithIdentity(identity, tokens, options) {\n    const user = new User();\n    return user.signupWithIdentity(identity, tokens, options);\n  }\n\n  /**\n   * Sign up. If options.state is set to true then the user\n   * will be set as the active user after succesfully signing up the\n   * user.\n   *\n   * @param  {User|Object}    data                    Users data.\n   * @param  {Object}         [options={}]            Options\n   * @param  {Boolean}        [options.state=true]    If set to true, the user will be\n   *                                                  set as the active user after successfully\n   *                                                  being signed up.\n   * @return {Promise<User>}                          The signed up user.\n   *\n   * @example\n   * var promise = user.signup({\n   *   username: 'admin',\n   *   password: 'admin'\n   * });\n   * promise.then(function(user) {\n   *   ...\n   * }).catch(function(error) {\n   *   ...\n   * });\n   */\n  signup(data, options = {}) {\n    options = assign({\n      state: true\n    }, options);\n\n    const promise = Promise.resolve().then0(() => {\n      if (options.state === true) {\n        const activeUser = User.getActiveUser(this.client);\n        if (activeUser) {\n          throw new ActiveUserError('An active user already exists. ' +\n            'Please logout the active user before you login.');\n        }\n      }\n    }).then0(() => {\n      const request = new NetworkRequest({\n        method: HttpMethod.POST,\n        authType: AuthType.App,\n        url: url.format({\n          protocol: this.client.protocol,\n          host: this.client.host,\n          pathname: `/${usersNamespace}/${this.client.appKey}`\n        }),\n        data: result(data, 'toJSON', data),\n        properties: options.properties,\n        timeout: options.timeout\n      });\n      return request.execute();\n    }).then(response => {\n      this.data = response.data;\n\n      if (options.state === true) {\n        return this.setAsActiveUser();\n      }\n\n      return this;\n    });\n\n    return promise;\n  }\n\n  signupWithIdentity(identity, tokens, options) {\n    const data = { _socialIdentity: {} };\n    data._socialIdentity[identity] = tokens;\n    return this.signup(data, options);\n  }\n\n  update(data, options) {\n    const userStore = DataStore.getInstance(null, DataStoreType.User);\n    return userStore.save(data, options).then(data => {\n      this.data = data;\n\n      if (this.isActive()) {\n        return this.setAsActiveUser();\n      }\n\n      return this;\n    });\n  }\n\n  me(options = {}) {\n    const request = new NetworkRequest({\n      method: HttpMethod.GET,\n      authType: AuthType.Session,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: `/${usersNamespace}/${this.client.appKey}/_me`\n      }),\n      properties: options.properties,\n      timeout: options.timeout\n    });\n\n    const promise = request.execute().then(response => {\n      this.data = response.data;\n\n      if (!this.authtoken) {\n        const activeUser = User.getActiveUser(this.client);\n\n        if (activeUser) {\n          this.authtoken = activeUser.authtoken;\n        }\n      }\n\n      return this.setAsActiveUser();\n    });\n\n    return promise;\n  }\n\n  verifyEmail(options = {}) {\n    const request = new NetworkRequest({\n      method: HttpMethod.POST,\n      authType: AuthType.App,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: `/${rpcNamespace}/${this.client.appKey}/${this.username}/user-email-verification-initiate`\n      }),\n      properties: options.properties,\n      timeout: options.timeout,\n      client: this.client\n    });\n\n    const promise = request.execute().then(response => {\n      return response.data;\n    });\n\n    return promise;\n  }\n\n  forgotUsername(options = {}) {\n    const request = new NetworkRequest({\n      method: HttpMethod.POST,\n      authType: AuthType.App,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: `/${rpcNamespace}/${this.client.appKey}/user-forgot-username`\n      }),\n      properties: options.properties,\n      data: { email: this.email },\n      timeout: options.timeout,\n      client: this.client\n    });\n\n    const promise = request.execute().then(response => {\n      return response.data;\n    });\n\n    return promise;\n  }\n\n  resetPassword(options = {}) {\n    const request = new NetworkRequest({\n      method: HttpMethod.POST,\n      authType: AuthType.App,\n      url: url.format({\n        protocol: this.client.protocol,\n        host: this.client.host,\n        pathname: `/${rpcNamespace}/${this.client.appKey}/${this.username}/user-password-reset-initiate`\n      }),\n      properties: options.properties,\n      timeout: options.timeout,\n      client: this.client\n    });\n\n    const promise = request.execute().then(response => {\n      return response.data;\n    });\n\n    return promise;\n  }\n\n  // refreshAuthToken(options = {}) {\n  //   const socialIdentity = this.data[socialIdentityAttribute];\n  //   const identity = socialIdentity.activeIdentity;\n  //   const token = socialIdentity[identity];\n  //   let promise;\n\n  //   switch (identity) {\n  //     case MobileIdentityConnect.identity:\n  //       const mic = new MobileIdentityConnect(this.client);\n  //       promise = mic.refresh(token, options);\n  //       break;\n  //     default:\n  //       promise = Promise.reject(new KinveyError(`Unable to refresh the auth token because ` +\n  //         `the ${identity} identity is not supported.`));\n  //   }\n\n  //   return promise.then(token => {\n  //     return this.connect(identity, token, options);\n  //   });\n  // }\n\n  toJSON() {\n    return this.data;\n  }\n}\n","import { use } from './object';\n\n/**\n * @private\n */\nexport class Device {\n  toJSON() {\n    throw new Error('method unsupported');\n  }\n}\n\nDevice.use = use(['toJSON']);\n","import forEach from 'lodash/forEach';\nimport isFunction from 'lodash/isFunction';\n\n/**\n * @private\n */\nexport function nested(obj, dotProperty, value) {\n  if (!dotProperty) {\n    obj = value ? value : obj;\n    return obj;\n  }\n\n  const parts = dotProperty.split('.');\n  let current = parts.shift();\n  while (current && obj) {\n    obj = obj[current];\n    current = parts.shift();\n  }\n\n  return value ? value : obj;\n}\n\n/**\n * @private\n */\nexport function isDefined(obj) {\n  return obj !== undefined && obj !== null;\n}\n\n/**\n * @private\n */\nexport function use(nsInterface) {\n  return function(adapter = {}) {\n    forEach(nsInterface, methodName => {\n      if (isFunction(adapter[methodName])) {\n        this.prototype[methodName] = function() {\n          return adapter[methodName].apply(this, arguments);\n        };\n      }\n    });\n  };\n}\n","import { EventEmitter } from 'events';\nimport { use } from './object';\n\n/**\n * @private\n */\nexport class Popup extends EventEmitter {\n  constructor(url = '/') {\n    super();\n    this.url = url;\n  }\n\n  open() {\n    throw new Error('method unsupported');\n  }\n\n  close() {\n    throw new Error('method unsupported');\n  }\n\n  loadHandler() {\n    throw new Error('method unsupported');\n  }\n\n  clickHandler() {\n    throw new Error('method unsupported');\n  }\n\n  closeHandler() {\n    throw new Error('method unsupported');\n  }\n}\n\nPopup.use = use(['open', 'close', 'loadHandler', 'clickHandler', 'closeHandler']);\n","import uid from 'uid';\n\n/**\n * @private\n */\nexport function byteCount(str) {\n  let count = 0;\n  const stringLength = str.length;\n  str = String(str || '');\n\n  for (let i = 0; i < stringLength; i++) {\n    const partCount = encodeURI(str[i]).split('%').length;\n    count += partCount === 1 ? 1 : partCount - 1;\n  }\n\n  return count;\n}\n\nexport function randomString(size, prefix = '') {\n  return `${prefix}${uid(size)}`;\n}\n","'use strict';\n\nvar stub = require('./stub');\nvar tracking = require('./tracking');\nvar ls = 'localStorage' in global && global.localStorage ? global.localStorage : stub;\n\nfunction accessor (key, value) {\n  if (arguments.length === 1) {\n    return get(key);\n  }\n  return set(key, value);\n}\n\nfunction get (key) {\n  return JSON.parse(ls.getItem(key));\n}\n\nfunction set (key, value) {\n  try {\n    ls.setItem(key, JSON.stringify(value));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction remove (key) {\n  return ls.removeItem(key);\n}\n\nfunction clear () {\n  return ls.clear();\n}\n\naccessor.set = set;\naccessor.get = get;\naccessor.remove = remove;\naccessor.clear = clear;\naccessor.on = tracking.on;\naccessor.off = tracking.off;\n\nmodule.exports = accessor;\n","'use strict';\n\nvar ms = {};\n\nfunction getItem (key) {\n  return key in ms ? ms[key] : null;\n}\n\nfunction setItem (key, value) {\n  ms[key] = value;\n  return true;\n}\n\nfunction removeItem (key) {\n  var found = key in ms;\n  if (found) {\n    return delete ms[key];\n  }\n  return false;\n}\n\nfunction clear () {\n  ms = {};\n  return true;\n}\n\nmodule.exports = {\n  getItem: getItem,\n  setItem: setItem,\n  removeItem: removeItem,\n  clear: clear\n};\n","'use strict';\n\nvar listeners = {};\nvar listening = false;\n\nfunction listen () {\n  if (global.addEventListener) {\n    global.addEventListener('storage', change, false);\n  } else if (global.attachEvent) {\n    global.attachEvent('onstorage', change);\n  } else {\n    global.onstorage = change;\n  }\n}\n\nfunction change (e) {\n  if (!e) {\n    e = global.event;\n  }\n  var all = listeners[e.key];\n  if (all) {\n    all.forEach(fire);\n  }\n\n  function fire (listener) {\n    listener(JSON.parse(e.newValue), JSON.parse(e.oldValue), e.url || e.uri);\n  }\n}\n\nfunction on (key, fn) {\n  if (listeners[key]) {\n    listeners[key].push(fn);\n  } else {\n    listeners[key] = [fn];\n  }\n  if (listening === false) {\n    listen();\n  }\n}\n\nfunction off (key, fn) {\n  var ns = listeners[key];\n  if (ns.length > 1) {\n    ns.splice(ns.indexOf(fn), 1);\n  } else {\n    listeners[key] = [];\n  }\n}\n\nmodule.exports = {\n  on: on,\n  off: off\n};\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Creates an hash object.\n *\n * @private\n * @constructor\n * @returns {Object} Returns the new hash object.\n */\nfunction Hash() {}\n\n// Avoid inheriting from `Object.prototype` when possible.\nHash.prototype = nativeCreate ? nativeCreate(null) : objectProto;\n\nmodule.exports = Hash;\n","var baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/**\n * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n *\n * @private\n * @constructor\n * @param {*} value The value to wrap.\n */\nfunction LazyWrapper(value) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__dir__ = 1;\n  this.__filtered__ = false;\n  this.__iteratees__ = [];\n  this.__takeCount__ = MAX_ARRAY_LENGTH;\n  this.__views__ = [];\n}\n\nLazyWrapper.prototype = baseCreate(baseLodash.prototype);\nLazyWrapper.prototype.constructor = LazyWrapper;\n\nmodule.exports = LazyWrapper;\n","var baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/**\n * The base constructor for creating `lodash` wrapper objects.\n *\n * @private\n * @param {*} value The value to wrap.\n * @param {boolean} [chainAll] Enable chaining for all wrapper methods.\n */\nfunction LodashWrapper(value, chainAll) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__chain__ = !!chainAll;\n  this.__index__ = 0;\n  this.__values__ = undefined;\n}\n\nLodashWrapper.prototype = baseCreate(baseLodash.prototype);\nLodashWrapper.prototype.constructor = LodashWrapper;\n\nmodule.exports = LodashWrapper;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapClear = require('./_mapClear'),\n    mapDelete = require('./_mapDelete'),\n    mapGet = require('./_mapGet'),\n    mapHas = require('./_mapHas'),\n    mapSet = require('./_mapSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction MapCache(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = values[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add functions to the `MapCache`.\nMapCache.prototype.clear = mapClear;\nMapCache.prototype['delete'] = mapDelete;\nMapCache.prototype.get = mapGet;\nMapCache.prototype.has = mapHas;\nMapCache.prototype.set = mapSet;\n\nmodule.exports = MapCache;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Reflect = root.Reflect;\n\nmodule.exports = Reflect;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction Stack(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = values[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add functions to the `Stack` cache.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `Map#set` because it doesn't return the map instance in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\nmodule.exports = addMapEntry;\n","/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  set.add(value);\n  return set;\n}\n\nmodule.exports = addSetEntry;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {...*} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  var length = args.length;\n  switch (length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayReduce;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check, else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","var eq = require('./eq');\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (typeof key == 'number' && value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\nmodule.exports = assignMergeValue;\n","var eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\nmodule.exports = assignValue;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the associative array.\n *\n * @private\n * @param {Array} array The array to query.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction assocDelete(array, key) {\n  var index = assocIndexOf(array, key);\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = array.length - 1;\n  if (index == lastIndex) {\n    array.pop();\n  } else {\n    splice.call(array, index, 1);\n  }\n  return true;\n}\n\nmodule.exports = assocDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the associative array value for `key`.\n *\n * @private\n * @param {Array} array The array to query.\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction assocGet(array, key) {\n  var index = assocIndexOf(array, key);\n  return index < 0 ? undefined : array[index][1];\n}\n\nmodule.exports = assocGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if an associative array value for `key` exists.\n *\n * @private\n * @param {Array} array The array to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction assocHas(array, key) {\n  return assocIndexOf(array, key) > -1;\n}\n\nmodule.exports = assocHas;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the first occurrence of `key` is found in `array`\n * of key-value pairs.\n *\n * @private\n * @param {Array} array The array to search.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the associative array `key` to `value`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n */\nfunction assocSet(array, key, value) {\n  var index = assocIndexOf(array, key);\n  if (index < 0) {\n    array.push([key, value]);\n  } else {\n    array[index][1] = value;\n  }\n}\n\nmodule.exports = assocSet;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n","var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the array-like object.\n */\nfunction baseCastFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = baseCastFunction;\n","var isArray = require('./isArray'),\n    stringToPath = require('./_stringToPath');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction baseCastPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\nmodule.exports = baseCastPath;\n","var Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignValue = require('./_assignValue'),\n    baseAssign = require('./_baseAssign'),\n    baseForOwn = require('./_baseForOwn'),\n    cloneBuffer = require('./_cloneBuffer'),\n    copyArray = require('./_copyArray'),\n    copySymbols = require('./_copySymbols'),\n    getTag = require('./_getTag'),\n    initCloneArray = require('./_initCloneArray'),\n    initCloneByTag = require('./_initCloneByTag'),\n    initCloneObject = require('./_initCloneObject'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isHostObject = require('./_isHostObject'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[boolTag] =\ncloneableTags[dateTag] = cloneableTags[float32Tag] =\ncloneableTags[float64Tag] = cloneableTags[int8Tag] =\ncloneableTags[int16Tag] = cloneableTags[int32Tag] =\ncloneableTags[mapTag] = cloneableTags[numberTag] =\ncloneableTags[objectTag] = cloneableTags[regexpTag] =\ncloneableTags[setTag] = cloneableTags[stringTag] =\ncloneableTags[symbolTag] = cloneableTags[uint8Tag] =\ncloneableTags[uint8ClampedTag] = cloneableTags[uint16Tag] =\ncloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        result = baseAssign(result, value);\n        return isFull ? copySymbols(value, result) : result;\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  // Recursively populate clone (susceptible to call stack limits).\n  (isArr ? arrayEach : baseForOwn)(value, function(subValue, key) {\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return (isFull && !isArr) ? copySymbols(value, result) : result;\n}\n\nmodule.exports = baseClone;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\nmodule.exports = baseCreate;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","/**\n * The base implementation of methods like `_.find` and `_.findKey`, without\n * support for iteratee shorthands, which iterates over `collection` using\n * `eachFunc`.\n *\n * @private\n * @param {Array|Object} collection The collection to search.\n * @param {Function} predicate The function invoked per iteration.\n * @param {Function} eachFunc The function to iterate over `collection`.\n * @param {boolean} [retKey] Specify returning the key of the found element instead of the element itself.\n * @returns {*} Returns the found element or its key, else `undefined`.\n */\nfunction baseFind(collection, predicate, eachFunc, retKey) {\n  var result;\n  eachFunc(collection, function(value, key, collection) {\n    if (predicate(value, key, collection)) {\n      result = retKey ? key : value;\n      return false;\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFind;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to search.\n * @param {Function} predicate The function invoked per iteration.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromRight) {\n  var length = array.length,\n      index = fromRight ? length : -1;\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForIn` and `baseForOwn` which iterates\n * over `object` properties returned by `keysFunc` invoking `iteratee` for\n * each property. Iteratee functions may exit iteration early by explicitly\n * returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var baseCastPath = require('./_baseCastPath'),\n    isKey = require('./_isKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path + ''] : baseCastPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[path[index++]];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar getPrototypeOf = Object.getPrototypeOf;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  // Avoid a bug in IE 10-11 where objects with a [[Prototype]] of `null`,\n  // that are composed entirely of index properties, return `false` for\n  // `hasOwnProperty` checks of them.\n  return hasOwnProperty.call(object, key) ||\n    (typeof object == 'object' && key in object && getPrototypeOf(object) === null);\n}\n\nmodule.exports = baseHas;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObject = require('./isObject'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {boolean} [bitmask] The bitmask of comparison flags.\n *  The bitmask may be composed of the following flags:\n *     1 - Unordered comparison\n *     2 - Partial comparison\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, customizer, bitmask, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, baseIsEqual, customizer, bitmask, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isHostObject = require('./_isHostObject'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for comparison styles. */\nvar PARTIAL_COMPARE_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {number} [bitmask] The bitmask of comparison flags. See `baseIsEqual` for more details.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, equalFunc, customizer, bitmask, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = arrayTag,\n      othTag = arrayTag;\n\n  if (!objIsArr) {\n    objTag = getTag(object);\n    objTag = objTag == argsTag ? objectTag : objTag;\n  }\n  if (!othIsArr) {\n    othTag = getTag(other);\n    othTag = othTag == argsTag ? objectTag : othTag;\n  }\n  var objIsObj = objTag == objectTag && !isHostObject(object),\n      othIsObj = othTag == objectTag && !isHostObject(other),\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, equalFunc, customizer, bitmask, stack)\n      : equalByTag(object, other, objTag, equalFunc, customizer, bitmask, stack);\n  }\n  if (!(bitmask & PARTIAL_COMPARE_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      stack || (stack = new Stack);\n      return equalFunc(objIsWrapped ? object.value() : object, othIsWrapped ? other.value() : other, customizer, bitmask, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, equalFunc, customizer, bitmask, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for comparison styles. */\nvar UNORDERED_COMPARE_FLAG = 1,\n    PARTIAL_COMPARE_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack,\n          result = customizer ? customizer(objValue, srcValue, key, object, source, stack) : undefined;\n\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, customizer, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  var type = typeof value;\n  if (type == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (type == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = Object.keys;\n\n/**\n * The base implementation of `_.keys` which doesn't skip the constructor\n * property of prototypes or treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  return nativeKeys(Object(object));\n}\n\nmodule.exports = baseKeys;\n","var Reflect = require('./_Reflect'),\n    iteratorToArray = require('./_iteratorToArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar enumerate = Reflect ? Reflect.enumerate : undefined,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * The base implementation of `_.keysIn` which doesn't skip the constructor\n * property of prototypes or treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  object = object == null ? object : Object(object);\n\n  var result = [];\n  for (var key in object) {\n    result.push(key);\n  }\n  return result;\n}\n\n// Fallback for IE < 9 with es6-shim.\nif (enumerate && !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf')) {\n  baseKeysIn = function(object) {\n    return iteratorToArray(enumerate(object));\n  };\n}\n\nmodule.exports = baseKeysIn;\n","/**\n * The function whose prototype all chaining wrappers inherit from.\n *\n * @private\n */\nfunction baseLodash() {\n  // No operation performed.\n}\n\nmodule.exports = baseLodash;\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    var key = matchData[0][0],\n        value = matchData[0][1];\n\n    return function(object) {\n      if (object == null) {\n        return false;\n      }\n      return object[key] === value &&\n        (value !== undefined || (key in Object(object)));\n    };\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn');\n\n/** Used to compose bitmasks for comparison styles. */\nvar UNORDERED_COMPARE_FLAG = 1,\n    PARTIAL_COMPARE_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, undefined, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","var Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignMergeValue = require('./_assignMergeValue'),\n    baseMergeDeep = require('./_baseMergeDeep'),\n    isArray = require('./isArray'),\n    isObject = require('./isObject'),\n    isTypedArray = require('./isTypedArray'),\n    keysIn = require('./keysIn');\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  var props = (isArray(source) || isTypedArray(source))\n    ? undefined\n    : keysIn(source);\n\n  arrayEach(props || source, function(srcValue, key) {\n    if (props) {\n      key = srcValue;\n      srcValue = source[key];\n    }\n    if (isObject(srcValue)) {\n      stack || (stack = new Stack);\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(object[key], srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  });\n}\n\nmodule.exports = baseMerge;\n","var assignMergeValue = require('./_assignMergeValue'),\n    baseClone = require('./_baseClone'),\n    copyArray = require('./_copyArray'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isPlainObject = require('./isPlainObject'),\n    isTypedArray = require('./isTypedArray'),\n    toPlainObject = require('./toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = object[key],\n      srcValue = source[key],\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    newValue = srcValue;\n    if (isArray(srcValue) || isTypedArray(srcValue)) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else {\n        isCommon = false;\n        newValue = baseClone(srcValue, !customizer);\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || (srcIndex && isFunction(objValue))) {\n        isCommon = false;\n        newValue = baseClone(srcValue, !customizer);\n      }\n      else {\n        newValue = objValue;\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  stack.set(srcValue, newValue);\n\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n  }\n  stack['delete'](srcValue);\n  assignMergeValue(object, key, newValue);\n}\n\nmodule.exports = baseMergeDeep;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","/**\n * The base implementation of `_.reduce` and `_.reduceRight`, without support\n * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} accumulator The initial value.\n * @param {boolean} initAccum Specify using the first or last element of `collection` as the initial value.\n * @param {Function} eachFunc The function to iterate over `collection`.\n * @returns {*} Returns the accumulated value.\n */\nfunction baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n  eachFunc(collection, function(value, index, collection) {\n    accumulator = initAccum\n      ? (initAccum = false, value)\n      : iteratee(accumulator, value, index, collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseReduce;\n","var identity = require('./identity'),\n    metaMap = require('./_metaMap');\n\n/**\n * The base implementation of `setData` without support for hot loop detection.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar baseSetData = !metaMap ? identity : function(func, data) {\n  metaMap.set(func, data);\n  return func;\n};\n\nmodule.exports = baseSetData;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n * of key-value pairs for `object` corresponding to the property names of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the new array of key-value pairs.\n */\nfunction baseToPairs(object, props) {\n  return arrayMap(props, function(key) {\n    return [key, object[key]];\n  });\n}\n\nmodule.exports = baseToPairs;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","/**\n * Checks if `value` is a global object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {null|Object} Returns `value` if it's a global object, else `null`.\n */\nfunction checkGlobal(value) {\n  return (value && value.Object === Object) ? value : null;\n}\n\nmodule.exports = checkGlobal;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","var addMapEntry = require('./_addMapEntry'),\n    arrayReduce = require('./_arrayReduce'),\n    mapToArray = require('./_mapToArray');\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map) {\n  return arrayReduce(mapToArray(map), addMapEntry, new map.constructor);\n}\n\nmodule.exports = cloneMap;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nmodule.exports = cloneRegExp;\n","var addSetEntry = require('./_addSetEntry'),\n    arrayReduce = require('./_arrayReduce'),\n    setToArray = require('./_setToArray');\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set) {\n  return arrayReduce(setToArray(set), addSetEntry, new set.constructor);\n}\n\nmodule.exports = cloneSet;\n","var Symbol = require('./_Symbol');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nmodule.exports = cloneSymbol;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array that is the composition of partially applied arguments,\n * placeholders, and provided arguments into a single array of arguments.\n *\n * @private\n * @param {Array|Object} args The provided arguments.\n * @param {Array} partials The arguments to prepend to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgs(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersLength = holders.length,\n      leftIndex = -1,\n      leftLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(leftLength + rangeLength),\n      isUncurried = !isCurried;\n\n  while (++leftIndex < leftLength) {\n    result[leftIndex] = partials[leftIndex];\n  }\n  while (++argsIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[holders[argsIndex]] = args[argsIndex];\n    }\n  }\n  while (rangeLength--) {\n    result[leftIndex++] = args[argsIndex++];\n  }\n  return result;\n}\n\nmodule.exports = composeArgs;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This function is like `composeArgs` except that the arguments composition\n * is tailored for `_.partialRight`.\n *\n * @private\n * @param {Array|Object} args The provided arguments.\n * @param {Array} partials The arguments to append to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgsRight(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersIndex = -1,\n      holdersLength = holders.length,\n      rightIndex = -1,\n      rightLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(rangeLength + rightLength),\n      isUncurried = !isCurried;\n\n  while (++argsIndex < rangeLength) {\n    result[argsIndex] = args[argsIndex];\n  }\n  var offset = argsIndex;\n  while (++rightIndex < rightLength) {\n    result[offset + rightIndex] = partials[rightIndex];\n  }\n  while (++holdersIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[offset + holders[holdersIndex]] = args[argsIndex++];\n    }\n  }\n  return result;\n}\n\nmodule.exports = composeArgsRight;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var copyObjectWith = require('./_copyObjectWith');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property names to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object) {\n  return copyObjectWith(source, props, object);\n}\n\nmodule.exports = copyObject;\n","var assignValue = require('./_assignValue');\n\n/**\n * This function is like `copyObject` except that it accepts a function to\n * customize copied values.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property names to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObjectWith(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : source[key];\n\n    assignValue(object, key, newValue);\n  }\n  return object;\n}\n\nmodule.exports = copyObjectWith;\n","var copyObject = require('./_copyObject'),\n    getSymbols = require('./_getSymbols');\n\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nmodule.exports = copySymbols;\n","/**\n * Gets the number of `placeholder` occurrences in `array`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} placeholder The placeholder to search for.\n * @returns {number} Returns the placeholder count.\n */\nfunction countHolders(array, placeholder) {\n  var length = array.length,\n      result = 0;\n\n  while (length--) {\n    if (array[length] === placeholder) {\n      result++;\n    }\n  }\n  return result;\n}\n\nmodule.exports = countHolders;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","var isIterateeCall = require('./_isIterateeCall'),\n    rest = require('./rest');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return rest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = typeof customizer == 'function'\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","/**\n * Creates a base function for methods like `_.forIn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var createCtorWrapper = require('./_createCtorWrapper'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the optional `this`\n * binding of `thisArg`.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask of wrapper flags. See `createWrapper` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createBaseWrapper(func, bitmask, thisArg) {\n  var isBind = bitmask & BIND_FLAG,\n      Ctor = createCtorWrapper(func);\n\n  function wrapper() {\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return fn.apply(isBind ? thisArg : this, arguments);\n  }\n  return wrapper;\n}\n\nmodule.exports = createBaseWrapper;\n","var baseCreate = require('./_baseCreate'),\n    isObject = require('./isObject');\n\n/**\n * Creates a function that produces an instance of `Ctor` regardless of\n * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n *\n * @private\n * @param {Function} Ctor The constructor to wrap.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCtorWrapper(Ctor) {\n  return function() {\n    // Use a `switch` statement to work with class constructors.\n    // See http://ecma-international.org/ecma-262/6.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n    // for more details.\n    var args = arguments;\n    switch (args.length) {\n      case 0: return new Ctor;\n      case 1: return new Ctor(args[0]);\n      case 2: return new Ctor(args[0], args[1]);\n      case 3: return new Ctor(args[0], args[1], args[2]);\n      case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n      case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n      case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n      case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n    }\n    var thisBinding = baseCreate(Ctor.prototype),\n        result = Ctor.apply(thisBinding, args);\n\n    // Mimic the constructor's `return` behavior.\n    // See https://es5.github.io/#x13.2.2 for more details.\n    return isObject(result) ? result : thisBinding;\n  };\n}\n\nmodule.exports = createCtorWrapper;\n","var apply = require('./_apply'),\n    createCtorWrapper = require('./_createCtorWrapper'),\n    createHybridWrapper = require('./_createHybridWrapper'),\n    createRecurryWrapper = require('./_createRecurryWrapper'),\n    getPlaceholder = require('./_getPlaceholder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/**\n * Creates a function that wraps `func` to enable currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask of wrapper flags. See `createWrapper` for more details.\n * @param {number} arity The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCurryWrapper(func, bitmask, arity) {\n  var Ctor = createCtorWrapper(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length,\n        placeholder = getPlaceholder(wrapper);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n      ? []\n      : replaceHolders(args, placeholder);\n\n    length -= holders.length;\n    if (length < arity) {\n      return createRecurryWrapper(\n        func, bitmask, createHybridWrapper, wrapper.placeholder, undefined,\n        args, holders, undefined, undefined, arity - length);\n    }\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return apply(fn, this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createCurryWrapper;\n","var composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    countHolders = require('./_countHolders'),\n    createCtorWrapper = require('./_createCtorWrapper'),\n    createRecurryWrapper = require('./_createRecurryWrapper'),\n    getPlaceholder = require('./_getPlaceholder'),\n    reorder = require('./_reorder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    BIND_KEY_FLAG = 2,\n    CURRY_FLAG = 8,\n    CURRY_RIGHT_FLAG = 16,\n    ARY_FLAG = 128,\n    FLIP_FLAG = 512;\n\n/**\n * Creates a function that wraps `func` to invoke it with optional `this`\n * binding of `thisArg`, partial application, and currying.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask of wrapper flags. See `createWrapper` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [partialsRight] The arguments to append to those provided to the new function.\n * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createHybridWrapper(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n  var isAry = bitmask & ARY_FLAG,\n      isBind = bitmask & BIND_FLAG,\n      isBindKey = bitmask & BIND_KEY_FLAG,\n      isCurried = bitmask & (CURRY_FLAG | CURRY_RIGHT_FLAG),\n      isFlip = bitmask & FLIP_FLAG,\n      Ctor = isBindKey ? undefined : createCtorWrapper(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        index = length,\n        args = Array(length);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    if (isCurried) {\n      var placeholder = getPlaceholder(wrapper),\n          holdersCount = countHolders(args, placeholder);\n    }\n    if (partials) {\n      args = composeArgs(args, partials, holders, isCurried);\n    }\n    if (partialsRight) {\n      args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n    }\n    length -= holdersCount;\n    if (isCurried && length < arity) {\n      var newHolders = replaceHolders(args, placeholder);\n      return createRecurryWrapper(\n        func, bitmask, createHybridWrapper, wrapper.placeholder, thisArg,\n        args, newHolders, argPos, ary, arity - length\n      );\n    }\n    var thisBinding = isBind ? thisArg : this,\n        fn = isBindKey ? thisBinding[func] : func;\n\n    length = args.length;\n    if (argPos) {\n      args = reorder(args, argPos);\n    } else if (isFlip && length > 1) {\n      args.reverse();\n    }\n    if (isAry && ary < length) {\n      args.length = ary;\n    }\n    if (this && this !== root && this instanceof wrapper) {\n      fn = Ctor || createCtorWrapper(fn);\n    }\n    return fn.apply(thisBinding, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createHybridWrapper;\n","var apply = require('./_apply'),\n    createCtorWrapper = require('./_createCtorWrapper'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the optional `this`\n * binding of `thisArg` and the `partials` prepended to those provided to\n * the wrapper.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask of wrapper flags. See `createWrapper` for more details.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} partials The arguments to prepend to those provided to the new function.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createPartialWrapper(func, bitmask, thisArg, partials) {\n  var isBind = bitmask & BIND_FLAG,\n      Ctor = createCtorWrapper(func);\n\n  function wrapper() {\n    var argsIndex = -1,\n        argsLength = arguments.length,\n        leftIndex = -1,\n        leftLength = partials.length,\n        args = Array(leftLength + argsLength),\n        fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n    while (++leftIndex < leftLength) {\n      args[leftIndex] = partials[leftIndex];\n    }\n    while (argsLength--) {\n      args[leftIndex++] = arguments[++argsIndex];\n    }\n    return apply(fn, isBind ? thisArg : this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createPartialWrapper;\n","var copyArray = require('./_copyArray'),\n    isLaziable = require('./_isLaziable'),\n    setData = require('./_setData');\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    BIND_KEY_FLAG = 2,\n    CURRY_BOUND_FLAG = 4,\n    CURRY_FLAG = 8,\n    PARTIAL_FLAG = 32,\n    PARTIAL_RIGHT_FLAG = 64;\n\n/**\n * Creates a function that wraps `func` to continue currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask of wrapper flags. See `createWrapper` for more details.\n * @param {Function} wrapFunc The function to create the `func` wrapper.\n * @param {*} placeholder The placeholder value.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createRecurryWrapper(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n  var isCurry = bitmask & CURRY_FLAG,\n      newArgPos = argPos ? copyArray(argPos) : undefined,\n      newHolders = isCurry ? holders : undefined,\n      newHoldersRight = isCurry ? undefined : holders,\n      newPartials = isCurry ? partials : undefined,\n      newPartialsRight = isCurry ? undefined : partials;\n\n  bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n  bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n  if (!(bitmask & CURRY_BOUND_FLAG)) {\n    bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n  }\n  var newData = [\n    func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n    newHoldersRight, newArgPos, ary, arity\n  ];\n\n  var result = wrapFunc.apply(undefined, newData);\n  if (isLaziable(func)) {\n    setData(result, newData);\n  }\n  result.placeholder = placeholder;\n  return result;\n}\n\nmodule.exports = createRecurryWrapper;\n","var baseSetData = require('./_baseSetData'),\n    createBaseWrapper = require('./_createBaseWrapper'),\n    createCurryWrapper = require('./_createCurryWrapper'),\n    createHybridWrapper = require('./_createHybridWrapper'),\n    createPartialWrapper = require('./_createPartialWrapper'),\n    getData = require('./_getData'),\n    mergeData = require('./_mergeData'),\n    setData = require('./_setData'),\n    toInteger = require('./toInteger');\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    BIND_KEY_FLAG = 2,\n    CURRY_FLAG = 8,\n    CURRY_RIGHT_FLAG = 16,\n    PARTIAL_FLAG = 32,\n    PARTIAL_RIGHT_FLAG = 64;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that either curries or invokes `func` with optional\n * `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask of wrapper flags.\n *  The bitmask may be composed of the following flags:\n *     1 - `_.bind`\n *     2 - `_.bindKey`\n *     4 - `_.curry` or `_.curryRight` of a bound function\n *     8 - `_.curry`\n *    16 - `_.curryRight`\n *    32 - `_.partial`\n *    64 - `_.partialRight`\n *   128 - `_.rearg`\n *   256 - `_.ary`\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to be partially applied.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createWrapper(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n  var isBindKey = bitmask & BIND_KEY_FLAG;\n  if (!isBindKey && typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var length = partials ? partials.length : 0;\n  if (!length) {\n    bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\n    partials = holders = undefined;\n  }\n  ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n  arity = arity === undefined ? arity : toInteger(arity);\n  length -= holders ? holders.length : 0;\n\n  if (bitmask & PARTIAL_RIGHT_FLAG) {\n    var partialsRight = partials,\n        holdersRight = holders;\n\n    partials = holders = undefined;\n  }\n  var data = isBindKey ? undefined : getData(func);\n\n  var newData = [\n    func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n    argPos, ary, arity\n  ];\n\n  if (data) {\n    mergeData(newData, data);\n  }\n  func = newData[0];\n  bitmask = newData[1];\n  thisArg = newData[2];\n  partials = newData[3];\n  holders = newData[4];\n  arity = newData[9] = newData[9] == null\n    ? (isBindKey ? 0 : func.length)\n    : nativeMax(newData[9] - length, 0);\n\n  if (!arity && bitmask & (CURRY_FLAG | CURRY_RIGHT_FLAG)) {\n    bitmask &= ~(CURRY_FLAG | CURRY_RIGHT_FLAG);\n  }\n  if (!bitmask || bitmask == BIND_FLAG) {\n    var result = createBaseWrapper(func, bitmask, thisArg);\n  } else if (bitmask == CURRY_FLAG || bitmask == CURRY_RIGHT_FLAG) {\n    result = createCurryWrapper(func, bitmask, arity);\n  } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !holders.length) {\n    result = createPartialWrapper(func, bitmask, thisArg, partials);\n  } else {\n    result = createHybridWrapper.apply(undefined, newData);\n  }\n  var setter = data ? baseSetData : setData;\n  return setter(result, newData);\n}\n\nmodule.exports = createWrapper;\n","var arraySome = require('./_arraySome');\n\n/** Used to compose bitmasks for comparison styles. */\nvar UNORDERED_COMPARE_FLAG = 1,\n    PARTIAL_COMPARE_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual` for more details.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, equalFunc, customizer, bitmask, stack) {\n  var index = -1,\n      isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      isUnordered = bitmask & UNORDERED_COMPARE_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(array, other);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (isUnordered) {\n      if (!arraySome(other, function(othValue) {\n            return arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack);\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack))) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for comparison styles. */\nvar UNORDERED_COMPARE_FLAG = 1,\n    PARTIAL_COMPARE_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual` for more details.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, equalFunc, customizer, bitmask, stack) {\n  switch (tag) {\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n      // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n      // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n      return +object == +other;\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case numberTag:\n      // Treat `NaN` vs. `NaN` as equal.\n      return (object != +object) ? other != +other : object == +other;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings primitives and string\n      // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & PARTIAL_COMPARE_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      // Recursively compare objects (susceptible to call stack limits).\n      return equalArrays(convert(object), convert(other), equalFunc, customizer, bitmask | UNORDERED_COMPARE_FLAG, stack.set(object, other));\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var baseHas = require('./_baseHas'),\n    keys = require('./keys');\n\n/** Used to compose bitmasks for comparison styles. */\nvar PARTIAL_COMPARE_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual` for more details.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, equalFunc, customizer, bitmask, stack) {\n  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      objProps = keys(object),\n      objLength = objProps.length,\n      othProps = keys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : baseHas(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, customizer, bitmask, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var metaMap = require('./_metaMap'),\n    noop = require('./noop');\n\n/**\n * Gets metadata for `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {*} Returns the metadata for `func`.\n */\nvar getData = !metaMap ? noop : function(func) {\n  return metaMap.get(func);\n};\n\nmodule.exports = getData;\n","var realNames = require('./_realNames');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the name of `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {string} Returns the function name.\n */\nfunction getFuncName(func) {\n  var result = (func.name + ''),\n      array = realNames[result],\n      length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n  while (length--) {\n    var data = array[length],\n        otherFunc = data.func;\n    if (otherFunc == null || otherFunc == func) {\n      return data.name;\n    }\n  }\n  return result;\n}\n\nmodule.exports = getFuncName;\n","var baseProperty = require('./_baseProperty');\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\nmodule.exports = getLength;\n","var isStrictComparable = require('./_isStrictComparable'),\n    toPairs = require('./toPairs');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = toPairs(object),\n      length = result.length;\n\n  while (length--) {\n    result[length][2] = isStrictComparable(result[length][1]);\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var isNative = require('./isNative');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = object[key];\n  return isNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","/**\n * Gets the argument placeholder value for `func`.\n *\n * @private\n * @param {Function} func The function to inspect.\n * @returns {*} Returns the placeholder value.\n */\nfunction getPlaceholder(func) {\n  var object = func;\n  return object.placeholder;\n}\n\nmodule.exports = getPlaceholder;\n","/** Built-in value references. */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = getOwnPropertySymbols || function() {\n  return [];\n};\n\nmodule.exports = getSymbols;\n","var Map = require('./_Map'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = Function.prototype.toString;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect maps, sets, and weakmaps. */\nvar mapCtorString = Map ? funcToString.call(Map) : '',\n    setCtorString = Set ? funcToString.call(Set) : '',\n    weakMapCtorString = WeakMap ? funcToString.call(WeakMap) : '';\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction getTag(value) {\n  return objectToString.call(value);\n}\n\n// Fallback for IE 11 providing `toStringTag` values for maps, sets, and weakmaps.\nif ((Map && getTag(new Map) != mapTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : null,\n        ctorString = typeof Ctor == 'function' ? funcToString.call(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case mapCtorString: return mapTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var baseCastPath = require('./_baseCastPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isKey = require('./_isKey'),\n    isLength = require('./isLength'),\n    isString = require('./isString'),\n    last = require('./last'),\n    parent = require('./_parent');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  if (object == null) {\n    return false;\n  }\n  var result = hasFunc(object, path);\n  if (!result && !isKey(path)) {\n    path = baseCastPath(path);\n    object = parent(object, path);\n    if (object != null) {\n      path = last(path);\n      result = hasFunc(object, path);\n    }\n  }\n  var length = object ? object.length : undefined;\n  return result || (\n    !!length && isLength(length) && isIndex(path, length) &&\n    (isArray(object) || isString(object) || isArguments(object))\n  );\n}\n\nmodule.exports = hasPath;\n","var hashHas = require('./_hashHas');\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(hash, key) {\n  return hashHas(hash, key) && delete hash[key];\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @param {Object} hash The hash to query.\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(hash, key) {\n  if (nativeCreate) {\n    var result = hash[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(hash, key) ? hash[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @param {Object} hash The hash to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(hash, key) {\n  return nativeCreate ? hash[key] !== undefined : hasOwnProperty.call(hash, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n */\nfunction hashSet(hash, key, value) {\n  hash[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n}\n\nmodule.exports = hashSet;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isLength = require('./isLength'),\n    isString = require('./isString');\n\n/**\n * Creates an array of index keys for `object` values of arrays,\n * `arguments` objects, and strings, otherwise `null` is returned.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array|null} Returns index keys, else `null`.\n */\nfunction indexKeys(object) {\n  var length = object ? object.length : undefined;\n  if (isLength(length) &&\n      (isArray(object) || isString(object) || isArguments(object))) {\n    return baseTimes(length, String);\n  }\n  return null;\n}\n\nmodule.exports = indexKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nmodule.exports = initCloneArray;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer'),\n    cloneMap = require('./_cloneMap'),\n    cloneRegExp = require('./_cloneRegExp'),\n    cloneSet = require('./_cloneSet'),\n    cloneSymbol = require('./_cloneSymbol'),\n    cloneTypedArray = require('./_cloneTypedArray');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nmodule.exports = initCloneByTag;\n","var baseCreate = require('./_baseCreate'),\n    isPrototype = require('./_isPrototype');\n\n/** Built-in value references. */\nvar getPrototypeOf = Object.getPrototypeOf;\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototypeOf(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\nmodule.exports = isHostObject;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\nmodule.exports = isIndex;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n      ? (isArrayLike(object) && isIndex(index, object.length))\n      : (type == 'string' && index in object)) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var isArray = require('./isArray');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (typeof value == 'number') {\n    return true;\n  }\n  return !isArray(value) &&\n    (reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n      (object != null && value in Object(object)));\n}\n\nmodule.exports = isKey;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return type == 'number' || type == 'boolean' ||\n    (type == 'string' && value != '__proto__') || value == null;\n}\n\nmodule.exports = isKeyable;\n","var LazyWrapper = require('./_LazyWrapper'),\n    getData = require('./_getData'),\n    getFuncName = require('./_getFuncName'),\n    lodash = require('./wrapperLodash');\n\n/**\n * Checks if `func` has a lazy counterpart.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` has a lazy counterpart, else `false`.\n */\nfunction isLaziable(func) {\n  var funcName = getFuncName(func),\n      other = lodash[funcName];\n\n  if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n    return false;\n  }\n  if (func === other) {\n    return true;\n  }\n  var data = getData(other);\n  return !!data && func === data[0];\n}\n\nmodule.exports = isLaziable;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * Converts `iterator` to an array.\n *\n * @private\n * @param {Object} iterator The iterator to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction iteratorToArray(iterator) {\n  var data,\n      result = [];\n\n  while (!(data = iterator.next()).done) {\n    result.push(data.value);\n  }\n  return result;\n}\n\nmodule.exports = iteratorToArray;\n","var Hash = require('./_Hash'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': Map ? new Map : [],\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapClear;\n","var Map = require('./_Map'),\n    assocDelete = require('./_assocDelete'),\n    hashDelete = require('./_hashDelete'),\n    isKeyable = require('./_isKeyable');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapDelete(key) {\n  var data = this.__data__;\n  if (isKeyable(key)) {\n    return hashDelete(typeof key == 'string' ? data.string : data.hash, key);\n  }\n  return Map ? data.map['delete'](key) : assocDelete(data.map, key);\n}\n\nmodule.exports = mapDelete;\n","var Map = require('./_Map'),\n    assocGet = require('./_assocGet'),\n    hashGet = require('./_hashGet'),\n    isKeyable = require('./_isKeyable');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapGet(key) {\n  var data = this.__data__;\n  if (isKeyable(key)) {\n    return hashGet(typeof key == 'string' ? data.string : data.hash, key);\n  }\n  return Map ? data.map.get(key) : assocGet(data.map, key);\n}\n\nmodule.exports = mapGet;\n","var Map = require('./_Map'),\n    assocHas = require('./_assocHas'),\n    hashHas = require('./_hashHas'),\n    isKeyable = require('./_isKeyable');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapHas(key) {\n  var data = this.__data__;\n  if (isKeyable(key)) {\n    return hashHas(typeof key == 'string' ? data.string : data.hash, key);\n  }\n  return Map ? data.map.has(key) : assocHas(data.map, key);\n}\n\nmodule.exports = mapHas;\n","var Map = require('./_Map'),\n    assocSet = require('./_assocSet'),\n    hashSet = require('./_hashSet'),\n    isKeyable = require('./_isKeyable');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache object.\n */\nfunction mapSet(key, value) {\n  var data = this.__data__;\n  if (isKeyable(key)) {\n    hashSet(typeof key == 'string' ? data.string : data.hash, key, value);\n  } else if (Map) {\n    data.map.set(key, value);\n  } else {\n    assocSet(data.map, key, value);\n  }\n  return this;\n}\n\nmodule.exports = mapSet;\n","/**\n * Converts `map` to an array.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","var composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    copyArray = require('./_copyArray'),\n    replaceHolders = require('./_replaceHolders');\n\n/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    BIND_KEY_FLAG = 2,\n    CURRY_BOUND_FLAG = 4,\n    CURRY_FLAG = 8,\n    ARY_FLAG = 128,\n    REARG_FLAG = 256;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Merges the function metadata of `source` into `data`.\n *\n * Merging metadata reduces the number of wrappers used to invoke a function.\n * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n * may be applied regardless of execution order. Methods like `_.ary` and `_.rearg`\n * modify function arguments, making the order in which they are executed important,\n * preventing the merging of metadata. However, we make an exception for a safe\n * combined case where curried functions have `_.ary` and or `_.rearg` applied.\n *\n * @private\n * @param {Array} data The destination metadata.\n * @param {Array} source The source metadata.\n * @returns {Array} Returns `data`.\n */\nfunction mergeData(data, source) {\n  var bitmask = data[1],\n      srcBitmask = source[1],\n      newBitmask = bitmask | srcBitmask,\n      isCommon = newBitmask < (BIND_FLAG | BIND_KEY_FLAG | ARY_FLAG);\n\n  var isCombo =\n    ((srcBitmask == ARY_FLAG) && (bitmask == CURRY_FLAG)) ||\n    ((srcBitmask == ARY_FLAG) && (bitmask == REARG_FLAG) && (data[7].length <= source[8])) ||\n    ((srcBitmask == (ARY_FLAG | REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == CURRY_FLAG));\n\n  // Exit early if metadata can't be merged.\n  if (!(isCommon || isCombo)) {\n    return data;\n  }\n  // Use source `thisArg` if available.\n  if (srcBitmask & BIND_FLAG) {\n    data[2] = source[2];\n    // Set when currying a bound function.\n    newBitmask |= bitmask & BIND_FLAG ? 0 : CURRY_BOUND_FLAG;\n  }\n  // Compose partial arguments.\n  var value = source[3];\n  if (value) {\n    var partials = data[3];\n    data[3] = partials ? composeArgs(partials, value, source[4]) : copyArray(value);\n    data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : copyArray(source[4]);\n  }\n  // Compose partial right arguments.\n  value = source[5];\n  if (value) {\n    partials = data[5];\n    data[5] = partials ? composeArgsRight(partials, value, source[6]) : copyArray(value);\n    data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : copyArray(source[6]);\n  }\n  // Use source `argPos` if available.\n  value = source[7];\n  if (value) {\n    data[7] = copyArray(value);\n  }\n  // Use source `ary` if it's smaller.\n  if (srcBitmask & ARY_FLAG) {\n    data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n  }\n  // Use source `arity` if one is not provided.\n  if (data[9] == null) {\n    data[9] = source[9];\n  }\n  // Use source `func` and merge bitmasks.\n  data[0] = source[0];\n  data[1] = newBitmask;\n\n  return data;\n}\n\nmodule.exports = mergeData;\n","var WeakMap = require('./_WeakMap');\n\n/** Used to store function metadata. */\nvar metaMap = WeakMap && new WeakMap;\n\nmodule.exports = metaMap;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var baseSlice = require('./_baseSlice'),\n    get = require('./get');\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length == 1 ? object : get(object, baseSlice(path, 0, -1));\n}\n\nmodule.exports = parent;\n","/** Used to lookup unminified function names. */\nvar realNames = {};\n\nmodule.exports = realNames;\n","var copyArray = require('./_copyArray'),\n    isIndex = require('./_isIndex');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Reorder `array` according to the specified indexes where the element at\n * the first index is assigned as the first element, the element at\n * the second index is assigned as the second element, and so on.\n *\n * @private\n * @param {Array} array The array to reorder.\n * @param {Array} indexes The arranged array indexes.\n * @returns {Array} Returns `array`.\n */\nfunction reorder(array, indexes) {\n  var arrLength = array.length,\n      length = nativeMin(indexes.length, arrLength),\n      oldArray = copyArray(array);\n\n  while (length--) {\n    var index = indexes[length];\n    array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n  }\n  return array;\n}\n\nmodule.exports = reorder;\n","/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/**\n * Replaces all `placeholder` elements in `array` with an internal placeholder\n * and returns an array of their indexes.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {*} placeholder The placeholder to replace.\n * @returns {Array} Returns the new array of placeholder indexes.\n */\nfunction replaceHolders(array, placeholder) {\n  var index = -1,\n      length = array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value === placeholder || value === PLACEHOLDER) {\n      array[index] = PLACEHOLDER;\n      result[resIndex++] = index;\n    }\n  }\n  return result;\n}\n\nmodule.exports = replaceHolders;\n","var checkGlobal = require('./_checkGlobal');\n\n/** Used to determine if values are of the language type `Object`. */\nvar objectTypes = {\n  'function': true,\n  'object': true\n};\n\n/** Detect free variable `exports`. */\nvar freeExports = (objectTypes[typeof exports] && exports && !exports.nodeType)\n  ? exports\n  : undefined;\n\n/** Detect free variable `module`. */\nvar freeModule = (objectTypes[typeof module] && module && !module.nodeType)\n  ? module\n  : undefined;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = checkGlobal(freeExports && freeModule && typeof global == 'object' && global);\n\n/** Detect free variable `self`. */\nvar freeSelf = checkGlobal(objectTypes[typeof self] && self);\n\n/** Detect free variable `window`. */\nvar freeWindow = checkGlobal(objectTypes[typeof window] && window);\n\n/** Detect `this` as the global object. */\nvar thisGlobal = checkGlobal(objectTypes[typeof this] && this);\n\n/**\n * Used as a reference to the global object.\n *\n * The `this` value is used if it's the global object to avoid Greasemonkey's\n * restricted `window` object, otherwise the `window` object is used.\n */\nvar root = freeGlobal ||\n  ((freeWindow !== (thisGlobal && thisGlobal.window)) && freeWindow) ||\n    freeSelf || thisGlobal || Function('return this')();\n\nmodule.exports = root;\n","var baseSetData = require('./_baseSetData'),\n    now = require('./now');\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 150,\n    HOT_SPAN = 16;\n\n/**\n * Sets metadata for `func`.\n *\n * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n * period of time, it will trip its breaker and transition to an identity function\n * to avoid garbage collection pauses in V8. See [V8 issue 2070](https://code.google.com/p/v8/issues/detail?id=2070)\n * for more details.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar setData = (function() {\n  var count = 0,\n      lastCalled = 0;\n\n  return function(key, value) {\n    var stamp = now(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return key;\n      }\n    } else {\n      count = 0;\n    }\n    return baseSetData(key, value);\n  };\n}());\n\nmodule.exports = setData;\n","/**\n * Converts `set` to an array.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = { 'array': [], 'map': null };\n}\n\nmodule.exports = stackClear;\n","var assocDelete = require('./_assocDelete');\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      array = data.array;\n\n  return array ? assocDelete(array, key) : data.map['delete'](key);\n}\n\nmodule.exports = stackDelete;\n","var assocGet = require('./_assocGet');\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  var data = this.__data__,\n      array = data.array;\n\n  return array ? assocGet(array, key) : data.map.get(key);\n}\n\nmodule.exports = stackGet;\n","var assocHas = require('./_assocHas');\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  var data = this.__data__,\n      array = data.array;\n\n  return array ? assocHas(array, key) : data.map.has(key);\n}\n\nmodule.exports = stackHas;\n","var MapCache = require('./_MapCache'),\n    assocSet = require('./_assocSet');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache object.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__,\n      array = data.array;\n\n  if (array) {\n    if (array.length < (LARGE_ARRAY_SIZE - 1)) {\n      assocSet(array, key, value);\n    } else {\n      data.array = null;\n      data.map = new MapCache(array);\n    }\n  }\n  var map = data.map;\n  if (map) {\n    map.set(key, value);\n  }\n  return this;\n}\n\nmodule.exports = stackSet;\n","var toString = require('./toString');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nfunction stringToPath(string) {\n  var result = [];\n  toString(string).replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n}\n\nmodule.exports = stringToPath;\n","var LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    copyArray = require('./_copyArray');\n\n/**\n * Creates a clone of `wrapper`.\n *\n * @private\n * @param {Object} wrapper The wrapper to clone.\n * @returns {Object} Returns the cloned wrapper.\n */\nfunction wrapperClone(wrapper) {\n  if (wrapper instanceof LazyWrapper) {\n    return wrapper.clone();\n  }\n  var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n  result.__actions__ = copyArray(wrapper.__actions__);\n  result.__index__  = wrapper.__index__;\n  result.__values__ = wrapper.__values__;\n  return result;\n}\n\nmodule.exports = wrapperClone;\n","var assignValue = require('./_assignValue'),\n    copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    isArrayLike = require('./isArrayLike'),\n    isPrototype = require('./_isPrototype'),\n    keys = require('./keys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/**\n * Assigns own enumerable properties of source objects to the destination\n * object. Source objects are applied from left to right. Subsequent sources\n * overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * function Foo() {\n *   this.c = 3;\n * }\n *\n * function Bar() {\n *   this.e = 5;\n * }\n *\n * Foo.prototype.d = 4;\n * Bar.prototype.f = 6;\n *\n * _.assign({ 'a': 1 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3, 'e': 5 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\nmodule.exports = assign;\n","var createWrapper = require('./_createWrapper'),\n    getPlaceholder = require('./_getPlaceholder'),\n    replaceHolders = require('./_replaceHolders'),\n    rest = require('./rest');\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    PARTIAL_FLAG = 32;\n\n/**\n * Creates a function that invokes `func` with the `this` binding of `thisArg`\n * and prepends any additional `_.bind` arguments to those provided to the\n * bound function.\n *\n * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n * may be used as a placeholder for partially applied arguments.\n *\n * **Note:** Unlike native `Function#bind` this method doesn't set the \"length\"\n * property of bound functions.\n *\n * @static\n * @memberOf _\n * @category Function\n * @param {Function} func The function to bind.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {...*} [partials] The arguments to be partially applied.\n * @returns {Function} Returns the new bound function.\n * @example\n *\n * var greet = function(greeting, punctuation) {\n *   return greeting + ' ' + this.user + punctuation;\n * };\n *\n * var object = { 'user': 'fred' };\n *\n * var bound = _.bind(greet, object, 'hi');\n * bound('!');\n * // => 'hi fred!'\n *\n * // Bound with placeholders.\n * var bound = _.bind(greet, object, _, '!');\n * bound('hi');\n * // => 'hi fred!'\n */\nvar bind = rest(function(func, thisArg, partials) {\n  var bitmask = BIND_FLAG;\n  if (partials.length) {\n    var holders = replaceHolders(partials, getPlaceholder(bind));\n    bitmask |= PARTIAL_FLAG;\n  }\n  return createWrapper(func, bitmask, thisArg, partials, holders);\n});\n\n// Assign default placeholders.\nbind.placeholder = {};\n\nmodule.exports = bind;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var object = { 'user': 'fred' };\n * var getter = _.constant(object);\n *\n * getter() === object;\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","/**\n * Performs a [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'user': 'fred' };\n * var other = { 'user': 'fred' };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseEach = require('./_baseEach'),\n    baseFind = require('./_baseFind'),\n    baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three arguments:\n * (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @category Collection\n * @param {Array|Object} collection The collection to search.\n * @param {Function|Object|string} [predicate=_.identity] The function invoked per iteration.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nfunction find(collection, predicate) {\n  predicate = baseIteratee(predicate, 3);\n  if (isArray(collection)) {\n    var index = baseFindIndex(collection, predicate);\n    return index > -1 ? collection[index] : undefined;\n  }\n  return baseFind(collection, predicate, baseEach);\n}\n\nmodule.exports = find;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @category Array\n * @param {Array} array The array to search.\n * @param {Function|Object|string} [predicate=_.identity] The function invoked per iteration.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate) {\n  return (array && array.length)\n    ? baseFindIndex(array, baseIteratee(predicate, 3))\n    : -1;\n}\n\nmodule.exports = findIndex;\n","var arrayEach = require('./_arrayEach'),\n    baseCastFunction = require('./_baseCastFunction'),\n    baseEach = require('./_baseEach'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection` invoking `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\" property\n * are iterated like arrays. To avoid this behavior use `_.forIn` or `_.forOwn`\n * for object iteration.\n *\n * @static\n * @memberOf _\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @example\n *\n * _([1, 2]).forEach(function(value) {\n *   console.log(value);\n * });\n * // => logs `1` then `2`\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => logs 'a' then 'b' (iteration order is not guaranteed)\n */\nfunction forEach(collection, iteratee) {\n  return (typeof iteratee == 'function' && isArray(collection))\n    ? arrayEach(collection, iteratee)\n    : baseEach(collection, baseCastFunction(iteratee));\n}\n\nmodule.exports = forEach;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined` the `defaultValue` is used in its place.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': _.create({ 'c': 3 }) }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b.c');\n * // => true\n *\n * _.hasIn(object, ['a', 'b', 'c']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * This method returns the first argument given to it.\n *\n * @static\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'user': 'fred' };\n *\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var isArrayLikeObject = require('./isArrayLikeObject');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 incorrectly makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @type {Function}\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var getLength = require('./_getLength'),\n    isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value)) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object, else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var constant = require('./constant'),\n    root = require('./_root');\n\n/** Used to determine if values are of the language type `Object`. */\nvar objectTypes = {\n  'function': true,\n  'object': true\n};\n\n/** Detect free variable `exports`. */\nvar freeExports = (objectTypes[typeof exports] && exports && !exports.nodeType)\n  ? exports\n  : undefined;\n\n/** Detect free variable `module`. */\nvar freeModule = (objectTypes[typeof module] && module && !module.nodeType)\n  ? module\n  : undefined;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = (freeModule && freeModule.exports === freeExports)\n  ? freeExports\n  : undefined;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = !Buffer ? constant(false) : function(value) {\n  return value instanceof Buffer;\n};\n\nmodule.exports = isBuffer;\n","var isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isFunction = require('./isFunction'),\n    isString = require('./isString');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty collection or object. A value is considered\n * empty if it's an `arguments` object, array, string, or jQuery-like collection\n * with a length of `0` or has no own enumerable properties.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (isArrayLike(value) &&\n      (isArray(value) || isString(value) ||\n        isFunction(value.splice) || isArguments(value))) {\n    return !value.length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n","var isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8 which returns 'object' for typed array and weak map constructors,\n  // and PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is loosely based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var isFunction = require('./isFunction'),\n    isHostObject = require('./_isHostObject'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used to match `RegExp` [syntax characters](http://ecma-international.org/ecma-262/6.0/#sec-patterns). */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari > 5). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (value == null) {\n    return false;\n  }\n  if (isFunction(value)) {\n    return reIsNative.test(funcToString.call(value));\n  }\n  return isObjectLike(value) &&\n    (isHostObject(value) ? reIsNative : reIsHostCtor).test(value);\n}\n\nmodule.exports = isNative;\n","var isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified\n * as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && objectToString.call(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n","/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var isHostObject = require('./_isHostObject'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = Function.prototype.toString;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar getPrototypeOf = Object.getPrototypeOf;\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) ||\n      objectToString.call(value) != objectTag || isHostObject(value)) {\n    return false;\n  }\n  var proto = getPrototypeOf(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nmodule.exports = isPlainObject;\n","var isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar regexpTag = '[object RegExp]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `RegExp` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isRegExp(/abc/);\n * // => true\n *\n * _.isRegExp('/abc/');\n * // => false\n */\nfunction isRegExp(value) {\n  return isObject(value) && objectToString.call(value) == regexpTag;\n}\n\nmodule.exports = isRegExp;\n","var isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && objectToString.call(value) == stringTag);\n}\n\nmodule.exports = isString;\n","var isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dateTag] = typedArrayTags[errorTag] =\ntypedArrayTags[funcTag] = typedArrayTags[mapTag] =\ntypedArrayTags[numberTag] = typedArrayTags[objectTag] =\ntypedArrayTags[regexpTag] = typedArrayTags[setTag] =\ntypedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nfunction isTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[objectToString.call(value)];\n}\n\nmodule.exports = isTypedArray;\n","var createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` through `iteratee`. The corresponding value\n * of each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function|Object|string} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  result[key] = value;\n});\n\nmodule.exports = keyBy;\n","var baseHas = require('./_baseHas'),\n    baseKeys = require('./_baseKeys'),\n    indexKeys = require('./_indexKeys'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  var isProto = isPrototype(object);\n  if (!(isProto || isArrayLike(object))) {\n    return baseKeys(object);\n  }\n  var indexes = indexKeys(object),\n      skipIndexes = !!indexes,\n      result = indexes || [],\n      length = result.length;\n\n  for (var key in object) {\n    if (baseHas(object, key) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length))) &&\n        !(isProto && key == 'constructor')) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = keys;\n","var baseKeysIn = require('./_baseKeysIn'),\n    indexKeys = require('./_indexKeys'),\n    isIndex = require('./_isIndex'),\n    isPrototype = require('./_isPrototype');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  var index = -1,\n      isProto = isPrototype(object),\n      props = baseKeysIn(object),\n      propsLength = props.length,\n      indexes = indexKeys(object),\n      skipIndexes = !!indexes,\n      result = indexes || [],\n      length = result.length;\n\n  while (++index < propsLength) {\n    var key = props[index];\n    if (!(skipIndexes && (key == 'length' || isIndex(key, length))) &&\n        !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = keysIn;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array ? array.length : 0;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` through\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `curry`, `curryRight`, `drop`, `dropRight`, `every`, `fill`,\n * `invert`, `parseInt`, `random`, `range`, `rangeRight`, `slice`, `some`,\n * `sortBy`, `take`, `takeRight`, `template`, `trim`, `trimEnd`, `trimStart`,\n * and `words`\n *\n * @static\n * @memberOf _\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function|Object|string} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable properties of source objects into the destination\n * object. Source properties that resolve to `undefined` are skipped if a\n * destination value exists. Array and plain object properties are merged\n * recursively.Other objects and value types are overridden by assignment.\n * Source objects are applied from left to right. Subsequent sources\n * overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var users = {\n *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n * };\n *\n * var ages = {\n *   'data': [{ 'age': 36 }, { 'age': 40 }]\n * };\n *\n * _.merge(users, ages);\n * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nmodule.exports = merge;\n","/**\n * A no-operation function that returns `undefined` regardless of the\n * arguments it receives.\n *\n * @static\n * @memberOf _\n * @category Util\n * @example\n *\n * var object = { 'user': 'fred' };\n *\n * _.noop(object) === undefined;\n * // => true\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @type {Function}\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => logs the number of milliseconds it took for the deferred function to be invoked\n */\nvar now = Date.now;\n\nmodule.exports = now;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': { 'c': 2 } } },\n *   { 'a': { 'b': { 'c': 1 } } }\n * ];\n *\n * _.map(objects, _.property('a.b.c'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b', 'c'])), 'a.b.c');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(path) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","var arrayReduce = require('./_arrayReduce'),\n    baseEach = require('./_baseEach'),\n    baseIteratee = require('./_baseIteratee'),\n    baseReduce = require('./_baseReduce'),\n    isArray = require('./isArray');\n\n/**\n * Reduces `collection` to a value which is the accumulated result of running\n * each element in `collection` through `iteratee`, where each successive\n * invocation is supplied the return value of the previous. If `accumulator`\n * is not given the first element of `collection` is used as the initial\n * value. The iteratee is invoked with four arguments:\n * (accumulator, value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.reduce`, `_.reduceRight`, and `_.transform`.\n *\n * The guarded methods are:\n * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n * and `sortBy`\n *\n * @static\n * @memberOf _\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @returns {*} Returns the accumulated value.\n * @example\n *\n * _.reduce([1, 2], function(sum, n) {\n *   return sum + n;\n * }, 0);\n * // => 3\n *\n * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n *   return result;\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n */\nfunction reduce(collection, iteratee, accumulator) {\n  var func = isArray(collection) ? arrayReduce : baseReduce,\n      initAccum = arguments.length < 3;\n\n  return func(collection, baseIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n}\n\nmodule.exports = reduce;\n","var apply = require('./_apply'),\n    toInteger = require('./toInteger');\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that invokes `func` with the `this` binding of the\n * created function and arguments from `start` and beyond provided as an array.\n *\n * **Note:** This method is based on the [rest parameter](https://mdn.io/rest_parameters).\n *\n * @static\n * @memberOf _\n * @category Function\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var say = _.rest(function(what, names) {\n *   return what + ' ' + _.initial(names).join(', ') +\n *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n * });\n *\n * say('hello', 'fred', 'barney', 'pebbles');\n * // => 'hello fred, barney, & pebbles'\n */\nfunction rest(func, start) {\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  start = nativeMax(start === undefined ? (func.length - 1) : toInteger(start), 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    switch (start) {\n      case 0: return func.call(this, array);\n      case 1: return func.call(this, args[0], array);\n      case 2: return func.call(this, args[0], args[1], array);\n    }\n    var otherArgs = Array(start + 1);\n    index = -1;\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = rest;\n","var baseCastPath = require('./_baseCastPath'),\n    get = require('./get'),\n    isFunction = require('./isFunction'),\n    isKey = require('./_isKey'),\n    parent = require('./_parent');\n\n/**\n * This method is like `_.get` except that if the resolved value is a function\n * it's invoked with the `this` binding of its parent object and its result\n * is returned.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to resolve.\n * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n *\n * _.result(object, 'a[0].b.c1');\n * // => 3\n *\n * _.result(object, 'a[0].b.c2');\n * // => 4\n *\n * _.result(object, 'a[0].b.c3', 'default');\n * // => 'default'\n *\n * _.result(object, 'a[0].b.c3', _.constant('default'));\n * // => 'default'\n */\nfunction result(object, path, defaultValue) {\n  if (!isKey(path, object)) {\n    path = baseCastPath(path);\n    var result = get(object, path);\n    object = parent(object, path);\n  } else {\n    result = object == null ? undefined : object[path];\n  }\n  if (result === undefined) {\n    result = defaultValue;\n  }\n  return isFunction(result) ? result.call(object) : result;\n}\n\nmodule.exports = result;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This function is loosely based on [`ToInteger`](http://www.ecma-international.org/ecma-262/6.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3');\n * // => 3\n */\nfunction toInteger(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  var remainder = value % 1;\n  return value === value ? (remainder ? value - remainder : value) : 0;\n}\n\nmodule.exports = toInteger;\n","var isFunction = require('./isFunction'),\n    isObject = require('./isObject');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3);\n * // => 3\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3');\n * // => 3\n */\nfunction toNumber(value) {\n  if (isObject(value)) {\n    var other = isFunction(value.valueOf) ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var baseToPairs = require('./_baseToPairs'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable key-value pairs for `object` which\n * can be consumed by `_.fromPairs`.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the new array of key-value pairs.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.toPairs(new Foo);\n * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n */\nfunction toPairs(object) {\n  return baseToPairs(object, keys(object));\n}\n\nmodule.exports = toPairs;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable\n * properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n","var Symbol = require('./_Symbol'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Converts `value` to a string if it's not one. An empty string is returned\n * for `null` and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (value == null) {\n    return '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toString;\n","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object ? baseValues(object, keys(object)) : [];\n}\n\nmodule.exports = values;\n","var LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    baseLodash = require('./_baseLodash'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike'),\n    wrapperClone = require('./_wrapperClone');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates a `lodash` object which wraps `value` to enable implicit method\n * chaining. Methods that operate on and return arrays, collections, and\n * functions can be chained together. Methods that retrieve a single value or\n * may return a primitive value will automatically end the chain sequence and\n * return the unwrapped value. Otherwise, the value must be unwrapped with\n * `_#value`.\n *\n * Explicit chaining, which must be unwrapped with `_#value` in all cases,\n * may be enabled using `_.chain`.\n *\n * The execution of chained methods is lazy, that is, it's deferred until\n * `_#value` is implicitly or explicitly called.\n *\n * Lazy evaluation allows several methods to support shortcut fusion. Shortcut\n * fusion is an optimization to merge iteratee calls; this avoids the creation\n * of intermediate arrays and can greatly reduce the number of iteratee executions.\n * Sections of a chain sequence qualify for shortcut fusion if the section is\n * applied to an array of at least two hundred elements and any iteratees\n * accept only one argument. The heuristic for whether a section qualifies\n * for shortcut fusion is subject to change.\n *\n * Chaining is supported in custom builds as long as the `_#value` method is\n * directly or indirectly included in the build.\n *\n * In addition to lodash methods, wrappers have `Array` and `String` methods.\n *\n * The wrapper `Array` methods are:\n * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n *\n * The wrapper `String` methods are:\n * `replace` and `split`\n *\n * The wrapper methods that support shortcut fusion are:\n * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n *\n * The chainable wrapper methods are:\n * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n * `flatten`, `flattenDeep`, `flattenDepth`, `flip`, `flow`, `flowRight`,\n * `fromPairs`, `functions`, `functionsIn`, `groupBy`, `initial`, `intersection`,\n * `intersectionBy`, `intersectionWith`, `invert`, `invertBy`, `invokeMap`,\n * `iteratee`, `keyBy`, `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`,\n * `matches`, `matchesProperty`, `memoize`, `merge`, `mergeWith`, `method`,\n * `methodOf`, `mixin`, `negate`, `nthArg`, `omit`, `omitBy`, `once`, `orderBy`,\n * `over`, `overArgs`, `overEvery`, `overSome`, `partial`, `partialRight`,\n * `partition`, `pick`, `pickBy`, `plant`, `property`, `propertyOf`, `pull`,\n * `pullAll`, `pullAllBy`, `pullAllWith`, `pullAt`, `push`, `range`,\n * `rangeRight`, `rearg`, `reject`, `remove`, `rest`, `reverse`, `sampleSize`,\n * `set`, `setWith`, `shuffle`, `slice`, `sort`, `sortBy`, `splice`, `spread`,\n * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `tap`, `throttle`,\n * `thru`, `toArray`, `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`,\n * `transform`, `unary`, `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`,\n * `uniqWith`, `unset`, `unshift`, `unzip`, `unzipWith`, `update`, `values`,\n * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`, `zipObject`,\n * `zipObjectDeep`, and `zipWith`\n *\n * The wrapper methods that are **not** chainable by default are:\n * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `deburr`, `each`, `eachRight`,\n * `endsWith`, `eq`, `escape`, `escapeRegExp`, `every`, `find`, `findIndex`,\n * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `first`, `floor`,\n * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\n * `get`, `gt`, `gte`, `has`, `hasIn`, `head`, `identity`, `includes`,\n * `indexOf`, `inRange`, `invoke`, `isArguments`, `isArray`, `isArrayBuffer`,\n * `isArrayLike`, `isArrayLikeObject`, `isBoolean`, `isBuffer`, `isDate`,\n * `isElement`, `isEmpty`, `isEqual`, `isEqualWith`, `isError`, `isFinite`,\n * `isFunction`, `isInteger`, `isLength`, `isMap`, `isMatch`, `isMatchWith`,\n * `isNaN`, `isNative`, `isNil`, `isNull`, `isNumber`, `isObject`, `isObjectLike`,\n * `isPlainObject`, `isRegExp`, `isSafeInteger`, `isSet`, `isString`,\n * `isUndefined`, `isTypedArray`, `isWeakMap`, `isWeakSet`, `join`, `kebabCase`,\n * `last`, `lastIndexOf`, `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`,\n * `maxBy`, `mean`, `min`, `minBy`, `noConflict`, `noop`, `now`, `pad`,\n * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n * `sortedLastIndexBy`, `startCase`, `startsWith`, `subtract`, `sum`, `sumBy`,\n * `template`, `times`, `toInteger`, `toJSON`, `toLength`, `toLower`,\n * `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`, `trimEnd`,\n * `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`, `upperFirst`,\n * `value`, and `words`\n *\n * @name _\n * @constructor\n * @category Seq\n * @param {*} value The value to wrap in a `lodash` instance.\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var wrapped = _([1, 2, 3]);\n *\n * // Returns an unwrapped value.\n * wrapped.reduce(_.add);\n * // => 6\n *\n * // Returns a wrapped value.\n * var squares = wrapped.map(square);\n *\n * _.isArray(squares);\n * // => false\n *\n * _.isArray(squares.value());\n * // => true\n */\nfunction lodash(value) {\n  if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n    if (value instanceof LodashWrapper) {\n      return value;\n    }\n    if (hasOwnProperty.call(value, '__wrapped__')) {\n      return wrapperClone(value);\n    }\n  }\n  return new LodashWrapper(value);\n}\n\n// Ensure wrappers are instances of `baseLodash`.\nlodash.prototype = baseLodash.prototype;\nlodash.prototype.constructor = lodash;\n\nmodule.exports = lodash;\n","/*\r\n* loglevel - https://github.com/pimterry/loglevel\r\n*\r\n* Copyright (c) 2013 Tim Perry\r\n* Licensed under the MIT license.\r\n*/\r\n(function (root, definition) {\r\n    \"use strict\";\r\n    if (typeof module === 'object' && module.exports && typeof require === 'function') {\r\n        module.exports = definition();\r\n    } else if (typeof define === 'function' && typeof define.amd === 'object') {\r\n        define(definition);\r\n    } else {\r\n        root.log = definition();\r\n    }\r\n}(this, function () {\r\n    \"use strict\";\r\n    var noop = function() {};\r\n    var undefinedType = \"undefined\";\r\n\r\n    function realMethod(methodName) {\r\n        if (typeof console === undefinedType) {\r\n            return false; // We can't build a real method without a console to log to\r\n        } else if (console[methodName] !== undefined) {\r\n            return bindMethod(console, methodName);\r\n        } else if (console.log !== undefined) {\r\n            return bindMethod(console, 'log');\r\n        } else {\r\n            return noop;\r\n        }\r\n    }\r\n\r\n    function bindMethod(obj, methodName) {\r\n        var method = obj[methodName];\r\n        if (typeof method.bind === 'function') {\r\n            return method.bind(obj);\r\n        } else {\r\n            try {\r\n                return Function.prototype.bind.call(method, obj);\r\n            } catch (e) {\r\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\r\n                return function() {\r\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    // these private functions always need `this` to be set properly\r\n\r\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\r\n        return function () {\r\n            if (typeof console !== undefinedType) {\r\n                replaceLoggingMethods.call(this, level, loggerName);\r\n                this[methodName].apply(this, arguments);\r\n            }\r\n        };\r\n    }\r\n\r\n    function replaceLoggingMethods(level, loggerName) {\r\n        /*jshint validthis:true */\r\n        for (var i = 0; i < logMethods.length; i++) {\r\n            var methodName = logMethods[i];\r\n            this[methodName] = (i < level) ?\r\n                noop :\r\n                this.methodFactory(methodName, level, loggerName);\r\n        }\r\n    }\r\n\r\n    function defaultMethodFactory(methodName, level, loggerName) {\r\n        /*jshint validthis:true */\r\n        return realMethod(methodName) ||\r\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\r\n    }\r\n\r\n    var logMethods = [\r\n        \"trace\",\r\n        \"debug\",\r\n        \"info\",\r\n        \"warn\",\r\n        \"error\"\r\n    ];\r\n\r\n    function Logger(name, defaultLevel, factory) {\r\n      var self = this;\r\n      var currentLevel;\r\n      var storageKey = \"loglevel\";\r\n      if (name) {\r\n        storageKey += \":\" + name;\r\n      }\r\n\r\n      function persistLevelIfPossible(levelNum) {\r\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\r\n\r\n          // Use localStorage if available\r\n          try {\r\n              window.localStorage[storageKey] = levelName;\r\n              return;\r\n          } catch (ignore) {}\r\n\r\n          // Use session cookie as fallback\r\n          try {\r\n              window.document.cookie =\r\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\r\n          } catch (ignore) {}\r\n      }\r\n\r\n      function getPersistedLevel() {\r\n          var storedLevel;\r\n\r\n          try {\r\n              storedLevel = window.localStorage[storageKey];\r\n          } catch (ignore) {}\r\n\r\n          if (typeof storedLevel === undefinedType) {\r\n              try {\r\n                  var cookie = window.document.cookie;\r\n                  var location = cookie.indexOf(\r\n                      encodeURIComponent(storageKey) + \"=\");\r\n                  if (location) {\r\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\r\n                  }\r\n              } catch (ignore) {}\r\n          }\r\n\r\n          // If the stored level is not valid, treat it as if nothing was stored.\r\n          if (self.levels[storedLevel] === undefined) {\r\n              storedLevel = undefined;\r\n          }\r\n\r\n          return storedLevel;\r\n      }\r\n\r\n      /*\r\n       *\r\n       * Public API\r\n       *\r\n       */\r\n\r\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\r\n          \"ERROR\": 4, \"SILENT\": 5};\r\n\r\n      self.methodFactory = factory || defaultMethodFactory;\r\n\r\n      self.getLevel = function () {\r\n          return currentLevel;\r\n      };\r\n\r\n      self.setLevel = function (level, persist) {\r\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\r\n              level = self.levels[level.toUpperCase()];\r\n          }\r\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\r\n              currentLevel = level;\r\n              if (persist !== false) {  // defaults to true\r\n                  persistLevelIfPossible(level);\r\n              }\r\n              replaceLoggingMethods.call(self, level, name);\r\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\r\n                  return \"No console available for logging\";\r\n              }\r\n          } else {\r\n              throw \"log.setLevel() called with invalid level: \" + level;\r\n          }\r\n      };\r\n\r\n      self.setDefaultLevel = function (level) {\r\n          if (!getPersistedLevel()) {\r\n              self.setLevel(level, false);\r\n          }\r\n      };\r\n\r\n      self.enableAll = function(persist) {\r\n          self.setLevel(self.levels.TRACE, persist);\r\n      };\r\n\r\n      self.disableAll = function(persist) {\r\n          self.setLevel(self.levels.SILENT, persist);\r\n      };\r\n\r\n      // Initialize with the right level\r\n      var initialLevel = getPersistedLevel();\r\n      if (initialLevel == null) {\r\n          initialLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\r\n      }\r\n      self.setLevel(initialLevel, false);\r\n    }\r\n\r\n    /*\r\n     *\r\n     * Package-level API\r\n     *\r\n     */\r\n\r\n    var defaultLogger = new Logger();\r\n\r\n    var _loggersByName = {};\r\n    defaultLogger.getLogger = function getLogger(name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n          throw new TypeError(\"You must supply a name when creating a logger.\");\r\n        }\r\n\r\n        var logger = _loggersByName[name];\r\n        if (!logger) {\r\n          logger = _loggersByName[name] = new Logger(\r\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\r\n        }\r\n        return logger;\r\n    };\r\n\r\n    // Grab the current global log variable in case of overwrite\r\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\r\n    defaultLogger.noConflict = function() {\r\n        if (typeof window !== undefinedType &&\r\n               window.log === defaultLogger) {\r\n            window.log = _log;\r\n        }\r\n\r\n        return defaultLogger;\r\n    };\r\n\r\n    return defaultLogger;\r\n}));\r\n","var trim = require('trim')\n  , forEach = require('for-each')\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  forEach(\n      trim(headers).split('\\n')\n    , function (row) {\n        var index = row.indexOf(':')\n          , key = trim(row.slice(0, index)).toLowerCase()\n          , value = trim(row.slice(index + 1))\n\n        if (typeof(result[key]) === 'undefined') {\n          result[key] = value\n        } else if (isArray(result[key])) {\n          result[key].push(value)\n        } else {\n          result[key] = [ result[key], value ]\n        }\n      }\n  )\n\n  return result\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","module.exports = process.env.PROMISE_QUEUE_COVERAGE ?\n    require('./lib-cov') :\n    require('./lib');\n","/* global define, Promise */\n(function (root, factory) {\n    'use strict';\n    if (typeof module === 'object' && module.exports && typeof require === 'function') {\n        // CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && typeof define.amd === 'object') {\n        // AMD. Register as an anonymous module.\n        define(factory);\n    } else {\n        // Browser globals\n        root.Queue = factory();\n    }\n})\n(this, function () {\n    'use strict';\n\n    /**\n     * @return {Object}\n     */\n    var LocalPromise = typeof Promise !== 'undefined' ? Promise : function () {\n        return {\n            then: function () {\n                throw new Error('Queue.configure() before use Queue');\n            }\n        };\n    };\n\n    var noop = function () {};\n\n    /**\n     * @param {*} value\n     * @returns {LocalPromise}\n     */\n    var resolveWith = function (value) {\n        if (value && typeof value.then === 'function') {\n            return value;\n        }\n\n        return new LocalPromise(function (resolve) {\n            resolve(value);\n        });\n    };\n\n    /**\n     * It limits concurrently executed promises\n     *\n     * @param {Number} [maxPendingPromises=Infinity] max number of concurrently executed promises\n     * @param {Number} [maxQueuedPromises=Infinity]  max number of queued promises\n     * @constructor\n     *\n     * @example\n     *\n     * var queue = new Queue(1);\n     *\n     * queue.add(function () {\n     *     // resolve of this promise will resume next request\n     *     return downloadTarballFromGithub(url, file);\n     * })\n     * .then(function (file) {\n     *     doStuffWith(file);\n     * });\n     *\n     * queue.add(function () {\n     *     return downloadTarballFromGithub(url, file);\n     * })\n     * // This request will be paused\n     * .then(function (file) {\n     *     doStuffWith(file);\n     * });\n     */\n    function Queue(maxPendingPromises, maxQueuedPromises) {\n        this.pendingPromises = 0;\n        this.maxPendingPromises = typeof maxPendingPromises !== 'undefined' ? maxPendingPromises : Infinity;\n        this.maxQueuedPromises = typeof maxQueuedPromises !== 'undefined' ? maxQueuedPromises : Infinity;\n        this.queue = [];\n    }\n\n    /**\n     * Defines promise promiseFactory\n     * @param {Function} GlobalPromise\n     */\n    Queue.configure = function (GlobalPromise) {\n        LocalPromise = GlobalPromise;\n    };\n\n    /**\n     * @param {Function} promiseGenerator\n     * @return {LocalPromise}\n     */\n    Queue.prototype.add = function (promiseGenerator) {\n        var self = this;\n        return new LocalPromise(function (resolve, reject, notify) {\n            // Do not queue to much promises\n            if (self.queue.length >= self.maxQueuedPromises) {\n                reject(new Error('Queue limit reached'));\n                return;\n            }\n\n            // Add to queue\n            self.queue.push({\n                promiseGenerator: promiseGenerator,\n                resolve: resolve,\n                reject: reject,\n                notify: notify || noop\n            });\n\n            self._dequeue();\n        });\n    };\n\n    /**\n     * Number of simultaneously running promises (which are resolving)\n     *\n     * @return {number}\n     */\n    Queue.prototype.getPendingLength = function () {\n        return this.pendingPromises;\n    };\n\n    /**\n     * Number of queued promises (which are waiting)\n     *\n     * @return {number}\n     */\n    Queue.prototype.getQueueLength = function () {\n        return this.queue.length;\n    };\n\n    /**\n     * @returns {boolean} true if first item removed from queue\n     * @private\n     */\n    Queue.prototype._dequeue = function () {\n        var self = this;\n        if (this.pendingPromises >= this.maxPendingPromises) {\n            return false;\n        }\n\n        // Remove from queue\n        var item = this.queue.shift();\n        if (!item) {\n            return false;\n        }\n\n        try {\n            this.pendingPromises++;\n\n            resolveWith(item.promiseGenerator())\n            // Forward all stuff\n                .then(function (value) {\n                    // It is not pending now\n                    self.pendingPromises--;\n                    // It should pass values\n                    item.resolve(value);\n                    self._dequeue();\n                }, function (err) {\n                    // It is not pending now\n                    self.pendingPromises--;\n                    // It should not mask errors\n                    item.reject(err);\n                    self._dequeue();\n                }, function (message) {\n                    // It should pass notifications\n                    item.notify(message);\n                });\n        } catch (err) {\n            self.pendingPromises--;\n            item.reject(err);\n            self._dequeue();\n\n        }\n\n        return true;\n    };\n\n    return Queue;\n});\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","'use strict';\n\nvar Stringify = require('./stringify');\nvar Parse = require('./parse');\n\nmodule.exports = {\n    stringify: Stringify,\n    parse: Parse\n};\n","'use strict';\n\nvar Utils = require('./utils');\n\nvar internals = {\n    delimiter: '&',\n    depth: 5,\n    arrayLimit: 20,\n    parameterLimit: 1000,\n    strictNullHandling: false,\n    plainObjects: false,\n    allowPrototypes: false,\n    allowDots: false\n};\n\ninternals.parseValues = function (str, options) {\n    var obj = {};\n    var parts = str.split(options.delimiter, options.parameterLimit === Infinity ? undefined : options.parameterLimit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n        var pos = part.indexOf(']=') === -1 ? part.indexOf('=') : part.indexOf(']=') + 1;\n\n        if (pos === -1) {\n            obj[Utils.decode(part)] = '';\n\n            if (options.strictNullHandling) {\n                obj[Utils.decode(part)] = null;\n            }\n        } else {\n            var key = Utils.decode(part.slice(0, pos));\n            var val = Utils.decode(part.slice(pos + 1));\n\n            if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                obj[key] = [].concat(obj[key]).concat(val);\n            } else {\n                obj[key] = val;\n            }\n        }\n    }\n\n    return obj;\n};\n\ninternals.parseObject = function (chain, val, options) {\n    if (!chain.length) {\n        return val;\n    }\n\n    var root = chain.shift();\n\n    var obj;\n    if (root === '[]') {\n        obj = [];\n        obj = obj.concat(internals.parseObject(chain, val, options));\n    } else {\n        obj = options.plainObjects ? Object.create(null) : {};\n        var cleanRoot = root[0] === '[' && root[root.length - 1] === ']' ? root.slice(1, root.length - 1) : root;\n        var index = parseInt(cleanRoot, 10);\n        if (\n            !isNaN(index) &&\n            root !== cleanRoot &&\n            String(index) === cleanRoot &&\n            index >= 0 &&\n            (options.parseArrays && index <= options.arrayLimit)\n        ) {\n            obj = [];\n            obj[index] = internals.parseObject(chain, val, options);\n        } else {\n            obj[cleanRoot] = internals.parseObject(chain, val, options);\n        }\n    }\n\n    return obj;\n};\n\ninternals.parseKeys = function (givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^\\.\\[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var parent = /^([^\\[\\]]*)/;\n    var child = /(\\[[^\\[\\]]*\\])/g;\n\n    // Get the parent\n\n    var segment = parent.exec(key);\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (segment[1]) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && Object.prototype.hasOwnProperty(segment[1])) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(segment[1]);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && Object.prototype.hasOwnProperty(segment[1].replace(/\\[|\\]/g, ''))) {\n            if (!options.allowPrototypes) {\n                continue;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return internals.parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts || {};\n    options.delimiter = typeof options.delimiter === 'string' || Utils.isRegExp(options.delimiter) ? options.delimiter : internals.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : internals.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : internals.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : internals.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : internals.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : internals.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : internals.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : internals.strictNullHandling;\n\n    if (\n        str === '' ||\n        str === null ||\n        typeof str === 'undefined'\n    ) {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? internals.parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = internals.parseKeys(key, tempObj[key], options);\n        obj = Utils.merge(obj, newObj, options);\n    }\n\n    return Utils.compact(obj);\n};\n","'use strict';\n\nvar Utils = require('./utils');\n\nvar internals = {\n    delimiter: '&',\n    arrayPrefixGenerators: {\n        brackets: function (prefix) {\n            return prefix + '[]';\n        },\n        indices: function (prefix, key) {\n            return prefix + '[' + key + ']';\n        },\n        repeat: function (prefix) {\n            return prefix;\n        }\n    },\n    strictNullHandling: false,\n    skipNulls: false,\n    encode: true\n};\n\ninternals.stringify = function (object, prefix, generateArrayPrefix, strictNullHandling, skipNulls, encode, filter, sort, allowDots) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (Utils.isBuffer(obj)) {\n        obj = String(obj);\n    } else if (obj instanceof Date) {\n        obj = obj.toISOString();\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encode ? Utils.encode(prefix) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean') {\n        if (encode) {\n            return [Utils.encode(prefix) + '=' + Utils.encode(obj)];\n        }\n        return [prefix + '=' + obj];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(internals.stringify(obj[key], generateArrayPrefix(prefix, key), generateArrayPrefix, strictNullHandling, skipNulls, encode, filter, sort, allowDots));\n        } else {\n            values = values.concat(internals.stringify(obj[key], prefix + (allowDots ? '.' + key : '[' + key + ']'), generateArrayPrefix, strictNullHandling, skipNulls, encode, filter, sort, allowDots));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts || {};\n    var delimiter = typeof options.delimiter === 'undefined' ? internals.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : internals.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : internals.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : internals.encode;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var objKeys;\n    var filter;\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        objKeys = filter = options.filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in internals.arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = internals.arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(internals.stringify(obj[key], key, generateArrayPrefix, strictNullHandling, skipNulls, encode, filter, sort, allowDots));\n    }\n\n    return keys.join(delimiter);\n};\n","'use strict';\n\nvar hexTable = (function () {\n    var array = new Array(256);\n    for (var i = 0; i < 256; ++i) {\n        array[i] = '%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase();\n    }\n\n    return array;\n}());\n\nexports.arrayToObject = function (source, options) {\n    var obj = options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nexports.merge = function (target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            target[source] = true;\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = exports.arrayToObject(target, options);\n    }\n\n\treturn Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (Object.prototype.hasOwnProperty.call(acc, key)) {\n            acc[key] = exports.merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n\t\treturn acc;\n    }, mergeTarget);\n};\n\nexports.decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nexports.encode = function (str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D || // -\n            c === 0x2E || // .\n            c === 0x5F || // _\n            c === 0x7E || // ~\n            (c >= 0x30 && c <= 0x39) || // 0-9\n            (c >= 0x41 && c <= 0x5A) || // a-z\n            (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += (hexTable[0xF0 | (c >> 18)] + hexTable[0x80 | ((c >> 12) & 0x3F)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n    }\n\n    return out;\n};\n\nexports.compact = function (obj, references) {\n    if (typeof obj !== 'object' || obj === null) {\n        return obj;\n    }\n\n    var refs = references || [];\n    var lookup = refs.indexOf(obj);\n    if (lookup !== -1) {\n        return refs[lookup];\n    }\n\n    refs.push(obj);\n\n    if (Array.isArray(obj)) {\n        var compacted = [];\n\n        for (var i = 0; i < obj.length; ++i) {\n            if (typeof obj[i] !== 'undefined') {\n                compacted.push(obj[i]);\n            }\n        }\n\n        return compacted;\n    }\n\n    var keys = Object.keys(obj);\n    for (var j = 0; j < keys.length; ++j) {\n        var key = keys[j];\n        obj[key] = exports.compact(obj[key], refs);\n    }\n\n    return obj;\n};\n\nexports.isRegExp = function (obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nexports.isBuffer = function (obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","/*\n * Sift 3.x\n *\n * Copryright 2015, Craig Condon\n * Licensed under MIT\n *\n * Filter JavaScript objects with mongodb queries\n */\n\n(function() {\n\n  'use strict';\n\n  /**\n   */\n\n  function isFunction(value) {\n    return typeof value === 'function';\n  }\n\n  /**\n   */\n\n  function isArray(value) {\n    return Object.prototype.toString.call(value) === '[object Array]';\n  }\n\n  /**\n   */\n\n  function comparable(value) {\n    if (value instanceof Date) {\n      return value.getTime();\n    } else if (value instanceof Array) {\n      return value.map(comparable);\n    } else {\n      return value;\n    }\n  }\n\n  function get(obj, key) {\n    if (obj.get) return obj.get(key);\n    return obj[key];\n  }\n\n  /**\n   */\n\n  function or(validator) {\n    return function(a, b) {\n      if (!isArray(b) || !b.length) return validator(a, b);\n      for (var i = 0, n = b.length; i < n; i++) if (validator(a, get(b,i))) return true;\n      return false;\n    }\n  }\n\n  /**\n   */\n\n  function and(validator) {\n    return function(a, b) {\n      if (!isArray(b) || !b.length) return validator(a, b);\n      for (var i = 0, n = b.length; i < n; i++) if (!validator(a, get(b, i))) return false;\n      return true;\n    };\n  }\n\n  function validate(validator, b) {\n    return validator.v(validator.a, b);\n  }\n\n\n  var operator = {\n\n    /**\n     */\n\n    $eq: or(function(a, b) {\n      return a(b);\n    }),\n\n    /**\n     */\n\n    $ne: and(function(a, b) {\n      return !a(b);\n    }),\n\n    /**\n     */\n\n    $or: function(a, b) {\n      for (var i = 0, n = a.length; i < n; i++) if (validate(get(a, i), b)) return true;\n      return false;\n    },\n\n    /**\n     */\n\n    $gt: or(function(a, b) {\n      return sift.compare(comparable(b), a) > 0;\n    }),\n\n    /**\n     */\n\n    $gte: or(function(a, b) {\n      return sift.compare(comparable(b), a) >= 0;\n    }),\n\n    /**\n     */\n\n    $lt: or(function(a, b) {\n      return sift.compare(comparable(b), a) < 0;\n    }),\n\n    /**\n     */\n\n    $lte: or(function(a, b) {\n      return sift.compare(comparable(b), a) <= 0;\n    }),\n\n    /**\n     */\n\n    $mod: or(function(a, b) {\n      return b % a[0] == a[1];\n    }),\n\n    /**\n     */\n\n    $in: function(a, b) {\n\n      if (b instanceof Array) {\n        for (var i = b.length; i--;) {\n          if (~a.indexOf(comparable(get(b, i)))) return true;\n        }\n      } else {\n        return !!~a.indexOf(comparable(b));\n      }\n\n      return false;\n    },\n\n    /**\n     */\n\n    $nin: function(a, b) {\n      return !operator.$in(a, b);\n    },\n\n    /**\n     */\n\n    $not: function(a, b) {\n      return !validate(a, b);\n    },\n\n    /**\n     */\n\n    $type: function(a, b) {\n      return b != void 0 ? b instanceof a || b.constructor == a : false;\n     },\n\n    /**\n     */\n\n    $all: function(a, b) {\n      if (!b) b = [];\n      for (var i = a.length; i--;) {\n        if (!~comparable(b).indexOf(get(a, i))) return false;\n      }\n      return true;\n    },\n\n    /**\n     */\n\n    $size: function(a, b) {\n      return b ? a === b.length : false;\n    },\n\n    /**\n     */\n\n    $nor: function(a, b) {\n      // todo - this suffice? return !operator.$in(a)\n      for (var i = 0, n = a.length; i < n; i++) if (validate(get(a, i), b)) return false;\n      return true;\n    },\n\n    /**\n     */\n\n    $and: function(a, b) {\n      for (var i = 0, n = a.length; i < n; i++) if (!validate(get(a, i), b)) return false;\n      return true;\n    },\n\n    /**\n     */\n\n    $regex: or(function(a, b) {\n      return typeof b === 'string' && a.test(b);\n    }),\n\n    /**\n     */\n\n    $where: function(a, b) {\n      return a.call(b, b);\n    },\n\n    /**\n     */\n\n    $elemMatch: function(a, b) {\n      if (isArray(b)) return !!~search(b, a);\n      return validate(a, b);\n    },\n\n    /**\n     */\n\n    $exists: function(a, b) {\n      return (b != void 0) === a;\n    }\n  };\n\n  /**\n   */\n\n  var prepare = {\n\n    /**\n     */\n\n    $eq: function(a) {\n\n      if (a instanceof RegExp) {\n        return function(b) {\n          return typeof b === 'string' && a.test(b);\n        };\n      } else if (a instanceof Function) {\n        return a;\n      } else if (isArray(a) && !a.length) {\n        // Special case of a == []\n        return function(b) {\n          return (isArray(b) && !b.length);\n        };\n      } else if (a === null){\n        return function(b){\n          //will match both null and undefined\n          return b == null;\n        }\n      }\n\n      return function(b) {\n        return sift.compare(comparable(b), a) === 0;\n      };\n    },\n\n    /**\n     */\n\n    $ne: function(a) {\n      return prepare.$eq(a);\n    },\n\n    /**\n     */\n\n    $and: function(a) {\n      return a.map(parse);\n    },\n\n    /**\n     */\n\n    $or: function(a) {\n      return a.map(parse);\n    },\n\n    /**\n     */\n\n    $nor: function(a) {\n      return a.map(parse);\n    },\n\n    /**\n     */\n\n    $not: function(a) {\n      return parse(a);\n    },\n\n    /**\n     */\n\n    $regex: function(a, query) {\n      return new RegExp(a, query.$options);\n    },\n\n    /**\n     */\n\n    $where: function(a) {\n      return typeof a === 'string' ? new Function('obj', 'return ' + a) : a;\n    },\n\n    /**\n     */\n\n    $elemMatch: function(a) {\n      return parse(a);\n    },\n\n    /**\n     */\n\n    $exists: function(a) {\n      return !!a;\n    }\n  };\n\n  /**\n   */\n\n  function search(array, validator) {\n\n    for (var i = 0; i < array.length; i++) {\n      if (validate(validator, get(array, i))) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  /**\n   */\n\n  function createValidator(a, validate) {\n    return { a: a, v: validate };\n  }\n\n  /**\n   */\n\n  function nestedValidator(a, b) {\n    var values  = [];\n    findValues(b, a.k, 0, values);\n\n    if (values.length === 1) {\n      return validate(a.nv, values[0]);\n    }\n\n    return !!~search(values, a.nv);\n  }\n\n  /**\n   */\n\n  function findValues(current, keypath, index, values) {\n\n    if (index === keypath.length || current == void 0) {\n      values.push(current);\n      return;\n    }\n\n    var k = get(keypath, index);\n\n    // ensure that if current is an array, that the current key\n    // is NOT an array index. This sort of thing needs to work:\n    // sift({'foo.0':42}, [{foo: [42]}]);\n    if (isArray(current) && isNaN(Number(k))) {\n      for (var i = 0, n = current.length; i < n; i++) {\n        findValues(get(current, i), keypath, index, values);\n      }\n    } else {\n      findValues(get(current, k), keypath, index + 1, values);\n    }\n  }\n\n  /**\n   */\n\n  function createNestedValidator(keypath, a) {\n    return { a: { k: keypath, nv: a }, v: nestedValidator };\n  }\n\n  /**\n   * flatten the query\n   */\n\n  function parse(query) {\n    query = comparable(query);\n\n    if (!query || (query.constructor.toString() !== 'Object' &&\n        query.constructor.toString().replace(/\\n/g,'').replace(/ /g, '') !== 'functionObject(){[nativecode]}')) { // cross browser support\n      query = { $eq: query };\n    }\n\n    var validators = [];\n\n    for (var key in query) {\n      var a = query[key];\n\n      if (key === '$options') continue;\n\n      if (operator[key]) {\n        if (prepare[key]) a = prepare[key](a, query);\n        validators.push(createValidator(comparable(a), operator[key]));\n      } else {\n\n        if (key.charCodeAt(0) === 36) {\n          throw new Error('Unknown operation ' + key);\n        }\n\n        validators.push(createNestedValidator(key.split('.'), parse(a)));\n      }\n    }\n\n    return validators.length === 1 ? validators[0] : createValidator(validators, operator.$and);\n  }\n\n  /**\n   */\n\n  function createRootValidator(query, getter) {\n    var validator = parse(query);\n    if (getter) {\n      validator = {\n        a: validator,\n        v: function(a, b) {\n          return validate(a, getter(b));\n        }\n      };\n    }\n    return validator;\n  }\n\n  /**\n   */\n\n  function sift(query, array, getter) {\n\n    if (isFunction(array)) {\n      getter = array;\n      array  = void 0;\n    }\n\n    var validator = createRootValidator(query, getter);\n\n    function filter(b) {\n      return validate(validator, b);\n    }\n\n    if (array) {\n      return array.filter(filter);\n    }\n\n    return filter;\n  }\n\n  /**\n   */\n\n  sift.use = function(plugin) {\n    if (isFunction(plugin)) return plugin(sift);\n    for (var key in plugin) {\n      if (key.charCodeAt(0) === 36) operator[key] = plugin[key];\n    }\n  };\n\n  /**\n   */\n\n  sift.indexOf = function(query, array, getter) {\n    return search(array, createRootValidator(query, getter));\n  };\n\n  /**\n   */\n\n  sift.compare = function(a, b) {\n    if(a===b) return 0;\n    if(typeof a === typeof b) {\n      if (a > b) return 1;\n      if (a < b) return -1;\n    }\n  };\n\n  /* istanbul ignore next */\n  if (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n    module.exports = sift;\n  }\n\n  if (typeof window !== 'undefined') {\n    window.sift = sift;\n  }\n})();\n","\nexports = module.exports = trim;\n\nfunction trim(str){\n  return str.replace(/^\\s*|\\s*$/g, '');\n}\n\nexports.left = function(str){\n  return str.replace(/^\\s*/, '');\n};\n\nexports.right = function(str){\n  return str.replace(/\\s*$/, '');\n};\n","/**\n * Export `uid`\n */\n\nmodule.exports = uid;\n\n/**\n * Create a `uid`\n *\n * @param {String} len\n * @return {String} uid\n */\n\nfunction uid(len) {\n  len = len || 7;\n  return Math.random().toString(35).substr(2, len);\n}\n","// Generated by CoffeeScript 1.10.0\nvar slice = [].slice;\n\n(function(root, factory) {\n  if (('function' === typeof define) && (define.amd != null)) {\n    return define([], factory);\n  } else if (typeof exports !== \"undefined\" && exports !== null) {\n    return module.exports = factory();\n  } else {\n    return root.UrlPattern = factory();\n  }\n})(this, function() {\n  var P, UrlPattern, astNodeContainsSegmentsForProvidedParams, astNodeToNames, astNodeToRegexString, baseAstNodeToRegexString, concatMap, defaultOptions, escapeForRegex, getParam, keysAndValuesToObject, newParser, regexGroupCount, stringConcatMap, stringify;\n  escapeForRegex = function(string) {\n    return string.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n  };\n  concatMap = function(array, f) {\n    var i, length, results;\n    results = [];\n    i = -1;\n    length = array.length;\n    while (++i < length) {\n      results = results.concat(f(array[i]));\n    }\n    return results;\n  };\n  stringConcatMap = function(array, f) {\n    var i, length, result;\n    result = '';\n    i = -1;\n    length = array.length;\n    while (++i < length) {\n      result += f(array[i]);\n    }\n    return result;\n  };\n  regexGroupCount = function(regex) {\n    return (new RegExp(regex.toString() + '|')).exec('').length - 1;\n  };\n  keysAndValuesToObject = function(keys, values) {\n    var i, key, length, object, value;\n    object = {};\n    i = -1;\n    length = keys.length;\n    while (++i < length) {\n      key = keys[i];\n      value = values[i];\n      if (value == null) {\n        continue;\n      }\n      if (object[key] != null) {\n        if (!Array.isArray(object[key])) {\n          object[key] = [object[key]];\n        }\n        object[key].push(value);\n      } else {\n        object[key] = value;\n      }\n    }\n    return object;\n  };\n  P = {};\n  P.Result = function(value, rest) {\n    this.value = value;\n    this.rest = rest;\n  };\n  P.Tagged = function(tag, value) {\n    this.tag = tag;\n    this.value = value;\n  };\n  P.tag = function(tag, parser) {\n    return function(input) {\n      var result, tagged;\n      result = parser(input);\n      if (result == null) {\n        return;\n      }\n      tagged = new P.Tagged(tag, result.value);\n      return new P.Result(tagged, result.rest);\n    };\n  };\n  P.regex = function(regex) {\n    return function(input) {\n      var matches, result;\n      matches = regex.exec(input);\n      if (matches == null) {\n        return;\n      }\n      result = matches[0];\n      return new P.Result(result, input.slice(result.length));\n    };\n  };\n  P.sequence = function() {\n    var parsers;\n    parsers = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n    return function(input) {\n      var i, length, parser, rest, result, values;\n      i = -1;\n      length = parsers.length;\n      values = [];\n      rest = input;\n      while (++i < length) {\n        parser = parsers[i];\n        result = parser(rest);\n        if (result == null) {\n          return;\n        }\n        values.push(result.value);\n        rest = result.rest;\n      }\n      return new P.Result(values, rest);\n    };\n  };\n  P.pick = function() {\n    var indexes, parsers;\n    indexes = arguments[0], parsers = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n    return function(input) {\n      var array, result;\n      result = P.sequence.apply(P, parsers)(input);\n      if (result == null) {\n        return;\n      }\n      array = result.value;\n      result.value = array[indexes];\n      return result;\n    };\n  };\n  P.string = function(string) {\n    var length;\n    length = string.length;\n    return function(input) {\n      if (input.slice(0, length) === string) {\n        return new P.Result(string, input.slice(length));\n      }\n    };\n  };\n  P.lazy = function(fn) {\n    var cached;\n    cached = null;\n    return function(input) {\n      if (cached == null) {\n        cached = fn();\n      }\n      return cached(input);\n    };\n  };\n  P.baseMany = function(parser, end, stringResult, atLeastOneResultRequired, input) {\n    var endResult, parserResult, rest, results;\n    rest = input;\n    results = stringResult ? '' : [];\n    while (true) {\n      if (end != null) {\n        endResult = end(rest);\n        if (endResult != null) {\n          break;\n        }\n      }\n      parserResult = parser(rest);\n      if (parserResult == null) {\n        break;\n      }\n      if (stringResult) {\n        results += parserResult.value;\n      } else {\n        results.push(parserResult.value);\n      }\n      rest = parserResult.rest;\n    }\n    if (atLeastOneResultRequired && results.length === 0) {\n      return;\n    }\n    return new P.Result(results, rest);\n  };\n  P.many1 = function(parser) {\n    return function(input) {\n      return P.baseMany(parser, null, false, true, input);\n    };\n  };\n  P.concatMany1Till = function(parser, end) {\n    return function(input) {\n      return P.baseMany(parser, end, true, true, input);\n    };\n  };\n  P.firstChoice = function() {\n    var parsers;\n    parsers = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n    return function(input) {\n      var i, length, parser, result;\n      i = -1;\n      length = parsers.length;\n      while (++i < length) {\n        parser = parsers[i];\n        result = parser(input);\n        if (result != null) {\n          return result;\n        }\n      }\n    };\n  };\n  newParser = function(options) {\n    var U;\n    U = {};\n    U.wildcard = P.tag('wildcard', P.string(options.wildcardChar));\n    U.optional = P.tag('optional', P.pick(1, P.string(options.optionalSegmentStartChar), P.lazy(function() {\n      return U.pattern;\n    }), P.string(options.optionalSegmentEndChar)));\n    U.name = P.regex(new RegExp(\"^[\" + options.segmentNameCharset + \"]+\"));\n    U.named = P.tag('named', P.pick(1, P.string(options.segmentNameStartChar), P.lazy(function() {\n      return U.name;\n    })));\n    U.escapedChar = P.pick(1, P.string(options.escapeChar), P.regex(/^./));\n    U[\"static\"] = P.tag('static', P.concatMany1Till(P.firstChoice(P.lazy(function() {\n      return U.escapedChar;\n    }), P.regex(/^./)), P.firstChoice(P.string(options.segmentNameStartChar), P.string(options.optionalSegmentStartChar), P.string(options.optionalSegmentEndChar), U.wildcard)));\n    U.token = P.lazy(function() {\n      return P.firstChoice(U.wildcard, U.optional, U.named, U[\"static\"]);\n    });\n    U.pattern = P.many1(P.lazy(function() {\n      return U.token;\n    }));\n    return U;\n  };\n  defaultOptions = {\n    escapeChar: '\\\\',\n    segmentNameStartChar: ':',\n    segmentValueCharset: 'a-zA-Z0-9-_~ %',\n    segmentNameCharset: 'a-zA-Z0-9',\n    optionalSegmentStartChar: '(',\n    optionalSegmentEndChar: ')',\n    wildcardChar: '*'\n  };\n  baseAstNodeToRegexString = function(astNode, segmentValueCharset) {\n    if (Array.isArray(astNode)) {\n      return stringConcatMap(astNode, function(node) {\n        return baseAstNodeToRegexString(node, segmentValueCharset);\n      });\n    }\n    switch (astNode.tag) {\n      case 'wildcard':\n        return '(.*?)';\n      case 'named':\n        return \"([\" + segmentValueCharset + \"]+)\";\n      case 'static':\n        return escapeForRegex(astNode.value);\n      case 'optional':\n        return '(?:' + baseAstNodeToRegexString(astNode.value, segmentValueCharset) + ')?';\n    }\n  };\n  astNodeToRegexString = function(astNode, segmentValueCharset) {\n    if (segmentValueCharset == null) {\n      segmentValueCharset = defaultOptions.segmentValueCharset;\n    }\n    return '^' + baseAstNodeToRegexString(astNode, segmentValueCharset) + '$';\n  };\n  astNodeToNames = function(astNode) {\n    if (Array.isArray(astNode)) {\n      return concatMap(astNode, astNodeToNames);\n    }\n    switch (astNode.tag) {\n      case 'wildcard':\n        return ['_'];\n      case 'named':\n        return [astNode.value];\n      case 'static':\n        return [];\n      case 'optional':\n        return astNodeToNames(astNode.value);\n    }\n  };\n  getParam = function(params, key, nextIndexes, sideEffects) {\n    var index, maxIndex, result, value;\n    if (sideEffects == null) {\n      sideEffects = false;\n    }\n    value = params[key];\n    if (value == null) {\n      if (sideEffects) {\n        throw new Error(\"no values provided for key `\" + key + \"`\");\n      } else {\n        return;\n      }\n    }\n    index = nextIndexes[key] || 0;\n    maxIndex = Array.isArray(value) ? value.length - 1 : 0;\n    if (index > maxIndex) {\n      if (sideEffects) {\n        throw new Error(\"too few values provided for key `\" + key + \"`\");\n      } else {\n        return;\n      }\n    }\n    result = Array.isArray(value) ? value[index] : value;\n    if (sideEffects) {\n      nextIndexes[key] = index + 1;\n    }\n    return result;\n  };\n  astNodeContainsSegmentsForProvidedParams = function(astNode, params, nextIndexes) {\n    var i, length;\n    if (Array.isArray(astNode)) {\n      i = -1;\n      length = astNode.length;\n      while (++i < length) {\n        if (astNodeContainsSegmentsForProvidedParams(astNode[i], params, nextIndexes)) {\n          return true;\n        }\n      }\n      return false;\n    }\n    switch (astNode.tag) {\n      case 'wildcard':\n        return getParam(params, '_', nextIndexes, false) != null;\n      case 'named':\n        return getParam(params, astNode.value, nextIndexes, false) != null;\n      case 'static':\n        return false;\n      case 'optional':\n        return astNodeContainsSegmentsForProvidedParams(astNode.value, params, nextIndexes);\n    }\n  };\n  stringify = function(astNode, params, nextIndexes) {\n    if (Array.isArray(astNode)) {\n      return stringConcatMap(astNode, function(node) {\n        return stringify(node, params, nextIndexes);\n      });\n    }\n    switch (astNode.tag) {\n      case 'wildcard':\n        return getParam(params, '_', nextIndexes, true);\n      case 'named':\n        return getParam(params, astNode.value, nextIndexes, true);\n      case 'static':\n        return astNode.value;\n      case 'optional':\n        if (astNodeContainsSegmentsForProvidedParams(astNode.value, params, nextIndexes)) {\n          return stringify(astNode.value, params, nextIndexes);\n        } else {\n          return '';\n        }\n    }\n  };\n  UrlPattern = function(arg1, arg2) {\n    var groupCount, options, parsed, parser, withoutWhitespace;\n    if (arg1 instanceof UrlPattern) {\n      this.isRegex = arg1.isRegex;\n      this.regex = arg1.regex;\n      this.ast = arg1.ast;\n      this.names = arg1.names;\n      return;\n    }\n    this.isRegex = arg1 instanceof RegExp;\n    if (!(('string' === typeof arg1) || this.isRegex)) {\n      throw new TypeError('argument must be a regex or a string');\n    }\n    if (this.isRegex) {\n      this.regex = arg1;\n      if (arg2 != null) {\n        if (!Array.isArray(arg2)) {\n          throw new Error('if first argument is a regex the second argument may be an array of group names but you provided something else');\n        }\n        groupCount = regexGroupCount(this.regex);\n        if (arg2.length !== groupCount) {\n          throw new Error(\"regex contains \" + groupCount + \" groups but array of group names contains \" + arg2.length);\n        }\n        this.names = arg2;\n      }\n      return;\n    }\n    if (arg1 === '') {\n      throw new Error('argument must not be the empty string');\n    }\n    withoutWhitespace = arg1.replace(/\\s+/g, '');\n    if (withoutWhitespace !== arg1) {\n      throw new Error('argument must not contain whitespace');\n    }\n    options = {\n      escapeChar: (arg2 != null ? arg2.escapeChar : void 0) || defaultOptions.escapeChar,\n      segmentNameStartChar: (arg2 != null ? arg2.segmentNameStartChar : void 0) || defaultOptions.segmentNameStartChar,\n      segmentNameCharset: (arg2 != null ? arg2.segmentNameCharset : void 0) || defaultOptions.segmentNameCharset,\n      segmentValueCharset: (arg2 != null ? arg2.segmentValueCharset : void 0) || defaultOptions.segmentValueCharset,\n      optionalSegmentStartChar: (arg2 != null ? arg2.optionalSegmentStartChar : void 0) || defaultOptions.optionalSegmentStartChar,\n      optionalSegmentEndChar: (arg2 != null ? arg2.optionalSegmentEndChar : void 0) || defaultOptions.optionalSegmentEndChar,\n      wildcardChar: (arg2 != null ? arg2.wildcardChar : void 0) || defaultOptions.wildcardChar\n    };\n    parser = newParser(options);\n    parsed = parser.pattern(arg1);\n    if (parsed == null) {\n      throw new Error(\"couldn't parse pattern\");\n    }\n    if (parsed.rest !== '') {\n      throw new Error(\"could only partially parse pattern\");\n    }\n    this.ast = parsed.value;\n    this.regex = new RegExp(astNodeToRegexString(this.ast, options.segmentValueCharset));\n    this.names = astNodeToNames(this.ast);\n  };\n  UrlPattern.prototype.match = function(url) {\n    var groups, match;\n    match = this.regex.exec(url);\n    if (match == null) {\n      return null;\n    }\n    groups = match.slice(1);\n    if (this.names) {\n      return keysAndValuesToObject(this.names, groups);\n    } else {\n      return groups;\n    }\n  };\n  UrlPattern.prototype.stringify = function(params) {\n    if (params == null) {\n      params = {};\n    }\n    if (this.isRegex) {\n      throw new Error(\"can't stringify patterns generated from a regex\");\n    }\n    if (params !== Object(params)) {\n      throw new Error(\"argument must be an object or undefined\");\n    }\n    return stringify(this.ast, params, {});\n  };\n  UrlPattern.escapeForRegex = escapeForRegex;\n  UrlPattern.concatMap = concatMap;\n  UrlPattern.stringConcatMap = stringConcatMap;\n  UrlPattern.regexGroupCount = regexGroupCount;\n  UrlPattern.keysAndValuesToObject = keysAndValuesToObject;\n  UrlPattern.P = P;\n  UrlPattern.newParser = newParser;\n  UrlPattern.defaultOptions = defaultOptions;\n  UrlPattern.astNodeToRegexString = astNodeToRegexString;\n  UrlPattern.astNodeToNames = astNodeToNames;\n  UrlPattern.getParam = getParam;\n  UrlPattern.astNodeContainsSegmentsForProvidedParams = astNodeContainsSegmentsForProvidedParams;\n  UrlPattern.stringify = stringify;\n  return UrlPattern;\n});\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","module.exports={\n  \"name\": \"kinvey-titanium-sdk\",\n  \"version\": \"3.0.0-beta.13\",\n  \"description\": \"Kinvey JavaScript SDK for Titanium applications.\",\n  \"homepage\": \"http://www.kinvey.com\",\n  \"bugs\": {\n    \"url\": \"http://support.kinvey.com\",\n    \"email\": \"support@kinvey.com\"\n  },\n  \"licenses\": [\n    {\n      \"type\": \"Apache-2.0\",\n      \"url\": \"https://raw.github.com/Kinvey/kinvey-titanium-sdk/master/LICENSE\"\n    }\n  ],\n  \"author\": \"Kinvey, Inc.\",\n  \"contributors\": [\n    \"Thomas Conner <thomas@kinvey.com>\"\n  ],\n  \"main\": \"./src/index.js\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git@github.com:Kinvey/kinvey-titanium-sdk\"\n  },\n  \"scripts\": {},\n  \"dependencies\": {\n    \"kinvey-javascript-sdk-core\": \"3.0.0-beta.12\",\n    \"lodash\": \"^4.3.0\",\n    \"parse-headers\": \"^2.0.1\"\n  },\n  \"devDependencies\": {\n    \"babel-eslint\": \"6.0.0-beta.6\",\n    \"babel-preset-es2015\": \"^6.0.0\",\n    \"babel-preset-stage-2\": \"^6.0.15\",\n    \"babelify\": \"^7.2.0\",\n    \"browserify\": \"^13.0.0\",\n    \"del\": \"^2.0.2\",\n    \"dotenv\": \"^2.0.0\",\n    \"envify\": \"^3.4.0\",\n    \"eslint-config-airbnb\": \"^6.0.0\",\n    \"exorcist\": \"^0.4.0\",\n    \"gulp\": \"^3.9.0\",\n    \"gulp-bump\": \"^1.0.0\",\n    \"gulp-eslint\": \"^2.0.0\",\n    \"gulp-git\": \"^1.7.0\",\n    \"gulp-if\": \"^2.0.0\",\n    \"gulp-plumber\": \"^1.0.1\",\n    \"gulp-prompt\": \"^0.1.2\",\n    \"gulp-rename\": \"^1.2.2\",\n    \"gulp-sourcemaps\": \"^1.6.0\",\n    \"gulp-uglify\": \"^1.5.1\",\n    \"gulp-util\": \"^3.0.6\",\n    \"run-sequence\": \"^1.1.5\",\n    \"semver-regex\": \"^1.0.0\",\n    \"vinyl-buffer\": \"^1.0.0\",\n    \"vinyl-source-stream\": \"^1.1.0\",\n    \"vinyl-transform\": \"^1.0.0\"\n  },\n  \"engines\": {\n    \"node\": \">=4.0\"\n  },\n  \"keywords\": [\n    \"Kinvey\",\n    \"JavaScript\",\n    \"Titanium\"\n  ],\n  \"browserify\": {\n    \"transform\": [[\"babelify\", {\n      \"presets\": [\"es2015\", \"stage-2\"],\n      \"ignore\": \"/\\/node_modules\\/(?!kinvey-javascript-sdk-core\\/)/\"\n    }]]\n  }\n}\n","import { KinveyMiddleware } from 'kinvey-javascript-sdk-core/src/rack/middleware';\nimport { HttpMethod, StatusCode } from 'kinvey-javascript-sdk-core/src/enums';\nimport { DB, DBAdapter } from './db';\n\n/**\n * @private\n */\nexport class CacheMiddleware extends KinveyMiddleware {\n  constructor(name = 'Kinvey Titanium Cache Middleware', adapters = [DBAdapter.TitaniumDB, DBAdapter.Memory]) {\n    super(name, adapters);\n  }\n\n  handle(request) {\n    return super.handle(request).then(({ appKey, collection, id }) => {\n      const method = request.method;\n      const query = request.query;\n      const data = request.data;\n      const db = new DB(appKey, this.adapters);\n      let promise;\n\n      if (method === HttpMethod.GET) {\n        if (id) {\n          if (id === '_count') {\n            promise = db.count(collection, query);\n          } else if (id === '_group') {\n            promise = db.group(collection, data);\n          } else {\n            promise = db.findById(collection, id);\n          }\n        } else {\n          promise = db.find(collection, query);\n        }\n      } else if (method === HttpMethod.POST || method === HttpMethod.PUT) {\n        promise = db.save(collection, data);\n      } else if (method === HttpMethod.DELETE) {\n        if (id) {\n          promise = db.removeById(collection, id);\n        } else {\n          promise = db.remove(collection, query);\n        }\n      }\n\n      return promise.then(result => {\n        let statusCode = StatusCode.Ok;\n\n        if (method === HttpMethod.POST) {\n          statusCode = StatusCode.Created;\n        }\n\n        request.response = {\n          statusCode: statusCode,\n          headers: {},\n          data: result\n        };\n\n        return request;\n      });\n    });\n  }\n}\n","import { DB as CoreDB } from 'kinvey-javascript-sdk-core/src/rack/persistence/db';\nimport { Memory } from 'kinvey-javascript-sdk-core/src/rack/persistence/adapters/memory';\nimport { TitaniumDB } from './titaniumdb';\nimport { Log } from 'kinvey-javascript-sdk-core/src/log';\nimport forEach from 'lodash/forEach';\nimport isArray from 'lodash/isArray';\n\n/**\n * @private\n * Enum for DB Adapters.\n */\nconst DBAdapter = {\n  Memory: 'Memory',\n  TitaniumDB: 'TitaniumDB'\n};\nObject.freeze(DBAdapter);\nexport { DBAdapter };\n\n/**\n * @private\n */\nexport class DB extends CoreDB {\n  constructor(dbName = 'kinvey', adapters = [DBAdapter.TitaniumDB, DBAdapter.Memory]) {\n    super(dbName, []);\n\n    if (!isArray(adapters)) {\n      adapters = [adapters];\n    }\n\n    forEach(adapters, adapter => {\n      switch (adapter) {\n        case DBAdapter.Memory:\n          if (Memory.isSupported()) {\n            this.adapter = new Memory(dbName);\n            return false;\n          }\n\n          break;\n        case DBAdapter.TitaniumDB:\n          if (TitaniumDB.isSupported()) {\n            this.adapter = new TitaniumDB(dbName);\n            return false;\n          }\n\n          break;\n        default:\n          Log.warn(`The ${adapter} adapter is is not recognized.`);\n      }\n\n      return true;\n    });\n\n    if (!this.adapter) {\n      if (Memory.isSupported()) {\n        Log.error('Provided adapters are unsupported on this platform. ' +\n          'Defaulting to Memory adapter.', adapters);\n        this.adapter = new Memory(dbName);\n      } else {\n        Log.error('Provided adapters are unsupported on this platform.', adapters);\n      }\n    }\n  }\n}\n","import packageJSON from '../package.json';\n\n/**\n * @private\n */\nexport class DeviceAdapter {\n  toJSON() {\n    return {\n      device: {\n        manufacturer: Titanium.Platform.manufacturer,\n        model: Titanium.Platfrom.model\n      },\n      environment: 'titanium',\n      library: {\n        name: 'titanium',\n        version: Titanium.getVersion()\n      },\n      os: {\n        name: Titanium.Platfrom.osname,\n        version: Titanium.Platfrom.version\n      },\n      sdk: {\n        name: packageJSON.name,\n        version: packageJSON.version\n      }\n    };\n  }\n}\n","import { KinveyMiddleware } from 'kinvey-javascript-sdk-core/src/rack/middleware';\nimport { isMobileWeb } from './utils';\nimport parseHeaders from 'parse-headers';\nimport isString from 'lodash/isString';\nimport isFunction from 'lodash/isFunction';\n\n/**\n * @private\n */\nexport class HttpMiddleware extends KinveyMiddleware {\n  constructor(name = 'Kinvey Titanium Http Middleware') {\n    super(name);\n  }\n\n  handle(request) {\n    return super.handle(request).then(() => {\n      const promise = new Promise((resolve, reject) => {\n        let xhr;\n\n        if (isMobileWeb()) {\n          xhr = new XMLHttpRequest();\n\n          xhr.ontimeout = function() {\n            reject(new Error('timeout'));\n          };\n        } else {\n          xhr = Titanium.Network.createHTTPClient();\n          xhr.autoRedirect = request.followRedirect || true;\n\n          // Set the TLS version (iOS only)\n          if (isFunction(xhr.setTlsVersion) && Titanium.Network.TLS_VERSION_1_2) {\n            xhr.setTlsVersion(Titanium.Network.TLS_VERSION_1_2);\n          }\n        }\n\n        // Set timeout\n        // xhr.timeout = request.timeout || 0;\n\n        // Set success and failure callback\n        xhr.onload = xhr.onerror = (e) => {\n          const status = e.type === 'timeout' || e.type === 'cancelled' ? 0 : xhr.status;\n\n          if (isString(e.error) && e.error.toLowerCase().indexOf('timed out') !== -1) {\n            e.type = 'timeout';\n          }\n\n          if ((status >= 200 && status < 300) || status === 304) {\n            request.response = {\n              statusCode: status,\n              headers: parseHeaders(xhr.allResponseHeaders),\n              data: xhr.responseText\n            };\n\n            return resolve(request);\n          }\n\n          return reject(e.error);\n        };\n\n        // Open the request\n        xhr.open(request.method, request.url);\n\n        // Set request headers\n        for (const name in request.headers) {\n          if (request.headers.hasOwnProperty(name)) {\n            xhr.setRequestHeader(name, request.headers[name]);\n          }\n        }\n\n        // Send request\n        xhr.send(request.data);\n      });\n\n      return promise;\n    });\n  }\n}\n","import { Kinvey } from 'kinvey-javascript-sdk-core';\nimport { CacheRack, NetworkRack } from 'kinvey-javascript-sdk-core/src/rack/rack';\nimport { CacheMiddleware as CoreCacheMiddleware } from 'kinvey-javascript-sdk-core/src/rack/middleware/cache';\nimport { CacheMiddleware } from './cache';\nimport { SerializeMiddleware } from 'kinvey-javascript-sdk-core/src/rack/middleware/serialize';\nimport { HttpMiddleware } from './http';\nimport { Device } from 'kinvey-javascript-sdk-core/src/utils/device';\nimport { DeviceAdapter } from './device';\nimport { Popup } from 'kinvey-javascript-sdk-core/src/utils/popup';\nimport { PopupAdapter } from './popup';\nimport { Push } from './push';\n\n// Swap Cache middleware\nconst cacheRack = CacheRack.sharedInstance();\ncacheRack.swap(CoreCacheMiddleware, new CacheMiddleware());\n\n// Add Http middleware\nconst networkRack = NetworkRack.sharedInstance();\nnetworkRack.useAfter(SerializeMiddleware, new HttpMiddleware());\n\n// Use Device Adapter\nDevice.use(new DeviceAdapter());\n\n// Use Popup Adapter\nPopup.use(new PopupAdapter());\n\n// Add Push module\nKinvey.Push = Push;\n\n// Export\nmodule.exports = Kinvey;\n","import { isiOS, isAndroid } from './utils';\nimport bind from 'lodash/bind';\n\n/**\n * @private\n */\nexport class PopupAdapter {\n  open() {\n    this.eventListeners = {\n      loadHandler: bind(this.loadHandler, this),\n      clickHandler: bind(this.clickHandler, this),\n      closeHandler: bind(this.closeHandler, this)\n    };\n\n    const promise = new Promise(resolve => {\n      this.tiWebView = Titanium.UI.createWebView({\n        width: '100%',\n        height: '100%',\n        url: this.url\n      });\n\n      this.popup = Titanium.UI.createWindow({\n        backgroundColor: 'white',\n        barColor: '#000',\n        title: 'Mobile Identity Connect',\n        modal: true\n      });\n      this.popup.add(this.tiWebView);\n\n      if (isiOS()) {\n        this.tiWin = Titanium.UI.createWindow({\n          backgroundColor: 'white',\n          barColor: '#e3e3e3',\n          title: 'Mobile Identity Connect'\n        });\n        this.tiWin.add(this.tiWebView);\n\n        this.tiCloseButton = Titanium.UI.createButton({\n          title: 'Close',\n          style: Titanium.UI.iPhone.SystemButtonStyle.DONE\n        });\n        this.tiWin.setLeftNavButton(this.tiCloseButton);\n        this.tiCloseButton.addEventListener('click', this.eventListeners.clickHandler);\n\n        this.popup = Titanium.UI.iOS.createNavigationWindow({\n          backgroundColor: 'white',\n          window: this.tiWin,\n          modal: true\n        });\n      } else if (isAndroid()) {\n        this.popup.addEventListener('androidback', this.eventListeners.closeHandler);\n      }\n\n      this.tiWebView.addEventListener('load', this.eventListeners.loadHandler);\n      this.tiWebView.addEventListener('error', this.eventListeners.loadHandler);\n      this.popup.addEventListener('close', this.eventListeners.closeHandler);\n      this.popup.open();\n      resolve();\n    });\n    return promise;\n  }\n\n  close() {\n    const promise = new Promise(resolve => {\n      this.popup.close();\n      resolve();\n    });\n    return promise;\n  }\n\n  loadHandler(event) {\n    this.emit('loaded', event.url);\n  }\n\n  clickHandler() {\n    this.close();\n  }\n\n  closeHandler() {\n    this.tiWebView.removeEventListener('load', this.eventListeners.loadHandler);\n    this.tiWebView.removeEventListener('error', this.eventListeners.loadHandler);\n    this.popup.removeEventListener('close', this.eventListeners.closeHandler);\n\n    if (isiOS()) {\n      this.tiCloseButton.removeEventListener('click', this.eventListeners.clickHandler);\n    } else if (isAndroid()) {\n      this.popup.close();\n      this.popup.removeEventListener('androidback', this.eventListeners.closeHandler);\n    }\n\n    this.emit('closed');\n  }\n}\n","import { KinveyError } from 'kinvey-javascript-sdk-core/src/errors';\nimport { EventEmitter } from 'events';\nimport { NetworkRequest } from 'kinvey-javascript-sdk-core/src/requests/network';\nimport { DataStore, DataStoreType } from 'kinvey-javascript-sdk-core/src/stores/datastore';\nimport { HttpMethod, AuthType } from 'kinvey-javascript-sdk-core/src/enums';\nimport { User } from 'kinvey-javascript-sdk-core/src/user';\nimport { Client } from 'kinvey-javascript-sdk-core/src/client';\nimport { Query } from 'kinvey-javascript-sdk-core/src/query';\nimport { isiOS, isAndroid } from './utils';\nimport assign from 'lodash/assign';\nimport url from 'url';\nconst pushNamespace = process.env.KINVEY_PUSH_NAMESPACE || 'push';\nconst notificationEvent = process.env.KINVEY_NOTIFICATION_EVENT || 'notification';\nconst deviceCollectionName = process.env.KINVEY_DEVICE_COLLECTION_NAME || 'kinvey_device';\nconst emitter = new EventEmitter();\n\nexport const Push = {\n  listeners() {\n    return emitter.listeners(notificationEvent);\n  },\n\n  onNotification(listener) {\n    return emitter.on(notificationEvent, listener);\n  },\n\n  onceNotification(listener) {\n    return emitter.once(notificationEvent, listener);\n  },\n\n  removeListener(listener) {\n    return emitter.removeListener(notificationEvent, listener);\n  },\n\n  removeAllListeners() {\n    return emitter.removeAllListeners(notificationEvent);\n  },\n\n  init(options = {}) {\n    if (!isiOS() || !isAndroid()) {\n      return Promise.reject(new KinveyError('Kinvey currently only supports ' +\n        'push notifications on iOS and Android platforms.'));\n    }\n\n    options = assign({\n      android: {\n        senderID: undefined\n      },\n      ios: {\n        alert: true,\n        badge: true,\n        sound: true\n      },\n      force: false\n    }, options);\n\n    const promise = new Promise((resolve, reject) => {\n      if (isiOS()) {\n        const version = Titanium.Platfrom.version;\n        if (version.split('.')[0] >= 8) {\n          Titanium.App.iOS.addEventListener('usernotificationsettings', function registerForPush() {\n            Titanium.App.iOS.removeEventListener('usernotificationsettings', registerForPush);\n            Titanium.Network.registerForPushNotifications({\n              success(e) {\n                resolve(e.deviceToken);\n              },\n              error(e) {\n                reject(new KinveyError('An error occurred registering this device ' +\n                  'for push notifications.', e));\n              },\n              callback(data) {\n                Push.emit(notificationEvent, data);\n              }\n            });\n          });\n\n          const types = [];\n\n          if (options.ios.alert) {\n            types.push(Titanium.App.iOS.USER_NOTIFICATION_TYPE_ALERT);\n          }\n\n          if (options.ios.badge) {\n            types.push(Titanium.App.iOS.USER_NOTIFICATION_TYPE_BADGE);\n          }\n\n          if (options.ios.sound) {\n            types.push(Titanium.App.iOS.USER_NOTIFICATION_TYPE_SOUND);\n          }\n\n          Titanium.App.iOS.registerUserNotificationSettings({\n            types: types\n          });\n        } else {\n          const types = [];\n\n          if (options.ios.alert) {\n            types.push(Titanium.Network.NOTIFICATION_TYPE_ALERT);\n          }\n\n          if (options.ios.badge) {\n            types.push(Titanium.Network.NOTIFICATION_TYPE_BADGE);\n          }\n\n          if (options.ios.sound) {\n            types.push(Titanium.Network.NOTIFICATION_TYPE_SOUND);\n          }\n\n          Titanium.Network.registerForPushNotifications({\n            types: [\n              Titanium.Network.NOTIFICATION_TYPE_ALERT,\n              Titanium.Network.NOTIFICATION_TYPE_SOUND,\n              Titanium.Network.NOTIFICATION_TYPE_BADGE\n            ],\n            success(e) {\n              resolve(e.deviceToken);\n            },\n            error(e) {\n              reject(new KinveyError('An error occurred registering this device for ' +\n                'push notifications.', e));\n            },\n            callback(data) {\n              Push.emit(notificationEvent, data);\n            }\n          });\n        }\n      } else if (isAndroid()) {\n        CloudPush.retrieveDeviceToken({\n          success(e) {\n            resolve(e.deviceToken);\n          },\n          error(e) {\n            reject(new KinveyError('An error occurred registering this device for ' +\n              'push notifications.', e));\n          }\n        });\n\n        CloudPush.addEventListener('callback', data => {\n          Push.emit(notificationEvent, data);\n        });\n      }\n    }).then(deviceId => {\n      if (!deviceId) {\n        throw new KinveyError('Unable to retrieve the device id to register this device for push notifications.');\n      }\n\n      const store = DataStore.getInstance(deviceCollectionName, DataStoreType.Sync);\n      return store.findById(deviceId).then(entity => {\n        if (options.force !== true && entity.registered) {\n          throw new KinveyError('Device is already registered. To force registration ' +\n            'please set options.force to true.');\n        }\n      }).then(() => {\n        const user = User.getActiveUser();\n        const client = Client.sharedInstance();\n        const request = new NetworkRequest({\n          method: HttpMethod.POST,\n          authType: user ? AuthType.Session : AuthType.Master,\n          url: url.format({\n            protocol: client.protocol,\n            host: client.host,\n            pathname: `/${pushNamespace}/${client.appKey}/register-device`\n          }),\n          properties: options.properties,\n          data: {\n            platform: Titanium.Platfrom.osname,\n            framework: 'titanium',\n            deviceId: deviceId,\n            userId: user ? null : options.userId\n          },\n          timeout: options.timeout,\n          client: client\n        });\n        return request.execute();\n      }).then(response => store.save({ _id: deviceId, registered: true }).then(() => response.data));\n    });\n\n    return promise;\n  },\n\n  unregister(options = {}) {\n    if (!isiOS() || !isAndroid()) {\n      return Promise.reject(new KinveyError('Kinvey currently only supports ' +\n        'push notifications on iOS and Android platforms.'));\n    }\n\n    const store = DataStore.getInstance(deviceCollectionName, DataStoreType.Sync);\n    const query = new Query();\n    query.equalsTo('registered', true);\n    const promise = store.find(query).then(data => {\n      if (data.length === 1) {\n        return data[0]._id;\n      }\n\n      return undefined;\n    }).then(deviceId => {\n      if (!deviceId) {\n        throw new KinveyError('This device has not been registered.');\n      }\n\n      const user = User.getActiveUser();\n      const client = Client.sharedInstance();\n      const request = new NetworkRequest({\n        method: HttpMethod.POST,\n        authType: user ? AuthType.Session : AuthType.Master,\n        url: url.format({\n          protocol: client.protocol,\n          host: client.host,\n          pathname: `/${pushNamespace}/${client.appKey}/unregister-device`\n        }),\n        properties: options.properties,\n        data: {\n          platform: Titanium.Platfrom.osname,\n          framework: 'titanium',\n          deviceId: deviceId,\n          userId: user ? null : options.userId\n        },\n        timeout: options.timeout,\n        client: client\n      });\n      return request.execute().then(response => store.removeById(deviceId).then(() => response.data));\n    });\n\n    return promise;\n  }\n};\n","import { KinveyError, NotFoundError } from 'kinvey-javascript-sdk-core/src/errors';\nimport map from 'lodash/map';\nimport isArray from 'lodash/isArray';\nconst idAttribute = process.env.KINVEY_ID_ATTRIBUTE || '_id';\nconst dbCache = {};\n\n/**\n * @private\n */\nexport class TitaniumDB {\n  constructor(name = 'kinvey') {\n    this.name = name;\n  }\n\n  execute(collection, query, parameters) {\n    let db = dbCache[this.name];\n    const escapedCollection = `\"${collection}\"`;\n    const isMulti = isArray(query);\n    query = isMulti ? query : [[query, parameters]];\n\n    const promise = new Promise((resolve, reject) => {\n      try {\n        if (!db) {\n          db = Titanium.Database.open(this.name);\n          dbCache[this.name] = db;\n        }\n\n        // Start a transaction\n        db.execute('BEGIN TRANSACTION');\n\n        // Create the table if it does not exist yet\n        db.execute(`CREATE TABLE IF NOT EXISTS ${escapedCollection} ` +\n          '(key BLOB PRIMARY KEY NOT NULL, value BLOB NOT NULL)');\n\n        // Execute queries\n        const response = map(query, parts => {\n          const sql = parts[0].replace('#{collection}', escapedCollection);\n          const cursor = db.execute(sql, parts[1]);\n          const response = { rowCount: db.getRowsAffected(), result: null };\n\n          if (cursor) {\n            response.result = [];\n\n            while (cursor.isValidRow()) {\n              const entity = JSON.parse(cursor.fieldByName('value'));\n              response.result.push(entity);\n              cursor.next();\n            }\n\n            cursor.close();\n          }\n\n          return response;\n        });\n\n        // Commit the transaction\n        db.execute('COMMIT TRANSACTION');\n\n        resolve(isMulti ? response : response.shift());\n      } catch (error) {\n        reject(new KinveyError(error.message));\n      }\n    });\n\n    return promise;\n  }\n\n  find(collection) {\n    const sql = 'SELECT value FROM #{collection}';\n    const promise = this.execute(collection, sql, []).then(response => response.result).catch(error => {\n      if (error instanceof NotFoundError) {\n        return [];\n      }\n\n      throw error;\n    });\n    return promise;\n  }\n\n  findById(collection, id) {\n    const sql = 'SELECT value FROM #{collection} WHERE key = ?';\n    const promise = this.execute(collection, sql, [id]).then(response => {\n      const entities = response.result;\n\n      if (entities.length === 0) {\n        throw new NotFoundError(`An entity with _id = ${id} was not found in the ${collection} ` +\n          `collection on the ${this.name} webSQL database.`);\n      }\n\n      return entities[0];\n    });\n    return promise;\n  }\n\n  save(collection, entities) {\n    const queries = [];\n    entities = map(entities, entity => {\n      queries.push([\n        'INSERT OR REPLACE INTO #{collection} (key, value) VALUES (?, ?)',\n        [entity[idAttribute], JSON.stringify(entity)]\n      ]);\n\n      return entity;\n    });\n\n    const promise = this.execute(collection, queries, null).then(() => entities);\n    return promise;\n  }\n\n  removeById(collection, id) {\n    const promise = this.execute(collection, [\n      ['SELECT value FROM #{collection} WHERE key = ?', [id]],\n      ['DELETE FROM #{collection} WHERE key = ?', [id]],\n    ], null).then(response => {\n      const entities = response[0].result;\n      const count = response[1].rowCount || entities.length;\n\n      if (count === 0) {\n        throw new NotFoundError(`An entity with _id = ${id} was not found in the ${collection} ` +\n          `collection on the ${this.name} webSQL database.`);\n      }\n\n      return {\n        count: 1,\n        entities: entities\n      };\n    });\n\n    return promise;\n  }\n\n  static isSupported() {\n    return typeof Titanium.Database !== 'undefined';\n  }\n}\n","export function isiOS() {\n  return Titanium.Platform.osname === 'iphone' || Titanium.Platform.osname === 'ipad';\n}\n\nexport function isAndroid() {\n  return Titanium.Platform.osname === 'android';\n}\n\nexport function isMobileWeb() {\n  return Titanium.Platform.name === 'mobileweb';\n}\n"],"sourceRoot":"/source/"}